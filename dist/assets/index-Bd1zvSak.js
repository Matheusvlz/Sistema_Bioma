import{r as e,g as t,a}from"./vendor-DJcYfsJ3.js";import{i,W as s,a as n,l as o,e as r,g as l}from"./tauri-CSv2Biz9.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var c,d,h={exports:{}},u={};var m=(d||(d=1,h.exports=function(){if(c)return u;c=1;var t=e(),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function r(e,t,i){var r,l={},c=null,d=null;for(r in void 0!==i&&(c=""+i),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,r)&&!o.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===l[r]&&(l[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:l,_owner:n.current}}return u.Fragment=i,u.jsx=r,u.jsxs=r,u}()),h.exports),p=e();const g=t(p);var f,x={};const b=t(function(){if(f)return x;f=1;var e=a();return x.createRoot=e.createRoot,x.hydrateRoot=e.hydrateRoot,x}());var v={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},y=g.createContext&&g.createContext(v),_=["attr","size","title"];function j(e,t){if(null==e)return{};var a,i,s=function(e,t){if(null==e)return{};var a={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;a[i]=e[i]}return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},w.apply(this,arguments)}function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach(function(t){N(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function N(e,t,a){var i;return i=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==typeof i?i:i+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function S(e){return e&&e.map((e,t)=>g.createElement(e.tag,C({key:t},e.attr),S(e.child)))}function M(e){return t=>g.createElement(z,w({attr:C({},e.attr)},t),S(e.child))}function z(e){var t=t=>{var a,{attr:i,size:s,title:n}=e,o=j(e,_),r=s||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),g.createElement("svg",w({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:a,style:C(C({color:e.color||t.color},t.style),e.style),height:r,width:r,xmlns:"http://www.w3.org/2000/svg"}),n&&g.createElement("title",null,n),e.children)};return void 0!==y?g.createElement(y.Consumer,null,e=>t(e)):t(v)}function D(e){return M({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h320c26.5 0 48-21.5 48-48v-48h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20zm-228-32c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H118.4C106 384 96 375.4 96 364.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(e)}function T(e){return M({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function A(e){return M({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function $(e){return M({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function R(e){return M({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function P(e){return M({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function O(e){return M({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function E(e){return M({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"},child:[]}]})(e)}function L(e){return M({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function I(e){return M({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function B(e){return M({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function q(e){return M({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function W(e){return M({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function F(e){return M({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M437.2 403.5L320 215V64h8c13.3 0 24-10.7 24-24V24c0-13.3-10.7-24-24-24H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h8v151L10.8 403.5C-18.5 450.6 15.3 512 70.9 512h306.2c55.7 0 89.4-61.5 60.1-108.5zM137.9 320l48.2-77.6c3.7-5.2 5.8-11.6 5.8-18.4V64h64v160c0 6.9 2.2 13.2 5.8 18.4l48.2 77.6h-172z"},child:[]}]})(e)}function H(e){return M({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm82.29 357.6c-3.9 3.88-7.99 7.95-11.31 11.28-2.99 3-5.1 6.7-6.17 10.71-1.51 5.66-2.73 11.38-4.77 16.87l-17.39 46.85c-13.76 3-28 4.69-42.65 4.69v-27.38c1.69-12.62-7.64-36.26-22.63-51.25-6-6-9.37-14.14-9.37-22.63v-32.01c0-11.64-6.27-22.34-16.46-27.97-14.37-7.95-34.81-19.06-48.81-26.11-11.48-5.78-22.1-13.14-31.65-21.75l-.8-.72a114.792 114.792 0 0 1-18.06-20.74c-9.38-13.77-24.66-36.42-34.59-51.14 20.47-45.5 57.36-82.04 103.2-101.89l24.01 12.01C203.48 89.74 216 82.01 216 70.11v-11.3c7.99-1.29 16.12-2.11 24.39-2.42l28.3 28.3c6.25 6.25 6.25 16.38 0 22.63L264 112l-10.34 10.34c-3.12 3.12-3.12 8.19 0 11.31l4.69 4.69c3.12 3.12 3.12 8.19 0 11.31l-8 8a8.008 8.008 0 0 1-5.66 2.34h-8.99c-2.08 0-4.08.81-5.58 2.27l-9.92 9.65a8.008 8.008 0 0 0-1.58 9.31l15.59 31.19c2.66 5.32-1.21 11.58-7.15 11.58h-5.64c-1.93 0-3.79-.7-5.24-1.96l-9.28-8.06a16.017 16.017 0 0 0-15.55-3.1l-31.17 10.39a11.95 11.95 0 0 0-8.17 11.34c0 4.53 2.56 8.66 6.61 10.69l11.08 5.54c9.41 4.71 19.79 7.16 30.31 7.16s22.59 27.29 32 32h66.75c8.49 0 16.62 3.37 22.63 9.37l13.69 13.69a30.503 30.503 0 0 1 8.93 21.57 46.536 46.536 0 0 1-13.72 32.98zM417 274.25c-5.79-1.45-10.84-5-14.15-9.97l-17.98-26.97a23.97 23.97 0 0 1 0-26.62l19.59-29.38c2.32-3.47 5.5-6.29 9.24-8.15l12.98-6.49C440.2 193.59 448 223.87 448 256c0 8.67-.74 17.16-1.82 25.54L417 274.25z"},child:[]}]})(e)}function V(e){return M({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(e)}function U(e){return M({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function Y(e){return M({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function G(e){return M({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function X(e){return M({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function K(e){return M({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 176c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 48h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"},child:[]}]})(e)}function J(e){return M({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Z(e){return M({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Q(e){return M({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function ee(e){return M({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function te(e){return M({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(e)}function ae(e){return M({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function ie(e){return M({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(e)}function se(e){return M({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(e)}function ne(e){return M({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(e)}function oe(e){return M({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function re(e){return M({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"},child:[]}]})(e)}function le(e){return M({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"},child:[]}]})(e)}function ce(e){return M({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function de(e){return M({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(e)}function he(e){return M({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(e)}function ue(e){return M({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function me(e){return M({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function pe(e){return M({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function ge(e){var t,a,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(a=ge(e[t]))&&(i&&(i+=" "),i+=a)}else for(a in e)e[a]&&(i&&(i+=" "),i+=a);return i}function fe(){for(var e,t,a=0,i="",s=arguments.length;a<s;a++)(e=arguments[a])&&(t=ge(e))&&(i&&(i+=" "),i+=t);return i}const xe=(e,t,a,i)=>{if("length"===a||"prototype"===a)return;if("arguments"===a||"caller"===a)return;const s=Object.getOwnPropertyDescriptor(e,a),n=Object.getOwnPropertyDescriptor(t,a);!be(s,n)&&i||Object.defineProperty(e,a,n)},be=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},ve=(e,t)=>`/* Wrapped ${e}*/\n${t}`,ye=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),_e=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");function je(e,t,{ignoreNonConfigurable:a=!1}={}){const{name:i}=e;for(const s of Reflect.ownKeys(t))xe(e,t,s,a);return((e,t)=>{const a=Object.getPrototypeOf(t);a!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,a)})(e,t),((e,t,a)=>{const i=""===a?"":`with ${a.trim()}() `,s=ve.bind(null,i,t.toString());Object.defineProperty(s,"name",_e);const{writable:n,enumerable:o,configurable:r}=ye;Object.defineProperty(e,"toString",{value:s,writable:n,enumerable:o,configurable:r})})(e,t,i),e}const we=new WeakMap,ke=new WeakMap;function Ce(e,{cacheKey:t,cache:a=new Map,maxAge:i}={}){if(0===i)return e;if("number"==typeof i){const e=2147483647;if(i>e)throw new TypeError(`The \`maxAge\` option cannot exceed ${e}.`);if(i<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const s=function(...s){const n=t?t(s):s[0],o=a.get(n);if(o)return o.data;const r=e.apply(this,s),l="function"==typeof i?i(...s):i;if(a.set(n,{data:r,maxAge:l?Date.now()+l:Number.POSITIVE_INFINITY}),l&&l>0&&l!==Number.POSITIVE_INFINITY){const t=setTimeout(()=>{a.delete(n)},l);t.unref?.();const i=ke.get(e)??new Set;i.add(t),ke.set(e,i)}return r};return je(s,e,{ignoreNonConfigurable:!0}),we.set(s,a),s}function Ne(e){return"string"==typeof e}function Se(e,t,a){return a.indexOf(e)===t}function Me(e){return-1===e.indexOf(",")?e:e.split(",")}function ze(e){if(!e)return e;if("C"===e||"posix"===e||"POSIX"===e)return"en-US";if(-1!==e.indexOf(".")){var t=e.split(".")[0];return ze(void 0===t?"":t)}if(-1!==e.indexOf("@")){var a=e.split("@")[0];return ze(void 0===a?"":a)}if(-1===e.indexOf("-")||(i=e).toLowerCase()!==i)return e;var i,s=e.split("-"),n=s[0],o=s[1],r=void 0===o?"":o;return"".concat(n,"-").concat(r.toUpperCase())}var De=Ce(function(e){var t=void 0===e?{}:e,a=t.useFallbackLocale,i=void 0===a||a,s=t.fallbackLocale,n=void 0===s?"en-US":s,o=[];if("undefined"!=typeof navigator){for(var r=[],l=0,c=navigator.languages||[];l<c.length;l++){var d=c[l];r=r.concat(Me(d))}var h=navigator.language,u=h?Me(h):h;o=o.concat(r,u)}return i&&o.push(n),o.filter(Ne).map(ze).filter(Se)},{cacheKey:JSON.stringify});var Te=Ce(function(e){return De(e)[0]||null},{cacheKey:JSON.stringify});function Ae(e,t,a){return function(i,s=a){const n=e(i)+s;return t(n)}}function $e(e){return function(t){return new Date(e(t).getTime()-1)}}function Re(e,t){return function(a){return[e(a),t(a)]}}function Pe(e){if(e instanceof Date)return e.getFullYear();if("number"==typeof e)return e;const t=Number.parseInt(e,10);if("string"==typeof e&&!Number.isNaN(t))return t;throw new Error(`Failed to get year from date: ${e}.`)}function Oe(e){if(e instanceof Date)return e.getMonth();throw new Error(`Failed to get month from date: ${e}.`)}function Ee(e){if(e instanceof Date)return e.getDate();throw new Error(`Failed to get year from date: ${e}.`)}function Le(e){const t=Pe(e),a=t+(1-t)%100,i=new Date;return i.setFullYear(a,0,1),i.setHours(0,0,0,0),i}const Ie=Ae(Pe,Le,-100),Be=Ae(Pe,Le,100),qe=$e(Be),We=Ae(Pe,qe,-100),Fe=Re(Le,qe);function He(e){const t=Pe(e),a=t+(1-t)%10,i=new Date;return i.setFullYear(a,0,1),i.setHours(0,0,0,0),i}const Ve=Ae(Pe,He,-10),Ue=Ae(Pe,He,10),Ye=$e(Ue),Ge=Ae(Pe,Ye,-10),Xe=Re(He,Ye);function Ke(e){const t=Pe(e),a=new Date;return a.setFullYear(t,0,1),a.setHours(0,0,0,0),a}const Je=Ae(Pe,Ke,-1),Ze=Ae(Pe,Ke,1),Qe=$e(Ze),et=Ae(Pe,Qe,-1),tt=Re(Ke,Qe);function at(e,t){return function(a,i=t){const s=Pe(a),n=Oe(a)+i,o=new Date;return o.setFullYear(s,n,1),o.setHours(0,0,0,0),e(o)}}function it(e){const t=Pe(e),a=Oe(e),i=new Date;return i.setFullYear(t,a,1),i.setHours(0,0,0,0),i}const st=at(it,-1),nt=at(it,1),ot=$e(nt),rt=at(ot,-1),lt=Re(it,ot);function ct(e){const t=Pe(e),a=Oe(e),i=Ee(e),s=new Date;return s.setFullYear(t,a,i),s.setHours(0,0,0,0),s}var dt,ht;const ut=$e((dt=ct,ht=1,function(e,t=ht){const a=Pe(e),i=Oe(e),s=Ee(e)+t,n=new Date;return n.setFullYear(a,i,s),n.setHours(0,0,0,0),dt(n)})),mt=Re(ct,ut);function pt(e){return Ee(ot(e))}var gt="gregory",ft="hebrew",xt="islamic",bt="iso8601",vt={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},yt=[0,1,2,3,4,5,6],_t=new Map;function jt(e){return function(t,a){return function(e){return function(t,a){var i=t||Te();_t.has(i)||_t.set(i,new Map);var s=_t.get(i);return s.has(e)||s.set(e,new Intl.DateTimeFormat(i||void 0,e).format),s.get(e)(a)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(a))}}var wt=jt({day:"numeric"}),kt=jt({day:"numeric",month:"long",year:"numeric"}),Ct=jt({month:"long"}),Nt=jt({month:"long",year:"numeric"}),St=jt({weekday:"short"}),Mt=jt({weekday:"long"}),zt=jt({year:"numeric"}),Dt=yt[0],Tt=yt[5],At=yt[6];function $t(e,t){void 0===t&&(t=bt);var a=e.getDay();switch(t){case bt:return(a+6)%7;case xt:return(a+1)%7;case ft:case gt:return a;default:throw new Error("Unsupported calendar type.")}}function Rt(e,t){void 0===t&&(t=bt);var a=Pe(e),i=Oe(e),s=e.getDate()-$t(e,t);return new Date(a,i,s)}function Pt(e,t){switch(e){case"century":return Le(t);case"decade":return He(t);case"year":return Ke(t);case"month":return it(t);case"day":return ct(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Ot(e,t){switch(e){case"century":return Be(t);case"decade":return Ue(t);case"year":return Ze(t);case"month":return nt(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Et(e,t){switch(e){case"century":return qe(t);case"decade":return Ye(t);case"year":return Qe(t);case"month":return ot(t);case"day":return ut(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Lt(e,t){switch(e){case"century":return Fe(t);case"decade":return Xe(t);case"year":return tt(t);case"month":return lt(t);case"day":return mt(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function It(e,t,a){return a.map(function(a){return(t||zt)(e,a)}).join(" – ")}function Bt(e,t,a){return It(e,t,Xe(a))}function qt(e){return e.getDay()===(new Date).getDay()}function Wt(e,t){void 0===t&&(t=bt);var a=e.getDay();switch(t){case xt:case ft:return a===Tt||a===At;case bt:case gt:return a===At||a===Dt;default:throw new Error("Unsupported calendar type.")}}var Ft="react-calendar__navigation";function Ht(e){var t,a=e.activeStartDate,i=e.drillUp,s=e.formatMonthYear,n=void 0===s?Nt:s,o=e.formatYear,r=void 0===o?zt:o,l=e.locale,c=e.maxDate,d=e.minDate,h=e.navigationAriaLabel,u=void 0===h?"":h,p=e.navigationAriaLive,g=e.navigationLabel,f=e.next2AriaLabel,x=void 0===f?"":f,b=e.next2Label,v=void 0===b?"»":b,y=e.nextAriaLabel,_=void 0===y?"":y,j=e.nextLabel,w=void 0===j?"›":j,k=e.prev2AriaLabel,C=void 0===k?"":k,N=e.prev2Label,S=void 0===N?"«":N,M=e.prevAriaLabel,z=void 0===M?"":M,D=e.prevLabel,T=void 0===D?"‹":D,A=e.setActiveStartDate,$=e.showDoubleView,R=e.view,P=e.views.indexOf(R)>0,O="century"!==R,E=function(e,t){switch(e){case"century":return Ie(t);case"decade":return Ve(t);case"year":return Je(t);case"month":return st(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(R,a),L=O?function(e,t){switch(e){case"decade":return Ve(t,-100);case"year":return Je(t,-10);case"month":return st(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(R,a):void 0,I=Ot(R,a),B=O?function(e,t){switch(e){case"decade":return Ue(t,100);case"year":return Ze(t,10);case"month":return nt(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(R,a):void 0,q=function(){if(E.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return We(t);case"decade":return Ge(t);case"year":return et(t);case"month":return rt(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(R,a);return d&&d>=e}(),W=O&&function(){if(L.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return Ge(t,-100);case"year":return et(t,-10);case"month":return rt(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(R,a);return d&&d>=e}(),F=c&&c<I,H=O&&c&&c<B;function V(e){var t=function(){switch(R){case"century":return function(e,t,a){return It(e,t,Fe(a))}(l,r,e);case"decade":return Bt(l,r,e);case"year":return r(l,e);case"month":return n(l,e);default:throw new Error("Invalid view: ".concat(R,"."))}}();return g?g({date:e,label:t,locale:l||Te()||void 0,view:R}):t}return m.jsxs("div",{className:Ft,children:[null!==S&&O?m.jsx("button",{"aria-label":C,className:"".concat(Ft,"__arrow ").concat(Ft,"__prev2-button"),disabled:W,onClick:function(){A(L,"prev2")},type:"button",children:S}):null,null!==T&&m.jsx("button",{"aria-label":z,className:"".concat(Ft,"__arrow ").concat(Ft,"__prev-button"),disabled:q,onClick:function(){A(E,"prev")},type:"button",children:T}),(t="".concat(Ft,"__label"),m.jsxs("button",{"aria-label":u,"aria-live":p,className:t,disabled:!P,onClick:i,style:{flexGrow:1},type:"button",children:[m.jsx("span",{className:"".concat(t,"__labelText ").concat(t,"__labelText--from"),children:V(a)}),$?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"".concat(t,"__divider"),children:" – "}),m.jsx("span",{className:"".concat(t,"__labelText ").concat(t,"__labelText--to"),children:V(I)})]}):null]})),null!==w&&m.jsx("button",{"aria-label":_,className:"".concat(Ft,"__arrow ").concat(Ft,"__next-button"),disabled:F,onClick:function(){A(I,"next")},type:"button",children:w}),null!==v&&O?m.jsx("button",{"aria-label":x,className:"".concat(Ft,"__arrow ").concat(Ft,"__next2-button"),disabled:H,onClick:function(){A(B,"next2")},type:"button",children:v}):null]})}var Vt=function(){return Vt=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Vt.apply(this,arguments)},Ut=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(a[i[s]]=e[i[s]])}return a};function Yt(e){return"".concat(e,"%")}function Gt(e){var t=e.children,a=e.className,i=e.count,s=e.direction,n=e.offset,o=e.style,r=e.wrap,l=Ut(e,["children","className","count","direction","offset","style","wrap"]);return m.jsx("div",Vt({className:a,style:Vt({display:"flex",flexDirection:s,flexWrap:r?"wrap":"nowrap"},o)},l,{children:p.Children.map(t,function(e,t){var a=n&&0===t?Yt(100*n/i):null;return p.cloneElement(e,Vt(Vt({},e.props),{style:{flexBasis:Yt(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:a,marginInlineStart:a,marginInlineEnd:0}}))})}))}function Xt(e,t){return t[0]<=e&&t[1]>=e}function Kt(e,t){return Xt(e[0],t)||Xt(e[1],t)}function Jt(e,t,a){var i=[];if(Kt(t,e)){i.push(a);var s=Xt(e[0],t),n=Xt(e[1],t);s&&i.push("".concat(a,"Start")),n&&i.push("".concat(a,"End")),s&&n&&i.push("".concat(a,"BothEnds"))}return i}function Zt(e){if(!e)throw new Error("args is required");var t=e.value,a=e.date,i=e.hover,s="react-calendar__tile",n=[s];if(!a)return n;var o=new Date,r=function(){if(Array.isArray(a))return a;var t=e.dateType;if(!t)throw new Error("dateType is required when date is not an array of two dates");return Lt(t,a)}();if(Xt(o,r)&&n.push("".concat(s,"--now")),!t||!function(e){return Array.isArray(e)?null!==e[0]&&null!==e[1]:null!==e}(t))return n;var l,c,d=function(){if(Array.isArray(t))return t;var a=e.valueType;if(!a)throw new Error("valueType is required when value is not an array of two dates");return Lt(a,t)}();c=r,(l=d)[0]<=c[0]&&l[1]>=c[1]?n.push("".concat(s,"--active")):Kt(d,r)&&n.push("".concat(s,"--hasActive"));var h=Jt(d,r,"".concat(s,"--range"));n.push.apply(n,h);var u=Array.isArray(t)?t:[t];if(i&&1===u.length){var m=Jt(i>d[0]?[d[0],i]:[i,d[0]],r,"".concat(s,"--hover"));n.push.apply(n,m)}return n}function Qt(e){for(var t=e.className,a=e.count,i=void 0===a?3:a,s=e.dateTransform,n=e.dateType,o=e.end,r=e.hover,l=e.offset,c=e.renderTile,d=e.start,h=e.step,u=void 0===h?1:h,p=e.value,g=e.valueType,f=[],x=d;x<=o;x+=u){var b=s(x);f.push(c({classes:Zt({date:b,dateType:n,hover:r,value:p,valueType:g}),date:b}))}return m.jsx(Gt,{className:t,count:i,offset:l,wrap:!0,children:f})}function ea(e){var t=e.activeStartDate,a=e.children,i=e.classes,s=e.date,n=e.formatAbbr,o=e.locale,r=e.maxDate,l=e.maxDateTransform,c=e.minDate,d=e.minDateTransform,h=e.onClick,u=e.onMouseOver,g=e.style,f=e.tileClassName,x=e.tileContent,b=e.tileDisabled,v=e.view,y=p.useMemo(function(){return"function"==typeof f?f({activeStartDate:t,date:s,view:v}):f},[t,s,f,v]),_=p.useMemo(function(){return"function"==typeof x?x({activeStartDate:t,date:s,view:v}):x},[t,s,x,v]);return m.jsxs("button",{className:fe(i,y),disabled:c&&d(c)>s||r&&l(r)<s||(null==b?void 0:b({activeStartDate:t,date:s,view:v})),onClick:h?function(e){return h(s,e)}:void 0,onFocus:u?function(){return u(s)}:void 0,onMouseOver:u?function(){return u(s)}:void 0,style:g,type:"button",children:[n?m.jsx("abbr",{"aria-label":n(o,s),children:a}):a,_]})}var ta=function(){return ta=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},ta.apply(this,arguments)},aa=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(a[i[s]]=e[i[s]])}return a},ia="react-calendar__century-view__decades__decade";function sa(e){var t=e.classes,a=void 0===t?[]:t,i=e.currentCentury,s=e.formatYear,n=void 0===s?zt:s,o=aa(e,["classes","currentCentury","formatYear"]),r=o.date,l=o.locale,c=[];return a&&c.push.apply(c,a),c.push(ia),Le(r).getFullYear()!==i&&c.push("".concat(ia,"--neighboringCentury")),m.jsx(ea,ta({},o,{classes:c,maxDateTransform:Ye,minDateTransform:He,view:"century",children:Bt(l,n,r)}))}var na=function(){return na=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},na.apply(this,arguments)},oa=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(a[i[s]]=e[i[s]])}return a};function ra(e){var t=e.activeStartDate,a=e.hover,i=e.showNeighboringCentury,s=e.value,n=e.valueType,o=oa(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),r=Pe(Le(t)),l=r+(i?119:99);return m.jsx(Qt,{className:"react-calendar__century-view__decades",dateTransform:He,dateType:"decade",end:l,hover:a,renderTile:function(e){var a=e.date,i=oa(e,["date"]);return m.jsx(sa,na({},o,i,{activeStartDate:t,currentCentury:r,date:a}),a.getTime())},start:r,step:10,value:s,valueType:n})}var la=function(){return la=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},la.apply(this,arguments)};function ca(e){return m.jsx("div",{className:"react-calendar__century-view",children:m.jsx(ra,la({},e))})}var da=function(){return da=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},da.apply(this,arguments)},ha=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(a[i[s]]=e[i[s]])}return a},ua="react-calendar__decade-view__years__year";function ma(e){var t=e.classes,a=void 0===t?[]:t,i=e.currentDecade,s=e.formatYear,n=void 0===s?zt:s,o=ha(e,["classes","currentDecade","formatYear"]),r=o.date,l=o.locale,c=[];return a&&c.push.apply(c,a),c.push(ua),He(r).getFullYear()!==i&&c.push("".concat(ua,"--neighboringDecade")),m.jsx(ea,da({},o,{classes:c,maxDateTransform:Qe,minDateTransform:Ke,view:"decade",children:n(l,r)}))}var pa=function(){return pa=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},pa.apply(this,arguments)},ga=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(a[i[s]]=e[i[s]])}return a};function fa(e){var t=e.activeStartDate,a=e.hover,i=e.showNeighboringDecade,s=e.value,n=e.valueType,o=ga(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),r=Pe(He(t)),l=r+(i?11:9);return m.jsx(Qt,{className:"react-calendar__decade-view__years",dateTransform:Ke,dateType:"year",end:l,hover:a,renderTile:function(e){var a=e.date,i=ga(e,["date"]);return m.jsx(ma,pa({},o,i,{activeStartDate:t,currentDecade:r,date:a}),a.getTime())},start:r,value:s,valueType:n})}var xa=function(){return xa=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},xa.apply(this,arguments)};function ba(e){return m.jsx("div",{className:"react-calendar__decade-view",children:m.jsx(fa,xa({},e))})}var va=function(){return va=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},va.apply(this,arguments)},ya=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(a[i[s]]=e[i[s]])}return a},_a=function(e,t,a){if(a||2===arguments.length)for(var i,s=0,n=t.length;s<n;s++)!i&&s in t||(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))};function ja(e){var t=e.classes,a=void 0===t?[]:t,i=e.formatMonth,s=void 0===i?Ct:i,n=e.formatMonthYear,o=void 0===n?Nt:n,r=ya(e,["classes","formatMonth","formatMonthYear"]),l=r.date,c=r.locale;return m.jsx(ea,va({},r,{classes:_a(_a([],a,!0),["react-calendar__year-view__months__month"],!1),formatAbbr:o,maxDateTransform:ot,minDateTransform:it,view:"year",children:s(c,l)}))}var wa=function(){return wa=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},wa.apply(this,arguments)},ka=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(a[i[s]]=e[i[s]])}return a};function Ca(e){var t=e.activeStartDate,a=e.hover,i=e.value,s=e.valueType,n=ka(e,["activeStartDate","hover","value","valueType"]),o=Pe(t);return m.jsx(Qt,{className:"react-calendar__year-view__months",dateTransform:function(e){var t=new Date;return t.setFullYear(o,e,1),it(t)},dateType:"month",end:11,hover:a,renderTile:function(e){var a=e.date,i=ka(e,["date"]);return m.jsx(ja,wa({},n,i,{activeStartDate:t,date:a}),a.getTime())},start:0,value:i,valueType:s})}var Na=function(){return Na=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Na.apply(this,arguments)};function Sa(e){return m.jsx("div",{className:"react-calendar__year-view",children:m.jsx(Ca,Na({},e))})}var Ma=function(){return Ma=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Ma.apply(this,arguments)},za=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(a[i[s]]=e[i[s]])}return a},Da="react-calendar__month-view__days__day";function Ta(e){var t=e.calendarType,a=e.classes,i=void 0===a?[]:a,s=e.currentMonthIndex,n=e.formatDay,o=void 0===n?wt:n,r=e.formatLongDate,l=void 0===r?kt:r,c=za(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=c.date,h=c.locale,u=[];return i&&u.push.apply(u,i),u.push(Da),Wt(d,t)&&u.push("".concat(Da,"--weekend")),d.getMonth()!==s&&u.push("".concat(Da,"--neighboringMonth")),m.jsx(ea,Ma({},c,{classes:u,formatAbbr:l,maxDateTransform:ut,minDateTransform:ct,view:"month",children:o(h,d)}))}var Aa=function(){return Aa=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Aa.apply(this,arguments)},$a=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(a[i[s]]=e[i[s]])}return a};function Ra(e){var t=e.activeStartDate,a=e.calendarType,i=e.hover,s=e.showFixedNumberOfWeeks,n=e.showNeighboringMonth,o=e.value,r=e.valueType,l=$a(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=Pe(t),d=Oe(t),h=s||n,u=$t(t,a),p=h?0:u,g=1+(h?-u:0),f=function(){if(s)return g+42-1;var e=pt(t);if(n){var i=new Date;return i.setFullYear(c,d,e),i.setHours(0,0,0,0),e+(7-$t(i,a)-1)}return e}();return m.jsx(Qt,{className:"react-calendar__month-view__days",count:7,dateTransform:function(e){var t=new Date;return t.setFullYear(c,d,e),ct(t)},dateType:"day",hover:i,end:f,renderTile:function(e){var i=e.date,s=$a(e,["date"]);return m.jsx(Ta,Aa({},l,s,{activeStartDate:t,calendarType:a,currentMonthIndex:d,date:i}),i.getTime())},offset:p,start:g,value:o,valueType:r})}var Pa="react-calendar__month-view__weekdays",Oa="".concat(Pa,"__weekday");function Ea(e){for(var t=e.calendarType,a=e.formatShortWeekday,i=void 0===a?St:a,s=e.formatWeekday,n=void 0===s?Mt:s,o=e.locale,r=e.onMouseLeave,l=it(new Date),c=Pe(l),d=Oe(l),h=[],u=1;u<=7;u+=1){var p=new Date(c,d,u-$t(l,t)),g=n(o,p);h.push(m.jsx("div",{className:fe(Oa,qt(p)&&"".concat(Oa,"--current"),Wt(p,t)&&"".concat(Oa,"--weekend")),children:m.jsx("abbr",{"aria-label":g,title:g,children:i(o,p).replace(".","")})},u))}return m.jsx(Gt,{className:Pa,count:7,onFocus:r,onMouseOver:r,children:h})}var La=function(){return La=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},La.apply(this,arguments)},Ia=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(a[i[s]]=e[i[s]])}return a},Ba="react-calendar__tile";function qa(e){var t=e.onClickWeekNumber,a=e.weekNumber,i=m.jsx("span",{children:a});if(t){var s=e.date,n=e.onClickWeekNumber,o=e.weekNumber,r=Ia(e,["date","onClickWeekNumber","weekNumber"]);return m.jsx("button",La({},r,{className:Ba,onClick:function(e){return n(o,s,e)},type:"button",children:i}))}e.date,e.onClickWeekNumber,e.weekNumber;r=Ia(e,["date","onClickWeekNumber","weekNumber"]);return m.jsx("div",La({},r,{className:Ba,children:i}))}function Wa(e){var t=e.activeStartDate,a=e.calendarType,i=e.onClickWeekNumber,s=e.onMouseLeave,n=e.showFixedNumberOfWeeks,o=function(){if(n)return 6;var e=pt(t)-(7-$t(t,a));return 1+Math.ceil(e/7)}(),r=function(){for(var e=Pe(t),i=Oe(t),s=Ee(t),n=[],r=0;r<o;r+=1)n.push(Rt(new Date(e,i,s+7*r),a));return n}(),l=r.map(function(e){return function(e,t){void 0===t&&(t=bt);var a,i=t===gt?gt:bt,s=Rt(e,t),n=Pe(e)+1;do{a=Rt(new Date(n,0,i===bt?4:1),t),n-=1}while(e<a);return Math.round((s.getTime()-a.getTime())/6048e5)+1}(e,a)});return m.jsx(Gt,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map(function(e,t){var a=r[t];if(!a)throw new Error("date is not defined");return m.jsx(qa,{date:a,onClickWeekNumber:i,weekNumber:e},e)})})}var Fa=function(){return Fa=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Fa.apply(this,arguments)},Ha=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(a[i[s]]=e[i[s]])}return a};function Va(e){var t=e.activeStartDate,a=e.locale,i=e.onMouseLeave,s=e.showFixedNumberOfWeeks,n=e.calendarType,o=void 0===n?function(e){if(e)for(var t=0,a=Object.entries(vt);t<a.length;t++){var i=a[t],s=i[0];if(i[1].includes(e))return s}return bt}(a):n,r=e.formatShortWeekday,l=e.formatWeekday,c=e.onClickWeekNumber,d=e.showWeekNumbers,h=Ha(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);var u="react-calendar__month-view";return m.jsx("div",{className:fe(u,d?"".concat(u,"--weekNumbers"):""),children:m.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[d?m.jsx(Wa,{activeStartDate:t,calendarType:o,onClickWeekNumber:c,onMouseLeave:i,showFixedNumberOfWeeks:s}):null,m.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[m.jsx(Ea,{calendarType:o,formatShortWeekday:r,formatWeekday:l,locale:a,onMouseLeave:i}),m.jsx(Ra,Fa({calendarType:o},h))]})]})})}var Ua=function(){return Ua=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Ua.apply(this,arguments)},Ya="react-calendar",Ga=["century","decade","year","month"],Xa=["decade","year","month","day"],Ka=new Date;Ka.setFullYear(1,0,1),Ka.setHours(0,0,0,0);var Ja=new Date(864e13);function Za(e){return e instanceof Date?e:new Date(e)}function Qa(e,t){return Ga.slice(Ga.indexOf(e),Ga.indexOf(t)+1)}function ei(e,t,a){return e&&function(e,t,a){return-1!==Qa(t,a).indexOf(e)}(e,t,a)?e:a}function ti(e){var t=Ga.indexOf(e);return Xa[t]}function ai(e,t){var a=e.value,i=e.minDate,s=e.maxDate,n=e.maxDetail,o=function(e,t){var a=Array.isArray(e)?e[t]:e;if(!a)return null;var i=Za(a);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(e));return i}(a,t);if(!o)return null;var r=ti(n);return function(e,t,a){return t&&t>e?t:a&&a<e?a:e}(function(){switch(t){case 0:return Pt(r,o);case 1:return Et(r,o);default:throw new Error("Invalid index value: ".concat(t))}}(),i,s)}var ii=function(e){return ai(e,0)},si=function(e){return ai(e,1)},ni=function(e){return[ii,si].map(function(t){return t(e)})};function oi(e){var t=e.maxDate,a=e.maxDetail,i=e.minDate,s=e.minDetail,n=e.value;return Pt(ei(e.view,s,a),ii({value:n,minDate:i,maxDate:t,maxDetail:a})||new Date)}function ri(e){return e&&(!Array.isArray(e)||1===e.length)}function li(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var ci=p.forwardRef(function(e,t){var a,i=e.activeStartDate,s=e.allowPartialRange,n=e.calendarType,o=e.className,r=e.defaultActiveStartDate,l=e.defaultValue,c=e.defaultView,d=e.formatDay,h=e.formatLongDate,u=e.formatMonth,g=e.formatMonthYear,f=e.formatShortWeekday,x=e.formatWeekday,b=e.formatYear,v=e.goToRangeStartOnSelect,y=void 0===v||v,_=e.inputRef,j=e.locale,w=e.maxDate,k=void 0===w?Ja:w,C=e.maxDetail,N=void 0===C?"month":C,S=e.minDate,M=void 0===S?Ka:S,z=e.minDetail,D=void 0===z?"century":z,T=e.navigationAriaLabel,A=e.navigationAriaLive,$=e.navigationLabel,R=e.next2AriaLabel,P=e.next2Label,O=e.nextAriaLabel,E=e.nextLabel,L=e.onActiveStartDateChange,I=e.onChange,B=e.onClickDay,q=e.onClickDecade,W=e.onClickMonth,F=e.onClickWeekNumber,H=e.onClickYear,V=e.onDrillDown,U=e.onDrillUp,Y=e.onViewChange,G=e.prev2AriaLabel,X=e.prev2Label,K=e.prevAriaLabel,J=e.prevLabel,Z=e.returnValue,Q=void 0===Z?"start":Z,ee=e.selectRange,te=e.showDoubleView,ae=e.showFixedNumberOfWeeks,ie=e.showNavigation,se=void 0===ie||ie,ne=e.showNeighboringCentury,oe=e.showNeighboringDecade,re=e.showNeighboringMonth,le=void 0===re||re,ce=e.showWeekNumbers,de=e.tileClassName,he=e.tileContent,ue=e.tileDisabled,me=e.value,pe=e.view,ge=p.useState(r),xe=ge[0],be=ge[1],ve=p.useState(null),ye=ve[0],_e=ve[1],je=p.useState(Array.isArray(l)?l.map(function(e){return null!==e?Za(e):null}):null!=l?Za(l):null),we=je[0],ke=je[1],Ce=p.useState(c),Ne=Ce[0],Se=Ce[1],Me=i||xe||function(e){var t=e.activeStartDate,a=e.defaultActiveStartDate,i=e.defaultValue,s=e.defaultView,n=e.maxDate,o=e.maxDetail,r=e.minDate,l=e.minDetail,c=e.value,d=e.view,h=ei(d,l,o),u=t||a;return u?Pt(h,u):oi({maxDate:n,maxDetail:o,minDate:r,minDetail:l,value:c||i,view:d||s})}({activeStartDate:i,defaultActiveStartDate:r,defaultValue:l,defaultView:c,maxDate:k,maxDetail:N,minDate:M,minDetail:D,value:me,view:pe}),ze=(a=ee&&ri(we)?we:void 0!==me?me:we)?Array.isArray(a)?a.map(function(e){return null!==e?Za(e):null}):null!==a?Za(a):null:null,De=ti(N),Te=ei(pe||Ne,D,N),Ae=Qa(D,N),$e=ee?ye:null,Re=Ae.indexOf(Te)<Ae.length-1,Pe=Ae.indexOf(Te)>0,Oe=p.useCallback(function(e){return function(){switch(Q){case"start":return ii;case"end":return si;case"range":return ni;default:throw new Error("Invalid returnValue.")}}()({maxDate:k,maxDetail:N,minDate:M,value:e})},[k,N,M,Q]),Ee=p.useCallback(function(e,t){be(e);var a={action:t,activeStartDate:e,value:ze,view:Te};L&&!li(Me,e)&&L(a)},[Me,L,ze,Te]),Le=p.useCallback(function(e,t){var a=function(){switch(Te){case"century":return q;case"decade":return H;case"year":return W;case"month":return B;default:throw new Error("Invalid view: ".concat(Te,"."))}}();a&&a(e,t)},[B,q,W,H,Te]),Ie=p.useCallback(function(e,t){if(Re){Le(e,t);var a=Ae[Ae.indexOf(Te)+1];if(!a)throw new Error("Attempted to drill down from the lowest view.");be(e),Se(a);var i={action:"drillDown",activeStartDate:e,value:ze,view:a};L&&!li(Me,e)&&L(i),Y&&Te!==a&&Y(i),V&&V(i)}},[Me,Re,L,Le,V,Y,ze,Te,Ae]),Be=p.useCallback(function(){if(Pe){var e=Ae[Ae.indexOf(Te)-1];if(!e)throw new Error("Attempted to drill up from the highest view.");var t=Pt(e,Me);be(t),Se(e);var a={action:"drillUp",activeStartDate:t,value:ze,view:e};L&&!li(Me,t)&&L(a),Y&&Te!==e&&Y(a),U&&U(a)}},[Me,Pe,L,U,Y,ze,Te,Ae]),qe=p.useCallback(function(e,t){var a=ze;Le(e,t);var i,n=ee&&!ri(a);if(ee)if(n)i=Pt(De,e);else{if(!a)throw new Error("previousValue is required");if(Array.isArray(a))throw new Error("previousValue must not be an array");i=function(e,t,a){var i=[t,a].sort(function(e,t){return e.getTime()-t.getTime()});return[Pt(e,i[0]),Et(e,i[1])]}(De,a,e)}else i=Oe(e);var o=!ee||n||y?oi({maxDate:k,maxDetail:N,minDate:M,minDetail:D,value:i,view:Te}):null;t.persist(),be(o),ke(i);var r={action:"onChange",activeStartDate:o,value:i,view:Te};if(L&&!li(Me,o)&&L(r),I)if(ee)if(ri(i)){if(s){if(Array.isArray(i))throw new Error("value must not be an array");I([i||null,null],t)}}else I(i||null,t);else I(i||null,t)},[Me,s,Oe,y,k,N,M,D,L,I,Le,ee,ze,De,Te]);function We(e){_e(e)}function Fe(){_e(null)}function He(e){var t={activeStartDate:e?Ot(Te,Me):Pt(Te,Me),hover:$e,locale:j,maxDate:k,minDate:M,onClick:Re?Ie:qe,onMouseOver:ee?We:void 0,tileClassName:de,tileContent:he,tileDisabled:ue,value:ze,valueType:De};switch(Te){case"century":return m.jsx(ca,Ua({formatYear:b,showNeighboringCentury:ne},t));case"decade":return m.jsx(ba,Ua({formatYear:b,showNeighboringDecade:oe},t));case"year":return m.jsx(Sa,Ua({formatMonth:u,formatMonthYear:g},t));case"month":return m.jsx(Va,Ua({calendarType:n,formatDay:d,formatLongDate:h,formatShortWeekday:f,formatWeekday:x,onClickWeekNumber:F,onMouseLeave:ee?Fe:void 0,showFixedNumberOfWeeks:void 0!==ae?ae:te,showNeighboringMonth:le,showWeekNumbers:ce},t));default:throw new Error("Invalid view: ".concat(Te,"."))}}p.useImperativeHandle(t,function(){return{activeStartDate:Me,drillDown:Ie,drillUp:Be,onChange:qe,setActiveStartDate:Ee,value:ze,view:Te}},[Me,Ie,Be,qe,Ee,ze,Te]);var Ve=Array.isArray(ze)?ze:[ze];return m.jsxs("div",{className:fe(Ya,ee&&1===Ve.length&&"".concat(Ya,"--selectRange"),te&&"".concat(Ya,"--doubleView"),o),ref:_,children:[se?m.jsx(Ht,{activeStartDate:Me,drillUp:Be,formatMonthYear:g,formatYear:b,locale:j,maxDate:k,minDate:M,navigationAriaLabel:T,navigationAriaLive:A,navigationLabel:$,next2AriaLabel:R,next2Label:P,nextAriaLabel:O,nextLabel:E,prev2AriaLabel:G,prev2Label:X,prevAriaLabel:K,prevLabel:J,setActiveStartDate:Ee,showDoubleView:te,view:Te,views:Ae}):null,m.jsxs("div",{className:"".concat(Ya,"__viewContainer"),onBlur:ee?Fe:void 0,onMouseLeave:ee?Fe:void 0,children:[He(),te?He(!0):null]})]})});const di=({options:e,onSelect:t,initialValue:a,placeholder:i="Selecione",className:s=""})=>{const[n,o]=p.useState(!1),[r,l]=p.useState(a||null);p.useEffect(()=>{a?l(a):e.length>0&&l(e[0])},[e,a]);return m.jsxs("div",{className:`relative w-full max-w-[400px] ${s}`,children:[m.jsxs("div",{onClick:()=>o(!n),className:"custom-select-header",children:[m.jsx("span",{children:r?r.label:i}),m.jsx("div",{className:"transform transition-transform duration-200 "+(n?"rotate-180":""),children:m.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M6 9L12 15L18 9",stroke:"#166534",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),n&&m.jsx("div",{className:"custom-select-dropdown",children:e.map(e=>m.jsx("div",{onClick:()=>(e=>{l(e),o(!1),t(e)})(e),className:"custom-select-option "+(r?.id===e.id?"option-selected":""),children:e.label},e.id))})]})},hi=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},ui=(...e)=>e.filter((e,t,a)=>Boolean(e)&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),mi=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};
/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var pi={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:s="",children:n,iconNode:o,...r},l)=>p.createElement("svg",{ref:l,...pi,width:t,height:t,stroke:e,strokeWidth:i?24*Number(a)/Number(t):a,className:ui("lucide",s),...!n&&!mi(r)&&{"aria-hidden":"true"},...r},[...o.map(([e,t])=>p.createElement(e,t)),...Array.isArray(n)?n:[n]])),fi=(e,t)=>{const a=p.forwardRef(({className:a,...i},s)=>{return p.createElement(gi,{ref:s,iconNode:t,className:ui(`lucide-${n=hi(e),n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,a),...i});var n});return a.displayName=hi(e),a},xi=fi("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),bi=fi("align-center",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),vi=fi("align-left",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),yi=fi("align-right",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),_i=fi("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),ji=fi("bell-ring",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]]),wi=fi("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),ki=fi("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Ci=fi("boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]),Ni=fi("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),Si=fi("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Mi=fi("calendar-clock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]),zi=fi("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Di=fi("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Ti=fi("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Ai=fi("chart-no-axes-column",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),$i=fi("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),Ri=fi("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Pi=fi("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Oi=fi("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ei=fi("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Li=fi("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Ii=fi("columns-2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]),Bi=fi("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),qi=fi("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Wi=fi("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Fi=fi("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),Hi=fi("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Vi=fi("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ui=fi("file-check",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),Yi=fi("file-spreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]),Gi=fi("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Xi=fi("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),Ki=fi("flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),Ji=fi("folder-pen",[["path",{d:"M2 11.5V5a2 2 0 0 1 2-2h3.9c.7 0 1.3.3 1.7.9l.8 1.2c.4.6 1 .9 1.7.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-9.5",key:"a8xqs0"}],["path",{d:"M11.378 13.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1saktj"}]]),Zi=fi("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),Qi=fi("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),es=fi("gallery-horizontal",[["path",{d:"M2 3v18",key:"pzttux"}],["rect",{width:"12",height:"18",x:"6",y:"3",rx:"2",key:"btr8bg"}],["path",{d:"M22 3v18",key:"6jf3v"}]]),ts=fi("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),as=fi("headset",[["path",{d:"M3 11h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5Zm0 0a9 9 0 1 1 18 0m0 0v5a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3Z",key:"12oyoe"}],["path",{d:"M21 16v2a4 4 0 0 1-4 4h-5",key:"1x7m43"}]]),is=fi("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),ss=fi("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),ns=fi("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),os=fi("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),rs=fi("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),ls=fi("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),cs=fi("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),ds=fi("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),hs=fi("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),us=fi("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),ms=fi("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]),ps=fi("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),gs=fi("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),fs=fi("moon-star",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9",key:"4ay0iu"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}]]),xs=fi("mouse-pointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]),bs=fi("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),vs=fi("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),ys=fi("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),_s=fi("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),js=fi("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]),ws=fi("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),ks=fi("pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]),Cs=fi("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ns=fi("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),Ss=fi("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ms=fi("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),zs=fi("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Ds=fi("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Ts=fi("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),As=fi("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),$s=fi("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Rs=fi("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Ps=fi("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Os=fi("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Es=fi("table-cells-merge",[["path",{d:"M12 21v-6",key:"lihzve"}],["path",{d:"M12 9V3",key:"da5inc"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M3 9h18",key:"1pudct"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Ls=fi("table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]),Is=fi("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Bs=fi("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),qs=fi("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ws=fi("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Fs=fi("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Hs=fi("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),Vs=fi("underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]),Us=fi("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),Ys=fi("user-round",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]),Gs=fi("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Xs=fi("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Ks=fi("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),Js=fi("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),Zs=fi("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Qs=fi("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),en=fi("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),tn={background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px",padding:"2rem",boxShadow:"0 10px 25px rgba(0,0,0,0.08), 0 4px 10px rgba(0,0,0,0.03)",border:"1px solid rgba(255,255,255,0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"},an={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},sn={background:"#ffffff",borderRadius:"12px",padding:"2rem",width:"90%",maxWidth:"700px",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.15)",position:"relative",animation:"fadeInUp 0.3s ease-out"},nn={position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#6b7280"},on={marginTop:"1.5rem",padding:"0.75rem 1.5rem",backgroundColor:"#22c55e",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",transition:"background-color 0.2s ease-in-out",width:"100%"},rn=p.memo(({coleta:e})=>{const[t,a]=p.useState(!1),i=e.agendamentos.filter(e=>!0===e.recibo_gerado).length,s=e.agendamentos.filter(e=>!1===e.recibo_gerado||void 0===e.recibo_gerado||null===e.recibo_gerado).length,n=e.agendamentos.slice(0,3),o=e.agendamentos.length>3,r=()=>{a(!t)},l=e=>({id:void 0!==e.cliente_cod&&null!==e.cliente_cod?e.cliente_cod:Math.floor(1e6*Math.random()),nome:e.descricao||`Agendamento Cliente ${e.cliente_nome||""}`,responsavel:e.cliente_nome||"Cliente Desconhecido",status:!0===e.recibo_gerado?"concluido":"andamento",prioridade:"media",dataEntrega:e.data||(new Date).toISOString().split("T")[0],progresso:!0===e.recibo_gerado?100:50,atencoes:0});return m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[m.jsx(Lu,{icon:m.jsx(Bs,{size:24,color:"#22c55e"}),title:"Total de Agendamentos",value:e.total_agendamentos,gradient:"linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)",borderColor:"#bbf7d0",textColor:"#166534"}),m.jsx(Lu,{icon:m.jsx(Li,{size:24,color:"#f59e0b"}),title:"Agendamentos Pendentes",value:s,gradient:"linear-gradient(135deg, #fefce8 0%, #fef3c7 100%)",borderColor:"#fde68a",textColor:"#92400e"}),m.jsx(Lu,{icon:m.jsx(Oi,{size:24,color:"#0ea5e9"}),title:"Agend. Concluídos",value:i,gradient:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderColor:"#7dd3fc",textColor:"#0c4a6e"})]}),m.jsxs("div",{style:tn,children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1.5rem"},children:[m.jsx(Xs,{size:24,color:"#166534",style:{marginRight:"0.75rem"}}),m.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#166534",margin:0},children:"Agendamentos Recentes (Coleta)"})]}),e.agendamentos&&e.agendamentos.length>0?m.jsxs(m.Fragment,{children:[n.map((e,t)=>m.jsx(Iu,{projeto:l(e)},e.cliente_cod||t)),o&&m.jsxs("button",{style:on,onClick:r,onMouseEnter:e=>e.currentTarget.style.backgroundColor="#16a34a",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#22c55e",children:["Ver Mais Agendamentos (",e.agendamentos.length-n.length," agendamentos)"]})]}):m.jsx("div",{style:{textAlign:"center",color:"#6b7280",padding:"2rem",fontSize:"1rem"},children:"Nenhum agendamento de coleta encontrado."})]}),t&&m.jsx("div",{style:an,onClick:r,children:m.jsxs("div",{style:sn,onClick:e=>e.stopPropagation(),children:[m.jsx("button",{style:nn,onClick:r,children:"×"}),m.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"600",color:"#166534",marginBottom:"1.5rem"},children:"Todas as Pendências de Coleta"}),e.agendamentos.map((e,t)=>m.jsx(Iu,{projeto:l(e)},e.cliente_cod||t))]})})]})});
/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */rn.displayName="ColetaScreen";const ln={background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px",padding:"2rem",boxShadow:"0 10px 25px rgba(0,0,0,0.08), 0 4px 10px rgba(0,0,0,0.03)",border:"1px solid rgba(255,255,255,0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"},cn={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},dn={background:"#ffffff",borderRadius:"12px",padding:"2rem",width:"90%",maxWidth:"700px",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.15)",position:"relative",animation:"fadeInUp 0.3s ease-out"},hn={position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#6b7280"},un={marginTop:"1.5rem",padding:"0.75rem 1.5rem",backgroundColor:"#22c55e",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",transition:"background-color 0.2s ease-in-out",width:"100%"},mn=p.memo(({atendimentos:e})=>{const[t,a]=p.useState(!1),i=e.length,s=e.filter(e=>e.numero&&e.numero%2==0).length,n=i-s,o=e.filter(e=>"URGENTE"===e.prefixo).length,r=e.slice(0,3),l=e.length>3,c=()=>{a(!t)},d=e=>m.jsx(Iu,{projeto:{id:e.id,nome:`Cadastrar Coleta: ${e.numero||""} ${e.prefixo?`(${e.prefixo})`:""}`,responsavel:e.cliente||"Cliente Desconhecido",status:e.numero&&e.numero%2==0?"concluido":"andamento",prioridade:"URGENTE"===e.prefixo||e.prefixo?.includes("ALTA")?"alta":e.prefixo?.includes("MEDIA")?"media":"baixa",dataEntrega:e.data_coleta||(new Date).toISOString().split("T")[0],progresso:e.numero&&e.numero%2==0?100:50,atencoes:"URGENTE"===e.prefixo?1:0}},e.id);return m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[m.jsx(Lu,{icon:m.jsx(Ai,{size:24,color:"#22c55e"}),title:"Total de Atendimentos",value:i,gradient:"linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)",borderColor:"#bbf7d0",textColor:"#166534"}),m.jsx(Lu,{icon:m.jsx(Li,{size:24,color:"#3b82f6"}),title:"Atendimentos em Andamento",value:n,gradient:"linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)",borderColor:"#93c5fd",textColor:"#1e40af"}),m.jsx(Lu,{icon:m.jsx(Oi,{size:24,color:"#0ea5e9"}),title:"Atendimentos Concluídos",value:s,gradient:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderColor:"#7dd3fc",textColor:"#0c4a6e"}),m.jsx(Lu,{icon:m.jsx(Fs,{size:24,color:"#f59e0b"}),title:"Atendimentos c/ Atenção",value:o,gradient:"linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%)",borderColor:"#fcd34d",textColor:"#92400e"})]}),m.jsxs("div",{style:ln,children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1.5rem"},children:[m.jsx(as,{size:24,color:"#166534",style:{marginRight:"0.75rem"}}),m.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#166534",margin:0},children:"Trabalhos Recentes"})]}),e.length>0?m.jsxs(m.Fragment,{children:[r.map(d),l&&m.jsxs("button",{style:un,onClick:c,onMouseEnter:e=>e.currentTarget.style.backgroundColor="#16a34a",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#22c55e",children:["Ver Mais Trabalhos (",i-r.length," pendências)"]})]}):m.jsx("div",{style:{textAlign:"center",color:"#6b7280",padding:"2rem",fontSize:"1rem"},children:"Nenhum trabalho encontrado."})]}),t&&m.jsx("div",{style:cn,onClick:c,children:m.jsxs("div",{style:dn,onClick:e=>e.stopPropagation(),children:[m.jsx("button",{style:hn,onClick:c,children:"×"}),m.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"600",color:"#166534",marginBottom:"1.5rem"},children:"Todas as Pendências de Trabalhos"}),e.map(d)]})})]})});mn.displayName="AtendimentoScreen";const pn={background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px",padding:"2rem",boxShadow:"0 10px 25px rgba(0,0,0,0.08), 0 4px 10px rgba(0,0,0,0.03)",border:"1px solid rgba(255,255,255,0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"},gn={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},fn={background:"#ffffff",borderRadius:"12px",padding:"2rem",width:"90%",maxWidth:"700px",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.15)",position:"relative",animation:"fadeInUp 0.3s ease-out"},xn={position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#6b7280"},bn={marginTop:"1.5rem",padding:"0.75rem 1.5rem",backgroundColor:"#22c55e",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",transition:"background-color 0.2s ease-in-out",width:"100%"},vn=p.memo(({mb:e})=>{const[t,a]=p.useState(!1),i=e.pendencias_prazo.length+e.pendencias_liberacao.length>3,s=()=>{a(!t)},n=e=>{const t="tempo"in e;let a=(new Date).toISOString().split("T")[0];if(t&&e.tempo){const[t,s]=e.tempo.split(" "),[n,o,r]=t.split("/"),l=`${r}-${o}-${n}T${s}:00`;try{const e=new Date(l);isNaN(e.getTime())||(a=e.toISOString().split("T")[0])}catch(i){}}return{id:e.id,nome:e.identificacao||`Item MB ID ${e.id}`,responsavel:e.fantasia||e.razao||"Cliente Desconhecido",status:t&&e.passou?"concluido":"andamento",prioridade:t?e.passou?"baixa":"alta":"media",dataEntrega:a,progresso:t?e.passou?100:0:80,atencoes:t?e.passou?0:1:0}};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[m.jsx(Lu,{icon:m.jsx(ds,{size:24,color:"#ef4444"}),title:"Total de Pendências",value:e.total_pendencias_prazo+e.total_pendencias_liberacao,gradient:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)",borderColor:"#fca5a5",textColor:"#b91c1c"}),m.jsx(Lu,{icon:m.jsx(Li,{size:24,color:"#f59e0b"}),title:"Pendências de Prazo",value:e.total_pendencias_prazo,gradient:"linear-gradient(135deg, #fefce8 0%, #fef3c7 100%)",borderColor:"#fde68a",textColor:"#92400e"}),m.jsx(Lu,{icon:m.jsx(cs,{size:24,color:"#0ea5e9"}),title:"Pendências de Liberação",value:e.total_pendencias_liberacao,gradient:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderColor:"#7dd3fc",textColor:"#0c4a6e"})]}),m.jsxs("div",{style:pn,children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1.5rem"},children:[m.jsx(Xs,{size:24,color:"#166534",style:{marginRight:"0.75rem"}}),m.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#166534",margin:0},children:"Bloqueios Recentes (MB)"})]}),e.pendencias_prazo.length>0||e.pendencias_liberacao.length>0?m.jsxs(m.Fragment,{children:[m.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"#dc2626",marginBottom:"1rem"},children:"Pendências de Prazo"}),e.pendencias_prazo.slice(0,3).map((e,t)=>m.jsx(Iu,{projeto:n(e)},`pendente-${e.id||t}`)),e.pendencias_prazo.length>0&&e.pendencias_liberacao.length>0&&m.jsx("hr",{style:{borderTop:"1px solid #e5e7eb",margin:"2rem 0"}}),m.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"#2563eb",marginBottom:"1rem"},children:"Pendências de Liberação"}),e.pendencias_liberacao.slice(0,3).map((e,t)=>m.jsx(Iu,{projeto:n(e)},`liberacao-${e.id||t}`)),i&&m.jsxs("button",{style:bn,onClick:s,onMouseEnter:e=>e.currentTarget.style.backgroundColor="#16a34a",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#22c55e",children:["Ver Mais Bloqueios (",e.total_pendencias_prazo+e.total_pendencias_liberacao," bloqueios)"]})]}):m.jsx("div",{style:{textAlign:"center",color:"#6b7280",padding:"2rem",fontSize:"1rem"},children:"Nenhum bloqueio de MB encontrado."})]}),t&&m.jsx("div",{style:gn,onClick:s,children:m.jsxs("div",{style:fn,onClick:e=>e.stopPropagation(),children:[m.jsx("button",{style:xn,onClick:s,children:"×"}),m.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"600",color:"#166534",marginBottom:"1.5rem"},children:"Todas as Pendências de Microbiologia"}),m.jsx("h3",{style:{fontSize:"1.4rem",fontWeight:"600",color:"#dc2626",marginBottom:"1rem"},children:"Pendências de Prazo"}),e.pendencias_prazo.map((e,t)=>m.jsx(Iu,{projeto:n(e)},`modal-pendente-${e.id||t}`)),e.pendencias_prazo.length>0&&e.pendencias_liberacao.length>0&&m.jsx("hr",{style:{borderTop:"1px solid #e5e7eb",margin:"2rem 0"}}),m.jsx("h3",{style:{fontSize:"1.4rem",fontWeight:"600",color:"#2563eb",marginBottom:"1rem"},children:"Pendências de Liberação"}),e.pendencias_liberacao.map((e,t)=>m.jsx(Iu,{projeto:n(e)},`modal-liberacao-${e.id||t}`))]})})]})});vn.displayName="MBScreen";const yn={background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px",padding:"2rem",boxShadow:"0 0 25px rgba(0,0,0,0.08), 0 4px 10px rgba(0,0,0,0.03)",border:"1px solid rgba(255,255,255,0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"},_n={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},jn={background:"#ffffff",borderRadius:"12px",padding:"2rem",width:"90%",maxWidth:"700px",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.15)",position:"relative",animation:"fadeInUp 0.3s ease-out"},wn={position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#6b7280"},kn={marginTop:"1.5rem",padding:"0.75rem 1.5rem",backgroundColor:"#22c55e",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",transition:"background-color 0.2s ease-in-out",width:"100%"},Cn=p.memo(({fq:e})=>{const[t,a]=p.useState(!1),i=e.pendencias_prazo.length+e.pendencias_liberacao.length>3,s=()=>{a(!t)},n=e=>{const t="tempo"in e;let a=(new Date).toISOString().split("T")[0];if(t&&e.tempo){const[t,s]=e.tempo.split(" "),[n,o,r]=t.split("/"),l=`${r}-${o}-${n}T${s}:00`;try{const e=new Date(l);isNaN(e.getTime())||(a=e.toISOString().split("T")[0])}catch(i){}}return{id:e.id,nome:e.identificacao||`Item FQ ID ${e.id}`,responsavel:e.fantasia||e.razao||"Cliente Desconhecido",status:t&&e.passou?"concluido":"andamento",prioridade:t?e.passou?"baixa":"alta":"media",dataEntrega:a,progresso:t?e.passou?100:0:80,atencoes:t?e.passou?0:1:0}};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[m.jsx(Lu,{icon:m.jsx(ds,{size:24,color:"#ef4444"}),title:"Total de Bloqueios (FQ)",value:e.total_pendencias_prazo+e.total_pendencias_liberacao,gradient:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)",borderColor:"#fca5a5",textColor:"#b91c1c"}),m.jsx(Lu,{icon:m.jsx(Li,{size:24,color:"#f59e0b"}),title:"Bloqueios de Prazo (FQ)",value:e.total_pendencias_prazo,gradient:"linear-gradient(135deg, #fefce8 0%, #fef3c7 100%)",borderColor:"#fde68a",textColor:"#92400e"}),m.jsx(Lu,{icon:m.jsx(cs,{size:24,color:"#0ea5e9"}),title:"Bloqueios de Liberação (FQ)",value:e.total_pendencias_liberacao,gradient:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderColor:"#7dd3fc",textColor:"#0c4a6e"})]}),m.jsxs("div",{style:yn,children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1.5rem"},children:[m.jsx(Xs,{size:24,color:"#166534",style:{marginRight:"0.75rem"}}),m.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#166534",margin:0},children:"Bloqueios Recentes (FQ)"})]}),e.pendencias_prazo.length>0||e.pendencias_liberacao.length>0?m.jsxs(m.Fragment,{children:[m.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"#dc2626",marginBottom:"1rem"},children:"Bloqueios de Prazo"}),e.pendencias_prazo.slice(0,3).map((e,t)=>m.jsx(Iu,{projeto:n(e)},`pendente-${e.id||t}`)),e.pendencias_prazo.length>0&&e.pendencias_liberacao.length>0&&m.jsx("hr",{style:{borderTop:"1px solid #e5e7eb",margin:"2rem 0"}}),m.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"#2563eb",marginBottom:"1rem"},children:"Bloqueios de Liberação"}),e.pendencias_liberacao.slice(0,3).map((e,t)=>m.jsx(Iu,{projeto:n(e)},`liberacao-${e.id||t}`)),i&&m.jsxs("button",{style:kn,onClick:s,onMouseEnter:e=>e.currentTarget.style.backgroundColor="#16a34a",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#22c55e",children:["Ver Mais Bloqueios (",e.total_pendencias_prazo+e.total_pendencias_liberacao," bloqueios)"]})]}):m.jsx("div",{style:{textAlign:"center",color:"#6b7280",padding:"2rem",fontSize:"1rem"},children:"Nenhum bloqueio de FQ encontrado."})]}),t&&m.jsx("div",{style:_n,onClick:s,children:m.jsxs("div",{style:jn,onClick:e=>e.stopPropagation(),children:[m.jsx("button",{style:wn,onClick:s,children:"×"}),m.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"600",color:"#166534",marginBottom:"1.5rem"},children:"Todas as Pendências de Físico-Químico"}),m.jsx("h3",{style:{fontSize:"1.4rem",fontWeight:"600",color:"#dc2626",marginBottom:"1rem"},children:"Bloqueios de Prazo"}),e.pendencias_prazo.map((e,t)=>m.jsx(Iu,{projeto:n(e)},`modal-pendente-${e.id||t}`)),e.pendencias_prazo.length>0&&e.pendencias_liberacao.length>0&&m.jsx("hr",{style:{borderTop:"1px solid #e5e7eb",margin:"2rem 0"}}),m.jsx("h3",{style:{fontSize:"1.4rem",fontWeight:"600",color:"#2563eb",marginBottom:"1rem"},children:"Bloqueios de Liberação"}),e.pendencias_liberacao.map((e,t)=>m.jsx(Iu,{projeto:n(e)},`modal-liberacao-${e.id||t}`))]})})]})});
/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */
function Nn(e){return e+.5|0}Cn.displayName="FQScreen";const Sn=(e,t,a)=>Math.max(Math.min(e,a),t);function Mn(e){return Sn(Nn(2.55*e),0,255)}function zn(e){return Sn(Nn(255*e),0,255)}function Dn(e){return Sn(Nn(e/2.55)/100,0,1)}function Tn(e){return Sn(Nn(100*e),0,100)}const An={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},$n=[..."0123456789ABCDEF"],Rn=e=>$n[15&e],Pn=e=>$n[(240&e)>>4]+$n[15&e],On=e=>(240&e)>>4==(15&e);function En(e){var t=(e=>On(e.r)&&On(e.g)&&On(e.b)&&On(e.a))(e)?Rn:Pn;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const Ln=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function In(e,t,a){const i=t*Math.min(a,1-a),s=(t,s=(t+e/30)%12)=>a-i*Math.max(Math.min(s-3,9-s,1),-1);return[s(0),s(8),s(4)]}function Bn(e,t,a){const i=(i,s=(i+e/60)%6)=>a-a*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function qn(e,t,a){const i=In(e,1,.5);let s;for(t+a>1&&(s=1/(t+a),t*=s,a*=s),s=0;s<3;s++)i[s]*=1-t-a,i[s]+=t;return i}function Wn(e){const t=e.r/255,a=e.g/255,i=e.b/255,s=Math.max(t,a,i),n=Math.min(t,a,i),o=(s+n)/2;let r,l,c;return s!==n&&(c=s-n,l=o>.5?c/(2-s-n):c/(s+n),r=function(e,t,a,i,s){return e===s?(t-a)/i+(t<a?6:0):t===s?(a-e)/i+2:(e-t)/i+4}(t,a,i,c,s),r=60*r+.5),[0|r,l||0,o]}function Fn(e,t,a,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,a,i)).map(zn)}function Hn(e,t,a){return Fn(In,e,t,a)}function Vn(e){return(e%360+360)%360}function Un(e){const t=Ln.exec(e);let a,i=255;if(!t)return;t[5]!==a&&(i=t[6]?Mn(+t[5]):zn(+t[5]));const s=Vn(+t[2]),n=+t[3]/100,o=+t[4]/100;return a="hwb"===t[1]?function(e,t,a){return Fn(qn,e,t,a)}(s,n,o):"hsv"===t[1]?function(e,t,a){return Fn(Bn,e,t,a)}(s,n,o):Hn(s,n,o),{r:a[0],g:a[1],b:a[2],a:i}}const Yn={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Gn={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Xn;function Kn(e){Xn||(Xn=function(){const e={},t=Object.keys(Gn),a=Object.keys(Yn);let i,s,n,o,r;for(i=0;i<t.length;i++){for(o=r=t[i],s=0;s<a.length;s++)n=a[s],r=r.replace(n,Yn[n]);n=parseInt(Gn[o],16),e[r]=[n>>16&255,n>>8&255,255&n]}return e}(),Xn.transparent=[0,0,0,0]);const t=Xn[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Jn=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Zn=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Qn=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function eo(e,t,a){if(e){let i=Wn(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*a,0===t?360:1)),i=Hn(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function to(e,t){return e?Object.assign(t||{},e):e}function ao(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=zn(e[3]))):(t=to(e,{r:0,g:0,b:0,a:1})).a=zn(t.a),t}function io(e){return"r"===e.charAt(0)?function(e){const t=Jn.exec(e);let a,i,s,n=255;if(t){if(t[7]!==a){const e=+t[7];n=t[8]?Mn(e):Sn(255*e,0,255)}return a=+t[1],i=+t[3],s=+t[5],a=255&(t[2]?Mn(a):Sn(a,0,255)),i=255&(t[4]?Mn(i):Sn(i,0,255)),s=255&(t[6]?Mn(s):Sn(s,0,255)),{r:a,g:i,b:s,a:n}}}(e):Un(e)}class so{constructor(e){if(e instanceof so)return e;const t=typeof e;let a;var i,s,n;"object"===t?a=ao(e):"string"===t&&(n=(i=e).length,"#"===i[0]&&(4===n||5===n?s={r:255&17*An[i[1]],g:255&17*An[i[2]],b:255&17*An[i[3]],a:5===n?17*An[i[4]]:255}:7!==n&&9!==n||(s={r:An[i[1]]<<4|An[i[2]],g:An[i[3]]<<4|An[i[4]],b:An[i[5]]<<4|An[i[6]],a:9===n?An[i[7]]<<4|An[i[8]]:255})),a=s||Kn(e)||io(e)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var e=to(this._rgb);return e&&(e.a=Dn(e.a)),e}set rgb(e){this._rgb=ao(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Dn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?En(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Wn(e),a=t[0],i=Tn(t[1]),s=Tn(t[2]);return e.a<255?`hsla(${a}, ${i}%, ${s}%, ${Dn(e.a)})`:`hsl(${a}, ${i}%, ${s}%)`}(this._rgb):void 0}mix(e,t){if(e){const a=this.rgb,i=e.rgb;let s;const n=t===s?.5:t,o=2*n-1,r=a.a-i.a,l=((o*r===-1?o:(o+r)/(1+o*r))+1)/2;s=1-l,a.r=255&l*a.r+s*i.r+.5,a.g=255&l*a.g+s*i.g+.5,a.b=255&l*a.b+s*i.b+.5,a.a=n*a.a+(1-n)*i.a,this.rgb=a}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,a){const i=Qn(Dn(e.r)),s=Qn(Dn(e.g)),n=Qn(Dn(e.b));return{r:zn(Zn(i+a*(Qn(Dn(t.r))-i))),g:zn(Zn(s+a*(Qn(Dn(t.g))-s))),b:zn(Zn(n+a*(Qn(Dn(t.b))-n))),a:e.a+a*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new so(this.rgb)}alpha(e){return this._rgb.a=zn(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Nn(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return eo(this._rgb,2,e),this}darken(e){return eo(this._rgb,2,-e),this}saturate(e){return eo(this._rgb,1,e),this}desaturate(e){return eo(this._rgb,1,-e),this}rotate(e){return function(e,t){var a=Wn(e);a[0]=Vn(a[0]+t),a=Hn(a),e.r=a[0],e.g=a[1],e.b=a[2]}(this._rgb,e),this}}
/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function no(){}const oo=(()=>{let e=0;return()=>e++})();function ro(e){return null==e}function lo(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function co(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function ho(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function uo(e,t){return ho(e)?e:t}function mo(e,t){return void 0===e?t:e}const po=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function go(e,t,a){if(e&&"function"==typeof e.call)return e.apply(a,t)}function fo(e,t,a,i){let s,n,o;if(lo(e))for(n=e.length,s=0;s<n;s++)t.call(a,e[s],s);else if(co(e))for(o=Object.keys(e),n=o.length,s=0;s<n;s++)t.call(a,e[o[s]],o[s])}function xo(e,t){let a,i,s,n;if(!e||!t||e.length!==t.length)return!1;for(a=0,i=e.length;a<i;++a)if(s=e[a],n=t[a],s.datasetIndex!==n.datasetIndex||s.index!==n.index)return!1;return!0}function bo(e){if(lo(e))return e.map(bo);if(co(e)){const t=Object.create(null),a=Object.keys(e),i=a.length;let s=0;for(;s<i;++s)t[a[s]]=bo(e[a[s]]);return t}return e}function vo(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function yo(e,t,a,i){if(!vo(e))return;const s=t[e],n=a[e];co(s)&&co(n)?_o(s,n,i):t[e]=bo(n)}function _o(e,t,a){const i=lo(t)?t:[t],s=i.length;if(!co(e))return e;const n=(a=a||{}).merger||yo;let o;for(let r=0;r<s;++r){if(o=i[r],!co(o))continue;const t=Object.keys(o);for(let i=0,s=t.length;i<s;++i)n(t[i],e,o,a)}return e}function jo(e,t){return _o(e,t,{merger:wo})}function wo(e,t,a){if(!vo(e))return;const i=t[e],s=a[e];co(i)&&co(s)?jo(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=bo(s))}const ko={"":e=>e,x:e=>e.x,y:e=>e.y};function Co(e,t){const a=ko[t]||(ko[t]=function(e){const t=function(e){const t=e.split("."),a=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(a.push(i),i="");return a}(e);return e=>{for(const a of t){if(""===a)break;e=e&&e[a]}return e}}(t));return a(e)}function No(e){return e.charAt(0).toUpperCase()+e.slice(1)}const So=e=>void 0!==e,Mo=e=>"function"==typeof e,zo=(e,t)=>{if(e.size!==t.size)return!1;for(const a of e)if(!t.has(a))return!1;return!0};const Do=Math.PI,To=2*Do,Ao=Number.POSITIVE_INFINITY,$o=Do/180,Ro=Do/2,Po=Do/4,Oo=2*Do/3,Eo=Math.log10,Lo=Math.sign;function Io(e,t,a){return Math.abs(e-t)<a}function Bo(e){const t=Math.round(e);e=Io(e,t,e/1e3)?t:e;const a=Math.pow(10,Math.floor(Eo(e))),i=e/a;return(i<=1?1:i<=2?2:i<=5?5:10)*a}function qo(e){return!function(e){return"symbol"==typeof e||"object"==typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Wo(e){return e*(Do/180)}function Fo(e){if(!ho(e))return;let t=1,a=0;for(;Math.round(e*t)/t!==e;)t*=10,a++;return a}function Ho(e,t){const a=t.x-e.x,i=t.y-e.y,s=Math.sqrt(a*a+i*i);let n=Math.atan2(i,a);return n<-.5*Do&&(n+=To),{angle:n,distance:s}}function Vo(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Uo(e){return(e%To+To)%To}function Yo(e,t,a,i){const s=Uo(e),n=Uo(t),o=Uo(a),r=Uo(n-s),l=Uo(o-s),c=Uo(s-n),d=Uo(s-o);return s===n||s===o||i&&n===o||r>l&&c<d}function Go(e,t,a){return Math.max(t,Math.min(a,e))}function Xo(e,t,a,i=1e-6){return e>=Math.min(t,a)-i&&e<=Math.max(t,a)+i}function Ko(e,t,a){a=a||(a=>e[a]<t);let i,s=e.length-1,n=0;for(;s-n>1;)i=n+s>>1,a(i)?n=i:s=i;return{lo:n,hi:s}}const Jo=(e,t,a,i)=>Ko(e,a,i?i=>{const s=e[i][t];return s<a||s===a&&e[i+1][t]===a}:i=>e[i][t]<a),Zo=(e,t,a)=>Ko(e,a,i=>e[i][t]>=a);const Qo=["push","pop","shift","splice","unshift"];function er(e,t){const a=e._chartjs;if(!a)return;const i=a.listeners,s=i.indexOf(t);-1!==s&&i.splice(s,1),i.length>0||(Qo.forEach(t=>{delete e[t]}),delete e._chartjs)}function tr(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const ar="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function ir(e,t){let a=[],i=!1;return function(...s){a=s,i||(i=!0,ar.call(window,()=>{i=!1,e.apply(t,a)}))}}const sr=e=>"start"===e?"left":"end"===e?"right":"center",nr=(e,t,a)=>"start"===e?t:"end"===e?a:(t+a)/2,or=e=>0===e||1===e,rr=(e,t,a)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*To/a),lr=(e,t,a)=>Math.pow(2,-10*e)*Math.sin((e-t)*To/a)+1,cr={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Ro),easeOutSine:e=>Math.sin(e*Ro),easeInOutSine:e=>-.5*(Math.cos(Do*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>or(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>or(e)?e:rr(e,.075,.3),easeOutElastic:e=>or(e)?e:lr(e,.075,.3),easeInOutElastic(e){const t=.1125;return or(e)?e:e<.5?.5*rr(2*e,t,.45):.5+.5*lr(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-cr.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,a=2.75;return e<1/a?t*e*e:e<2/a?t*(e-=1.5/a)*e+.75:e<2.5/a?t*(e-=2.25/a)*e+.9375:t*(e-=2.625/a)*e+.984375},easeInOutBounce:e=>e<.5?.5*cr.easeInBounce(2*e):.5*cr.easeOutBounce(2*e-1)+.5};function dr(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function hr(e){return dr(e)?e:new so(e)}function ur(e){return dr(e)?e:new so(e).saturate(.5).darken(.1).hexString()}const mr=["x","y","borderWidth","radius","tension"],pr=["color","borderColor","backgroundColor"];const gr=new Map;function fr(e,t,a){return function(e,t){t=t||{};const a=e+JSON.stringify(t);let i=gr.get(a);return i||(i=new Intl.NumberFormat(e,t),gr.set(a,i)),i}(t,a).format(e)}var xr={formatters:{values:e=>lo(e)?e:""+e,numeric(e,t,a){if(0===e)return"0";const i=this.chart.options.locale;let s,n=e;if(a.length>1){const t=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(t<1e-4||t>1e15)&&(s="scientific"),n=function(e,t){let a=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(a)>=1&&e!==Math.floor(e)&&(a=e-Math.floor(e));return a}(e,a)}const o=Eo(Math.abs(n)),r=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:r,maximumFractionDigits:r};return Object.assign(l,this.options.ticks.format),fr(e,i,l)}}};const br=Object.create(null),vr=Object.create(null);function yr(e,t){if(!t)return e;const a=t.split(".");for(let i=0,s=a.length;i<s;++i){const t=a[i];e=e[t]||(e[t]=Object.create(null))}return e}function _r(e,t,a){return"string"==typeof t?_o(yr(e,t),a):_o(yr(e,""),t)}class jr{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>ur(t.backgroundColor),this.hoverBorderColor=(e,t)=>ur(t.borderColor),this.hoverColor=(e,t)=>ur(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return _r(this,e,t)}get(e){return yr(this,e)}describe(e,t){return _r(vr,e,t)}override(e,t){return _r(br,e,t)}route(e,t,a,i){const s=yr(this,e),n=yr(this,a),o="_"+t;Object.defineProperties(s,{[o]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=n[i];return co(e)?Object.assign({},t,e):mo(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach(e=>e(this))}}var wr=new jr({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:pr},numbers:{type:"number",properties:mr}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:xr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function kr(e,t,a,i,s){let n=t[s];return n||(n=t[s]=e.measureText(s).width,a.push(s)),n>i&&(i=n),i}function Cr(e,t,a){const i=e.currentDevicePixelRatio,s=0!==a?Math.max(a/2,.5):0;return Math.round((t-s)*i)/i+s}function Nr(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Sr(e,t,a,i){Mr(e,t,a,i,null)}function Mr(e,t,a,i,s){let n,o,r,l,c,d,h,u;const m=t.pointStyle,p=t.rotation,g=t.radius;let f=(p||0)*$o;if(m&&"object"==typeof m&&(n=m.toString(),"[object HTMLImageElement]"===n||"[object HTMLCanvasElement]"===n))return e.save(),e.translate(a,i),e.rotate(f),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),void e.restore();if(!(isNaN(g)||g<=0)){switch(e.beginPath(),m){default:s?e.ellipse(a,i,s/2,g,0,0,To):e.arc(a,i,g,0,To),e.closePath();break;case"triangle":d=s?s/2:g,e.moveTo(a+Math.sin(f)*d,i-Math.cos(f)*g),f+=Oo,e.lineTo(a+Math.sin(f)*d,i-Math.cos(f)*g),f+=Oo,e.lineTo(a+Math.sin(f)*d,i-Math.cos(f)*g),e.closePath();break;case"rectRounded":c=.516*g,l=g-c,o=Math.cos(f+Po)*l,h=Math.cos(f+Po)*(s?s/2-c:l),r=Math.sin(f+Po)*l,u=Math.sin(f+Po)*(s?s/2-c:l),e.arc(a-h,i-r,c,f-Do,f-Ro),e.arc(a+u,i-o,c,f-Ro,f),e.arc(a+h,i+r,c,f,f+Ro),e.arc(a-u,i+o,c,f+Ro,f+Do),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,d=s?s/2:l,e.rect(a-d,i-l,2*d,2*l);break}f+=Po;case"rectRot":h=Math.cos(f)*(s?s/2:g),o=Math.cos(f)*g,r=Math.sin(f)*g,u=Math.sin(f)*(s?s/2:g),e.moveTo(a-h,i-r),e.lineTo(a+u,i-o),e.lineTo(a+h,i+r),e.lineTo(a-u,i+o),e.closePath();break;case"crossRot":f+=Po;case"cross":h=Math.cos(f)*(s?s/2:g),o=Math.cos(f)*g,r=Math.sin(f)*g,u=Math.sin(f)*(s?s/2:g),e.moveTo(a-h,i-r),e.lineTo(a+h,i+r),e.moveTo(a+u,i-o),e.lineTo(a-u,i+o);break;case"star":h=Math.cos(f)*(s?s/2:g),o=Math.cos(f)*g,r=Math.sin(f)*g,u=Math.sin(f)*(s?s/2:g),e.moveTo(a-h,i-r),e.lineTo(a+h,i+r),e.moveTo(a+u,i-o),e.lineTo(a-u,i+o),f+=Po,h=Math.cos(f)*(s?s/2:g),o=Math.cos(f)*g,r=Math.sin(f)*g,u=Math.sin(f)*(s?s/2:g),e.moveTo(a-h,i-r),e.lineTo(a+h,i+r),e.moveTo(a+u,i-o),e.lineTo(a-u,i+o);break;case"line":o=s?s/2:Math.cos(f)*g,r=Math.sin(f)*g,e.moveTo(a-o,i-r),e.lineTo(a+o,i+r);break;case"dash":e.moveTo(a,i),e.lineTo(a+Math.cos(f)*(s?s/2:g),i+Math.sin(f)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function zr(e,t,a){return a=a||.5,!t||e&&e.x>t.left-a&&e.x<t.right+a&&e.y>t.top-a&&e.y<t.bottom+a}function Dr(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Tr(e){e.restore()}function Ar(e,t,a,i,s){if(s.strikethrough||s.underline){const n=e.measureText(i),o=t-n.actualBoundingBoxLeft,r=t+n.actualBoundingBoxRight,l=a-n.actualBoundingBoxAscent,c=a+n.actualBoundingBoxDescent,d=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,d),e.lineTo(r,d),e.stroke()}}function $r(e,t){const a=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=a}function Rr(e,t,a,i,s,n={}){const o=lo(t)?t:[t],r=n.strokeWidth>0&&""!==n.strokeColor;let l,c;for(e.save(),e.font=s.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ro(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,n),l=0;l<o.length;++l)c=o[l],n.backdrop&&$r(e,n.backdrop),r&&(n.strokeColor&&(e.strokeStyle=n.strokeColor),ro(n.strokeWidth)||(e.lineWidth=n.strokeWidth),e.strokeText(c,a,i,n.maxWidth)),e.fillText(c,a,i,n.maxWidth),Ar(e,a,i,c,n),i+=Number(s.lineHeight);e.restore()}function Pr(e,t){const{x:a,y:i,w:s,h:n,radius:o}=t;e.arc(a+o.topLeft,i+o.topLeft,o.topLeft,1.5*Do,Do,!0),e.lineTo(a,i+n-o.bottomLeft),e.arc(a+o.bottomLeft,i+n-o.bottomLeft,o.bottomLeft,Do,Ro,!0),e.lineTo(a+s-o.bottomRight,i+n),e.arc(a+s-o.bottomRight,i+n-o.bottomRight,o.bottomRight,Ro,0,!0),e.lineTo(a+s,i+o.topRight),e.arc(a+s-o.topRight,i+o.topRight,o.topRight,0,-Ro,!0),e.lineTo(a+o.topLeft,i)}const Or=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Er=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Lr(e,t){const a=(""+e).match(Or);if(!a||"normal"===a[1])return 1.2*t;switch(e=+a[2],a[3]){case"px":return e;case"%":e/=100}return t*e}const Ir=e=>+e||0;function Br(e,t){const a={},i=co(t),s=i?Object.keys(t):t,n=co(e)?i?a=>mo(e[a],e[t[a]]):t=>e[t]:()=>e;for(const o of s)a[o]=Ir(n(o));return a}function qr(e){return Br(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Wr(e){return Br(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Fr(e){const t=qr(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Hr(e,t){e=e||{},t=t||wr.font;let a=mo(e.size,t.size);"string"==typeof a&&(a=parseInt(a,10));let i=mo(e.style,t.style);i&&!(""+i).match(Er)&&(i=void 0);const s={family:mo(e.family,t.family),lineHeight:Lr(mo(e.lineHeight,t.lineHeight),a),size:a,style:i,weight:mo(e.weight,t.weight),string:""};return s.string=function(e){return!e||ro(e.size)||ro(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(s),s}function Vr(e,t,a,i){let s,n,o;for(s=0,n=e.length;s<n;++s)if(o=e[s],void 0!==o&&void 0!==o)return o}function Ur(e,t){return Object.assign(Object.create(e),t)}function Yr(e,t=[""],a,i,s=()=>e[0]){const n=a||e;void 0===i&&(i=sl("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:i,_getTarget:s,override:a=>Yr([a,...e],t,n,i)};return new Proxy(o,{deleteProperty:(t,a)=>(delete t[a],delete t._keys,delete e[0][a],!0),get:(a,i)=>Zr(a,i,()=>function(e,t,a,i){let s;for(const n of t)if(s=sl(Kr(n,e),a),void 0!==s)return Jr(e,s)?al(a,i,e,s):s}(i,t,e,a)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>nl(e).includes(t),ownKeys:e=>nl(e),set(e,t,a){const i=e._storage||(e._storage=s());return e[t]=i[t]=a,delete e._keys,!0}})}function Gr(e,t,a,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:a,_stack:new Set,_descriptors:Xr(e,i),setContext:t=>Gr(e,t,a,i),override:s=>Gr(e.override(s),t,a,i)};return new Proxy(s,{deleteProperty:(t,a)=>(delete t[a],delete e[a],!0),get:(e,t,a)=>Zr(e,t,()=>function(e,t,a){const{_proxy:i,_context:s,_subProxy:n,_descriptors:o}=e;let r=i[t];Mo(r)&&o.isScriptable(t)&&(r=function(e,t,a,i){const{_proxy:s,_context:n,_subProxy:o,_stack:r}=a;if(r.has(e))throw new Error("Recursion detected: "+Array.from(r).join("->")+"->"+e);r.add(e);let l=t(n,o||i);r.delete(e),Jr(e,l)&&(l=al(s._scopes,s,e,l));return l}(t,r,e,a));lo(r)&&r.length&&(r=function(e,t,a,i){const{_proxy:s,_context:n,_subProxy:o,_descriptors:r}=a;if(void 0!==n.index&&i(e))return t[n.index%t.length];if(co(t[0])){const a=t,i=s._scopes.filter(e=>e!==a);t=[];for(const l of a){const a=al(i,s,e,l);t.push(Gr(a,n,o&&o[e],r))}}return t}(t,r,e,o.isIndexable));Jr(t,r)&&(r=Gr(r,s,n&&n[t],o));return r}(e,t,a)),getOwnPropertyDescriptor:(t,a)=>t._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,a)=>Reflect.has(e,a),ownKeys:()=>Reflect.ownKeys(e),set:(t,a,i)=>(e[a]=i,delete t[a],!0)})}function Xr(e,t={scriptable:!0,indexable:!0}){const{_scriptable:a=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:a,indexable:i,isScriptable:Mo(a)?a:()=>a,isIndexable:Mo(i)?i:()=>i}}const Kr=(e,t)=>e?e+No(t):t,Jr=(e,t)=>co(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Zr(e,t,a){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const i=a();return e[t]=i,i}function Qr(e,t,a){return Mo(e)?e(t,a):e}const el=(e,t)=>!0===e?t:"string"==typeof e?Co(t,e):void 0;function tl(e,t,a,i,s){for(const n of t){const t=el(a,n);if(t){e.add(t);const n=Qr(t._fallback,a,s);if(void 0!==n&&n!==a&&n!==i)return n}else if(!1===t&&void 0!==i&&a!==i)return null}return!1}function al(e,t,a,i){const s=t._rootScopes,n=Qr(t._fallback,a,i),o=[...e,...s],r=new Set;r.add(i);let l=il(r,o,a,n||a,i);return null!==l&&((void 0===n||n===a||(l=il(r,o,n,l,i),null!==l))&&Yr(Array.from(r),[""],s,n,()=>function(e,t,a){const i=e._getTarget();t in i||(i[t]={});const s=i[t];if(lo(s)&&co(a))return a;return s||{}}(t,a,i)))}function il(e,t,a,i,s){for(;a;)a=tl(e,t,a,i,s);return a}function sl(e,t){for(const a of t){if(!a)continue;const t=a[e];if(void 0!==t)return t}}function nl(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const a of e)for(const e of Object.keys(a).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function ol(){return"undefined"!=typeof window&&"undefined"!=typeof document}function rl(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function ll(e,t,a){let i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[a])):i=e,i}const cl=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const dl=["top","right","bottom","left"];function hl(e,t,a){const i={};a=a?"-"+a:"";for(let s=0;s<4;s++){const n=dl[s];i[n]=parseFloat(e[t+"-"+n+a])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function ul(e,t){if("native"in e)return e;const{canvas:a,currentDevicePixelRatio:i}=t,s=cl(a),n="border-box"===s.boxSizing,o=hl(s,"padding"),r=hl(s,"border","width"),{x:l,y:c,box:d}=function(e,t){const a=e.touches,i=a&&a.length?a[0]:e,{offsetX:s,offsetY:n}=i;let o,r,l=!1;if(((e,t,a)=>(e>0||t>0)&&(!a||!a.shadowRoot))(s,n,e.target))o=s,r=n;else{const e=t.getBoundingClientRect();o=i.clientX-e.left,r=i.clientY-e.top,l=!0}return{x:o,y:r,box:l}}(e,a),h=o.left+(d&&r.left),u=o.top+(d&&r.top);let{width:m,height:p}=t;return n&&(m-=o.width+r.width,p-=o.height+r.height),{x:Math.round((l-h)/m*a.width/i),y:Math.round((c-u)/p*a.height/i)}}const ml=e=>Math.round(10*e)/10;function pl(e,t,a,i){const s=cl(e),n=hl(s,"margin"),o=ll(s.maxWidth,e,"clientWidth")||Ao,r=ll(s.maxHeight,e,"clientHeight")||Ao,l=function(e,t,a){let i,s;if(void 0===t||void 0===a){const n=e&&rl(e);if(n){const e=n.getBoundingClientRect(),o=cl(n),r=hl(o,"border","width"),l=hl(o,"padding");t=e.width-l.width-r.width,a=e.height-l.height-r.height,i=ll(o.maxWidth,n,"clientWidth"),s=ll(o.maxHeight,n,"clientHeight")}else t=e.clientWidth,a=e.clientHeight}return{width:t,height:a,maxWidth:i||Ao,maxHeight:s||Ao}}(e,t,a);let{width:c,height:d}=l;if("content-box"===s.boxSizing){const e=hl(s,"border","width"),t=hl(s,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-n.width),d=Math.max(0,i?c/i:d-n.height),c=ml(Math.min(c,o,l.maxWidth)),d=ml(Math.min(d,r,l.maxHeight)),c&&!d&&(d=ml(c/2));return(void 0!==t||void 0!==a)&&i&&l.height&&d>l.height&&(d=l.height,c=ml(Math.floor(d*i))),{width:c,height:d}}function gl(e,t,a){const i=t||1,s=Math.floor(e.height*i),n=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(a||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==i||o.height!==s||o.width!==n)&&(e.currentDevicePixelRatio=i,o.height=s,o.width=n,e.ctx.setTransform(i,0,0,i,0,0),!0)}const fl=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};ol()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function xl(e,t){const a=function(e,t){return cl(e).getPropertyValue(t)}(e,t),i=a&&a.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function bl(e,t,a){return e?function(e,t){return{x:a=>e+e+t-a,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,a):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function vl(e,t){let a,i;"ltr"!==t&&"rtl"!==t||(a=e.canvas.style,i=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",t,"important"),e.prevTextDirection=i)}function yl(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function _l(e,t,a){return e.options.clip?e[a]:t[a]}function jl(e,t){const a=t._clip;if(a.disabled)return!1;const i=function(e,t){const{xScale:a,yScale:i}=e;return a&&i?{left:_l(a,t,"left"),right:_l(a,t,"right"),top:_l(i,t,"top"),bottom:_l(i,t,"bottom")}:t}(t,e.chartArea);return{left:!1===a.left?0:i.left-(!0===a.left?0:a.left),right:!1===a.right?e.width:i.right+(!0===a.right?0:a.right),top:!1===a.top?0:i.top-(!0===a.top?0:a.top),bottom:!1===a.bottom?e.height:i.bottom+(!0===a.bottom?0:a.bottom)}}
/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class wl{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,a,i){const s=t.listeners[i],n=t.duration;s.forEach(i=>i({chart:e,initial:t.initial,numSteps:n,currentStep:Math.min(a-t.start,n)}))}_refresh(){this._request||(this._running=!0,this._request=ar.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((a,i)=>{if(!a.running||!a.items.length)return;const s=a.items;let n,o=s.length-1,r=!1;for(;o>=0;--o)n=s[o],n._active?(n._total>a.duration&&(a.duration=n._total),n.tick(e),r=!0):(s[o]=s[s.length-1],s.pop());r&&(i.draw(),this._notify(i,a,e,"progress")),s.length||(a.running=!1,this._notify(i,a,e,"complete"),a.initial=!1),t+=s.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let a=t.get(e);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,a)),a}listen(e,t,a){this._getAnims(e).listeners[t].push(a)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const a=t.items;let i=a.length-1;for(;i>=0;--i)a[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var kl=new wl;const Cl="transparent",Nl={boolean:(e,t,a)=>a>.5?t:e,color(e,t,a){const i=hr(e||Cl),s=i.valid&&hr(t||Cl);return s&&s.valid?s.mix(i,a).hexString():t},number:(e,t,a)=>e+(t-e)*a};class Sl{constructor(e,t,a,i){const s=t[a];i=Vr([e.to,i,s,e.from]);const n=Vr([e.from,s,i]);this._active=!0,this._fn=e.fn||Nl[e.type||typeof n],this._easing=cr[e.easing]||cr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=a,this._from=n,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,a){if(this._active){this._notify(!1);const i=this._target[this._prop],s=a-this._start,n=this._duration-s;this._start=a,this._duration=Math.floor(Math.max(n,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Vr([e.to,t,i,e.from]),this._from=Vr([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,a=this._duration,i=this._prop,s=this._from,n=this._loop,o=this._to;let r;if(this._active=s!==o&&(n||t<a),!this._active)return this._target[i]=o,void this._notify(!0);t<0?this._target[i]=s:(r=t/a%2,r=n&&r>1?2-r:r,r=this._easing(Math.min(1,Math.max(0,r))),this._target[i]=this._fn(s,o,r))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,a)=>{e.push({res:t,rej:a})})}_notify(e){const t=e?"res":"rej",a=this._promises||[];for(let i=0;i<a.length;i++)a[i][t]()}}class Ml{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!co(e))return;const t=Object.keys(wr.animation),a=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!co(s))return;const n={};for(const e of t)n[e]=s[e];(lo(s.properties)&&s.properties||[i]).forEach(e=>{e!==i&&a.has(e)||a.set(e,n)})})}_animateOptions(e,t){const a=t.options,i=function(e,t){if(!t)return;let a=e.options;if(!a)return void(e.options=t);a.$shared&&(e.options=a=Object.assign({},a,{$shared:!1,$animations:{}}));return a}(e,a);if(!i)return[];const s=this._createAnimations(i,a);return a.$shared&&function(e,t){const a=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const t=e[i[s]];t&&t.active()&&a.push(t.wait())}return Promise.all(a)}(e.options.$animations,a).then(()=>{e.options=a},()=>{}),s}_createAnimations(e,t){const a=this._properties,i=[],s=e.$animations||(e.$animations={}),n=Object.keys(t),o=Date.now();let r;for(r=n.length-1;r>=0;--r){const l=n[r];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(e,t));continue}const c=t[l];let d=s[l];const h=a.get(l);if(d){if(h&&d.active()){d.update(h,c,o);continue}d.cancel()}h&&h.duration?(s[l]=d=new Sl(h,e,l,c),i.push(d)):e[l]=c}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const a=this._createAnimations(e,t);return a.length?(kl.add(this._chart,a),!0):void 0}}function zl(e,t){const a=e&&e.options||{},i=a.reverse,s=void 0===a.min?t:0,n=void 0===a.max?t:0;return{start:i?n:s,end:i?s:n}}function Dl(e,t){const a=[],i=e._getSortedDatasetMetas(t);let s,n;for(s=0,n=i.length;s<n;++s)a.push(i[s].index);return a}function Tl(e,t,a,i={}){const s=e.keys,n="single"===i.mode;let o,r,l,c;if(null===t)return;let d=!1;for(o=0,r=s.length;o<r;++o){if(l=+s[o],l===a){if(d=!0,i.all)continue;break}c=e.values[l],ho(c)&&(n||0===t||Lo(t)===Lo(c))&&(t+=c)}return d||i.all?t:0}function Al(e,t){const a=e&&e.options.stacked;return a||void 0===a&&void 0!==t.stack}function $l(e,t,a){const i=e[t]||(e[t]={});return i[a]||(i[a]={})}function Rl(e,t,a,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const t=e[s.index];if(a&&t>0||!a&&t<0)return s.index}return null}function Pl(e,t){const{chart:a,_cachedMeta:i}=e,s=a._stacks||(a._stacks={}),{iScale:n,vScale:o,index:r}=i,l=n.axis,c=o.axis,d=function(e,t,a){return`${e.id}.${t.id}.${a.stack||a.type}`}(n,o,i),h=t.length;let u;for(let m=0;m<h;++m){const e=t[m],{[l]:a,[c]:n}=e;u=(e._stacks||(e._stacks={}))[c]=$l(s,d,a),u[r]=n,u._top=Rl(u,o,!0,i.type),u._bottom=Rl(u,o,!1,i.type);(u._visualValues||(u._visualValues={}))[r]=n}}function Ol(e,t){const a=e.scales;return Object.keys(a).filter(e=>a[e].axis===t).shift()}function El(e,t){const a=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[i]||void 0===t[i][a])return;delete t[i][a],void 0!==t[i]._visualValues&&void 0!==t[i]._visualValues[a]&&delete t[i]._visualValues[a]}}}const Ll=e=>"reset"===e||"none"===e,Il=(e,t)=>t?e:Object.assign({},e);class Bl{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Al(e.vScale,e),this.addElements(),this.options.fill&&this.chart.isPluginEnabled("filler")}updateIndex(e){this.index!==e&&El(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,a=this.getDataset(),i=(e,t,a,i)=>"x"===e?t:"r"===e?i:a,s=t.xAxisID=mo(a.xAxisID,Ol(e,"x")),n=t.yAxisID=mo(a.yAxisID,Ol(e,"y")),o=t.rAxisID=mo(a.rAxisID,Ol(e,"r")),r=t.indexAxis,l=t.iAxisID=i(r,s,n,o),c=t.vAxisID=i(r,n,s,o);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(n),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&er(this._data,this),e._stacked&&El(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),a=this._data;if(co(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:a,vScale:i}=t,s="x"===a.axis?"x":"y",n="x"===i.axis?"x":"y",o=Object.keys(e),r=new Array(o.length);let l,c,d;for(l=0,c=o.length;l<c;++l)d=o[l],r[l]={[s]:d,[n]:e[d]};return r}(t,e)}else if(a!==t){if(a){er(a,this);const e=this._cachedMeta;El(e),e._parsed=[]}t&&Object.isExtensible(t)&&(s=this,(i=t)._chartjs?i._chartjs.listeners.push(s):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),Qo.forEach(e=>{const t="_onData"+No(e),a=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...e){const s=a.apply(this,e);return i._chartjs.listeners.forEach(a=>{"function"==typeof a[t]&&a[t](...e)}),s}})}))),this._syncList=[],this._data=t}var i,s}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,a=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=Al(t.vScale,t),t.stack!==a.stack&&(i=!0,El(t),t.stack=a.stack),this._resyncElements(e),(i||s!==t._stacked)&&(Pl(this,t._parsed),t._stacked=Al(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:a,_data:i}=this,{iScale:s,_stacked:n}=a,o=s.axis;let r,l,c,d=0===e&&t===i.length||a._sorted,h=e>0&&a._parsed[e-1];if(!1===this._parsing)a._parsed=i,a._sorted=!0,c=i;else{c=lo(i[e])?this.parseArrayData(a,i,e,t):co(i[e])?this.parseObjectData(a,i,e,t):this.parsePrimitiveData(a,i,e,t);const s=()=>null===l[o]||h&&l[o]<h[o];for(r=0;r<t;++r)a._parsed[r+e]=l=c[r],d&&(s()&&(d=!1),h=l);a._sorted=d}n&&Pl(this,c)}parsePrimitiveData(e,t,a,i){const{iScale:s,vScale:n}=e,o=s.axis,r=n.axis,l=s.getLabels(),c=s===n,d=new Array(i);let h,u,m;for(h=0,u=i;h<u;++h)m=h+a,d[h]={[o]:c||s.parse(l[m],m),[r]:n.parse(t[m],m)};return d}parseArrayData(e,t,a,i){const{xScale:s,yScale:n}=e,o=new Array(i);let r,l,c,d;for(r=0,l=i;r<l;++r)c=r+a,d=t[c],o[r]={x:s.parse(d[0],c),y:n.parse(d[1],c)};return o}parseObjectData(e,t,a,i){const{xScale:s,yScale:n}=e,{xAxisKey:o="x",yAxisKey:r="y"}=this._parsing,l=new Array(i);let c,d,h,u;for(c=0,d=i;c<d;++c)h=c+a,u=t[h],l[c]={x:s.parse(Co(u,o),h),y:n.parse(Co(u,r),h)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,a){const i=this.chart,s=this._cachedMeta,n=t[e.axis];return Tl({keys:Dl(i,!0),values:t._stacks[e.axis]._visualValues},n,s.index,{mode:a})}updateRangeFromParsed(e,t,a,i){const s=a[t.axis];let n=null===s?NaN:s;const o=i&&a._stacks[t.axis];i&&o&&(i.values=o,n=Tl(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,n),e.max=Math.max(e.max,n)}getMinMax(e,t){const a=this._cachedMeta,i=a._parsed,s=a._sorted&&e===a.iScale,n=i.length,o=this._getOtherScale(e),r=((e,t,a)=>e&&!t.hidden&&t._stacked&&{keys:Dl(a,!0),values:null})(t,a,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:a,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?a:Number.POSITIVE_INFINITY}}(o);let h,u;function m(){u=i[h];const t=u[o.axis];return!ho(u[e.axis])||c>t||d<t}for(h=0;h<n&&(m()||(this.updateRangeFromParsed(l,e,u,r),!s));++h);if(s)for(h=n-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(l,e,u,r);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,a=[];let i,s,n;for(i=0,s=t.length;i<s;++i)n=t[i][e.axis],ho(n)&&a.push(n);return a}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,a=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:a?""+a.getLabelForValue(s[a.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,a,i,s;return co(e)?(t=e.top,a=e.right,i=e.bottom,s=e.left):t=a=i=s=e,{top:t,right:a,bottom:i,left:s,disabled:!1===e}}(mo(this.options.clip,function(e,t,a){if(!1===a)return!1;const i=zl(e,a),s=zl(t,a);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,a=this._cachedMeta,i=a.data||[],s=t.chartArea,n=[],o=this._drawStart||0,r=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let c;for(a.dataset&&a.dataset.draw(e,s,o,r),c=o;c<o+r;++c){const t=i[c];t.hidden||(t.active&&l?n.push(t):t.draw(e,s))}for(c=0;c<n.length;++c)n[c].draw(e,s)}getStyle(e,t){const a=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,t,a){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];s=t.$context||(t.$context=function(e,t,a){return Ur(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:a,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function(e,t){return Ur(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=a,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",a){const i="active"===t,s=this._cachedDataOpts,n=e+"-"+t,o=s[n],r=this.enableOptionSharing&&So(a);if(o)return Il(o,r);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],h=l.getOptionScopes(this.getDataset(),c),u=Object.keys(wr.elements[e]),m=l.resolveNamedOptions(h,u,()=>this.getContext(a,i,t),d);return m.$shared&&(m.$shared=r,s[n]=Object.freeze(Il(m,r))),m}_resolveAnimations(e,t,a){const i=this.chart,s=this._cachedDataOpts,n=`animation-${t}`,o=s[n];if(o)return o;let r;if(!1!==i.options.animation){const i=this.chart.config,s=i.datasetAnimationScopeKeys(this._type,t),n=i.getOptionScopes(this.getDataset(),s);r=i.createResolver(n,this.getContext(e,a,t))}const l=new Ml(i,r&&r.animations);return r&&r._cacheable&&(s[n]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Ll(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const a=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(a),n=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,a),{sharedOptions:s,includeOptions:n}}updateElement(e,t,a,i){Ll(i)?Object.assign(e,a):this._resolveAnimations(t,i).update(e,a)}updateSharedOptions(e,t,a){e&&!Ll(t)&&this._resolveAnimations(void 0,t).update(e,a)}_setStyle(e,t,a,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,a,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,t,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,a=this._cachedMeta.data;for(const[o,r,l]of this._syncList)this[o](r,l);this._syncList=[];const i=a.length,s=t.length,n=Math.min(s,i);n&&this.parse(0,n),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,a=!0){const i=this._cachedMeta,s=i.data,n=e+t;let o;const r=e=>{for(e.length+=t,o=e.length-1;o>=n;o--)e[o]=e[o-t]};for(r(s),o=e;o<n;++o)s[o]=new this.dataElementType;this._parsing&&r(i._parsed),this.parse(e,t),a&&this.updateElements(s,e,t,"reset")}updateElements(e,t,a,i){}_removeElements(e,t){const a=this._cachedMeta;if(this._parsing){const i=a._parsed.splice(e,t);a._stacked&&El(a,i)}a.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,a,i]=e;this[t](a,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function ql(e){const t=e.iScale,a=function(e,t){if(!e._cache.$bar){const a=e.getMatchingVisibleMetas(t);let i=[];for(let t=0,s=a.length;t<s;t++)i=i.concat(a[t].controller.getAllParsedValues(e));e._cache.$bar=tr(i.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let i,s,n,o,r=t._length;const l=()=>{32767!==n&&-32768!==n&&(So(o)&&(r=Math.min(r,Math.abs(n-o)||r)),o=n)};for(i=0,s=a.length;i<s;++i)n=t.getPixelForValue(a[i]),l();for(o=void 0,i=0,s=t.ticks.length;i<s;++i)n=t.getPixelForTick(i),l();return r}function Wl(e,t,a,i){return lo(e)?function(e,t,a,i){const s=a.parse(e[0],i),n=a.parse(e[1],i),o=Math.min(s,n),r=Math.max(s,n);let l=o,c=r;Math.abs(o)>Math.abs(r)&&(l=r,c=o),t[a.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:n,min:o,max:r}}(e,t,a,i):t[a.axis]=a.parse(e,i),t}function Fl(e,t,a,i){const s=e.iScale,n=e.vScale,o=s.getLabels(),r=s===n,l=[];let c,d,h,u;for(c=a,d=a+i;c<d;++c)u=t[c],h={},h[s.axis]=r||s.parse(o[c],c),l.push(Wl(u,h,n,c));return l}function Hl(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Vl(e,t,a,i){let s=t.borderSkipped;const n={};if(!s)return void(e.borderSkipped=n);if(!0===s)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:r,reverse:l,top:c,bottom:d}=function(e){let t,a,i,s,n;return e.horizontal?(t=e.base>e.x,a="left",i="right"):(t=e.base<e.y,a="bottom",i="top"),t?(s="end",n="start"):(s="start",n="end"),{start:a,end:i,reverse:t,top:s,bottom:n}}(e);"middle"===s&&a&&(e.enableBorderRadius=!0,(a._top||0)===i?s=c:(a._bottom||0)===i?s=d:(n[Ul(d,o,r,l)]=!0,s=c)),n[Ul(s,o,r,l)]=!0,e.borderSkipped=n}function Ul(e,t,a,i){var s,n,o;return i?(o=a,e=Yl(e=(s=e)===(n=t)?o:s===o?n:s,a,t)):e=Yl(e,t,a),e}function Yl(e,t,a){return"start"===e?t:"end"===e?a:e}function Gl(e,{inflateAmount:t},a){e.inflateAmount="auto"===t?1===a?.33:0:t}class Xl extends Bl{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,a,i){return Fl(e,t,a,i)}parseArrayData(e,t,a,i){return Fl(e,t,a,i)}parseObjectData(e,t,a,i){const{iScale:s,vScale:n}=e,{xAxisKey:o="x",yAxisKey:r="y"}=this._parsing,l="x"===s.axis?o:r,c="x"===n.axis?o:r,d=[];let h,u,m,p;for(h=a,u=a+i;h<u;++h)p=t[h],m={},m[s.axis]=s.parse(Co(p,l),h),d.push(Wl(Co(p,c),m,n,h));return d}updateRangeFromParsed(e,t,a,i){super.updateRangeFromParsed(e,t,a,i);const s=a._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:a,vScale:i}=t,s=this.getParsed(e),n=s._custom,o=Hl(n)?"["+n.start+", "+n.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+a.getLabelForValue(s[a.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,a,i){const s="reset"===i,{index:n,_cachedMeta:{vScale:o}}=this,r=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(t,i);for(let u=t;u<t+a;u++){const t=this.getParsed(u),a=s||ro(t[o.axis])?{base:r,head:r}:this._calculateBarValuePixels(u),m=this._calculateBarIndexPixels(u,c),p=(t._stacks||{})[o.axis],g={horizontal:l,base:a.base,enableBorderRadius:!p||Hl(t._custom)||n===p._top||n===p._bottom,x:l?a.head:m.center,y:l?m.center:a.head,height:l?m.size:Math.abs(a.size),width:l?Math.abs(a.size):m.size};h&&(g.options=d||this.resolveDataElementOptions(u,e[u].active?"active":i));const f=g.options||e[u].options;Vl(g,f,p,n),Gl(g,f,c.ratio),this.updateElement(e[u],u,g,i)}}_getStacks(e,t){const{iScale:a}=this._cachedMeta,i=a.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),s=a.options.stacked,n=[],o=this._cachedMeta.controller.getParsed(t),r=o&&o[a.axis],l=e=>{const t=e._parsed.find(e=>e[a.axis]===r),i=t&&t[e.vScale.axis];if(ro(i)||isNaN(i))return!0};for(const c of i)if((void 0===t||!l(c))&&((!1===s||-1===n.indexOf(c.stack)||void 0===s&&void 0===c.stack)&&n.push(c.stack),c.index===e))break;return n.length||n.push(void 0),n}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(a=>e[a].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const a of this.chart.data.datasets)e[mo("x"===this.chart.options.indexAxis?a.xAxisID:a.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,a){const i=this._getStacks(e,a),s=void 0!==t?i.indexOf(t):-1;return-1===s?i.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,a=t.iScale,i=[];let s,n;for(s=0,n=t.data.length;s<n;++s)i.push(a.getPixelForValue(this.getParsed(s)[a.axis],s));const o=e.barThickness;return{min:o||ql(t),pixels:i,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:a,index:i},options:{base:s,minBarLength:n}}=this,o=s||0,r=this.getParsed(e),l=r._custom,c=Hl(l);let d,h,u=r[t.axis],m=0,p=a?this.applyStack(t,r,a):u;p!==u&&(m=p-u,p=u),c&&(u=l.barStart,p=l.barEnd-l.barStart,0!==u&&Lo(u)!==Lo(l.barEnd)&&(m=0),m+=u);const g=ro(s)||c?m:s;let f=t.getPixelForValue(g);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(m+p):f,h=d-f,Math.abs(h)<n){h=function(e,t,a){return 0!==e?Lo(e):(t.isHorizontal()?1:-1)*(t.min>=a?1:-1)}(h,t,o)*n,u===o&&(f-=h/2);const e=t.getPixelForDecimal(0),s=t.getPixelForDecimal(1),l=Math.min(e,s),m=Math.max(e,s);f=Math.max(Math.min(f,m),l),d=f+h,a&&!c&&(r._stacks[t.axis]._visualValues[i]=t.getValueForPixel(d)-t.getValueForPixel(f))}if(f===t.getPixelForValue(o)){const e=Lo(h)*t.getLineWidthForValue(o)/2;f+=e,h-=e}return{size:h,base:f,head:d,center:d+h/2}}_calculateBarIndexPixels(e,t){const a=t.scale,i=this.options,s=i.skipNull,n=mo(i.maxBarThickness,1/0);let o,r;const l=this._getAxisCount();if(t.grouped){const a=s?this._getStackCount(e):t.stackCount,c="flex"===i.barThickness?function(e,t,a,i){const s=t.pixels,n=s[e];let o=e>0?s[e-1]:null,r=e<s.length-1?s[e+1]:null;const l=a.categoryPercentage;null===o&&(o=n-(null===r?t.end-t.start:r-n)),null===r&&(r=n+n-o);const c=n-(n-Math.min(o,r))/2*l;return{chunk:Math.abs(r-o)/2*l/i,ratio:a.barPercentage,start:c}}(e,t,i,a*l):function(e,t,a,i){const s=a.barThickness;let n,o;return ro(s)?(n=t.min*a.categoryPercentage,o=a.barPercentage):(n=s*i,o=1),{chunk:n/i,ratio:o,start:t.pixels[e]-n/2}}(e,t,i,a*l),d="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,h=this._getAxis().indexOf(mo(d,this.getFirstScaleIdForIndexAxis())),u=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+h;o=c.start+c.chunk*u+c.chunk/2,r=Math.min(n,c.chunk*c.ratio)}else o=a.getPixelForValue(this.getParsed(e)[a.axis],e),r=Math.min(n,t.min*t.ratio);return{base:o-r/2,head:o+r/2,center:o,size:r}}draw(){const e=this._cachedMeta,t=e.vScale,a=e.data,i=a.length;let s=0;for(;s<i;++s)null===this.getParsed(s)[t.axis]||a[s].hidden||a[s].draw(this._ctx)}}class Kl extends Bl{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:a,color:i}}=e.legend.options;return t.labels.map((t,s)=>{const n=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,fontColor:i,lineWidth:n.borderWidth,pointStyle:a,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,a){a.chart.toggleDataVisibility(t.index),a.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const a=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=a;else{let s,n,o=e=>+a[e];if(co(a[e])){const{key:e="value"}=this._parsing;o=t=>+Co(a[t],e)}for(s=e,n=e+t;s<n;++s)i._parsed[s]=o(s)}}_getRotation(){return Wo(this.options.rotation-90)}_getCircumference(){return Wo(this.options.circumference)}_getRotationExtents(){let e=To,t=-To;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type){const i=this.chart.getDatasetMeta(a).controller,s=i._getRotation(),n=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+n)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:a}=t,i=this._cachedMeta,s=i.data,n=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(a.width,a.height)-n)/2,0),r=Math.min((l=this.options.cutout,c=o,"string"==typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const d=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:m,ratioY:p,offsetX:g,offsetY:f}=function(e,t,a){let i=1,s=1,n=0,o=0;if(t<To){const r=e,l=r+t,c=Math.cos(r),d=Math.sin(r),h=Math.cos(l),u=Math.sin(l),m=(e,t,i)=>Yo(e,r,l,!0)?1:Math.max(t,t*a,i,i*a),p=(e,t,i)=>Yo(e,r,l,!0)?-1:Math.min(t,t*a,i,i*a),g=m(0,c,h),f=m(Ro,d,u),x=p(Do,c,h),b=p(Do+Ro,d,u);i=(g-x)/2,s=(f-b)/2,n=-(g+x)/2,o=-(f+b)/2}return{ratioX:i,ratioY:s,offsetX:n,offsetY:o}}(u,h,r),x=(a.width-n)/m,b=(a.height-n)/p,v=Math.max(Math.min(x,b)/2,0),y=po(this.options.radius,v),_=(y-Math.max(y*r,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*y,this.offsetY=f*y,i.total=this.calculateTotal(),this.outerRadius=y-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const a=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&a.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/To)}updateElements(e,t,a,i){const s="reset"===i,n=this.chart,o=n.chartArea,r=n.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,d=s&&r.animateScale,h=d?0:this.innerRadius,u=d?0:this.outerRadius,{sharedOptions:m,includeOptions:p}=this._getSharedOptions(t,i);let g,f=this._getRotation();for(g=0;g<t;++g)f+=this._circumference(g,s);for(g=t;g<t+a;++g){const t=this._circumference(g,s),a=e[g],n={x:l+this.offsetX,y:c+this.offsetY,startAngle:f,endAngle:f+t,circumference:t,outerRadius:u,innerRadius:h};p&&(n.options=m||this.resolveDataElementOptions(g,a.active?"active":i)),f+=t,this.updateElement(a,g,n,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let a,i=0;for(a=0;a<t.length;a++){const s=e._parsed[a];null===s||isNaN(s)||!this.chart.getDataVisibility(a)||t[a].hidden||(i+=Math.abs(s))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?To*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,a=this.chart,i=a.data.labels||[],s=fr(t._parsed[e],a.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const a=this.chart;let i,s,n,o,r;if(!e)for(i=0,s=a.data.datasets.length;i<s;++i)if(a.isDatasetVisible(i)){n=a.getDatasetMeta(i),e=n.data,o=n.controller;break}if(!e)return 0;for(i=0,s=e.length;i<s;++i)r=o.resolveDataElementOptions(i),"inner"!==r.borderAlign&&(t=Math.max(t,r.borderWidth||0,r.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let a=0,i=e.length;a<i;++a){const e=this.resolveDataElementOptions(a);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let a=0;a<e;++a)this.chart.isDatasetVisible(a)&&(t+=this._getRingWeight(a));return t}_getRingWeight(e){return Math.max(mo(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}function Jl(e,t,a,i){const{controller:s,data:n,_sorted:o}=e,r=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(r&&t===r.axis&&"r"!==t&&o&&n.length){const o=r._reversePixels?Zo:Jo;if(!i){const i=o(n,t,a);if(l){const{vScale:t}=s._cachedMeta,{_parsed:a}=e,n=a.slice(0,i.lo+1).reverse().findIndex(e=>!ro(e[t.axis]));i.lo-=Math.max(0,n);const o=a.slice(i.hi).findIndex(e=>!ro(e[t.axis]));i.hi+=Math.max(0,o)}return i}if(s._sharedOptions){const e=n[0],i="function"==typeof e.getRange&&e.getRange(t);if(i){const e=o(n,t,a-i),s=o(n,t,a+i);return{lo:e.lo,hi:s.hi}}}}return{lo:0,hi:n.length-1}}function Zl(e,t,a,i,s){const n=e.getSortedVisibleDatasetMetas(),o=a[t];for(let r=0,l=n.length;r<l;++r){const{index:e,data:a}=n[r],{lo:l,hi:c}=Jl(n[r],t,o,s);for(let t=l;t<=c;++t){const s=a[t];s.skip||i(s,e,t)}}}function Ql(e,t,a,i,s){const n=[];if(!s&&!e.isPointInArea(t))return n;return Zl(e,a,t,function(a,o,r){(s||zr(a,e.chartArea,0))&&a.inRange(t.x,t.y,i)&&n.push({element:a,datasetIndex:o,index:r})},!0),n}function ec(e,t,a,i,s,n){let o=[];const r=function(e){const t=-1!==e.indexOf("x"),a=-1!==e.indexOf("y");return function(e,i){const s=t?Math.abs(e.x-i.x):0,n=a?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(n,2))}}(a);let l=Number.POSITIVE_INFINITY;return Zl(e,a,t,function(a,c,d){const h=a.inRange(t.x,t.y,s);if(i&&!h)return;const u=a.getCenterPoint(s);if(!(!!n||e.isPointInArea(u))&&!h)return;const m=r(t,u);m<l?(o=[{element:a,datasetIndex:c,index:d}],l=m):m===l&&o.push({element:a,datasetIndex:c,index:d})}),o}function tc(e,t,a,i,s,n){return n||e.isPointInArea(t)?"r"!==a||i?ec(e,t,a,i,s,n):function(e,t,a,i){let s=[];return Zl(e,a,t,function(e,a,n){const{startAngle:o,endAngle:r}=e.getProps(["startAngle","endAngle"],i),{angle:l}=Ho(e,{x:t.x,y:t.y});Yo(l,o,r)&&s.push({element:e,datasetIndex:a,index:n})}),s}(e,t,a,s):[]}function ac(e,t,a,i,s){const n=[],o="x"===a?"inXRange":"inYRange";let r=!1;return Zl(e,a,t,(e,i,l)=>{e[o]&&e[o](t[a],s)&&(n.push({element:e,datasetIndex:i,index:l}),r=r||e.inRange(t.x,t.y,s))}),i&&!r?[]:n}var ic={modes:{index(e,t,a,i){const s=ul(t,e),n=a.axis||"x",o=a.includeInvisible||!1,r=a.intersect?Ql(e,s,n,i,o):tc(e,s,n,!1,i,o),l=[];return r.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=r[0].index,a=e.data[t];a&&!a.skip&&l.push({element:a,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,a,i){const s=ul(t,e),n=a.axis||"xy",o=a.includeInvisible||!1;let r=a.intersect?Ql(e,s,n,i,o):tc(e,s,n,!1,i,o);if(r.length>0){const t=r[0].datasetIndex,a=e.getDatasetMeta(t).data;r=[];for(let e=0;e<a.length;++e)r.push({element:a[e],datasetIndex:t,index:e})}return r},point:(e,t,a,i)=>Ql(e,ul(t,e),a.axis||"xy",i,a.includeInvisible||!1),nearest(e,t,a,i){const s=ul(t,e),n=a.axis||"xy",o=a.includeInvisible||!1;return tc(e,s,n,a.intersect,i,o)},x:(e,t,a,i)=>ac(e,ul(t,e),"x",a.intersect,i),y:(e,t,a,i)=>ac(e,ul(t,e),"y",a.intersect,i)}};const sc=["left","top","right","bottom"];function nc(e,t){return e.filter(e=>e.pos===t)}function oc(e,t){return e.filter(e=>-1===sc.indexOf(e.pos)&&e.box.axis===t)}function rc(e,t){return e.sort((e,a)=>{const i=t?a:e,s=t?e:a;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function lc(e,t){const a=function(e){const t={};for(const a of e){const{stack:e,pos:i,stackWeight:s}=a;if(!e||!sc.includes(i))continue;const n=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});n.count++,n.weight+=s}return t}(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let n,o,r;for(n=0,o=e.length;n<o;++n){r=e[n];const{fullSize:o}=r.box,l=a[r.stack],c=l&&r.stackWeight/l.weight;r.horizontal?(r.width=c?c*i:o&&t.availableWidth,r.height=s):(r.width=i,r.height=c?c*s:o&&t.availableHeight)}return a}function cc(e,t,a,i){return Math.max(e[a],t[a])+Math.max(e[i],t[i])}function dc(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function hc(e,t,a,i){const{pos:s,box:n}=a,o=e.maxPadding;if(!co(s)){a.size&&(e[s]-=a.size);const t=i[a.stack]||{size:0,count:1};t.size=Math.max(t.size,a.horizontal?n.height:n.width),a.size=t.size/t.count,e[s]+=a.size}n.getPadding&&dc(o,n.getPadding());const r=Math.max(0,t.outerWidth-cc(o,e,"left","right")),l=Math.max(0,t.outerHeight-cc(o,e,"top","bottom")),c=r!==e.w,d=l!==e.h;return e.w=r,e.h=l,a.horizontal?{same:c,other:d}:{same:d,other:c}}function uc(e,t){const a=t.maxPadding;function i(e){const i={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{i[e]=Math.max(t[e],a[e])}),i}return i(e?["left","right"]:["top","bottom"])}function mc(e,t,a,i){const s=[];let n,o,r,l,c,d;for(n=0,o=e.length,c=0;n<o;++n){r=e[n],l=r.box,l.update(r.width||t.w,r.height||t.h,uc(r.horizontal,t));const{same:o,other:h}=hc(t,a,r,i);c|=o&&s.length,d=d||h,l.fullSize||s.push(r)}return c&&mc(s,t,a,i)||d}function pc(e,t,a,i,s){e.top=a,e.left=t,e.right=t+i,e.bottom=a+s,e.width=i,e.height=s}function gc(e,t,a,i){const s=a.padding;let{x:n,y:o}=t;for(const r of e){const e=r.box,l=i[r.stack]||{placed:0,weight:1},c=r.stackWeight/l.weight||1;if(r.horizontal){const i=t.w*c,n=l.size||e.height;So(l.start)&&(o=l.start),e.fullSize?pc(e,s.left,o,a.outerWidth-s.right-s.left,n):pc(e,t.left+l.placed,o,i,n),l.start=o,l.placed+=i,o=e.bottom}else{const i=t.h*c,o=l.size||e.width;So(l.start)&&(n=l.start),e.fullSize?pc(e,n,s.top,o,a.outerHeight-s.bottom-s.top):pc(e,n,t.top+l.placed,o,i),l.start=n,l.placed+=i,n=e.right}}t.x=n,t.y=o}var fc={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const a=e.boxes?e.boxes.indexOf(t):-1;-1!==a&&e.boxes.splice(a,1)},configure(e,t,a){t.fullSize=a.fullSize,t.position=a.position,t.weight=a.weight},update(e,t,a,i){if(!e)return;const s=Fr(e.options.layout.padding),n=Math.max(t-s.width,0),o=Math.max(a-s.height,0),r=function(e){const t=function(e){const t=[];let a,i,s,n,o,r;for(a=0,i=(e||[]).length;a<i;++a)s=e[a],({position:n,options:{stack:o,stackWeight:r=1}}=s),t.push({index:a,box:s,pos:n,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&n+o,stackWeight:r});return t}(e),a=rc(t.filter(e=>e.box.fullSize),!0),i=rc(nc(t,"left"),!0),s=rc(nc(t,"right")),n=rc(nc(t,"top"),!0),o=rc(nc(t,"bottom")),r=oc(t,"x"),l=oc(t,"y");return{fullSize:a,leftAndTop:i.concat(n),rightAndBottom:s.concat(l).concat(o).concat(r),chartArea:nc(t,"chartArea"),vertical:i.concat(s).concat(l),horizontal:n.concat(o).concat(r)}}(e.boxes),l=r.vertical,c=r.horizontal;fo(e.boxes,e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()});const d=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:a,padding:s,availableWidth:n,availableHeight:o,vBoxMaxWidth:n/2/d,hBoxMaxHeight:o/2}),u=Object.assign({},s);dc(u,Fr(i));const m=Object.assign({maxPadding:u,w:n,h:o,x:s.left,y:s.top},s),p=lc(l.concat(c),h);mc(r.fullSize,m,h,p),mc(l,m,h,p),mc(c,m,h,p)&&mc(l,m,h,p),function(e){const t=e.maxPadding;function a(a){const i=Math.max(t[a]-e[a],0);return e[a]+=i,i}e.y+=a("top"),e.x+=a("left"),a("right"),a("bottom")}(m),gc(r.leftAndTop,m,h,p),m.x+=m.w,m.y+=m.h,gc(r.rightAndBottom,m,h,p),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},fo(r.chartArea,t=>{const a=t.box;Object.assign(a,e.chartArea),a.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class xc{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,a){}removeEventListener(e,t,a){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,a,i){return t=Math.max(0,t||e.width),a=a||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):a)}}isAttached(e){return!0}updateConfig(e){}}class bc extends xc{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const vc="$chartjs",yc={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_c=e=>null===e||""===e;const jc=!!fl&&{passive:!0};function wc(e,t,a){e&&e.canvas&&e.canvas.removeEventListener(t,a,jc)}function kc(e,t){for(const a of e)if(a===t||a.contains(t))return!0}function Cc(e,t,a){const i=e.canvas,s=new MutationObserver(e=>{let t=!1;for(const a of e)t=t||kc(a.addedNodes,i),t=t&&!kc(a.removedNodes,i);t&&a()});return s.observe(document,{childList:!0,subtree:!0}),s}function Nc(e,t,a){const i=e.canvas,s=new MutationObserver(e=>{let t=!1;for(const a of e)t=t||kc(a.removedNodes,i),t=t&&!kc(a.addedNodes,i);t&&a()});return s.observe(document,{childList:!0,subtree:!0}),s}const Sc=new Map;let Mc=0;function zc(){const e=window.devicePixelRatio;e!==Mc&&(Mc=e,Sc.forEach((t,a)=>{a.currentDevicePixelRatio!==e&&t()}))}function Dc(e,t,a){const i=e.canvas,s=i&&rl(i);if(!s)return;const n=ir((e,t)=>{const i=s.clientWidth;a(e,t),i<s.clientWidth&&a()},window),o=new ResizeObserver(e=>{const t=e[0],a=t.contentRect.width,i=t.contentRect.height;0===a&&0===i||n(a,i)});return o.observe(s),function(e,t){Sc.size||window.addEventListener("resize",zc),Sc.set(e,t)}(e,n),o}function Tc(e,t,a){a&&a.disconnect(),"resize"===t&&function(e){Sc.delete(e),Sc.size||window.removeEventListener("resize",zc)}(e)}function Ac(e,t,a){const i=e.canvas,s=ir(t=>{null!==e.ctx&&a(function(e,t){const a=yc[e.type]||e.type,{x:i,y:s}=ul(e,t);return{type:a,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==s?s:null}}(t,e))},e);return function(e,t,a){e&&e.addEventListener(t,a,jc)}(i,t,s),s}class $c extends xc{acquireContext(e,t){const a=e&&e.getContext&&e.getContext("2d");return a&&a.canvas===e?(function(e,t){const a=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[vc]={initial:{height:i,width:s,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",_c(s)){const t=xl(e,"width");void 0!==t&&(e.width=t)}if(_c(i))if(""===e.style.height)e.height=e.width/(t||2);else{const t=xl(e,"height");void 0!==t&&(e.height=t)}}(e,t),a):null}releaseContext(e){const t=e.canvas;if(!t[vc])return!1;const a=t[vc].initial;["height","width"].forEach(e=>{const i=a[e];ro(i)?t.removeAttribute(e):t.setAttribute(e,i)});const i=a.style||{};return Object.keys(i).forEach(e=>{t.style[e]=i[e]}),t.width=t.width,delete t[vc],!0}addEventListener(e,t,a){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),s={attach:Cc,detach:Nc,resize:Dc}[t]||Ac;i[t]=s(e,t,a)}removeEventListener(e,t){const a=e.$proxies||(e.$proxies={}),i=a[t];if(!i)return;({attach:Tc,detach:Tc,resize:Tc}[t]||wc)(e,t,i),a[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,a,i){return pl(e,t,a,i)}isAttached(e){const t=e&&rl(e);return!(!t||!t.isConnected)}}class Rc{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:a}=this.getProps(["x","y"],e);return{x:t,y:a}}hasValue(){return qo(this.x)&&qo(this.y)}getProps(e,t){const a=this.$animations;if(!t||!a)return this;const i={};return e.forEach(e=>{i[e]=a[e]&&a[e].active()?a[e]._to:this[e]}),i}}function Pc(e,t){const a=e.options.ticks,i=function(e){const t=e.options.offset,a=e._tickSize(),i=e._length/a+(t?0:1),s=e._maxLength/a;return Math.floor(Math.min(i,s))}(e),s=Math.min(a.maxTicksLimit||i,i),n=a.major.enabled?function(e){const t=[];let a,i;for(a=0,i=e.length;a<i;a++)e[a].major&&t.push(a);return t}(t):[],o=n.length,r=n[0],l=n[o-1],c=[];if(o>s)return function(e,t,a,i){let s,n=0,o=a[0];for(i=Math.ceil(i),s=0;s<e.length;s++)s===o&&(t.push(e[s]),n++,o=a[n*i])}(t,c,n,o/s),c;const d=function(e,t,a){const i=function(e){const t=e.length;let a,i;if(t<2)return!1;for(i=e[0],a=1;a<t;++a)if(e[a]-e[a-1]!==i)return!1;return i}(e),s=t.length/a;if(!i)return Math.max(s,1);const n=function(e){const t=[],a=Math.sqrt(e);let i;for(i=1;i<a;i++)e%i===0&&(t.push(i),t.push(e/i));return a===(0|a)&&t.push(a),t.sort((e,t)=>e-t).pop(),t}(i);for(let o=0,r=n.length-1;o<r;o++){const e=n[o];if(e>s)return e}return Math.max(s,1)}(n,t,s);if(o>0){let e,a;const i=o>1?Math.round((l-r)/(o-1)):null;for(Oc(t,c,d,ro(i)?0:r-i,r),e=0,a=o-1;e<a;e++)Oc(t,c,d,n[e],n[e+1]);return Oc(t,c,d,l,ro(i)?t.length:l+i),c}return Oc(t,c,d),c}function Oc(e,t,a,i,s){const n=mo(i,0),o=Math.min(mo(s,e.length),e.length);let r,l,c,d=0;for(a=Math.ceil(a),s&&(r=s-i,a=r/Math.floor(r/a)),c=n;c<0;)d++,c=Math.round(n+d*a);for(l=Math.max(n,0);l<o;l++)l===c&&(t.push(e[l]),d++,c=Math.round(n+d*a))}const Ec=(e,t,a)=>"top"===t||"left"===t?e[t]+a:e[t]-a,Lc=(e,t)=>Math.min(t||e,e);function Ic(e,t){const a=[],i=e.length/t,s=e.length;let n=0;for(;n<s;n+=i)a.push(e[Math.floor(n)]);return a}function Bc(e,t,a){const i=e.ticks.length,s=Math.min(t,i-1),n=e._startPixel,o=e._endPixel,r=1e-6;let l,c=e.getPixelForTick(s);if(!(a&&(l=1===i?Math.max(c-n,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(s-1))/2,c+=s<t?l:-l,c<n-r||c>o+r)))return c}function qc(e){return e.drawTicks?e.tickLength:0}function Wc(e,t){if(!e.display)return 0;const a=Hr(e.font,t),i=Fr(e.padding);return(lo(e.text)?e.text.length:1)*a.lineHeight+i.height}function Fc(e,t,a){let i=sr(e);return(a&&"right"!==t||!a&&"right"===t)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class Hc extends Rc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:a,_suggestedMax:i}=this;return e=uo(e,Number.POSITIVE_INFINITY),t=uo(t,Number.NEGATIVE_INFINITY),a=uo(a,Number.POSITIVE_INFINITY),i=uo(i,Number.NEGATIVE_INFINITY),{min:uo(e,a),max:uo(t,i),minDefined:ho(e),maxDefined:ho(t)}}getMinMax(e){let t,{min:a,max:i,minDefined:s,maxDefined:n}=this.getUserBounds();if(s&&n)return{min:a,max:i};const o=this.getMatchingVisibleMetas();for(let r=0,l=o.length;r<l;++r)t=o[r].controller.getMinMax(this,e),s||(a=Math.min(a,t.min)),n||(i=Math.max(i,t.max));return a=n&&a>i?i:a,i=s&&a>i?a:i,{min:uo(a,uo(i,a)),max:uo(i,uo(a,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){go(this.options.beforeUpdate,[this])}update(e,t,a){const{beginAtZero:i,grace:s,ticks:n}=this.options,o=n.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,a){const{min:i,max:s}=e,n=po(t,(s-i)/2),o=(e,t)=>a&&0===e?0:e+t;return{min:o(i,-Math.abs(n)),max:o(s,n)}}(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const r=o<this.ticks.length;this._convertTicksToLabels(r?Ic(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),n.display&&(n.autoSkip||"auto"===n.source)&&(this.ticks=Pc(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),r&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,a=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,a=!a),this._startPixel=e,this._endPixel=t,this._reversePixels=a,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){go(this.options.afterUpdate,[this])}beforeSetDimensions(){go(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){go(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),go(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){go(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let a,i,s;for(a=0,i=e.length;a<i;a++)s=e[a],s.label=go(t.callback,[s.value,a,e],this)}afterTickToLabelConversion(){go(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){go(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,a=Lc(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let n,o,r,l=i;if(!this._isVisible()||!t.display||i>=s||a<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),d=c.widest.width,h=c.highest.height,u=Go(this.chart.width-d,0,this.maxWidth);n=e.offset?this.maxWidth/a:u/(a-1),d+6>n&&(n=u/(a-(e.offset?.5:1)),o=this.maxHeight-qc(e.grid)-t.padding-Wc(e.title,this.chart.options.font),r=Math.sqrt(d*d+h*h),l=Math.min(Math.asin(Go((c.highest.height+6)/n,-1,1)),Math.asin(Go(o/r,-1,1))-Math.asin(Go(h/r,-1,1)))*(180/Do),l=Math.max(i,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){go(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){go(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:a,title:i,grid:s}}=this,n=this._isVisible(),o=this.isHorizontal();if(n){const n=Wc(i,t.options.font);if(o?(e.width=this.maxWidth,e.height=qc(s)+n):(e.height=this.maxHeight,e.width=qc(s)+n),a.display&&this.ticks.length){const{first:t,last:i,widest:s,highest:n}=this._getLabelSizes(),r=2*a.padding,l=Wo(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(o){const t=a.mirror?0:d*s.width+c*n.height;e.height=Math.min(this.maxHeight,e.height+t+r)}else{const t=a.mirror?0:c*s.width+d*n.height;e.width=Math.min(this.maxWidth,e.width+t+r)}this._calculatePadding(t,i,d,c)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,a,i){const{ticks:{align:s,padding:n},position:o}=this.options,r=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,h=0;r?l?(d=i*e.width,h=a*t.height):(d=a*e.height,h=i*t.width):"start"===s?h=t.width:"end"===s?d=e.width:"inner"!==s&&(d=e.width/2,h=t.width/2),this.paddingLeft=Math.max((d-o+n)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-c+n)*this.width/(this.width-c),0)}else{let a=t.height/2,i=e.height/2;"start"===s?(a=0,i=e.height):"end"===s&&(a=t.height,i=0),this.paddingTop=a+n,this.paddingBottom=i+n}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){go(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,a;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,a=e.length;t<a;t++)ro(e[t].label)&&(e.splice(t,1),a--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let a=this.ticks;t<a.length&&(a=Ic(a,t)),this._labelSizes=e=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,a){const{ctx:i,_longestTextCache:s}=this,n=[],o=[],r=Math.floor(t/Lc(t,a));let l,c,d,h,u,m,p,g,f,x,b,v=0,y=0;for(l=0;l<t;l+=r){if(h=e[l].label,u=this._resolveTickFontOptions(l),i.font=m=u.string,p=s[m]=s[m]||{data:{},gc:[]},g=u.lineHeight,f=x=0,ro(h)||lo(h)){if(lo(h))for(c=0,d=h.length;c<d;++c)b=h[c],ro(b)||lo(b)||(f=kr(i,p.data,p.gc,f,b),x+=g)}else f=kr(i,p.data,p.gc,f,h),x=g;n.push(f),o.push(x),v=Math.max(f,v),y=Math.max(x,y)}!function(e,t){fo(e,e=>{const a=e.gc,i=a.length/2;let s;if(i>t){for(s=0;s<i;++s)delete e.data[a[s]];a.splice(0,i)}})}(s,t);const _=n.indexOf(v),j=o.indexOf(y),w=e=>({width:n[e]||0,height:o[e]||0});return{first:w(0),last:w(t-1),widest:w(_),highest:w(j),widths:n,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Go(this._alignToPixels?Cr(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const a=t[e];return a.$context||(a.$context=function(e,t,a){return Ur(e,{tick:a,index:t,type:"tick"})}(this.getContext(),e,a))}return this.$context||(this.$context=Ur(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Wo(this.labelRotation),a=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),n=e.autoSkipPadding||0,o=s?s.widest.width+n:0,r=s?s.highest.height+n:0;return this.isHorizontal()?r*a>o*i?o/a:r/i:r*i<o*a?r/a:o/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,a=this.chart,i=this.options,{grid:s,position:n,border:o}=i,r=s.offset,l=this.isHorizontal(),c=this.ticks.length+(r?1:0),d=qc(s),h=[],u=o.setContext(this.getContext()),m=u.display?u.width:0,p=m/2,g=function(e){return Cr(a,e,m)};let f,x,b,v,y,_,j,w,k,C,N,S;if("top"===n)f=g(this.bottom),_=this.bottom-d,w=f-p,C=g(e.top)+p,S=e.bottom;else if("bottom"===n)f=g(this.top),C=e.top,S=g(e.bottom)-p,_=f+p,w=this.top+d;else if("left"===n)f=g(this.right),y=this.right-d,j=f-p,k=g(e.left)+p,N=e.right;else if("right"===n)f=g(this.left),k=e.left,N=g(e.right)-p,y=f+p,j=this.left+d;else if("x"===t){if("center"===n)f=g((e.top+e.bottom)/2+.5);else if(co(n)){const e=Object.keys(n)[0],t=n[e];f=g(this.chart.scales[e].getPixelForValue(t))}C=e.top,S=e.bottom,_=f+p,w=_+d}else if("y"===t){if("center"===n)f=g((e.left+e.right)/2);else if(co(n)){const e=Object.keys(n)[0],t=n[e];f=g(this.chart.scales[e].getPixelForValue(t))}y=f-p,j=y-d,k=e.left,N=e.right}const M=mo(i.ticks.maxTicksLimit,c),z=Math.max(1,Math.ceil(c/M));for(x=0;x<c;x+=z){const e=this.getContext(x),t=s.setContext(e),i=o.setContext(e),n=t.lineWidth,c=t.color,d=i.dash||[],u=i.dashOffset,m=t.tickWidth,p=t.tickColor,g=t.tickBorderDash||[],f=t.tickBorderDashOffset;b=Bc(this,x,r),void 0!==b&&(v=Cr(a,b,n),l?y=j=k=N=v:_=w=C=S=v,h.push({tx1:y,ty1:_,tx2:j,ty2:w,x1:k,y1:C,x2:N,y2:S,width:n,color:c,borderDash:d,borderDashOffset:u,tickWidth:m,tickColor:p,tickBorderDash:g,tickBorderDashOffset:f}))}return this._ticksLength=c,this._borderValue=f,h}_computeLabelItems(e){const t=this.axis,a=this.options,{position:i,ticks:s}=a,n=this.isHorizontal(),o=this.ticks,{align:r,crossAlign:l,padding:c,mirror:d}=s,h=qc(a.grid),u=h+c,m=d?-c:u,p=-Wo(this.labelRotation),g=[];let f,x,b,v,y,_,j,w,k,C,N,S,M="middle";if("top"===i)_=this.bottom-m,j=this._getXAxisLabelAlignment();else if("bottom"===i)_=this.top+m,j=this._getXAxisLabelAlignment();else if("left"===i){const e=this._getYAxisLabelAlignment(h);j=e.textAlign,y=e.x}else if("right"===i){const e=this._getYAxisLabelAlignment(h);j=e.textAlign,y=e.x}else if("x"===t){if("center"===i)_=(e.top+e.bottom)/2+u;else if(co(i)){const e=Object.keys(i)[0],t=i[e];_=this.chart.scales[e].getPixelForValue(t)+u}j=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)y=(e.left+e.right)/2-u;else if(co(i)){const e=Object.keys(i)[0],t=i[e];y=this.chart.scales[e].getPixelForValue(t)}j=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===r?M="top":"end"===r&&(M="bottom"));const z=this._getLabelSizes();for(f=0,x=o.length;f<x;++f){b=o[f],v=b.label;const e=s.setContext(this.getContext(f));w=this.getPixelForTick(f)+s.labelOffset,k=this._resolveTickFontOptions(f),C=k.lineHeight,N=lo(v)?v.length:1;const t=N/2,a=e.color,r=e.textStrokeColor,c=e.textStrokeWidth;let h,u=j;if(n?(y=w,"inner"===j&&(u=f===x-1?this.options.reverse?"left":"right":0===f?this.options.reverse?"right":"left":"center"),S="top"===i?"near"===l||0!==p?-N*C+C/2:"center"===l?-z.highest.height/2-t*C+C:-z.highest.height+C/2:"near"===l||0!==p?C/2:"center"===l?z.highest.height/2-t*C:z.highest.height-N*C,d&&(S*=-1),0===p||e.showLabelBackdrop||(y+=C/2*Math.sin(p))):(_=w,S=(1-N)*C/2),e.showLabelBackdrop){const t=Fr(e.backdropPadding),a=z.heights[f],i=z.widths[f];let s=S-t.top,n=0-t.left;switch(M){case"middle":s-=a/2;break;case"bottom":s-=a}switch(j){case"center":n-=i/2;break;case"right":n-=i;break;case"inner":f===x-1?n-=i:f>0&&(n-=i/2)}h={left:n,top:s,width:i+t.width,height:a+t.height,color:e.backdropColor}}g.push({label:v,font:k,textOffset:S,options:{rotation:p,color:a,strokeColor:r,strokeWidth:c,textAlign:u,textBaseline:M,translation:[y,_],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Wo(this.labelRotation))return"top"===e?"left":"right";let a="center";return"start"===t.align?a="left":"end"===t.align?a="right":"inner"===t.align&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:a,mirror:i,padding:s}}=this.options,n=e+s,o=this._getLabelSizes().widest.width;let r,l;return"left"===t?i?(l=this.right+s,"near"===a?r="left":"center"===a?(r="center",l+=o/2):(r="right",l+=o)):(l=this.right-n,"near"===a?r="right":"center"===a?(r="center",l-=o/2):(r="left",l=this.left)):"right"===t?i?(l=this.left+s,"near"===a?r="right":"center"===a?(r="center",l-=o/2):(r="left",l-=o)):(l=this.left+n,"near"===a?r="left":"center"===a?(r="center",l+=o/2):(r="right",l=this.right)):r="right",{textAlign:r,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:a,top:i,width:s,height:n}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(a,i,s,n),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const a=this.ticks.findIndex(t=>t.value===e);if(a>=0){return t.setContext(this.getContext(a)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,a=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,n;const o=(e,t,i)=>{i.width&&i.color&&(a.save(),a.lineWidth=i.width,a.strokeStyle=i.color,a.setLineDash(i.borderDash||[]),a.lineDashOffset=i.borderDashOffset,a.beginPath(),a.moveTo(e.x,e.y),a.lineTo(t.x,t.y),a.stroke(),a.restore())};if(t.display)for(s=0,n=i.length;s<n;++s){const e=i[s];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:a,grid:i}}=this,s=a.setContext(this.getContext()),n=a.display?s.width:0;if(!n)return;const o=i.setContext(this.getContext(0)).lineWidth,r=this._borderValue;let l,c,d,h;this.isHorizontal()?(l=Cr(e,this.left,n)-n/2,c=Cr(e,this.right,o)+o/2,d=h=r):(d=Cr(e,this.top,n)-n/2,h=Cr(e,this.bottom,o)+o/2,l=c=r),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,a=this._computeLabelArea();a&&Dr(t,a);const i=this.getLabelItems(e);for(const s of i){const e=s.options,a=s.font;Rr(t,s.label,0,s.textOffset,a,e)}a&&Tr(t)}drawTitle(){const{ctx:e,options:{position:t,title:a,reverse:i}}=this;if(!a.display)return;const s=Hr(a.font),n=Fr(a.padding),o=a.align;let r=s.lineHeight/2;"bottom"===t||"center"===t||co(t)?(r+=n.bottom,lo(a.text)&&(r+=s.lineHeight*(a.text.length-1))):r+=n.top;const{titleX:l,titleY:c,maxWidth:d,rotation:h}=function(e,t,a,i){const{top:s,left:n,bottom:o,right:r,chart:l}=e,{chartArea:c,scales:d}=l;let h,u,m,p=0;const g=o-s,f=r-n;if(e.isHorizontal()){if(u=nr(i,n,r),co(a)){const e=Object.keys(a)[0],i=a[e];m=d[e].getPixelForValue(i)+g-t}else m="center"===a?(c.bottom+c.top)/2+g-t:Ec(e,a,t);h=r-n}else{if(co(a)){const e=Object.keys(a)[0],i=a[e];u=d[e].getPixelForValue(i)-f+t}else u="center"===a?(c.left+c.right)/2-f+t:Ec(e,a,t);m=nr(i,o,s),p="left"===a?-Ro:Ro}return{titleX:u,titleY:m,maxWidth:h,rotation:p}}(this,r,t,o);Rr(e,a.text,0,0,s,{color:a.color,maxWidth:d,rotation:h,textAlign:Fc(o,t,i),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,a=mo(e.grid&&e.grid.z,-1),i=mo(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Hc.prototype.draw?[{z:a,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",i=[];let s,n;for(s=0,n=t.length;s<n;++s){const n=t[s];n[a]!==this.id||e&&n.type!==e||i.push(n)}return i}_resolveTickFontOptions(e){return Hr(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Vc{constructor(e,t,a){this.type=e,this.scope=t,this.override=a,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let a;(function(e){return"id"in e&&"defaults"in e})(t)&&(a=this.register(t));const i=this.items,s=e.id,n=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,function(e,t,a){const i=_o(Object.create(null),[a?wr.get(a):{},wr.get(t),e.defaults]);wr.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(a=>{const i=a.split("."),s=i.pop(),n=[e].concat(i).join("."),o=t[a].split("."),r=o.pop(),l=o.join(".");wr.route(n,s,l,r)})}(t,e.defaultRoutes);e.descriptors&&wr.describe(t,e.descriptors)}(e,n,a),this.override&&wr.override(e.id,e.overrides)),n}get(e){return this.items[e]}unregister(e){const t=this.items,a=e.id,i=this.scope;a in t&&delete t[a],i&&a in wr[i]&&(delete wr[i][a],this.override&&delete br[a])}}class Uc{constructor(){this.controllers=new Vc(Bl,"datasets",!0),this.elements=new Vc(Rc,"elements"),this.plugins=new Vc(Object,"plugins"),this.scales=new Vc(Hc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,a){[...t].forEach(t=>{const i=a||this._getRegistryForType(t);a||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):fo(t,t=>{const i=a||this._getRegistryForType(t);this._exec(e,i,t)})})}_exec(e,t,a){const i=No(e);go(a["before"+i],[],a),t[e](a),go(a["after"+i],[],a)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const a=this._typedRegistries[t];if(a.isForType(e))return a}return this.plugins}_get(e,t,a){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+a+".");return i}}var Yc=new Uc;class Gc{constructor(){this._init=[]}notify(e,t,a,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),n=this._notify(s,e,t,a);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),n}_notify(e,t,a,i){i=i||{};for(const s of e){const e=s.plugin;if(!1===go(e[a],[t,i,s.options],e)&&i.cancelable)return!1}return!0}invalidate(){ro(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const a=e&&e.config,i=mo(a.options&&a.options.plugins,{}),s=function(e){const t={},a=[],i=Object.keys(Yc.plugins.items);for(let n=0;n<i.length;n++)a.push(Yc.getPlugin(i[n]));const s=e.plugins||[];for(let n=0;n<s.length;n++){const e=s[n];-1===a.indexOf(e)&&(a.push(e),t[e.id]=!0)}return{plugins:a,localIds:t}}(a);return!1!==i||t?function(e,{plugins:t,localIds:a},i,s){const n=[],o=e.getContext();for(const r of t){const t=r.id,l=Xc(i[t],s);null!==l&&n.push({plugin:r,options:Kc(e.config,{plugin:r,local:a[t]},l,o)})}return n}(e,s,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],a=this._cache,i=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(i(t,a),e,"stop"),this._notify(i(a,t),e,"start")}}function Xc(e,t){return t||!1!==e?!0===e?{}:e:null}function Kc(e,{plugin:t,local:a},i,s){const n=e.pluginScopeKeys(t),o=e.getOptionScopes(i,n);return a&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Jc(e,t){const a=wr.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||a.indexAxis||"x"}function Zc(e){if("x"===e||"y"===e||"r"===e)return e}function Qc(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function ed(e,...t){if(Zc(e))return e;for(const a of t){const t=a.axis||Qc(a.position)||e.length>1&&Zc(e[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function td(e,t,a){if(a[t+"AxisID"]===e)return{axis:t}}function ad(e,t){const a=br[e.type]||{scales:{}},i=t.scales||{},s=Jc(e.type,t),n=Object.create(null);return Object.keys(i).forEach(t=>{const o=i[t];if(!co(o))return;if(o._proxy)return;const r=ed(t,o,function(e,t){if(t.data&&t.data.datasets){const a=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(a.length)return td(e,"x",a[0])||td(e,"y",a[0])}return{}}(t,e),wr.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(r,s),c=a.scales||{};n[t]=jo(Object.create(null),[{axis:r},o,c[r],c[l]])}),e.data.datasets.forEach(a=>{const s=a.type||e.type,o=a.indexAxis||Jc(s,t),r=(br[s]||{}).scales||{};Object.keys(r).forEach(e=>{const t=function(e,t){let a=e;return"_index_"===e?a=t:"_value_"===e&&(a="x"===t?"y":"x"),a}(e,o),s=a[t+"AxisID"]||t;n[s]=n[s]||Object.create(null),jo(n[s],[{axis:t},i[s],r[e]])})}),Object.keys(n).forEach(e=>{const t=n[e];jo(t,[wr.scales[t.type],wr.scale])}),n}function id(e){const t=e.options||(e.options={});t.plugins=mo(t.plugins,{}),t.scales=ad(e,t)}function sd(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const nd=new Map,od=new Set;function rd(e,t){let a=nd.get(e);return a||(a=t(),nd.set(e,a),od.add(a)),a}const ld=(e,t,a)=>{const i=Co(t,a);void 0!==i&&e.add(i)};class cd{constructor(e){this._config=function(e){return(e=e||{}).data=sd(e.data),id(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=sd(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),id(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return rd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return rd(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return rd(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return rd(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const a=this._scopeCache;let i=a.get(e);return i&&!t||(i=new Map,a.set(e,i)),i}getOptionScopes(e,t,a){const{options:i,type:s}=this,n=this._cachedScopes(e,a),o=n.get(t);if(o)return o;const r=new Set;t.forEach(t=>{e&&(r.add(e),t.forEach(t=>ld(r,e,t))),t.forEach(e=>ld(r,i,e)),t.forEach(e=>ld(r,br[s]||{},e)),t.forEach(e=>ld(r,wr,e)),t.forEach(e=>ld(r,vr,e))});const l=Array.from(r);return 0===l.length&&l.push(Object.create(null)),od.has(t)&&n.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,br[t]||{},wr.datasets[t]||{},{type:t},wr,vr]}resolveNamedOptions(e,t,a,i=[""]){const s={$shared:!0},{resolver:n,subPrefixes:o}=dd(this._resolverCache,e,i);let r=n;if(function(e,t){const{isScriptable:a,isIndexable:i}=Xr(e);for(const s of t){const t=a(s),n=i(s),o=(n||t)&&e[s];if(t&&(Mo(o)||hd(o))||n&&lo(o))return!0}return!1}(n,t)){s.$shared=!1;r=Gr(n,a=Mo(a)?a():a,this.createResolver(e,a,o))}for(const l of t)s[l]=r[l];return s}createResolver(e,t,a=[""],i){const{resolver:s}=dd(this._resolverCache,e,a);return co(t)?Gr(s,t,void 0,i):s}}function dd(e,t,a){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=a.join();let n=i.get(s);if(!n){n={resolver:Yr(t,a),subPrefixes:a.filter(e=>!e.toLowerCase().includes("hover"))},i.set(s,n)}return n}const hd=e=>co(e)&&Object.getOwnPropertyNames(e).some(t=>Mo(e[t]));const ud=["top","bottom","left","right","chartArea"];function md(e,t){return"top"===e||"bottom"===e||-1===ud.indexOf(e)&&"x"===t}function pd(e,t){return function(a,i){return a[e]===i[e]?a[t]-i[t]:a[e]-i[e]}}function gd(e){const t=e.chart,a=t.options.animation;t.notifyPlugins("afterRender"),go(a&&a.onComplete,[e],t)}function fd(e){const t=e.chart,a=t.options.animation;go(a&&a.onProgress,[e],t)}function xd(e){return ol()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const bd={},vd=e=>{const t=xd(e);return Object.values(bd).filter(e=>e.canvas===t).pop()};function yd(e,t,a){const i=Object.keys(e);for(const s of i){const i=+s;if(i>=t){const n=e[s];delete e[s],(a>0||i>t)&&(e[i+a]=n)}}}let _d=class{static defaults=wr;static instances=bd;static overrides=br;static registry=Yc;static version="4.5.0";static getChart=vd;static register(...e){Yc.add(...e),jd()}static unregister(...e){Yc.remove(...e),jd()}constructor(e,t){const a=this.config=new cd(t),i=xd(e),s=vd(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const n=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||function(e){return!ol()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?bc:$c}(i)),this.platform.updateConfig(a);const o=this.platform.acquireContext(i,n.aspectRatio),r=o&&o.canvas,l=r&&r.height,c=r&&r.width;this.id=oo(),this.ctx=o,this.canvas=r,this.width=c,this.height=l,this._options=n,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Gc,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let a;return function(...i){return t?(clearTimeout(a),a=setTimeout(e,t,i)):e.apply(this,i),t}}(e=>this.update(e),n.resizeDelay||0),this._dataChanges=[],bd[this.id]=this,o&&r&&(kl.listen(this,"complete",gd),kl.listen(this,"progress",fd),this._initialize(),this.attached&&this.update())}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:a,height:i,_aspectRatio:s}=this;return ro(e)?t&&s?s:i?a/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Yc}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():gl(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Nr(this.canvas,this.ctx),this}stop(){return kl.stop(this),this}resize(e,t){kl.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const a=this.options,i=this.canvas,s=a.maintainAspectRatio&&this.aspectRatio,n=this.platform.getMaximumSize(i,e,t,s),o=a.devicePixelRatio||this.platform.getDevicePixelRatio(),r=this.width?"resize":"attach";this.width=n.width,this.height=n.height,this._aspectRatio=this.aspectRatio,gl(this,o,!0)&&(this.notifyPlugins("resize",{size:n}),go(a.onResize,[this,n],this),this.attached&&this._doResize(r)&&this.render())}ensureScalesHaveIDs(){fo(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,a=this.scales,i=Object.keys(a).reduce((e,t)=>(e[t]=!1,e),{});let s=[];t&&(s=s.concat(Object.keys(t).map(e=>{const a=t[e],i=ed(e,a),s="r"===i,n="x"===i;return{options:a,dposition:s?"chartArea":n?"bottom":"left",dtype:s?"radialLinear":n?"category":"linear"}}))),fo(s,t=>{const s=t.options,n=s.id,o=ed(n,s),r=mo(s.type,t.dtype);void 0!==s.position&&md(s.position,o)===md(t.dposition)||(s.position=t.dposition),i[n]=!0;let l=null;if(n in a&&a[n].type===r)l=a[n];else{l=new(Yc.getScale(r))({id:n,type:r,ctx:this.ctx,chart:this}),a[l.id]=l}l.init(s,e)}),fo(i,(e,t)=>{e||delete a[t]}),fo(a,e=>{fc.configure(this,e,e.options),fc.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,a=e.length;if(e.sort((e,t)=>e.index-t.index),a>t){for(let e=t;e<a;++e)this._destroyDatasetMeta(e);e.splice(t,a-t)}this._sortedMetasets=e.slice(0).sort(pd("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,a)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let a,i;for(this._removeUnreferencedMetasets(),a=0,i=t.length;a<i;a++){const i=t[a];let s=this.getDatasetMeta(a);const n=i.type||this.config.type;if(s.type&&s.type!==n&&(this._destroyDatasetMeta(a),s=this.getDatasetMeta(a)),s.type=n,s.indexAxis=i.indexAxis||Jc(n,this.options),s.order=i.order||0,s.index=a,s.label=""+i.label,s.visible=this.isDatasetVisible(a),s.controller)s.controller.updateIndex(a),s.controller.linkScales();else{const t=Yc.getController(n),{datasetElementType:i,dataElementType:o}=wr.datasets[n];Object.assign(t,{dataElementType:Yc.getElement(o),datasetElementType:i&&Yc.getElement(i)}),s.controller=new t(this,a),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){fo(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const a=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let n=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!i&&-1===s.indexOf(e);e.buildOrUpdateElements(t),n=Math.max(+e.getMaxOverflow(),n)}n=this._minPadding=a.layout.autoPadding?n:0,this._updateLayout(n),i||fo(s,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(pd("z","_idx"));const{_active:o,_lastEvent:r}=this;r?this._eventHandler(r,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){fo(this.scales,e=>{fc.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),a=new Set(e.events);zo(t,a)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:a,start:i,count:s}of t){yd(e,i,"_removeElements"===a?-s:s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,a=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),i=a(0);for(let s=1;s<t;s++)if(!zo(i,a(s)))return;return Array.from(i).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;fc.update(this,this.width,this.height,e);const t=this.chartArea,a=t.width<=0||t.height<=0;this._layers=[],fo(this.boxes,e=>{a&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,a=this.data.datasets.length;t<a;++t)this._updateDataset(t,Mo(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const a=this.getDatasetMeta(e),i={meta:a,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(a.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(kl.has(this)?this.attached&&!kl.running(this)&&kl.start(this):(this.draw(),gd({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,a=[];let i,s;for(i=0,s=t.length;i<s;++i){const s=t[i];e&&!s.visible||a.push(s)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,a={meta:e,index:e.index,cancelable:!0},i=jl(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(i&&Dr(t,i),e.controller.draw(),i&&Tr(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return zr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,a,i){const s=ic.modes[t];return"function"==typeof s?s(this,e,a,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],a=this._metasets;let i=a.filter(e=>e&&e._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},a.push(i)),i}getContext(){return this.$context||(this.$context=Ur(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const a=this.getDatasetMeta(e);return"boolean"==typeof a.hidden?!a.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,a){const i=a?"show":"hide",s=this.getDatasetMeta(e),n=s.controller._resolveAnimations(void 0,i);So(t)?(s.data[t].hidden=!a,this.update()):(this.setDatasetVisibility(e,a),n.update(s,{visible:a}),this.update(t=>t.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),kl.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Nr(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete bd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,a=(a,i)=>{t.addEventListener(this,a,i),e[a]=i},i=(e,t,a)=>{e.offsetX=t,e.offsetY=a,this._eventHandler(e)};fo(this.options.events,e=>a(e,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,a=(a,i)=>{t.addEventListener(this,a,i),e[a]=i},i=(a,i)=>{e[a]&&(t.removeEventListener(this,a,i),delete e[a])},s=(e,t)=>{this.canvas&&this.resize(e,t)};let n;const o=()=>{i("attach",o),this.attached=!0,this.resize(),a("resize",s),a("detach",n)};n=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),a("attach",o)},t.isAttached(this.canvas)?o():n()}unbindEvents(){fo(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},fo(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,a){const i=a?"set":"remove";let s,n,o,r;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,r=e.length;o<r;++o){n=e[o];const t=n&&this.getDatasetMeta(n.datasetIndex).controller;t&&t[i+"HoverStyle"](n.element,n.datasetIndex,n.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],a=e.map(({datasetIndex:e,index:t})=>{const a=this.getDatasetMeta(e);if(!a)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:a.data[t],index:t}});!xo(a,t)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,t))}notifyPlugins(e,t,a){return this._plugins.notify(this,e,t,a)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,a){const i=this.options.hover,s=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),n=s(t,e),o=a?e:s(e,t);n.length&&this.updateHoverStyle(n,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,t){const a={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",a,i))return;const s=this._handleEvent(e,t,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,i),(s||a.changed)&&this.render(),this}_handleEvent(e,t,a){const{_active:i=[],options:s}=this,n=t,o=this._getActiveElements(e,i,a,n),r=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,a,i){return a&&"mouseout"!==e.type?i?t:e:null}(e,this._lastEvent,a,r);a&&(this._lastEvent=null,go(s.onHover,[e,o,this],this),r&&go(s.onClick,[e,o,this],this));const c=!xo(o,i);return(c||t)&&(this._active=o,this._updateHoverStyles(o,i,t)),this._lastEvent=l,c}_getActiveElements(e,t,a,i){if("mouseout"===e.type)return[];if(!a)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}};function jd(){return fo(_d.instances,e=>e._plugins.invalidate())}function wd(e,t,a,i){const s=Br(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const n=(a-t)/2,o=Math.min(n,i*t/2),r=e=>{const t=(a-Math.min(n,e))*i/2;return Go(e,0,Math.min(n,t))};return{outerStart:r(s.outerStart),outerEnd:r(s.outerEnd),innerStart:Go(s.innerStart,0,o),innerEnd:Go(s.innerEnd,0,o)}}function kd(e,t,a,i){return{x:a+e*Math.cos(t),y:i+e*Math.sin(t)}}function Cd(e,t,a,i,s,n){const{x:o,y:r,startAngle:l,pixelMargin:c,innerRadius:d}=t,h=Math.max(t.outerRadius+i+a-c,0),u=d>0?d+i+a+c:0;let m=0;const p=s-l;if(i){const e=((d>0?d-i:0)+(h>0?h-i:0))/2;m=(p-(0!==e?p*e/(e+i):p))/2}const g=(p-Math.max(.001,p*h-a/Do)/h)/2,f=l+g+m,x=s-g-m,{outerStart:b,outerEnd:v,innerStart:y,innerEnd:_}=wd(t,u,h,x-f),j=h-b,w=h-v,k=f+b/j,C=x-v/w,N=u+y,S=u+_,M=f+y/N,z=x-_/S;if(e.beginPath(),n){const t=(k+C)/2;if(e.arc(o,r,h,k,t),e.arc(o,r,h,t,C),v>0){const t=kd(w,C,o,r);e.arc(t.x,t.y,v,C,x+Ro)}const a=kd(S,x,o,r);if(e.lineTo(a.x,a.y),_>0){const t=kd(S,z,o,r);e.arc(t.x,t.y,_,x+Ro,z+Math.PI)}const i=(x-_/u+(f+y/u))/2;if(e.arc(o,r,u,x-_/u,i,!0),e.arc(o,r,u,i,f+y/u,!0),y>0){const t=kd(N,M,o,r);e.arc(t.x,t.y,y,M+Math.PI,f-Ro)}const s=kd(j,f,o,r);if(e.lineTo(s.x,s.y),b>0){const t=kd(j,k,o,r);e.arc(t.x,t.y,b,f-Ro,k)}}else{e.moveTo(o,r);const t=Math.cos(k)*h+o,a=Math.sin(k)*h+r;e.lineTo(t,a);const i=Math.cos(C)*h+o,s=Math.sin(C)*h+r;e.lineTo(i,s)}e.closePath()}function Nd(e,t,a,i,s){const{fullCircles:n,startAngle:o,circumference:r,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:h,borderDashOffset:u,borderRadius:m}=l,p="inner"===l.borderAlign;if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=u,p?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let g=t.endAngle;if(n){Cd(e,t,a,i,g,s);for(let t=0;t<n;++t)e.stroke();isNaN(r)||(g=o+(r%To||To))}p&&function(e,t,a){const{startAngle:i,pixelMargin:s,x:n,y:o,outerRadius:r,innerRadius:l}=t;let c=s/r;e.beginPath(),e.arc(n,o,r,i-c,a+c),l>s?(c=s/l,e.arc(n,o,l,a+c,i-c,!0)):e.arc(n,o,s,a+Ro,i-Ro),e.closePath(),e.clip()}(e,t,g),l.selfJoin&&g-o>=Do&&0===m&&"miter"!==d&&function(e,t,a){const{startAngle:i,x:s,y:n,outerRadius:o,innerRadius:r,options:l}=t,{borderWidth:c,borderJoinStyle:d}=l,h=Math.min(c/o,Uo(i-a));if(e.beginPath(),e.arc(s,n,o-c/2,i+h/2,a-h/2),r>0){const t=Math.min(c/r,Uo(i-a));e.arc(s,n,r+c/2,a-t/2,i+t/2,!0)}else{const t=Math.min(c/2,o*Uo(i-a));if("round"===d)e.arc(s,n,t,a-Do/2,i+Do/2,!0);else if("bevel"===d){const o=2*t*t,r=-o*Math.cos(a+Do/2)+s,l=-o*Math.sin(a+Do/2)+n,c=o*Math.cos(i+Do/2)+s,d=o*Math.sin(i+Do/2)+n;e.lineTo(r,l),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,g),n||(Cd(e,t,a,i,g,s),e.stroke())}function Sd(e,t){const{x:a,y:i,base:s,width:n,height:o}=e.getProps(["x","y","base","width","height"],t);let r,l,c,d,h;return e.horizontal?(h=o/2,r=Math.min(a,s),l=Math.max(a,s),c=i-h,d=i+h):(h=n/2,r=a-h,l=a+h,c=Math.min(i,s),d=Math.max(i,s)),{left:r,top:c,right:l,bottom:d}}function Md(e,t,a,i){return e?0:Go(t,a,i)}function zd(e){const t=Sd(e),a=t.right-t.left,i=t.bottom-t.top,s=function(e,t,a){const i=e.options.borderWidth,s=e.borderSkipped,n=qr(i);return{t:Md(s.top,n.top,0,a),r:Md(s.right,n.right,0,t),b:Md(s.bottom,n.bottom,0,a),l:Md(s.left,n.left,0,t)}}(e,a/2,i/2),n=function(e,t,a){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,n=Wr(s),o=Math.min(t,a),r=e.borderSkipped,l=i||co(s);return{topLeft:Md(!l||r.top||r.left,n.topLeft,0,o),topRight:Md(!l||r.top||r.right,n.topRight,0,o),bottomLeft:Md(!l||r.bottom||r.left,n.bottomLeft,0,o),bottomRight:Md(!l||r.bottom||r.right,n.bottomRight,0,o)}}(e,a/2,i/2);return{outer:{x:t.left,y:t.top,w:a,h:i,radius:n},inner:{x:t.left+s.l,y:t.top+s.t,w:a-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,n.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,n.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,n.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,n.bottomRight-Math.max(s.b,s.r))}}}}function Dd(e,t,a,i){const s=null===t,n=null===a,o=e&&!(s&&n)&&Sd(e,i);return o&&(s||Xo(t,o.left,o.right))&&(n||Xo(a,o.top,o.bottom))}function Td(e,t){e.rect(t.x,t.y,t.w,t.h)}function Ad(e,t,a={}){const i=e.x!==a.x?-t:0,s=e.y!==a.y?-t:0,n=(e.x+e.w!==a.x+a.w?t:0)-i,o=(e.y+e.h!==a.y+a.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+n,h:e.h+o,radius:e.radius}}const $d=(e,t)=>{let{boxHeight:a=t,boxWidth:i=t}=e;return e.usePointStyle&&(a=Math.min(a,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:a,itemHeight:Math.max(t,a)}};class Rd extends Rc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,a){this.maxWidth=e,this.maxHeight=t,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=go(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,a)=>e.sort(t,a,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const a=e.labels,i=Hr(a.font),s=i.size,n=this._computeTitleHeight(),{boxWidth:o,itemHeight:r}=$d(a,s);let l,c;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(n,s,o,r)+10):(c=this.maxHeight,l=this._fitCols(n,i,o,r)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,a,i){const{ctx:s,maxWidth:n,options:{labels:{padding:o}}}=this,r=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+o;let d=e;s.textAlign="left",s.textBaseline="middle";let h=-1,u=-c;return this.legendItems.forEach((e,m)=>{const p=a+t/2+s.measureText(e.text).width;(0===m||l[l.length-1]+p+2*o>n)&&(d+=c,l[l.length-(m>0?0:1)]=0,u+=c,h++),r[m]={left:0,top:u,row:h,width:p,height:i},l[l.length-1]+=p+o}),d}_fitCols(e,t,a,i){const{ctx:s,maxHeight:n,options:{labels:{padding:o}}}=this,r=this.legendHitBoxes=[],l=this.columnSizes=[],c=n-e;let d=o,h=0,u=0,m=0,p=0;return this.legendItems.forEach((e,n)=>{const{itemWidth:g,itemHeight:f}=function(e,t,a,i,s){const n=function(e,t,a,i){let s=e.text;s&&"string"!=typeof s&&(s=s.reduce((e,t)=>e.length>t.length?e:t));return t+a.size/2+i.measureText(s).width}(i,e,t,a),o=function(e,t,a){let i=e;"string"!=typeof t.text&&(i=Pd(t,a));return i}(s,i,t.lineHeight);return{itemWidth:n,itemHeight:o}}(a,t,s,e,i);n>0&&u+f+2*o>c&&(d+=h+o,l.push({width:h,height:u}),m+=h+o,p++,h=u=0),r[n]={left:m,top:u,col:p,width:g,height:f},h=Math.max(h,g),u+=f+o}),d+=h,l.push({width:h,height:u}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:a,labels:{padding:i},rtl:s}}=this,n=bl(s,this.left,this.width);if(this.isHorizontal()){let s=0,o=nr(a,this.left+i,this.right-this.lineWidths[s]);for(const r of t)s!==r.row&&(s=r.row,o=nr(a,this.left+i,this.right-this.lineWidths[s])),r.top+=this.top+e+i,r.left=n.leftForLtr(n.x(o),r.width),o+=r.width+i}else{let s=0,o=nr(a,this.top+e+i,this.bottom-this.columnSizes[s].height);for(const r of t)r.col!==s&&(s=r.col,o=nr(a,this.top+e+i,this.bottom-this.columnSizes[s].height)),r.top=o,r.left+=this.left+i,r.left=n.leftForLtr(n.x(r.left),r.width),o+=r.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;Dr(e,this),this._draw(),Tr(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:a,ctx:i}=this,{align:s,labels:n}=e,o=wr.color,r=bl(e.rtl,this.left,this.width),l=Hr(n.font),{padding:c}=n,d=l.size,h=d/2;let u;this.drawTitle(),i.textAlign=r.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:m,boxHeight:p,itemHeight:g}=$d(n,d),f=this.isHorizontal(),x=this._computeTitleHeight();u=f?{x:nr(s,this.left+c,this.right-a[0]),y:this.top+c+x,line:0}:{x:this.left+c,y:nr(s,this.top+x+c,this.bottom-t[0].height),line:0},vl(this.ctx,e.textDirection);const b=g+c;this.legendItems.forEach((v,y)=>{i.strokeStyle=v.fontColor,i.fillStyle=v.fontColor;const _=i.measureText(v.text).width,j=r.textAlign(v.textAlign||(v.textAlign=n.textAlign)),w=m+h+_;let k=u.x,C=u.y;r.setWidth(this.width),f?y>0&&k+w+c>this.right&&(C=u.y+=b,u.line++,k=u.x=nr(s,this.left+c,this.right-a[u.line])):y>0&&C+b>this.bottom&&(k=u.x=k+t[u.line].width+c,u.line++,C=u.y=nr(s,this.top+x+c,this.bottom-t[u.line].height));if(function(e,t,a){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;i.save();const s=mo(a.lineWidth,1);if(i.fillStyle=mo(a.fillStyle,o),i.lineCap=mo(a.lineCap,"butt"),i.lineDashOffset=mo(a.lineDashOffset,0),i.lineJoin=mo(a.lineJoin,"miter"),i.lineWidth=s,i.strokeStyle=mo(a.strokeStyle,o),i.setLineDash(mo(a.lineDash,[])),n.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:s},l=r.xPlus(e,m/2);Mr(i,o,l,t+h,n.pointStyleWidth&&m)}else{const n=t+Math.max((d-p)/2,0),o=r.leftForLtr(e,m),l=Wr(a.borderRadius);i.beginPath(),Object.values(l).some(e=>0!==e)?Pr(i,{x:o,y:n,w:m,h:p,radius:l}):i.rect(o,n,m,p),i.fill(),0!==s&&i.stroke()}i.restore()}(r.x(k),C,v),k=((e,t,a,i)=>e===(i?"left":"right")?a:"center"===e?(t+a)/2:t)(j,k+m+h,f?k+w:this.right,e.rtl),function(e,t,a){Rr(i,a.text,e,t+g/2,l,{strikethrough:a.hidden,textAlign:r.textAlign(a.textAlign)})}(r.x(k),C,v),f)u.x+=w+c;else if("string"!=typeof v.text){const e=l.lineHeight;u.y+=Pd(v,e)+c}else u.y+=b}),yl(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,a=Hr(t.font),i=Fr(t.padding);if(!t.display)return;const s=bl(e.rtl,this.left,this.width),n=this.ctx,o=t.position,r=a.size/2,l=i.top+r;let c,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,d=nr(e.align,d,this.right-h);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+nr(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const u=nr(o,d,d+h);n.textAlign=s.textAlign(sr(o)),n.textBaseline="middle",n.strokeStyle=t.color,n.fillStyle=t.color,n.font=a.string,Rr(n,t.text,u,c,a)}_computeTitleHeight(){const e=this.options.title,t=Hr(e.font),a=Fr(e.padding);return e.display?t.lineHeight+a.height:0}_getLegendItemAt(e,t){let a,i,s;if(Xo(e,this.left,this.right)&&Xo(t,this.top,this.bottom))for(s=this.legendHitBoxes,a=0;a<s.length;++a)if(i=s[a],Xo(e,i.left,i.left+i.width)&&Xo(t,i.top,i.top+i.height))return this.legendItems[a];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const a=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const n=this._hoveredItem,o=(s=a,null!==(i=n)&&null!==s&&i.datasetIndex===s.datasetIndex&&i.index===s.index);n&&!o&&go(t.onLeave,[e,n,this],this),this._hoveredItem=a,a&&!o&&go(t.onHover,[e,a,this],this)}else a&&go(t.onClick,[e,a,this],this);var i,s}}function Pd(e,t){return t*(e.text?e.text.length:0)}var Od={id:"legend",_element:Rd,start(e,t,a){const i=e.legend=new Rd({ctx:e.ctx,options:a,chart:e});fc.configure(e,i,a),fc.addBox(e,i)},stop(e){fc.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,a){const i=e.legend;fc.configure(e,i,a),i.options=a},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,a){const i=t.datasetIndex,s=a.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:a,pointStyle:i,textAlign:s,color:n,useBorderRadius:o,borderRadius:r}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(a?0:void 0),c=Fr(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:n,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:o&&(r||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Ed extends Rc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const a=this.options;if(this.left=0,this.top=0,!a.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const i=lo(a.text)?a.text.length:1;this._padding=Fr(a.padding);const s=i*Hr(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:a,bottom:i,right:s,options:n}=this,o=n.align;let r,l,c,d=0;return this.isHorizontal()?(l=nr(o,a,s),c=t+e,r=s-a):("left"===n.position?(l=a+e,c=nr(o,i,t),d=-.5*Do):(l=s-e,c=nr(o,t,i),d=.5*Do),r=i-t),{titleX:l,titleY:c,maxWidth:r,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const a=Hr(t.font),i=a.lineHeight/2+this._padding.top,{titleX:s,titleY:n,maxWidth:o,rotation:r}=this._drawArgs(i);Rr(e,t.text,0,0,a,{color:t.color,maxWidth:o,rotation:r,textAlign:sr(t.align),textBaseline:"middle",translation:[s,n]})}}var Ld={id:"title",_element:Ed,start(e,t,a){!function(e,t){const a=new Ed({ctx:e.ctx,options:t,chart:e});fc.configure(e,a,t),fc.addBox(e,a),e.titleBlock=a}(e,a)},stop(e){const t=e.titleBlock;fc.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,a){const i=e.titleBlock;fc.configure(e,i,a),i.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Id={average(e){if(!e.length)return!1;let t,a,i=new Set,s=0,n=0;for(t=0,a=e.length;t<a;++t){const a=e[t].element;if(a&&a.hasValue()){const e=a.tooltipPosition();i.add(e.x),s+=e.y,++n}}if(0===n||0===i.size)return!1;return{x:[...i].reduce((e,t)=>e+t)/i.size,y:s/n}},nearest(e,t){if(!e.length)return!1;let a,i,s,n=t.x,o=t.y,r=Number.POSITIVE_INFINITY;for(a=0,i=e.length;a<i;++a){const i=e[a].element;if(i&&i.hasValue()){const e=Vo(t,i.getCenterPoint());e<r&&(r=e,s=i)}}if(s){const e=s.tooltipPosition();n=e.x,o=e.y}return{x:n,y:o}}};function Bd(e,t){return t&&(lo(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function qd(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Wd(e,t){const{element:a,datasetIndex:i,index:s}=t,n=e.getDatasetMeta(i).controller,{label:o,value:r}=n.getLabelAndValue(s);return{chart:e,label:o,parsed:n.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:r,dataset:n.getDataset(),dataIndex:s,datasetIndex:i,element:a}}function Fd(e,t){const a=e.chart.ctx,{body:i,footer:s,title:n}=e,{boxWidth:o,boxHeight:r}=t,l=Hr(t.bodyFont),c=Hr(t.titleFont),d=Hr(t.footerFont),h=n.length,u=s.length,m=i.length,p=Fr(t.padding);let g=p.height,f=0,x=i.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(x+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),x){g+=m*(t.displayColors?Math.max(r,l.lineHeight):l.lineHeight)+(x-m)*l.lineHeight+(x-1)*t.bodySpacing}u&&(g+=t.footerMarginTop+u*d.lineHeight+(u-1)*t.footerSpacing);let b=0;const v=function(e){f=Math.max(f,a.measureText(e).width+b)};return a.save(),a.font=c.string,fo(e.title,v),a.font=l.string,fo(e.beforeBody.concat(e.afterBody),v),b=t.displayColors?o+2+t.boxPadding:0,fo(i,e=>{fo(e.before,v),fo(e.lines,v),fo(e.after,v)}),b=0,a.font=d.string,fo(e.footer,v),a.restore(),f+=p.width,{width:f,height:g}}function Hd(e,t,a,i){const{x:s,width:n}=a,{width:o,chartArea:{left:r,right:l}}=e;let c="center";return"center"===i?c=s<=(r+l)/2?"left":"right":s<=n/2?c="left":s>=o-n/2&&(c="right"),function(e,t,a,i){const{x:s,width:n}=i,o=a.caretSize+a.caretPadding;return"left"===e&&s+n+o>t.width||"right"===e&&s-n-o<0||void 0}(c,e,t,a)&&(c="center"),c}function Vd(e,t,a){const i=a.yAlign||t.yAlign||function(e,t){const{y:a,height:i}=t;return a<i/2?"top":a>e.height-i/2?"bottom":"center"}(e,a);return{xAlign:a.xAlign||t.xAlign||Hd(e,t,a,i),yAlign:i}}function Ud(e,t,a,i){const{caretSize:s,caretPadding:n,cornerRadius:o}=e,{xAlign:r,yAlign:l}=a,c=s+n,{topLeft:d,topRight:h,bottomLeft:u,bottomRight:m}=Wr(o);let p=function(e,t){let{x:a,width:i}=e;return"right"===t?a-=i:"center"===t&&(a-=i/2),a}(t,r);const g=function(e,t,a){let{y:i,height:s}=e;return"top"===t?i+=a:i-="bottom"===t?s+a:s/2,i}(t,l,c);return"center"===l?"left"===r?p+=c:"right"===r&&(p-=c):"left"===r?p-=Math.max(d,u)+s:"right"===r&&(p+=Math.max(h,m)+s),{x:Go(p,0,i.width-t.width),y:Go(g,0,i.height-t.height)}}function Yd(e,t,a){const i=Fr(a.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function Gd(e){return Bd([],qd(e))}function Xd(e,t){const a=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return a?e.override(a):e}const Kd={beforeTitle:no,title(e){if(e.length>0){const t=e[0],a=t.chart.data.labels,i=a?a.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return a[t.dataIndex]}return""},afterTitle:no,beforeBody:no,beforeLabel:no,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const a=e.formattedValue;return ro(a)||(t+=a),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:no,afterBody:no,beforeFooter:no,footer:no,afterFooter:no};function Jd(e,t,a,i){const s=e[t].call(a,i);return void 0===s?Kd[t].call(a,i):s}class Zd extends Rc{static positioners=Id;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,a=this.options.setContext(this.getContext()),i=a.enabled&&t.options.animation&&a.animations,s=new Ml(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,a=this._tooltipItems,Ur(e,{tooltip:t,tooltipItems:a,type:"tooltip"})));var e,t,a}getTitle(e,t){const{callbacks:a}=t,i=Jd(a,"beforeTitle",this,e),s=Jd(a,"title",this,e),n=Jd(a,"afterTitle",this,e);let o=[];return o=Bd(o,qd(i)),o=Bd(o,qd(s)),o=Bd(o,qd(n)),o}getBeforeBody(e,t){return Gd(Jd(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:a}=t,i=[];return fo(e,e=>{const t={before:[],lines:[],after:[]},s=Xd(a,e);Bd(t.before,qd(Jd(s,"beforeLabel",this,e))),Bd(t.lines,Jd(s,"label",this,e)),Bd(t.after,qd(Jd(s,"afterLabel",this,e))),i.push(t)}),i}getAfterBody(e,t){return Gd(Jd(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:a}=t,i=Jd(a,"beforeFooter",this,e),s=Jd(a,"footer",this,e),n=Jd(a,"afterFooter",this,e);let o=[];return o=Bd(o,qd(i)),o=Bd(o,qd(s)),o=Bd(o,qd(n)),o}_createItems(e){const t=this._active,a=this.chart.data,i=[],s=[],n=[];let o,r,l=[];for(o=0,r=t.length;o<r;++o)l.push(Wd(this.chart,t[o]));return e.filter&&(l=l.filter((t,i,s)=>e.filter(t,i,s,a))),e.itemSort&&(l=l.sort((t,i)=>e.itemSort(t,i,a))),fo(l,t=>{const a=Xd(e.callbacks,t);i.push(Jd(a,"labelColor",this,t)),s.push(Jd(a,"labelPointStyle",this,t)),n.push(Jd(a,"labelTextColor",this,t))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=n,this.dataPoints=l,l}update(e,t){const a=this.options.setContext(this.getContext()),i=this._active;let s,n=[];if(i.length){const e=Id[a.position].call(this,i,this._eventPosition);n=this._createItems(a),this.title=this.getTitle(n,a),this.beforeBody=this.getBeforeBody(n,a),this.body=this.getBody(n,a),this.afterBody=this.getAfterBody(n,a),this.footer=this.getFooter(n,a);const t=this._size=Fd(this,a),o=Object.assign({},e,t),r=Vd(this.chart,a,o),l=Ud(a,o,r,this.chart);this.xAlign=r.xAlign,this.yAlign=r.yAlign,s={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=n,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,a,i){const s=this.getCaretPosition(e,a,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,a){const{xAlign:i,yAlign:s}=this,{caretSize:n,cornerRadius:o}=a,{topLeft:r,topRight:l,bottomLeft:c,bottomRight:d}=Wr(o),{x:h,y:u}=e,{width:m,height:p}=t;let g,f,x,b,v,y;return"center"===s?(v=u+p/2,"left"===i?(g=h,f=g-n,b=v+n,y=v-n):(g=h+m,f=g+n,b=v-n,y=v+n),x=g):(f="left"===i?h+Math.max(r,c)+n:"right"===i?h+m-Math.max(l,d)-n:this.caretX,"top"===s?(b=u,v=b-n,g=f-n,x=f+n):(b=u+p,v=b+n,g=f+n,x=f-n),y=b),{x1:g,x2:f,x3:x,y1:b,y2:v,y3:y}}drawTitle(e,t,a){const i=this.title,s=i.length;let n,o,r;if(s){const l=bl(a.rtl,this.x,this.width);for(e.x=Yd(this,a.titleAlign,a),t.textAlign=l.textAlign(a.titleAlign),t.textBaseline="middle",n=Hr(a.titleFont),o=a.titleSpacing,t.fillStyle=a.titleColor,t.font=n.string,r=0;r<s;++r)t.fillText(i[r],l.x(e.x),e.y+n.lineHeight/2),e.y+=n.lineHeight+o,r+1===s&&(e.y+=a.titleMarginBottom-o)}}_drawColorBox(e,t,a,i,s){const n=this.labelColors[a],o=this.labelPointStyles[a],{boxHeight:r,boxWidth:l}=s,c=Hr(s.bodyFont),d=Yd(this,"left",s),h=i.x(d),u=r<c.lineHeight?(c.lineHeight-r)/2:0,m=t.y+u;if(s.usePointStyle){const t={radius:Math.min(l,r)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},a=i.leftForLtr(h,l)+l/2,c=m+r/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Sr(e,t,a,c),e.strokeStyle=n.borderColor,e.fillStyle=n.backgroundColor,Sr(e,t,a,c)}else{e.lineWidth=co(n.borderWidth)?Math.max(...Object.values(n.borderWidth)):n.borderWidth||1,e.strokeStyle=n.borderColor,e.setLineDash(n.borderDash||[]),e.lineDashOffset=n.borderDashOffset||0;const t=i.leftForLtr(h,l),a=i.leftForLtr(i.xPlus(h,1),l-2),o=Wr(n.borderRadius);Object.values(o).some(e=>0!==e)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Pr(e,{x:t,y:m,w:l,h:r,radius:o}),e.fill(),e.stroke(),e.fillStyle=n.backgroundColor,e.beginPath(),Pr(e,{x:a,y:m+1,w:l-2,h:r-2,radius:o}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(t,m,l,r),e.strokeRect(t,m,l,r),e.fillStyle=n.backgroundColor,e.fillRect(a,m+1,l-2,r-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,t,a){const{body:i}=this,{bodySpacing:s,bodyAlign:n,displayColors:o,boxHeight:r,boxWidth:l,boxPadding:c}=a,d=Hr(a.bodyFont);let h=d.lineHeight,u=0;const m=bl(a.rtl,this.x,this.width),p=function(a){t.fillText(a,m.x(e.x+u),e.y+h/2),e.y+=h+s},g=m.textAlign(n);let f,x,b,v,y,_,j;for(t.textAlign=n,t.textBaseline="middle",t.font=d.string,e.x=Yd(this,g,a),t.fillStyle=a.bodyColor,fo(this.beforeBody,p),u=o&&"right"!==g?"center"===n?l/2+c:l+2+c:0,v=0,_=i.length;v<_;++v){for(f=i[v],x=this.labelTextColors[v],t.fillStyle=x,fo(f.before,p),b=f.lines,o&&b.length&&(this._drawColorBox(t,e,v,m,a),h=Math.max(d.lineHeight,r)),y=0,j=b.length;y<j;++y)p(b[y]),h=d.lineHeight;fo(f.after,p)}u=0,h=d.lineHeight,fo(this.afterBody,p),e.y-=s}drawFooter(e,t,a){const i=this.footer,s=i.length;let n,o;if(s){const r=bl(a.rtl,this.x,this.width);for(e.x=Yd(this,a.footerAlign,a),e.y+=a.footerMarginTop,t.textAlign=r.textAlign(a.footerAlign),t.textBaseline="middle",n=Hr(a.footerFont),t.fillStyle=a.footerColor,t.font=n.string,o=0;o<s;++o)t.fillText(i[o],r.x(e.x),e.y+n.lineHeight/2),e.y+=n.lineHeight+a.footerSpacing}}drawBackground(e,t,a,i){const{xAlign:s,yAlign:n}=this,{x:o,y:r}=e,{width:l,height:c}=a,{topLeft:d,topRight:h,bottomLeft:u,bottomRight:m}=Wr(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(o+d,r),"top"===n&&this.drawCaret(e,t,a,i),t.lineTo(o+l-h,r),t.quadraticCurveTo(o+l,r,o+l,r+h),"center"===n&&"right"===s&&this.drawCaret(e,t,a,i),t.lineTo(o+l,r+c-m),t.quadraticCurveTo(o+l,r+c,o+l-m,r+c),"bottom"===n&&this.drawCaret(e,t,a,i),t.lineTo(o+u,r+c),t.quadraticCurveTo(o,r+c,o,r+c-u),"center"===n&&"left"===s&&this.drawCaret(e,t,a,i),t.lineTo(o,r+d),t.quadraticCurveTo(o,r,o+d,r),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,a=this.$animations,i=a&&a.x,s=a&&a.y;if(i||s){const a=Id[e.position].call(this,this._active,this._eventPosition);if(!a)return;const n=this._size=Fd(this,e),o=Object.assign({},a,this._size),r=Vd(t,e,o),l=Ud(e,o,r,t);i._to===l.x&&s._to===l.y||(this.xAlign=r.xAlign,this.yAlign=r.yAlign,this.width=n.width,this.height=n.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const n=Fr(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=a,this.drawBackground(s,e,i,t),vl(e,t.textDirection),s.y+=n.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),yl(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const a=this._active,i=e.map(({datasetIndex:e,index:t})=>{const a=this.chart.getDatasetMeta(e);if(!a)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:a.data[t],index:t}}),s=!xo(a,i),n=this._positionChanged(i,t);(s||n)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,a=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],n=this._getActiveElements(e,s,t,a),o=this._positionChanged(n,e),r=t||!xo(n,s)||o;return r&&(this._active=n,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),r}_getActiveElements(e,t,a,i){const s=this.options;if("mouseout"===e.type)return[];if(!i)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const n=this.chart.getElementsAtEventForMode(e,s.mode,s,a);return s.reverse&&n.reverse(),n}_positionChanged(e,t){const{caretX:a,caretY:i,options:s}=this,n=Id[s.position].call(this,e,t);return!1!==n&&(a!==n.x||i!==n.y)}}var Qd={id:"tooltip",_element:Zd,positioners:Id,afterInit(e,t,a){a&&(e.tooltip=new Zd({chart:e,options:a}))},beforeUpdate(e,t,a){e.tooltip&&e.tooltip.initialize(a)},reset(e,t,a){e.tooltip&&e.tooltip.initialize(a)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const a={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",a)}},afterEvent(e,t){if(e.tooltip){const a=t.replay;e.tooltip.handleEvent(t.event,a,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Kd},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function eh(e,t,a,i){const s=e.indexOf(t);if(-1===s)return((e,t,a,i)=>("string"==typeof t?(a=e.push(t)-1,i.unshift({index:a,label:t})):isNaN(t)&&(a=null),a))(e,t,a,i);return s!==e.lastIndexOf(t)?a:s}function th(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}function ah(e,t){const a=[],{bounds:i,step:s,min:n,max:o,precision:r,count:l,maxTicks:c,maxDigits:d,includeBounds:h}=e,u=s||1,m=c-1,{min:p,max:g}=t,f=!ro(n),x=!ro(o),b=!ro(l),v=(g-p)/(d+1);let y,_,j,w,k=Bo((g-p)/m/u)*u;if(k<1e-14&&!f&&!x)return[{value:p},{value:g}];w=Math.ceil(g/k)-Math.floor(p/k),w>m&&(k=Bo(w*k/m/u)*u),ro(r)||(y=Math.pow(10,r),k=Math.ceil(k*y)/y),"ticks"===i?(_=Math.floor(p/k)*k,j=Math.ceil(g/k)*k):(_=p,j=g),f&&x&&s&&function(e,t){const a=Math.round(e);return a-t<=e&&a+t>=e}((o-n)/s,k/1e3)?(w=Math.round(Math.min((o-n)/k,c)),k=(o-n)/w,_=n,j=o):b?(_=f?n:_,j=x?o:j,w=l-1,k=(j-_)/w):(w=(j-_)/k,w=Io(w,Math.round(w),k/1e3)?Math.round(w):Math.ceil(w));const C=Math.max(Fo(k),Fo(_));y=Math.pow(10,ro(r)?C:r),_=Math.round(_*y)/y,j=Math.round(j*y)/y;let N=0;for(f&&(h&&_!==n?(a.push({value:n}),_<n&&N++,Io(Math.round((_+N*k)*y)/y,n,ih(n,v,e))&&N++):_<n&&N++);N<w;++N){const e=Math.round((_+N*k)*y)/y;if(x&&e>o)break;a.push({value:e})}return x&&h&&j!==o?a.length&&Io(a[a.length-1].value,o,ih(o,v,e))?a[a.length-1].value=o:a.push({value:o}):x&&j!==o||a.push({value:j}),a}function ih(e,t,{horizontal:a,minRotation:i}){const s=Wo(i),n=(a?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/n,o)}class sh extends Hc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ro(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:a}=this.getUserBounds();let{min:i,max:s}=this;const n=e=>i=t?i:e,o=e=>s=a?s:e;if(e){const e=Lo(i),t=Lo(s);e<0&&t<0?o(0):e>0&&t>0&&n(0)}if(i===s){let t=0===s?1:Math.abs(.05*s);o(s+t),e||n(i-t)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:a,stepSize:i}=e;return i?(t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,t>1e3&&(t=1e3)):(t=this.computeTickLimit(),a=a||11),a&&(t=Math.min(a,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let a=this.getTickLimit();a=Math.max(2,a);const i=ah({maxTicks:a,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&function(e,t,a){let i,s,n;for(i=0,s=e.length;i<s;i++)n=e[i][a],isNaN(n)||(t.min=Math.min(t.min,n),t.max=Math.max(t.max,n))}(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let t=this.min,a=this.max;if(super.configure(),this.options.offset&&e.length){const i=(a-t)/Math.max(e.length-1,1)/2;t-=i,a+=i}this._startValue=t,this._endValue=a,this._valueRange=a-t}getLabelForValue(e){return fr(e,this.chart.options.locale,this.options.ticks.format)}}class nh extends sh{static id="linear";static defaults={ticks:{callback:xr.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ho(e)?e:0,this.max=ho(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,a=Wo(this.options.ticks.minRotation),i=(e?Math.sin(a):Math.cos(a))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const oh="label";function rh(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function lh(e,t){e.labels=t}function ch(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oh;const i=[];e.datasets=t.map(t=>{const s=e.datasets.find(e=>e[a]===t[a]);return s&&t.data&&!i.includes(s)?(i.push(s),Object.assign(s,t),s):{...t}})}function dh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oh;const a={labels:[],datasets:[]};return lh(a,e.labels),ch(a,e.datasets,t),a}function hh(e,t){const{height:a=150,width:i=300,redraw:s=!1,datasetIdKey:n,type:o,data:r,options:l,plugins:c=[],fallbackContent:d,updateMode:h,...u}=e,m=p.useRef(null),f=p.useRef(null),x=()=>{m.current&&(f.current=new _d(m.current,{type:o,data:dh(r,n),options:l&&{...l},plugins:c}),rh(t,f.current))},b=()=>{rh(t,null),f.current&&(f.current.destroy(),f.current=null)};return p.useEffect(()=>{!s&&f.current&&l&&function(e,t){const a=e.options;a&&t&&Object.assign(a,t)}(f.current,l)},[s,l]),p.useEffect(()=>{!s&&f.current&&lh(f.current.config.data,r.labels)},[s,r.labels]),p.useEffect(()=>{!s&&f.current&&r.datasets&&ch(f.current.config.data,r.datasets,n)},[s,r.datasets]),p.useEffect(()=>{f.current&&(s?(b(),setTimeout(x)):f.current.update(h))},[s,l,r.labels,r.datasets,h]),p.useEffect(()=>{f.current&&(b(),setTimeout(x))},[o]),p.useEffect(()=>(x(),()=>b()),[]),g.createElement("canvas",{ref:m,role:"img",height:a,width:i,...u},d)}const uh=p.forwardRef(hh);function mh(e,t){return _d.register(t),p.forwardRef((t,a)=>g.createElement(uh,{...t,ref:a,type:e}))}const ph=mh("bar",Xl),gh=mh("doughnut",Kl);_d.register(class extends Rc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,a){const i=this.getProps(["x","y"],a),{angle:s,distance:n}=Ho(i,{x:e,y:t}),{startAngle:o,endAngle:r,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),h=(this.options.spacing+this.options.borderWidth)/2,u=mo(d,r-o),m=Yo(s,o,r)&&o!==r,p=u>=To||m,g=Xo(n,l+h,c+h);return p&&g}getCenterPoint(e){const{x:t,y:a,startAngle:i,endAngle:s,innerRadius:n,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:r,spacing:l}=this.options,c=(i+s)/2,d=(n+o+l+r)/2;return{x:t+Math.cos(c)*d,y:a+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:a}=this,i=(t.offset||0)/4,s=(t.spacing||0)/2,n=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=a>To?Math.floor(a/To):0,0===a||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*i,Math.sin(o)*i);const r=i*(1-Math.sin(Math.min(Do,a||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,a,i,s){const{fullCircles:n,startAngle:o,circumference:r}=t;let l=t.endAngle;if(n){Cd(e,t,a,i,l,s);for(let t=0;t<n;++t)e.fill();isNaN(r)||(l=o+(r%To||To))}Cd(e,t,a,i,l,s),e.fill()}(e,this,r,s,n),Nd(e,this,r,s,n),e.restore()}},Qd,Od,class extends Hc{static id="category";static defaults={ticks:{callback:th}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:a,label:i}of t)e[a]===i&&e.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(ro(e))return null;const a=this.getLabels();return((e,t)=>null===e?null:Go(Math.round(e),0,t))(t=isFinite(t)&&a[t]===e?t:eh(a,e,mo(t,e),this._addedLabels),a.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:a,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(a=0),t||(i=this.getLabels().length-1)),this.min=a,this.max=i}buildTicks(){const e=this.min,t=this.max,a=this.options.offset,i=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let n=e;n<=t;n++)i.push({value:n});return i}getLabelForValue(e){return th.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}},nh,class extends Rc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:a,backgroundColor:i}}=this,{inner:s,outer:n}=zd(this),o=(r=n.radius).topLeft||r.topRight||r.bottomLeft||r.bottomRight?Pr:Td;var r;e.save(),n.w===s.w&&n.h===s.h||(e.beginPath(),o(e,Ad(n,t,s)),e.clip(),o(e,Ad(s,-t,n)),e.fillStyle=a,e.fill("evenodd")),e.beginPath(),o(e,Ad(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,a){return Dd(this,e,t,a)}inXRange(e,t){return Dd(this,e,null,t)}inYRange(e,t){return Dd(this,null,e,t)}getCenterPoint(e){const{x:t,y:a,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?a:(a+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}},Ld);const fh="http://192.168.15.26:8082",xh="https://placehold.co/50x50/d1d5db/4b5563?text=User",bh=(e,t)=>{const[a,i]=p.useState(e);return p.useEffect(()=>{const a=setTimeout(()=>{i(e)},t);return()=>{clearTimeout(a)}},[e,t]),a},vh=[{title:"Sessões Ativas",value:"124",icon:m.jsx(xi,{size:24,color:"#3b82f6"}),gradient:"linear-gradient(135deg, #e0f2fe 0%, #bfdbfe 100%)",borderColor:"#93c5fd",textColor:"#1d4ed8"},{title:"Uso de Disco",value:"75%",icon:m.jsx(ts,{size:24,color:"#6b7280"}),gradient:"linear-gradient(135deg, #e5e7eb 0%, #d1d5db 100%)",borderColor:"#9ca3af",textColor:"#4b5563"},{title:"Tickets Abertos",value:"8",icon:m.jsx(us,{size:24,color:"#f59e0b"}),gradient:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",borderColor:"#facc15",textColor:"#b45309"},{title:"Usuários Bloqueados",value:"3",icon:m.jsx(Ys,{size:24,color:"#dc2626"}),gradient:"linear-gradient(135deg, #fecaca 0%, #fca5a5 100%)",borderColor:"#ef4444",textColor:"#b91c1c"}],yh={labels:["Ativos","Inativos","Bloqueados"],datasets:[{data:[300,50,20],backgroundColor:["#22c55e","#f97316","#ef4444"],hoverOffset:4}]},_h={labels:["MB","FQ","Financeiro","Qualidade","Coleta","Atendimento"],datasets:[{label:"Acessos por Tela",data:[150,90,70,50,30,20],backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(168, 85, 247, 0.8)","rgba(16, 185, 129, 0.8)","rgba(249, 115, 22, 0.8)","rgba(244, 63, 94, 0.8)","rgba(239, 68, 68, 0.8)"],borderColor:["rgba(59, 130, 246, 1)","rgba(168, 85, 247, 1)","rgba(16, 185, 129, 1)","rgba(249, 115, 22, 1)","rgba(244, 63, 94, 1)","rgba(239, 68, 68, 1)"],borderWidth:1}]},jh={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:"#334155"}},title:{display:!0,text:"Status de Usuários",color:"#1f2937",font:{size:16,weight:"bold"}}}},wh={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#334155"}},title:{display:!0,text:"Visualizações por Tela",color:"#1f2937",font:{size:16,weight:"bold"}}},scales:{x:{ticks:{color:"#64748b"},grid:{color:"rgba(226,232,240,0.5)"}},y:{ticks:{color:"#64748b"},grid:{color:"rgba(226,232,240,0.5)"}}}},kh=[],Ch=[{id:"1",title:"Baixa",color:"#60a5fa",cards:[]},{id:"2",title:"Media",color:"#10b981",cards:[]},{id:"3",title:"Alta",color:"#f97316",cards:[]},{id:"4",title:"Muito Alta",color:"#ef4444",cards:[]}],Nh=["Todos","MB","FQ","FINANCEIRO","QUALIDADE","COLETA","ATENDIMENTO"],Sh={background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px",padding:"2rem",boxShadow:"0 0 25px rgba(0,0,0,0.08), 0 4px 10px rgba(0,0,0,0.03)",border:"1px solid rgba(255,255,255,0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"},Mh={display:"flex",alignItems:"center",padding:"1rem 0",borderBottom:"1px solid #e5e7eb",gap:"1rem",cursor:"pointer",position:"relative"},zh={flexGrow:1,display:"flex",flexDirection:"column"},Dh={fontSize:"1.1rem",fontWeight:"600",color:"#334155",margin:0},Th={fontSize:"0.9rem",color:"#64748b",display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.25rem"},Ah={display:"inline-block",backgroundColor:"#e0f2fe",color:"#0c4a6e",padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"500",marginRight:"0.5rem",marginBottom:"0.5rem",whiteSpace:"nowrap"},$h={display:"flex",alignItems:"center",gap:"0.75rem",backgroundColor:"#f1f5f9",borderRadius:"12px",padding:"0.75rem 1rem",flexGrow:1,boxShadow:"inset 0 1px 3px rgba(0,0,0,0.06)"},Rh={flexGrow:1,border:"none",outline:"none",background:"transparent",fontSize:"1rem",color:"#334155"},Ph={background:"none",border:"none",cursor:"pointer",padding:"0.5rem",borderRadius:"8px",transition:"background-color 0.2s ease-in-out",display:"flex",alignItems:"center",justifyContent:"center",color:"#3b82f6"},Oh={display:"flex",flexWrap:"wrap",gap:"2rem",marginBottom:"2rem",alignItems:"flex-start"},Eh={flex:"1 1 40%",minWidth:"300px",display:"flex",flexDirection:"column",gap:"1.5rem"},Lh={...Sh,padding:"1rem",flex:"0 0 auto",height:"auto",display:"flex",justifyContent:"center",alignItems:"center"},Ih={width:"100%",height:"auto",borderRadius:"12px",objectFit:"cover"},Bh={flex:"1 1 55%",minWidth:"350px",display:"flex",flexDirection:"column",gap:"1.5rem"},qh={...Sh,padding:"1.5rem",flex:"1 1 auto",height:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},Wh={...Sh,padding:"1.5rem",flex:"1 1 auto",minHeight:"200px",display:"flex",flexDirection:"column",gap:"1rem"},Fh={display:"flex",alignItems:"flex-start",gap:"0.75rem",padding:"0.75rem 0",borderBottom:"1px solid #f1f5f9",fontSize:"0.9rem",color:"#475569"},Hh={flexShrink:0,marginTop:"2px"},Vh={flexGrow:1,color:"#334155",fontWeight:"500"},Uh={fontSize:"0.8rem",color:"#94a3b8",whiteSpace:"nowrap"},Yh={display:"inline-block",backgroundColor:"#e0f2fe",color:"#0c4a6e",padding:"0.2rem 0.5rem",borderRadius:"8px",fontSize:"0.7rem",fontWeight:"500",marginRight:"0.5rem",marginTop:"0.5rem",whiteSpace:"nowrap"},Gh={background:"linear-gradient(45deg, #3b82f6 0%, #2563eb 100%)",color:"#fff",border:"none",borderRadius:"12px",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 10px rgba(0,0,0,0.1)",opacity:.8},Xh={opacity:1,boxShadow:"0 6px 15px rgba(0,0,0,0.15)",transform:"translateY(-2px)"},Kh={position:"absolute",top:"0.75rem",left:"0.75rem",color:"#3b82f6",zIndex:2},Jh={display:"flex",alignItems:"center",gap:"0.75rem",backgroundColor:"#f1f5f9",borderRadius:"12px",padding:"0.75rem 1rem",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.06)",flexShrink:0},Zh={flexGrow:1,border:"none",outline:"none",background:"transparent",fontSize:"1rem",color:"#334155",cursor:"pointer",appearance:"none",paddingRight:"1rem"},Qh={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(3px)"},eu={backgroundColor:"#ffffff",borderRadius:"16px",padding:"2rem",boxShadow:"0 10px 30px rgba(0,0,0,0.2), 0 4px 10px rgba(0,0,0,0.05)",width:"90%",maxWidth:"600px",maxHeight:"80vh",overflowY:"auto",position:"relative",display:"flex",flexDirection:"column",gap:"1.5rem",flex:"1 1 auto"},tu={display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #e2e8f0",paddingBottom:"1rem",marginBottom:"1rem"},au={fontSize:"1.5rem",fontWeight:"700",color:"#1f2937",margin:0},iu={background:"none",border:"none",cursor:"pointer",padding:"0.5rem",borderRadius:"8px",color:"#64748b",transition:"background-color 0.2s ease-in-out"},su={flex:"1 1 auto",minHeight:"80px",maxHeight:"200px",overflowY:"auto",border:"1px solid #e2e8f0",borderRadius:"8px",flexShrink:1,padding:"0.5rem"},nu={display:"flex",alignItems:"center",padding:"0.75rem 1rem",borderBottom:"1px solid #f1f5f9",cursor:"pointer",transition:"background-color 0.2s ease-in-out",backgroundColor:"#fff"},ou="#f8fafc",ru={backgroundColor:"#e0f2fe",borderLeft:"4px solid #3b82f6"},lu={width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover",border:"1px solid #d1d5db",marginRight:"1rem"},cu={fontSize:"1rem",fontWeight:"600",color:"#334155",flexGrow:1},du={width:"100%",minHeight:"100px",padding:"1rem",borderRadius:"8px",border:"1px solid #cbd5e1",fontSize:"1rem",color:"#334155",resize:"vertical",outline:"none",transition:"border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out"},hu={background:"linear-gradient(45deg, #22c55e 0%, #16a34a 100%)",color:"#fff",border:"none",borderRadius:"12px",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},uu={opacity:.9,boxShadow:"0 6px 15px rgba(0,0,0,0.15)",transform:"translateY(-2px)"},mu={display:"flex",alignItems:"center",gap:"0.5rem",border:"1px solid #cbd5e1",borderRadius:"8px",padding:"0.5rem 1rem",flexWrap:"wrap",backgroundColor:"#fff"},pu={flexGrow:1,border:"none",outline:"none",background:"transparent",fontSize:"1rem",color:"#334155",minWidth:"100px"},gu={display:"flex",alignItems:"center",backgroundColor:"#e0f2fe",color:"#0c4a6e",padding:"0.3rem 0.75rem",borderRadius:"16px",fontSize:"0.85rem",fontWeight:"500",whiteSpace:"nowrap",gap:"0.4rem"},fu={background:"none",border:"none",cursor:"pointer",color:"#0c4a6e",padding:0,display:"flex",alignItems:"center",justifyContent:"center",transition:"color 0.2s ease-in-out"},xu={background:"#3b82f6",color:"#fff",border:"none",borderRadius:"8px",padding:"0.4rem 0.8rem",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",display:"flex",alignItems:"center",gap:"0.25rem",transition:"background-color 0.2s ease-in-out"},bu={display:"flex",gap:"1.5rem",alignItems:"flex-start",paddingBottom:"1rem"},vu={overflowX:"auto",marginBottom:"2rem",width:"100%",boxSizing:"border-box"},yu={...Sh,minWidth:"300px",maxWidth:"350px",flexShrink:0,padding:"1.5rem",backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",display:"flex",flexDirection:"column",gap:"1rem",height:"fit-content",maxHeight:"calc(100vh - 200px)",overflowY:"auto"},_u={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",paddingBottom:"0.75rem",borderBottom:"2px solid",color:"#334155"},ju={fontSize:"1.25rem",fontWeight:"700",margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},wu={background:"#ffffff",borderRadius:"12px",padding:"1rem",boxShadow:"0 4px 12px rgba(0,0,0,0.06)",border:"1px solid #e2e8f0",cursor:"grab",transition:"all 0.2s ease-in-out",display:"flex",flexDirection:"column",gap:"0.5rem"},ku={opacity:.6,border:"2px dashed #3b82f6",transform:"rotate(2deg)"},Cu={fontSize:"1rem",fontWeight:"600",color:"#334155",margin:0},Nu={fontSize:"0.9rem",color:"#64748b",margin:"0.25rem 0",lineHeight:"1.4"},Su={width:"30px",height:"30px",borderRadius:"50%",objectFit:"cover",border:"1px solid #93c5fd",marginRight:"0.5rem"},Mu={display:"inline-block",backgroundColor:"#e0f2fe",color:"#0c4a6e",padding:"0.2rem 0.5rem",borderRadius:"8px",fontSize:"0.7rem",fontWeight:"500",marginRight:"0.5rem",marginTop:"0.5rem",whiteSpace:"nowrap"},zu=(e,t,a)=>{let i=e;if(t){const e=t.toLowerCase();i=i.filter(t=>t.nome_completo?.toLowerCase().includes(e)||t.nome?.toLowerCase().includes(e)||t.cargo?.toLowerCase().includes(e)||t.privilegio?.toLowerCase().includes(e))}return"Todos"!==a&&(i=i.filter(e=>e.telas_acesso.some(e=>e.nome===a))),i},Du=p.memo(({x9:e})=>{const[t,a]=p.useState(""),[s,n]=p.useState("Todos"),[o,r]=p.useState(new Set),[l,c]=p.useState(Ch),[d,h]=p.useState(null),[u,g]=p.useState(!1),[f,x]=p.useState(null),[b,v]=p.useState(""),[y,_]=p.useState(""),[j,w]=p.useState(""),[k,C]=p.useState([]),[N,S]=p.useState(1),[M,z]=p.useState(!1),[D,T]=p.useState(""),[A,$]=p.useState(!1),R=bh(t,300),P=bh(y,300),O=p.useRef([]);p.useEffect(()=>{if(JSON.stringify(e.kanban_cards)===JSON.stringify(O.current))return;if(O.current=e.kanban_cards||[],!e.kanban_cards||0===e.kanban_cards.length)return void c(Ch);const t=new Map;Ch.forEach(e=>{t.set(e.id,[])}),e.kanban_cards.forEach((e,a)=>{try{void 0!==e.id&&null!==e.id||(e.id=Date.now()+Math.floor(1e5*Math.random()));const i=String(e.urgencia),s=t.get(i);s&&s.push(((e,t=0)=>({id:e.id?String(e.id):`temp-${Date.now()}-${Math.random()}`,column_id:String(e.urgencia),type:e.user_id?"user":"task",title:e.title,description:e.description,userId:e.user_id,userPhoto:e.user_photo_url?`${fh}${e.user_photo_url}`:xh,nivel_preocupacao:e.urgencia,tags:e.tags?JSON.parse(e.tags):[],card_color:e.card_color||(4===e.urgencia?"#ef4444":3===e.urgencia?"#f97316":2===e.urgencia?"#10b981":"#60a5fa"),index:t}))(e,a))}catch(i){}});const a=Ch.map(e=>({...e,cards:t.get(e.id)||[]}));c(a)},[e.kanban_cards]);const E=p.useMemo(()=>zu(e.usuarios_ativos_com_telas,R,s),[e.usuarios_ativos_com_telas,R,s]),L=p.useMemo(()=>P?zu(e.usuarios_ativos_com_telas,P,"Todos"):e.usuarios_ativos_com_telas,[e.usuarios_ativos_com_telas,P]),I=p.useCallback(e=>{r(t=>{const a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a})},[]),B=p.useCallback(e=>{T(e),z(!0)},[]),q=p.useCallback(()=>{z(!1),T("")},[]),W=p.useCallback((e,t)=>{alert(`Enviando um "cutucão" para ${t}!`)},[]),F=p.useCallback((e,t)=>{alert(`Abrindo chat/envio de notificação para ${t}.`)},[]),H=p.useCallback(()=>{if(0===o.size)return void alert("Selecione pelo menos um usuário para enviar a notificação.");const e=E.filter(e=>o.has(e.id)).map(e=>e.nome_completo||e.nome).join(", ");alert(`Enviando notificação em massa para: ${e}. (A implementar envio real)`),r(new Set)},[o,E]),V=p.useCallback(()=>{g(!0),x(null),v(""),_(""),w(""),C([]),S(1)},[]),U=p.useCallback(()=>{g(!1)},[]),Y=p.useCallback(()=>{const e=j.trim();e&&!k.includes(e)&&(C(t=>[...t,e]),w(""))},[j,k]),G=p.useCallback(e=>{C(t=>t.filter(t=>t!==e))},[]),X=p.useCallback(async()=>{if(!f&&!b.trim())return void alert("Selecione um usuário ou escreva uma atividade.");const e={id:`task-${Date.now()}`,column_id:String(N),type:f?"user":"task",title:f?f.nome_completo||f.nome:"Nova Atividade",description:b.trim()||void 0,userId:f?.id,userPhoto:f?.profile_photo_path||xh,nivel_preocupacao:N,tags:k.length>0?k:void 0,card_color:4===N?"#ef4444":3===N?"#f97316":2===N?"#10b981":"#60a5fa",index:0},t={id:0,column_id:e.column_id,urgencia:e.nivel_preocupacao,type:e.type,title:e.title,description:e.description,user_id:e.userId,user_photo_url:e.userPhoto!==xh?e.userPhoto:void 0,tags:JSON.stringify(e.tags||[]),card_color:e.card_color};try{await i("salvar_ticket",{cardData:t}),c(t=>{const a=t.findIndex(t=>t.id===e.column_id);if(-1===a)return t;const i=[...t],s={...i[a]};return s.cards=[e,...s.cards],i[a]=s,i}),$(!0),setTimeout(()=>$(!1),3e3),U()}catch(a){alert(`Falha ao salvar a atividade: ${a}`)}},[f,b,k,N,U]),K=p.useCallback((e,t)=>{h(t),e.dataTransfer.setData("cardId",t)},[]),J=p.useCallback(e=>{e.preventDefault()},[]),Z=p.useCallback(async(e,t,a)=>{e.preventDefault();const s=e.dataTransfer.getData("cardId");if(!s)return;const n=l.find(e=>e.cards.some(e=>e.id===s)),o=n?.id,r=o===t;if(!r){if((parseInt(s.replace(/\D/g,""))||0)>2147483647)return B("Você ainda não pode alterar a urgência deste item, pois ele ainda não foi processado pelo sistema."),void h(null)}if(c(e=>{const i=e.map(e=>({...e,cards:[...e.cards]}));let n,o,r=-1;for(const t of i){const e=t.cards.findIndex(e=>e.id===s);if(e>-1){n=t.cards[e],o=t,r=e;break}}if(!n||!o)return e;o.cards.splice(r,1);const l=i.find(e=>e.id===t);if(!l)return e;const c={...n,column_id:t,nivel_preocupacao:parseInt(t),card_color:4===parseInt(t)?"#ef4444":3===parseInt(t)?"#f97316":2===parseInt(t)?"#10b981":"#60a5fa"};let d=l.cards.length;if(a){const e=l.cards.findIndex(e=>e.id===a);-1!==e&&(d=e)}return d=Math.max(0,Math.min(d,l.cards.length)),l.cards.splice(d,0,{...c,index:d}),i}),!r){const e={id:parseInt(s.replace(/\D/g,""))||0,new_urgencia:parseInt(t)};try{await i("update_kanban_card_urgency_and_index",{updateData:e})}catch(d){alert(`Erro ao atualizar posição do card: ${d}`)}}h(null)},[l,B]),Q=p.useCallback(()=>{h(null)},[]),ee=p.useMemo(()=>l.reduce((e,t)=>e+t.cards.length,0),[l]);return m.jsxs(m.Fragment,{children:[u&&m.jsx("div",{style:Qh,onClick:U,children:m.jsxs("div",{style:eu,onClick:e=>e.stopPropagation(),children:[m.jsxs("div",{style:tu,children:[m.jsx("h3",{style:au,children:"Adicionar Nova Atividade"}),m.jsx("button",{style:iu,onClick:U,children:m.jsx(Zs,{size:24})})]}),m.jsxs("div",{style:$h,children:[m.jsx(Ds,{size:20,color:"#64748b"}),m.jsx("input",{type:"text",placeholder:"Buscar usuário para associar...",style:Rh,value:y,onChange:e=>_(e.target.value)})]}),m.jsx("div",{style:{fontSize:"0.9rem",color:"#64748b"},children:"Selecione um usuário ou adicione uma atividade geral:"}),m.jsx("div",{style:su,children:L.length>0?L.map(e=>m.jsxs("div",{style:{...nu,...f?.id===e.id?ru:{}},onMouseEnter:e=>e.currentTarget.style.backgroundColor=ou,onMouseLeave:e=>e.currentTarget.style.backgroundColor=nu.backgroundColor,onClick:()=>x(e),children:[m.jsx("img",{src:e.profile_photo_path?`${fh}${e.profile_photo_path}`:xh,alt:e.nome_completo||e.nome,style:lu}),m.jsx("span",{style:cu,children:e.nome_completo||e.nome})]},e.id)):m.jsx("div",{style:{textAlign:"center",color:"#9ca3af",padding:"1rem"},children:"Nenhum usuário encontrado."})}),m.jsx("textarea",{placeholder:f?`Descreva a atividade para ${f.nome_completo||f.nome}...`:"Descreva a nova atividade...",style:du,value:b,onChange:e=>v(e.target.value)}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[m.jsx("label",{style:{fontSize:"0.9rem",fontWeight:"600",color:"#334155"},children:"Nível de Preocupação:"}),m.jsxs("select",{style:Zh,value:N,onChange:e=>S(Number(e.target.value)),children:[m.jsx("option",{value:1,children:"1 - Baixa"}),m.jsx("option",{value:2,children:"2 - Média"}),m.jsx("option",{value:3,children:"3 - Alta"}),m.jsx("option",{value:4,children:"4 - Muito Alta"})]})]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[m.jsx("label",{style:{fontSize:"0.9rem",fontWeight:"600",color:"#334155"},children:"Tags:"}),m.jsxs("div",{style:mu,children:[k.map((e,t)=>m.jsxs("span",{style:gu,children:[e,m.jsx("button",{type:"button",onClick:()=>G(e),style:fu,children:m.jsx(Zs,{size:14})})]},t)),m.jsx("input",{type:"text",placeholder:"Adicionar tags (ex: Financeiro, Urgente)",style:pu,value:j,onChange:e=>w(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),Y())}}),m.jsxs("button",{type:"button",onClick:Y,style:xu,children:[m.jsx(Cs,{size:16})," Adicionar"]})]})]}),m.jsxs("button",{style:hu,onClick:X,onMouseEnter:e=>Object.assign(e.currentTarget.style,uu),onMouseLeave:e=>Object.assign(e.currentTarget.style,hu),children:[m.jsx(Ts,{size:20})," Salvar Atividade"]})]})}),M&&m.jsx("div",{style:Qh,onClick:q,children:m.jsxs("div",{style:eu,onClick:e=>e.stopPropagation(),children:[m.jsxs("div",{style:tu,children:[m.jsxs("h3",{style:{...au,color:"#dc2626"},children:[m.jsx(Fs,{size:24,color:"#dc2626",style:{marginRight:"0.5rem"}}),"Atenção!"]}),m.jsx("button",{style:iu,onClick:q,children:m.jsx(Zs,{size:24})})]}),m.jsx("p",{style:{fontSize:"1.1rem",color:"#334155",lineHeight:"1.5"},children:D}),m.jsx("button",{style:{...hu,background:"linear-gradient(45deg, #ef4444 0%, #b91c1c 100%)"},onClick:q,onMouseEnter:e=>Object.assign(e.currentTarget.style,uu),onMouseLeave:e=>Object.assign(e.currentTarget.style,{background:"linear-gradient(45deg, #ef4444 0%, #b91c1c 100%)",opacity:1,boxShadow:"0 4px 10px rgba(0,0,0,0.1)",transform:"translateY(0)"}),children:"Entendi"})]})}),A&&m.jsx("div",{style:Qh,onClick:()=>$(!1),children:m.jsxs("div",{style:{...eu,maxWidth:"400px",textAlign:"center",padding:"2rem"},onClick:e=>e.stopPropagation(),children:[m.jsx(Ps,{size:48,color:"#22c55e",style:{marginBottom:"1rem"}}),m.jsx("h3",{style:au,children:"Sucesso!"}),m.jsx("p",{style:{fontSize:"1.1rem",color:"#475569",marginBottom:"1.5rem"},children:"Atividade adicionada ao Kanban com sucesso!"}),m.jsx("button",{style:hu,onClick:()=>$(!1),onMouseEnter:e=>Object.assign(e.currentTarget.style,uu),onMouseLeave:e=>Object.assign(e.currentTarget.style,hu),children:"Fechar"})]})}),m.jsxs("div",{style:Oh,children:[m.jsxs("div",{style:Eh,children:[m.jsx("div",{style:Lh,children:m.jsx("img",{src:"/assets/x9-CLV1U0dh.jpg",alt:"Visão Geral X9",style:Ih})}),m.jsxs("div",{style:Wh,children:[m.jsxs("h3",{style:{fontSize:"1.4rem",fontWeight:"700",color:"#1f2937",marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx(Mi,{size:22,color:"#4f46e5"})," Acontecimentos Recentes"]}),kh.length>0?m.jsx("div",{children:kh.map(e=>m.jsxs("div",{style:Fh,children:[m.jsxs("span",{style:Hh,children:["alert"===e.type&&m.jsx(Fs,{size:18,color:"#ef4444"}),"activity"===e.type&&m.jsx(xi,{size:18,color:"#3b82f6"}),"info"===e.type&&m.jsx(ns,{size:18,color:"#10b981"})]}),m.jsxs("div",{style:{flexGrow:1},children:[m.jsx("p",{style:Vh,children:e.description}),m.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",marginTop:"0.25rem"},children:[e.tags&&e.tags.map((e,t)=>m.jsxs("span",{style:Yh,children:[m.jsx(Is,{size:12,style:{marginRight:"0.25rem"}}),e]},t)),m.jsx("span",{style:Uh,children:e.timestamp})]})]})]},e.id))}):m.jsx("div",{style:{textAlign:"center",color:"#9ca3af",padding:"1rem",fontSize:"0.9rem"},children:"Nenhum acontecimento recente."})]})]}),m.jsxs("div",{style:Bh,children:[m.jsx("div",{style:qh,children:m.jsx(gh,{data:yh,options:jh})}),m.jsx("div",{style:qh,children:m.jsx(ph,{data:_h,options:wh})})]})]}),m.jsxs("h2",{style:{fontSize:"1.8rem",fontWeight:"700",color:"#1f2937",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[m.jsx(Ai,{size:28,color:"#4f46e5"}),"Dashboard de Resultados"]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[m.jsx(Lu,{icon:m.jsx(Xs,{size:24,color:"#3b82f6"}),title:"Total de Usuários Ativos",value:e.total_usuarios_ativos,gradient:"linear-gradient(135deg, #e0f2fe 0%, #bfdbfe 100%)",borderColor:"#93c5fd",textColor:"#1d4ed8"}),m.jsx(Lu,{icon:m.jsx(ks,{size:24,color:"#64748b"}),title:"Pins no Kanban",value:ee,gradient:"linear-gradient(135deg, #f1f5f9 0%, #cbd5e1 100%)",borderColor:"#94a3b8",textColor:"#475569"}),m.jsx(Lu,{icon:m.jsx(Ii,{size:24,color:"#0d9488"}),title:"Setores no Kanban",value:l.length,gradient:"linear-gradient(135deg, #ccfbf1 0%, #5eead4 100%)",borderColor:"#14b8a6",textColor:"#0f766e"}),vh.map((e,t)=>m.jsx(Lu,{icon:e.icon,title:e.title,value:"string"==typeof e.value?Number(e.value):e.value,gradient:e.gradient,borderColor:e.borderColor,textColor:e.textColor},t))]}),m.jsxs("h2",{style:{fontSize:"1.8rem",fontWeight:"700",color:"#1f2937",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[m.jsx(Ii,{size:28,color:"#4f46e5"}),"Kanban de Gestão",m.jsxs("button",{style:{...Ph,color:"#22c55e",marginLeft:"1rem",background:"#dcfce7",padding:"0.5rem 1rem",borderRadius:"10px"},onClick:V,title:"Adicionar nova atividade",onMouseEnter:e=>e.currentTarget.style.backgroundColor="#86efac",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#dcfce7",children:[m.jsx(Ei,{size:20,style:{marginRight:"0.5rem"}})," Adicionar"]})]}),m.jsx("div",{style:vu,children:m.jsx("div",{style:bu,children:l.map(e=>m.jsxs("div",{style:yu,onDragOver:J,onDrop:t=>Z(t,e.id),children:[m.jsx("div",{style:{..._u,borderBottomColor:e.color||"#e2e8f0"},children:m.jsxs("h3",{style:{...ju,color:e.color||"#334155"},children:[m.jsx(ks,{size:20})," ",e.title," (",e.cards.length,")"]})}),e.cards.length>0?e.cards.map(t=>m.jsxs("div",{draggable:!0,onDragStart:e=>K(e,t.id),onDragEnd:Q,onDragOver:J,onDrop:a=>Z(a,e.id,t.id),style:{...wu,...d===t.id?ku:{},borderLeft:t.card_color?`5px solid ${t.card_color}`:"1px solid #e2e8f0"},onMouseEnter:e=>e.currentTarget.style.transform="translateY(-3px)",onMouseLeave:e=>e.currentTarget.style.transform="translateY(0)",onClick:()=>alert(`Clicado no pin: ${t.title} (Detalhes a implementar)`),children:[m.jsxs("div",{style:{display:"flex",alignItems:"center"},children:["user"===t.type&&t.userPhoto&&m.jsx("img",{src:t.userPhoto.startsWith("http")?t.userPhoto:`${fh}${t.userPhoto}`,alt:t.title,style:Su}),m.jsx("p",{style:Cu,children:t.title})]}),t.description&&m.jsx("p",{style:Nu,children:t.description}),t.tags&&t.tags.length>0&&m.jsx("div",{style:{display:"flex",flexWrap:"wrap",marginTop:"0.25rem"},children:t.tags.map((e,t)=>m.jsx("span",{style:Mu,children:e},t))})]},t.id)):m.jsx("div",{style:{textAlign:"center",color:"#9ca3af",padding:"1rem",fontSize:"0.9rem",border:"1px dashed #e5e7eb",borderRadius:"8px"},children:"Arraste cards para cá ou adicione um novo."})]},e.id))})}),m.jsxs("h2",{style:{fontSize:"1.8rem",fontWeight:"700",color:"#1f2937",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[m.jsx(Ys,{size:28,color:"#3b82f6"}),"Gestão de Usuários Ativos"]}),m.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",alignItems:"center",flexWrap:"wrap"},children:[m.jsxs("div",{style:$h,children:[m.jsx(Ds,{size:20,color:"#64748b"}),m.jsx("input",{type:"text",placeholder:"Pesquisar usuários...",style:Rh,value:t,onChange:e=>a(e.target.value)})]}),m.jsxs("div",{style:Jh,children:[m.jsx(gs,{size:20,color:"#64748b"}),m.jsx("select",{style:Zh,value:s,onChange:e=>n(e.target.value),children:Nh.map(e=>m.jsx("option",{value:e,children:"Todos"===e?"Todas as Telas":e},e))})]}),o.size>0&&m.jsxs("button",{style:Gh,onClick:H,onMouseEnter:e=>Object.assign(e.currentTarget.style,Xh),onMouseLeave:e=>Object.assign(e.currentTarget.style,Gh),children:[m.jsx(Ts,{size:20}),"Notificar (",o.size,")"]})]}),m.jsx("div",{style:Sh,children:E.length>0?m.jsx("div",{children:E.map(e=>m.jsxs("div",{style:{...Mh,background:o.has(e.id)?"rgba(59, 130, 246, 0.05)":"transparent",borderRadius:o.has(e.id)?"12px":"0",paddingLeft:o.has(e.id)?"3rem":"1rem"},onClick:()=>I(e.id),onMouseEnter:t=>t.currentTarget.style.backgroundColor=o.has(e.id)?"rgba(59, 130, 246, 0.1)":"#f8fafc",onMouseLeave:t=>t.currentTarget.style.backgroundColor=o.has(e.id)?"rgba(59, 130, 246, 0.05)":"transparent",children:[o.has(e.id)&&m.jsx("div",{style:Kh,children:m.jsx(Ps,{size:20,color:"#3b82f6"})}),!o.has(e.id)&&m.jsx("div",{style:Kh,children:m.jsx(Os,{size:20,color:"#e5e7eb"})}),m.jsx("img",{src:e.profile_photo_path?`${fh}${e.profile_photo_path}`:xh,alt:e.nome_completo||e.nome,style:lu}),m.jsxs("div",{style:zh,children:[m.jsx("p",{style:Dh,children:e.nome_completo||e.nome}),e.cargo&&m.jsxs("div",{style:Th,children:[m.jsx(Ni,{size:16,color:"#64748b"}),m.jsx("span",{children:e.cargo})]}),e.privilegio&&m.jsxs("div",{style:Th,children:[m.jsx(Ys,{size:16,color:"#64748b"}),m.jsx("span",{children:e.privilegio})]}),m.jsx("div",{style:{marginTop:"0.5rem"},children:e.telas_acesso.map((e,t)=>m.jsx("span",{style:Ah,children:e.nome},e.id||t))})]}),m.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexShrink:0},children:[m.jsx("button",{style:{...Ph,color:"#f59e0b"},onClick:t=>{t.stopPropagation(),W(e.id,e.nome_completo||e.nome)},title:`Cutucar ${e.nome_completo||e.nome}`,onMouseEnter:e=>e.currentTarget.style.backgroundColor="#fef3c7",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:m.jsx(ji,{size:20})}),m.jsx("button",{style:{...Ph,color:"#2563eb"},onClick:t=>{t.stopPropagation(),F(e.id,e.nome_completo||e.nome)},title:`Notificar ${e.nome_completo||e.nome}`,onMouseEnter:e=>e.currentTarget.style.backgroundColor="#e0f2fe",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:m.jsx(us,{size:20})})]})]},e.id))}):m.jsx("div",{style:{textAlign:"center",color:"#6b748b",padding:"2rem",fontSize:"1rem"},children:t||"Todos"!==s?"Nenhum usuário encontrado com os filtros aplicados.":"Nenhum usuário ativo encontrado."})})]})});Du.displayName="X9Screen";const Tu={background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px",padding:"2rem",boxShadow:"0 0 25px rgba(0,0,0,0.08), 0 4px 10px rgba(0,0,0,0.03)",border:"1px solid rgba(255,255,255,0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"},Au={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},$u={background:"#ffffff",borderRadius:"12px",padding:"2rem",width:"90%",maxWidth:"800px",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.15)",position:"relative",animation:"fadeInUp 0.3s ease-out"},Ru={position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#6b7280"},Pu={marginTop:"1.5rem",padding:"0.75rem 1.5rem",backgroundColor:"#3b82f6",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",transition:"background-color 0.2s ease-in-out",width:"100%"},Ou=p.memo(({financeiro:e})=>{const[t,a]=p.useState(!1),i=e.boletos_vencidos.length+e.boletos_vencem_hoje.length+e.boletos_vencem_este_mes.length>9,s=()=>{a(!t)},n=e=>{let t=(new Date).toISOString().split("T")[0];if(e.data_vencimento_boleto)try{const a=new Date(e.data_vencimento_boleto);isNaN(a.getTime())||(t=a.toISOString().split("T")[0])}catch(r){}const a=new Date;a.setHours(0,0,0,0);const i=e.data_vencimento_boleto?new Date(e.data_vencimento_boleto):a;i.setHours(0,0,0,0);let s="andamento",n="media",o=0;return i<a?(s="planejamento",n="alta",o=1):i.getTime()===a.getTime()?(s="andamento",n="alta",o=1):(s="andamento",n="baixa"),{id:e.id_boleto,nome:`Boleto da NF  ${e.nf_numero}`||"",responsavel:e.nome_cliente||"Cliente Desconhecido",status:!0===e.nf_pago?"concluido":s,prioridade:!0===e.nf_pago?"baixa":n,dataEntrega:t,progresso:!0===e.nf_pago?100:0,atencoes:!0===e.nf_pago?0:o}};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[m.jsx(Lu,{icon:m.jsx(Wi,{size:24,color:"#ef4444"}),title:"Boletos Vencidos",value:e.boletos_vencidos.length,gradient:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)",borderColor:"#fca5a5",textColor:"#b91c1c"}),m.jsx(Lu,{icon:m.jsx(Li,{size:24,color:"#f59e0b"}),title:"Vencem Hoje",value:e.boletos_vencem_hoje.length,gradient:"linear-gradient(135deg, #fefce8 0%, #fef3c7 100%)",borderColor:"#fde68a",textColor:"#92400e"}),m.jsx(Lu,{icon:m.jsx(zi,{size:24,color:"#0ea5e9"}),title:"Vencem Este Mês",value:e.boletos_vencem_este_mes.length,gradient:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderColor:"#7dd3fc",textColor:"#0c4a6e"}),m.jsx(Lu,{icon:m.jsx(Js,{size:24,color:"#166534"}),title:"Total Não Pagos",value:e.total_itens_nao_pagos,gradient:"linear-gradient(135deg, #dcfce7 0%, #a7f3d0 100%)",borderColor:"#34d399",textColor:"#065f46"})]}),m.jsxs("div",{style:Tu,children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1.5rem"},children:[m.jsx(Wi,{size:24,color:"#166534",style:{marginRight:"0.75rem"}}),m.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#166534",margin:0},children:"Situação Financeira"})]}),e.total_itens_nao_pagos>0?m.jsxs(m.Fragment,{children:[e.boletos_vencidos.length>0&&m.jsxs(m.Fragment,{children:[m.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"#dc2626",marginBottom:"1rem"},children:"Boletos Vencidos"}),e.boletos_vencidos.slice(0,3).map((e,t)=>m.jsx(Iu,{projeto:n(e)},`vencido-${e.id_boleto||t}`))]}),e.boletos_vencem_hoje.length>0&&m.jsxs(m.Fragment,{children:[e.boletos_vencidos.length>0&&m.jsx("hr",{style:{borderTop:"1px solid #e5e7eb",margin:"2rem 0"}}),m.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"#f59e0b",marginBottom:"1rem"},children:"Vencem Hoje"}),e.boletos_vencem_hoje.slice(0,3).map((e,t)=>m.jsx(Iu,{projeto:n(e)},`hoje-${e.id_boleto||t}`))]}),e.boletos_vencem_este_mes.length>0&&m.jsxs(m.Fragment,{children:[(e.boletos_vencidos.length>0||e.boletos_vencem_hoje.length>0)&&m.jsx("hr",{style:{borderTop:"1px solid #e5e7eb",margin:"2rem 0"}}),m.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"#2563eb",marginBottom:"1rem"},children:"Vencem Este Mês"}),e.boletos_vencem_este_mes.slice(0,3).map((e,t)=>m.jsx(Iu,{projeto:n(e)},`este-mes-${e.id_boleto||t}`))]}),i&&m.jsxs("button",{style:Pu,onClick:s,onMouseEnter:e=>e.currentTarget.style.backgroundColor="#2563eb",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#3b82f6",children:["Ver Todos os Boletos (",e.total_itens_nao_pagos," itens)"]})]}):m.jsx("div",{style:{textAlign:"center",color:"#6b7280",padding:"2rem",fontSize:"1rem"},children:"Nenhum boleto pendente encontrado para este mês."})]}),t&&m.jsx("div",{style:Au,onClick:s,children:m.jsxs("div",{style:$u,onClick:e=>e.stopPropagation(),children:[m.jsx("button",{style:Ru,onClick:s,children:"×"}),m.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"600",color:"#166534",marginBottom:"1.5rem"},children:"Todos os Boletos Não Pagos"}),e.boletos_vencidos.length>0&&m.jsxs(m.Fragment,{children:[m.jsx("h3",{style:{fontSize:"1.4rem",fontWeight:"600",color:"#dc2626",marginBottom:"1rem"},children:"Boletos Vencidos"}),e.boletos_vencidos.map((e,t)=>m.jsx(Iu,{projeto:n(e)},`modal-vencido-${e.id_boleto||t}`))]}),e.boletos_vencem_hoje.length>0&&m.jsxs(m.Fragment,{children:[e.boletos_vencidos.length>0&&m.jsx("hr",{style:{borderTop:"1px solid #e5e7eb",margin:"2rem 0"}}),m.jsx("h3",{style:{fontSize:"1.4rem",fontWeight:"600",color:"#f59e0b",marginBottom:"1rem"},children:"Vencem Hoje"}),e.boletos_vencem_hoje.map((e,t)=>m.jsx(Iu,{projeto:n(e)},`modal-hoje-${e.id_boleto||t}`))]}),e.boletos_vencem_este_mes.length>0&&m.jsxs(m.Fragment,{children:[(e.boletos_vencidos.length>0||e.boletos_vencem_hoje.length>0)&&m.jsx("hr",{style:{borderTop:"1px solid #e5e7eb",margin:"2rem 0"}}),m.jsx("h3",{style:{fontSize:"1.4rem",fontWeight:"600",color:"#2563eb",marginBottom:"1rem"},children:"Vencem Este Mês"}),e.boletos_vencem_este_mes.map((e,t)=>m.jsx(Iu,{projeto:n(e)},`modal-este-mes-${e.id_boleto||t}`))]})]})})]})});Ou.displayName="FinanceiroScreen";const Eu={prioridade:{alta:"#ef4444",media:"#f59e0b",baixa:"#22c55e"},status:{concluido:{bg:"#dcfce7",color:"#166534",text:"Concluído"},andamento:{bg:"#dbeafe",color:"#1e40af",text:"Em Andamento"},planejamento:{bg:"#f3f4f6",color:"#374151",text:"Planejamento"}}},Lu=p.memo(({icon:e,title:t,value:a,gradient:i,borderColor:s,textColor:n})=>m.jsxs("div",{className:"stat-card",style:{background:i,borderRadius:"16px",padding:"1.5rem",textAlign:"center",cursor:"pointer",boxShadow:"0 10px 25px rgba(0,0,0,0.08), 0 4px 10px rgba(0,0,0,0.03)",border:`1px solid ${s}`,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:[m.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"},children:e}),m.jsx("h4",{style:{color:n,marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:"600"},children:t}),m.jsx("p",{style:{fontSize:"2.2rem",fontWeight:"700",color:n,margin:0},children:a})]}));Lu.displayName="StatCard";const Iu=p.memo(({projeto:e})=>{const t=p.useCallback(e=>new Date(e).toLocaleDateString("pt-BR"),[]),a=p.useCallback(e=>{switch(e){case"concluido":return m.jsx(Oi,{size:16,color:"#22c55e"});case"andamento":return m.jsx(Li,{size:16,color:"#3b82f6"});default:return m.jsx(Ki,{size:16,color:"#6b7280"})}},[]),i=p.useCallback(e=>{const t=Eu.status[e];return m.jsx("span",{style:{backgroundColor:t.bg,color:t.color,padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"500"},children:t.text})},[]);return m.jsx("div",{className:"project-item",style:{marginBottom:"1rem"},children:m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[m.jsxs("div",{style:{flex:1},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[m.jsx("strong",{style:{color:"#111827",fontSize:"1.1rem"},children:e.nome}),i(e.status)]}),m.jsxs("div",{style:{fontSize:"0.9rem",color:"#6b7280",display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx(Xs,{size:14}),e.responsavel]}),m.jsx("div",{className:"progress-bar",children:m.jsx("div",{className:"progress-fill",style:{width:`${e.progresso}%`}})}),m.jsxs("div",{style:{fontSize:"0.8rem",color:"#22c55e",fontWeight:"500",marginTop:"0.25rem"},children:[e.progresso,"% concluído"]})]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"0.5rem",marginLeft:"1rem"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a(e.status),m.jsx("span",{style:{fontSize:"0.875rem",color:"#4b5563",fontWeight:"500"},children:t(e.dataEntrega)})]}),e.atencoes>0&&m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",backgroundColor:"#fef3c7",padding:"0.25rem 0.5rem",borderRadius:"6px",fontSize:"0.75rem",color:"#92400e"},children:[m.jsx(Fs,{size:12}),e.atencoes," atenção",e.atencoes>1?"ões":""]})]})]})})});Iu.displayName="ProjectItem";const Bu=p.memo(({date:e,datasEntrega:t})=>t.includes(e.toDateString())?m.jsx("div",{style:{position:"absolute",bottom:"2px",left:"50%",transform:"translateX(-50%)",width:"6px",height:"6px",backgroundColor:"#22c55e",borderRadius:"50%",boxShadow:"0 0 0 2px rgba(255, 255, 255, 0.8)"}}):null);Bu.displayName="CalendarTileContent";const qu=p.memo(({projetos:e})=>{const t=p.useMemo(()=>{const t=new Date;return t.setHours(0,0,0,0),e.filter(e=>{const a=new Date(e.dataEntrega);return a.setHours(0,0,0,0),a>=t}).sort((e,t)=>new Date(e.dataEntrega).getTime()-new Date(t.dataEntrega).getTime()).slice(0,3)},[e]),a=p.useCallback(e=>Eu.prioridade[e],[]),i=p.useCallback(e=>new Date(e).toLocaleDateString("pt-BR"),[]);return 0===t.length?m.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"rgba(255, 255, 255, 0.8)",borderRadius:"12px",border:"1px solid rgba(34, 197, 94, 0.2)",textAlign:"center"},children:[m.jsxs("h4",{style:{marginBottom:"1rem",color:"#166534",fontSize:"1.1rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:"center"},children:[m.jsx(Li,{size:18}),"Próximas Entregas"]}),m.jsx("p",{style:{color:"#6b7280",fontSize:"0.9rem"},children:"Nenhuma entrega programada"})]}):m.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"rgba(255, 255, 255, 0.8)",borderRadius:"12px",border:"1px solid rgba(34, 197, 94, 0.2)"},children:[m.jsxs("h4",{style:{marginBottom:"1rem",color:"#166534",fontSize:"1.1rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx(Li,{size:18}),"Próximas Entregas"]}),t.map(e=>m.jsxs("div",{style:{fontSize:"0.9rem",color:"#374151",marginBottom:"0.75rem",padding:"0.75rem",background:"rgba(34, 197, 94, 0.05)",borderRadius:"8px",border:"1px solid rgba(34, 197, 94, 0.1)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx("div",{style:{width:"8px",height:"8px",backgroundColor:a(e.prioridade),borderRadius:"50%",flexShrink:0}}),m.jsxs("div",{children:[m.jsx("div",{style:{fontWeight:"600",color:"#166534"},children:i(e.dataEntrega)}),m.jsx("div",{style:{fontSize:"0.8rem",color:"#6b7280"},children:e.nome})]})]},e.id))]})});qu.displayName="ProximasEntregas";const Wu=()=>{const[e]=p.useState(new Date),[t,a]=p.useState(null),[s,n]=p.useState(!0),[o,r]=p.useState(null),[l,c]=p.useState(null),[,d]=p.useState(null),h=p.useMemo(()=>[{id:1,nome:"Sistema de Gestão",responsavel:"Ana Silva",status:"andamento",prioridade:"alta",dataEntrega:"2025-07-15",progresso:75,atencoes:2},{id:2,nome:"App Mobile",responsavel:"João Santos",status:"concluido",prioridade:"media",dataEntrega:"2025-06-20",progresso:100,atencoes:0},{id:3,nome:"Website Corporativo",responsavel:"Maria Costa",status:"andamento",prioridade:"alta",dataEntrega:"2025-08-01",progresso:45,atencoes:1},{id:4,nome:"API de Integração",responsavel:"Pedro Oliveira",status:"planejamento",prioridade:"baixa",dataEntrega:"2025-09-15",progresso:15,atencoes:0}],[]),u=p.useMemo(()=>h.map(e=>new Date(e.dataEntrega).toDateString()),[h]),g=p.useMemo(()=>t?.telas||[],[t]),f=p.useMemo(()=>g.map(e=>({id:e.id,label:e.nome})),[g]);p.useEffect(()=>{let e=!0;return(async()=>{try{n(!0),r(null);const t=await i("get_data_inicio");if(e){const e={...t};if(a(e),e.firstScreenName){c(e.firstScreenName);const t=e.telas.find(t=>t.nome===e.firstScreenName);t&&d({id:t.id,label:t.nome})}else e.telas.length>0&&(c(e.telas[0].nome),d({id:e.telas[0].id,label:e.telas[0].nome}))}}catch(t){e&&(a(null),r(`Falha ao carregar dados: ${t.message||String(t)}`))}finally{e&&n(!1)}})(),()=>{e=!1}},[]);const x=p.useCallback(async e=>{c(e.label),d(e);try{n(!0),r(null);const t=await i("get_data_for_screen",{screenName:e.label});a(a=>a?{...a,dados:t.dados,firstScreenName:e.label}:t)}catch(t){r(`Failed to load data for ${e.label}: ${t.message||String(t)}`),a(e=>e?{...e,dados:"Erro ao carregar dados."}:null)}finally{n(!1)}},[]),b=p.useCallback(({date:e})=>m.jsx(Bu,{date:e,datasEntrega:u}),[u]),v=p.useMemo(()=>({display:"grid",gridTemplateColumns:"2fr 1fr",gap:"2rem",maxWidth:"1400px",margin:"0 auto",paddingBottom:"2rem"}),[]);return m.jsxs("div",{style:v,children:[m.jsxs("div",{children:[m.jsxs("div",{style:{marginBottom:"2rem"},children:[m.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:"700",background:"linear-gradient(135deg, #166534 0%, #22c55e 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"0.5rem"},children:"Dashboard Geral"}),m.jsx("p",{style:{color:"#6b7280",fontSize:"1.1rem"},children:"Gerencie seus dados e operações"})]}),m.jsx("div",{className:"custom-select-wrapper",style:{marginBottom:"2rem"},children:s&&!t?m.jsx("div",{children:"Carregando opções..."}):o&&!t?m.jsxs("div",{style:{color:"red"},children:["Erro: ",o]}):g.length>0?m.jsx(di,{options:f,onSelect:x,placeholder:"Selecione uma tela"}):m.jsx("div",{children:"Nenhuma tela disponível."})}),(()=>{const e=t?.dados;if(s&&void 0===e)return m.jsx("p",{children:"Carregando dados do módulo..."});if(o)return m.jsxs("p",{style:{color:"red"},children:["Erro ao carregar dados: ",o]});switch(l){case"COLETA":return"string"==typeof e||Array.isArray(e)||void 0===e?m.jsx("p",{children:"Dados de Coleta indisponíveis ou no formato incorreto."}):m.jsx(rn,{coleta:e});case"ATENDIMENTO":return Array.isArray(e)?m.jsx(mn,{atendimentos:e}):m.jsx("p",{children:"Dados de Atendimento indisponíveis ou no formato incorreto."});case"MB":return"object"==typeof e&&e&&"total_pendencias_prazo"in e?m.jsx(vn,{mb:e}):m.jsx("p",{children:"Dados de MB indisponíveis ou no formato incorreto."});case"FQ":return"object"==typeof e&&e&&"total_pendencias_prazo"in e?m.jsx(Cn,{fq:e}):m.jsx("p",{children:"Dados de Físico-Químico indisponíveis ou no formato incorreto."});case"FINANCEIRO":return"object"==typeof e&&e&&"boletos_vencidos"in e&&"total_itens_nao_pagos"in e?m.jsx(Ou,{financeiro:e}):m.jsx("p",{children:"Dados Financeiros indisponíveis ou no formato incorreto."});case"X9":return"object"==typeof e&&e&&"usuarios_ativos_com_telas"in e&&"total_usuarios_ativos"in e?m.jsx(Du,{x9:e}):m.jsx("p",{children:"Dados de X9 indisponíveis ou no formato incorreto."});default:return e&&"string"==typeof e?m.jsx("p",{children:e}):m.jsx("div",{children:m.jsx("p",{children:"Selecione uma opção no menu suspenso para exibir o conteúdo."})})}})()]}),m.jsx("div",{children:m.jsxs("div",{className:"calendar-container",children:[m.jsxs("div",{className:"calendar-header",children:[m.jsx(Di,{size:24,color:"#166534",style:{marginRight:"0.75rem"}}),m.jsx("h2",{children:"Calendário"})]}),m.jsx(ci,{value:e,locale:"pt-BR",calendarType:"gregory",tileContent:b,formatMonthYear:(e,t)=>t.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),formatShortWeekday:(e,t)=>t.toLocaleDateString("pt-BR",{weekday:"short"}).replace(".",""),showNeighboringMonth:!1,prev2Label:null,next2Label:null,navigationLabel:({date:e})=>e.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})}),m.jsx(qu,{projetos:h})]})})]})},Fu=()=>m.jsxs("div",{children:[m.jsx("h1",{style:{margin:"0 0 2rem 0",fontSize:"2rem",fontWeight:"bold",color:"#111827"},children:"Relatórios"}),m.jsx("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:m.jsx("p",{style:{color:"#6b7280",margin:0},children:"Área de relatórios em desenvolvimento..."})})]}),Hu=()=>{const[e,t]=p.useState(null),[a,s]=p.useState(!0),[n,o]=p.useState(null),[r,l]=p.useState(null),[c,d]=p.useState(null),[h,u]=p.useState(()=>localStorage.getItem("appBackgroundColor")||"#f8fafc"),[g,f]=p.useState(()=>{const e=localStorage.getItem("appDarkMode");return!!e&&JSON.parse(e)}),x=p.useRef(null),[b,v]=p.useState(null);p.useEffect(()=>{(async()=>{try{const e=await i("usuario_logado");if(e){t(e);const a="http://192.168.15.26:8082",i=e.profile_photo?`${a}${e.profile_photo}`:"https://placehold.co/150x150/065f46/ffffff?text=User";d(i),f(e.dark_mode)}else o("Usuário não autenticado.")}catch(e){o(`Erro ao carregar dados do usuário: ${e}`)}finally{s(!1)}})()},[]),p.useEffect(()=>(document.body.style.backgroundColor=h,localStorage.setItem("appBackgroundColor",h),g?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"),localStorage.setItem("appDarkMode",JSON.stringify(g)),()=>{document.body.style.backgroundColor="",document.body.classList.remove("dark-mode")}),[h,g]);const y={background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.08)",marginBottom:"1.5rem",border:"1px solid #e0e7e9"},_={fontSize:"1.4rem",fontWeight:"600",color:"#166534",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.75rem"},j={position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:g?"#22c55e":"#ccc",transition:".4s",borderRadius:"34px"},w={position:"absolute",content:'""',height:"26px",width:"26px",left:g?"29px":"4px",bottom:"4px",backgroundColor:"white",transition:".4s",borderRadius:"50%"},k={display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",backgroundColor:"#166534",color:"white",padding:"1rem 2rem",borderRadius:"10px",border:"none",cursor:"pointer",fontSize:"1.1rem",fontWeight:"600",transition:"background-color 0.2s ease-in-out, transform 0.1s ease-in-out",width:"100%",marginTop:"2rem"},C={backgroundColor:"#104e2a",transform:"translateY(-2px)"};return m.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"2rem"},children:[m.jsx("h1",{style:{margin:"0 0 2rem 0",fontSize:"2.5rem",fontWeight:"700",color:"#166534"},children:"Configurações do Usuário"}),a&&m.jsx("p",{children:"Carregando informações do usuário..."}),n&&m.jsx("p",{style:{color:"red"},children:n}),r&&m.jsx("div",{style:{padding:"1rem",marginBottom:"1.5rem",borderRadius:"8px",backgroundColor:r.includes("sucesso")?"#dcfce7":"#fee2e2",color:r.includes("sucesso")?"#166534":"#b91c1c",fontWeight:"500",textAlign:"center"},children:r}),e&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:y,children:[m.jsxs("h2",{style:_,children:[m.jsx(Gs,{size:24}),"Informações do Perfil"]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2rem",marginBottom:"1.5rem"},children:[m.jsx("div",{style:{width:"120px",height:"120px",borderRadius:"50%",overflow:"hidden",border:"3px solid #22c55e",flexShrink:0},children:m.jsx("img",{src:c||"https://placehold.co/120x120/d1d5db/4b5563?text=User",alt:"Foto de Perfil",style:{width:"100%",height:"100%",objectFit:"cover"}})}),m.jsxs("div",{children:[m.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#111827",margin:"0 0 0.5rem 0"},children:e.nome_completo}),m.jsxs("p",{style:{color:"#4b5563",margin:"0.0rem 0"},children:["**Cargo:** ",e.cargo]}),m.jsxs("p",{style:{color:"#4b5563",margin:"0.0rem 0"},children:["**Privilégio:** ",e.privilegio]}),e.empresa&&m.jsxs("p",{style:{color:"#4b5563",margin:"0.0rem 0"},children:["**Empresa:** ",e.empresa]})]})]}),m.jsx("label",{htmlFor:"profile-upload",style:{display:"block",backgroundColor:"#22c55e",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",textAlign:"center",fontWeight:"600",transition:"background-color 0.2s ease-in-out",marginTop:"1rem"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#16a34a",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#22c55e",children:"Alterar Foto de Perfil"}),m.jsx("input",{id:"profile-upload",type:"file",accept:"image/*",onChange:e=>{const t=e.target.files?.[0];if(t){v(t);const e=new FileReader;e.onloadend=()=>{d(e.result)},e.readAsDataURL(t)}},style:{display:"none"},ref:x})]}),m.jsxs("div",{style:y,children:[m.jsxs("h2",{style:_,children:[m.jsx(ys,{size:24}),"Aparência"]}),m.jsxs("div",{style:{marginBottom:"1.5rem"},children:[m.jsx("label",{htmlFor:"background-color",style:{display:"block",color:"#374151",marginBottom:"0.5rem",fontWeight:"500"},children:"Cor de Fundo:"}),m.jsx("input",{type:"color",id:"background-color",value:h,onChange:e=>{u(e.target.value)},style:{width:"100%",height:"40px",border:"none",borderRadius:"8px",cursor:"pointer"}})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[m.jsx(fs,{size:20,color:g?"#166534":"#6b7280"}),m.jsx("span",{style:{color:"#374151",fontWeight:"500"},children:"Modo Escuro:"}),m.jsxs("label",{style:{position:"relative",display:"inline-block",width:"60px",height:"34px"},children:[m.jsx("input",{type:"checkbox",checked:g,onChange:()=>{f(e=>!e)},style:{opacity:0,width:0,height:0}}),m.jsx("span",{style:j,children:m.jsx("span",{style:w})})]})]})]}),m.jsxs("div",{style:y,children:[m.jsxs("h2",{style:_,children:[m.jsx(As,{size:24}),"Outras Configurações"]}),m.jsx("p",{style:{color:"#6b7280",margin:0},children:"Esta seção pode ser expandida com mais opções no futuro, como notificações ou privacidade."})]}),m.jsx("button",{onClick:async()=>{if(!e)return void l("Erro: Usuário não carregado.");let a;if(s(!0),l(null),b){const e=new FileReader;if(e.readAsDataURL(b),a=await new Promise(t=>{e.onloadend=()=>t(e.result),e.onerror=()=>t(null)}),null===a)return l("Erro ao ler o arquivo de imagem."),void s(!1)}else"https://placehold.co/150x150/065f46/ffffff?text=User"===c&&e.profile_photo?a=null:c&&!c.startsWith("data:")&&e.profile_photo&&c===`http://192.168.15.26:8082${e.profile_photo}`&&(a=void 0);try{if(await i("update_user_settings",{userId:e.id,profilePhotoBase64:a,backgroundColor:h,isDarkMode:g})){l("Configurações salvas com sucesso!");const e=await i("usuario_logado");if(e){t(e);const a="http://192.168.15.26:8082",i=e.profile_photo?`${a}${e.profile_photo}`:"https://placehold.co/150x150/065f46/ffffff?text=User";d(i),f(e.dark_mode)}v(null),x.current&&(x.current.value="")}else l("Falha ao salvar as configurações.")}catch(n){l(`Erro ao salvar: ${n}`)}finally{s(!1),setTimeout(()=>l(null),5e3)}},style:k,onMouseEnter:e=>{Object.assign(e.currentTarget.style,C)},onMouseLeave:e=>{Object.assign(e.currentTarget.style,k)},disabled:a,children:a?"Salvando...":m.jsxs(m.Fragment,{children:[m.jsx(zs,{size:20}),"Salvar Alterações"]})})]})]})},Vu=()=>m.jsxs("div",{children:[m.jsx("h1",{style:{margin:"0 0 2rem 0",fontSize:"2rem",fontWeight:"bold",color:"#111827"},children:"Laboratório"}),m.jsx("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:m.jsx("p",{style:{color:"#6b7280",margin:0},children:"Área de Laboratório em desenvolvimento..."})})]}),Uu=()=>m.jsxs("div",{children:[m.jsx("h1",{style:{margin:"0 0 2rem 0",fontSize:"2rem",fontWeight:"bold",color:"#111827"},children:"Administração"}),m.jsx("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:m.jsx("p",{style:{color:"#6b7280",margin:0},children:"Área de Administracao em desenvolvimento..."})})]});function Yu(e){return M({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7.94 5.12 6.49 3.66A9.91 9.91 0 0 1 12 2c5.52 0 10 4.48 10 10 0 2.04-.61 3.93-1.66 5.51l-1.46-1.46A7.869 7.869 0 0 0 20 12c0-4.41-3.59-8-8-8-1.48 0-2.86.41-4.06 1.12zm9.72 4.41-1.41-1.41-2.65 2.65 1.41 1.41 2.65-2.65zm2.12 13.08-2.27-2.27A9.91 9.91 0 0 1 12 22C6.48 22 2 17.52 2 12c0-2.04.61-3.93 1.66-5.51L1.39 4.22 2.8 2.81l18.38 18.38-1.4 1.42zm-3.72-3.73L12.18 15l-1.59 1.59-4.24-4.24 1.41-1.41 2.83 2.83.18-.18-5.65-5.65A7.932 7.932 0 0 0 4 12c0 4.41 3.59 8 8 8 1.48 0 2.86-.41 4.06-1.12z"},child:[]}]})(e)}function Gu(e){return M({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 10h11v2H3zM3 6h11v2H3zM3 14h7v2H3zM20.59 11.93l-4.25 4.24-2.12-2.12-1.41 1.41L16.34 19 22 13.34z"},child:[]}]})(e)}class Xu{static windows=new Map;static windowCounters=new Map;static generateUniqueId(e){const t=this.windowCounters.get(e)||0;return this.windowCounters.set(e,t+1),`${e}-${t+1}`}static async openWindow(e){try{let t=e.label;if(!1!==e.allowMultiple)t=this.generateUniqueId(e.label);else if(this.windows.has(e.label)){const t=this.windows.get(e.label);if(t)return await t.setFocus(),e.data&&await t.emit("window-data",e.data),t}const a=new s(t,{url:e.url,title:e.title,width:e.width||1200,height:e.height||800,x:e.x,y:e.y,resizable:!1!==e.resizable,maximized:e.maximized||!1,center:!1!==e.center,decorations:!0,alwaysOnTop:!1,skipTaskbar:!1});return await new Promise((e,t)=>{a.once("tauri://created",()=>e()),a.once("tauri://error",e=>t(e)),setTimeout(()=>t(new Error("Timeout ao criar janela")),1e4)}),this.windows.set(e.label,a),e.data&&a.once("window-ready",async()=>{try{await a.emit("window-data",e.data)}catch(t){}}),a.once("tauri://destroyed",()=>{this.windows.delete(e.label)}),a}catch(t){throw t}}static async closeWindow(e){const t=this.windows.get(e);t&&(await t.close(),this.windows.delete(e))}static isWindowOpen(e){return this.windows.has(e)}static getWindow(e){return this.windows.get(e)}static async closeAllWindows(){const e=Array.from(this.windows.values()).map(e=>e.close());await Promise.all(e),this.windows.clear(),this.windowCounters.clear()}static async openCadastroClientes(e){return this.openWindow({label:"cadastro-clientes",title:"Cadastro de Clientes",url:"/#/cadastrar-clientes",width:900,height:700,data:e,allowMultiple:!0})}static async openVisualizarCliente(e){return this.openWindow({label:"visualizar-clientes",title:"Visualizar Clientes",url:"/#/visualizar-clientes",width:1200,height:800,data:e,allowMultiple:!0})}static async openCadastrarCategoria(){try{const e=await n();if(!e||0===e.length)throw new Error("Não foi possível obter informações dos monitores");const t=e[0],a=t.size.width,i=t.size.height,s=500,o=i-70,r=a-s,l=0;return this.openWindow({label:"gerenciar-categoria",title:"Gerenciar Categoria",url:"/#/gerenciar-categoria",width:s,height:o,allowMultiple:!0,x:r,y:l,center:!1,resizable:!0,data:{openedBy:"cadastrar-cliente"}})}catch(e){return this.openWindow({label:"gerenciar-categoria",title:"Gerenciar Categoria",url:"/#/gerenciar-categoria",width:500,height:800,allowMultiple:!0,data:{openedBy:"cadastrar-cliente"}})}}static async openChat(){return this.openWindow({label:"chat",title:"Chat",url:"/#/chat",width:1200,height:600,allowMultiple:!0})}static async openCreatePlanilha(){return this.openWindow({label:"criar-planilha",title:"Criar Planilha",url:"/#/criar-planilha",width:1200,height:600,allowMultiple:!0})}static async openCadastrarPlanilha(e){return this.openWindow({label:"cadastrar-planilha",title:"Cadastrar Planilha",url:"/#/cadastrar-planilha",width:1200,height:600,allowMultiple:!0,data:e})}}const Ku="_geral-container_974d2_1",Ju="_geral-title_974d2_5",Zu="_top-cards-grid_974d2_12",Qu="_bottom-cards-container_974d2_19",em="_card-base_974d2_25",tm="_expanded_974d2_46",am="_card-clickable_974d2_54",im="_card-icon_974d2_63",sm="_card-title_974d2_74",nm="_card-subtitles-container_974d2_86",om="_card-subtitle-item_974d2_124",rm="_card-subtitle-separator_974d2_142",lm="_text-dark_974d2_153",cm="_modal-overlay_974d2_171",dm="_modal-content2_974d2_184",hm="_modal-close-button_974d2_220",um="_modal-title_974d2_236",mm="_modal-list_974d2_245",pm="_modal-list-item_974d2_254",gm="_modal-item-content_974d2_272",fm="_modal-item-row_974d2_280",xm="_modal-item-text_974d2_287",bm="_modal-label_974d2_293",vm="_modal-date-header_974d2_299",ym="_modal-identificacao_974d2_308",_m="_modal-button_974d2_315",jm="_modal-fade-in_974d2_335",wm="_spin_974d2_356",km="_geral-header_974d2_409",Cm="_reload-button_974d2_418",Nm="_reload-icon_974d2_453",Sm="_spinning_974d2_458",Mm="_text-light_974d2_474",zm="_subtitle-clickable_974d2_482",Dm="_modal-item-card_974d2_508",Tm=g.memo(({title:e,icon:t,bgColor:a,textColor:i="#fff",onClick:s,subtitles:n,loading:o,onSubtitleClick:r})=>{const[l,c]=p.useState(!1),d=!!s,h="#111827"===i?`${lm}`:`${Mm}`;return m.jsxs("div",{className:`${em} ${d?`${am}`:""} ${h} ${l?`${tm}`:""}`,onClick:s,onMouseEnter:()=>{n&&n.length>0&&c(!0)},onMouseLeave:()=>{c(!1)},style:{background:a,color:i},children:[m.jsx("div",{className:im,children:o?m.jsx(ae,{className:wm}):t}),m.jsx("h3",{className:sm,children:e}),n&&m.jsx("div",{className:nm,children:n.map((e,t)=>m.jsxs(g.Fragment,{children:[m.jsx("span",{className:`${om} ${zm}`,onClick:e=>((e,t)=>{e.stopPropagation(),r?.(t)})(e,t),style:{cursor:"pointer"},children:e}),t<n.length-1&&m.jsx("span",{className:rm,style:{background:i}})]},t))})]})});Tm.displayName="Card";const Am=g.memo(({isOpen:e,onClose:t,title:a,content:i,isAmostraModal:s,modalTitle:n,clientesSemCadastro:o,openClienteModal:r})=>{const l=p.useCallback(e=>{e.stopPropagation(),t()},[t]),c=p.useCallback(e=>{e.stopPropagation()},[]),d=p.useCallback((e,t)=>{if("string"==typeof e){if(n.includes("Clientes não Cadastrados")&&void 0!==t){const e=o[t];if(e)return void r(e)}alert(`Detalhes de: ${e}`)}else alert(`Detalhes das amostras da data: ${e.date}`)},[n,o,r]);return e?m.jsx("div",{className:`${cm} ${jm}`,onClick:l,children:m.jsxs("div",{className:dm,onClick:c,children:[m.jsx("button",{onClick:t,className:hm,"aria-label":"Fechar Modal",children:"×"}),m.jsx("h2",{className:um,children:a}),m.jsx("ul",{className:mm,children:s?i.map((e,t)=>m.jsxs("li",{className:`${pm} ${Dm}`,children:[m.jsxs("div",{className:gm,children:[m.jsx("div",{className:vm,children:e.date}),e.samples.map((e,t)=>m.jsxs("div",{className:fm,children:[m.jsx("span",{className:bm,children:"Identificação:"}),m.jsx("span",{className:xm,children:e.identificacao||"N/A"}),m.jsx("span",{className:ym,children:e.horacoleta?`(${e.horacoleta})`:""})]},`sample-${t}`))]}),m.jsx("button",{className:_m,onClick:()=>d(e),children:"Abrir"})]},`group-${t}`)):i.map((e,t)=>m.jsxs("li",{className:`${pm} ${Dm}`,children:[m.jsx("div",{className:gm,children:e.split("\n").map((e,t)=>m.jsx("p",{className:xm,children:e},`line-${t}`))}),m.jsx("button",{className:_m,onClick:()=>d(e,t),children:"Abrir"})]},`item-${t}`))})]})}):null});Am.displayName="Modal";const $m=g.memo(({isOpen:e,onClose:t,cliente:a,onNovoCadastro:i,onCadastroExistente:s})=>{const n=p.useCallback(e=>{e.stopPropagation(),t()},[t]),o=p.useCallback(e=>{e.stopPropagation()},[]);return e&&a?m.jsx("div",{className:`${cm} ${jm}`,onClick:n,children:m.jsxs("div",{className:dm,onClick:o,style:{maxWidth:"500px"},children:[m.jsx("button",{onClick:t,className:hm,"aria-label":"Fechar Modal",children:"×"}),m.jsx("h2",{className:um,children:"Cliente Não Cadastrado"}),m.jsxs("div",{style:{padding:"20px 0"},children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Nome:"})," ",a.nome_cliente||"Não informado"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Documento:"})," ",a.documento||"Não informado"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Telefone:"})," ",a.telefone||"Não informado"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Email:"})," ",a.email||"Não informado"]})]}),m.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center",flexWrap:"wrap"},children:[m.jsx("button",{className:_m,onClick:()=>i(a),style:{backgroundColor:"#10B981",color:"white"},children:"Novo Cadastro"}),m.jsx("button",{className:_m,onClick:s,style:{backgroundColor:"#3B82F6",color:"white"},children:"Cadastro Existente"}),m.jsx("button",{className:_m,onClick:t,style:{backgroundColor:"#6B7280",color:"white"},children:"Cancelar"})]})]})}):null});$m.displayName="ClienteModal";const Rm=()=>{const{navigate:e}=_b(),[t,a]=p.useState(!1),[s,n]=p.useState(""),[o,r]=p.useState([]),[l,c]=p.useState(!1),[d,h]=p.useState(!1),[u,g]=p.useState(null),[f,x]=p.useState([]),[b,v]=p.useState([]),[y,_]=p.useState([]),[j,w]=p.useState([]),[k,C]=p.useState([]),[N,S]=p.useState({clientes:!1,amostras:!1,coletas:!1,solicitacoes:!1,portal:!1}),[M,z]=p.useState(!1),D={clientes:["cadastrar-clientes","visualizar-clientes","gerenciar-categoria","cadastro-usuario-portal","cadastrar-setor-usuario","cadastrar-consultor","cadastrar-laboratorio-terceirizado"],estruturas:["estrutura-tipo","estrutura-grupo","estrutura-matriz","estrutura-unidade","estrutura-parametro","estrutura-pg-coleta","estrutura-pop","estrutura-tecnica","estrutura-identificacao","estrutura-metodologia","estrutura-legislacao","estrutura-categoria","estrutura-forma-contato","estrutura-observacao","estrutura-submatriz"],relacionamentos:["rel-parametro-pop","rel-limite-quantificacao","rel-legislacao-parametro","rel-pacote-parametro","rel-tecnica-etapa"],contas:["cadastrar-calculo","visualizar-calculo"]};p.useEffect(()=>{$()},[]);const A=(e,t)=>{S(a=>({...a,[e]:t}))},$=()=>{R(),P(),O(),E(),L()},R=async()=>{A("clientes",!0);try{const e=await i("buscar_clientes_sem_cadastro");e.success&&e.data&&x(e.data)}catch(e){}finally{A("clientes",!1)}},P=async()=>{A("amostras",!0);try{const e=await i("buscar_amostras_pre_cadastradas");e.success&&e.data&&v(e.data)}catch(e){}finally{A("amostras",!1)}},O=async()=>{A("coletas",!0);try{const e=await i("buscar_coletas");e.success&&e.data&&_(e.data)}catch(e){}finally{A("coletas",!1)}},E=async()=>{A("solicitacoes",!0);try{const e=await i("buscar_solicitacoes_usuarios");e.success&&e.data&&w(e.data)}catch(e){}finally{A("solicitacoes",!1)}},L=async()=>{A("portal",!0);try{const e=await i("buscar_coletas_portal");e.success&&e.data&&C(e.data)}catch(e){}finally{A("portal",!1)}},I=p.useCallback((e,t,i=!1)=>{n(e),r(t),c(i),a(!0)},[]),B=p.useCallback(()=>{a(!1),n(""),r([]),c(!1)},[]),q=p.useCallback(e=>{const t={id:e.id,nome_cliente:e.nome_cliente,documento:e.documento,telefone:e.telefone,email:e.email,origem:e.origem};g(t),h(!0)},[]),F=p.useCallback(()=>{h(!1),g(null)},[]),H=p.useCallback(async t=>{try{const e={id:t.id,nome_cliente:t.nome_cliente,documento:t.documento,telefone:t.telefone,email:t.email,origem:t.origem};await Xu.openCadastroClientes(e),F()}catch(a){e("cadastrar-clientes"),localStorage.setItem("clientePreenchimento",JSON.stringify(t)),F()}},[F,e]),Y=p.useCallback(async()=>{try{await Xu.openVisualizarCliente(),F()}catch(t){e("visualizar-clientes"),F()}},[F,e]),G=e=>{const t={};return e.forEach(e=>{const a=e.dtcoleta_formatada||"Data Desconhecida";t[a]||(t[a]=[]),t[a].push(e)}),Object.keys(t).map(e=>({date:e,samples:t[e]}))},X=e=>e.map(e=>`Protocolo: ${e.protocolo||e.num_protocolo||"Sem protocolo"}\nCliente: ${e.fantasia||"Cliente não informado"}${e.urgencia?" (URGENTE)":""}`),K=p.useMemo(()=>{return[{title:"Clientes não Cadastrados "+(f.length>0?`(${f.length})`:""),icon:m.jsx(Yu,{}),bgColor:"#EF4444",modalContent:(a=f,a.map(e=>{const t=e.nome_cliente||"Nome não informado",a=e.documento?`Doc: ${e.documento}`:"Documento não informado",i=e.telefone?`Tel: ${e.telefone}`:"Telefone não informado",s=e.email?`Email: ${e.email}`:"Email não informado";return`${t}\n${a}\n${i}\n${e.contato?`Contato: ${e.contato}`:"Contato não informado"}\n${s}`})),loading:N.clientes,isAmostra:!1},{title:"Amostras Pré-Cadastradas "+(b.length>0?`(${b.length})`:""),icon:m.jsx(Gu,{}),bgColor:"#F97316",modalContent:G(b),loading:N.amostras,isAmostra:!0},{title:"Coletas para Cadastrar "+(y.length>0?`(${y.length})`:""),icon:m.jsx(de,{}),bgColor:"#06B6D4",modalContent:(t=y,t.map(e=>{const t=e.numero||"S/N";return`${e.prefixo||""}${t}\nCliente: ${e.cliente||"Cliente não informado"}\nData: ${e.data_coleta||""}`})),loading:N.coletas,isAmostra:!1},{title:"Solicitação de Cadastro de Usuários "+(j.length>0?`(${j.length})`:""),icon:m.jsx(W,{}),bgColor:"#8B5CF6",modalContent:(e=j,e.map(e=>`${e.nome_completo||"Nome não informado"}\n${e.email||"Email não informado"}\n${e.fantasia?`Empresa: ${e.fantasia}`:"Empresa não informada"}`)),loading:N.solicitacoes,isAmostra:!1},{title:"Solicitações do Portal "+(k.length>0?`(${k.length})`:""),icon:m.jsx(V,{}),bgColor:"#10B981",modalContent:X(k),loading:N.portal,isAmostra:!1}];var e,t,a},[f,b,y,j,k,N]),J=p.useMemo(()=>[{title:"Clientes",icon:m.jsx(me,{}),subtitles:["Cadastrar Clientes","Visualizar Clientes","Gerenciar Categorias","Cadastro de Usuário no Portal","Cadastrar Setor de Usuário","Cadastrar Consultor","Cadastrar Laboratório Terceirizado"],category:"clientes"},{title:"Estruturas",icon:m.jsx(T,{}),subtitles:["Tipo","Grupo","Matriz","Unidade","Parâmetro","PG de Coleta","POP","Técnica","Identificação","Metodologia","Legislação","Categoria","Forma de Contato","Observação","Submatriz"],category:"estruturas"},{title:"Relacionamentos",icon:m.jsx(U,{}),subtitles:["Parâmetro e POP","Limite de Quantificação e Incerteza","Legislação e Parâmetro","Pacote de Parâmetro","Técnica e Etapa"],category:"relacionamentos"},{title:"Contas",icon:m.jsx(pe,{}),subtitles:["Cadastrar Cálculo","Visualizar Cálculo"],category:"contas"}],[]),Z=Object.values(N).some(e=>e);return m.jsxs(m.Fragment,{children:[" ",m.jsxs("div",{className:Ku,children:[m.jsxs("div",{className:km,children:[m.jsxs("h1",{className:Ju,children:["Geral ",Z&&m.jsx("span",{style:{fontSize:"14px",color:"#666"},children:"(Carregando...)"})]}),m.jsxs("button",{className:Cm,onClick:async()=>{z(!0);try{await Promise.all([R(),P(),O(),E(),L()])}catch(e){}finally{z(!1)}},disabled:M,title:"Recarregar dados",children:[m.jsx(ie,{className:`${Nm} ${M?`${Sm}`:""}`}),M?"Recarregando...":"Recarregar"]})]}),m.jsx("div",{className:Zu,children:K.map((e,t)=>m.jsx(Tm,{title:e.title,icon:e.icon,bgColor:e.bgColor,loading:e.loading,onClick:()=>!e.loading&&I(e.title,e.modalContent,e.isAmostra)},`top-${t}`))}),m.jsx("div",{className:Qu,children:J.map((t,a)=>m.jsx(Tm,{title:t.title,icon:t.icon,bgColor:"#F3F4F6",textColor:"#111827",subtitles:t.subtitles,onSubtitleClick:a=>(async(t,a)=>{const i=D[t][a];if(i)if("clientes"===t)try{switch(i){case"cadastrar-clientes":await Xu.openCadastroClientes();break;case"visualizar-clientes":await Xu.openVisualizarCliente();break;case"gerenciar-categoria":await Xu.openCadastrarCategoria();break;default:e(i)}}catch(s){e(i)}else e(i)})(t.category,a)},`bottom-${a}`))})]}),m.jsx(Am,{isOpen:t,onClose:B,title:s,content:o,isAmostraModal:l,modalTitle:s,clientesSemCadastro:f,openClienteModal:q}),m.jsx($m,{isOpen:d,onClose:F,cliente:u,onNovoCadastro:H,onCadastroExistente:Y})]})},Pm=()=>m.jsxs("div",{children:[m.jsx("h1",{style:{margin:"0 0 2rem 0",fontSize:"2rem",fontWeight:"bold",color:"#111827"},children:"Agenda"}),m.jsx("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:m.jsx("p",{style:{color:"#6b7280",margin:0},children:"Área de Agenda em desenvolvimento..."})})]}),Om=()=>m.jsxs("div",{children:[m.jsx("h1",{style:{margin:"0 0 2rem 0",fontSize:"2rem",fontWeight:"bold",color:"#111827"},children:"Financeiro"}),m.jsx("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:m.jsx("p",{style:{color:"#6b7280",margin:0},children:"Área de Financeiro em desenvolvimento..."})})]}),Em=()=>m.jsxs("div",{children:[m.jsx("h1",{style:{margin:"0 0 2rem 0",fontSize:"2rem",fontWeight:"bold",color:"#111827"},children:"Frota"}),m.jsx("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:m.jsx("p",{style:{color:"#6b7280",margin:0},children:"Área de Frota em desenvolvimento..."})})]}),Lm={"qualidade-container":"_qualidade-container_obtof_4",qualidade:"_qualidade_obtof_4","qualidade-header":"_qualidade-header_obtof_30","qualidade-header-content":"_qualidade-header-content_obtof_36","qualidade-header-flex":"_qualidade-header-flex_obtof_42","qualidade-header-left":"_qualidade-header-left_obtof_48","qualidade-icon-container":"_qualidade-icon-container_obtof_54","qualidade-icon":"_qualidade-icon_obtof_54","qualidade-title":"_qualidade-title_obtof_69","qualidade-subtitle":"_qualidade-subtitle_obtof_76","qualidade-badge":"_qualidade-badge_obtof_82","qualidade-main":"_qualidade-main_obtof_97","qualidade-cards-grid":"_qualidade-cards-grid_obtof_104","qualidade-card":"_qualidade-card_obtof_104","qualidade-card-header":"_qualidade-card-header_obtof_123","qualidade-card-icon":"_qualidade-card-icon_obtof_130","qualidade-card-change":"_qualidade-card-change_obtof_143","qualidade-card-value":"_qualidade-card-value_obtof_150","qualidade-card-title":"_qualidade-card-title_obtof_157","bg-green-100":"_bg-green-100_obtof_164","text-green-800":"_text-green-800_obtof_165","bg-orange-100":"_bg-orange-100_obtof_166","text-orange-800":"_text-orange-800_obtof_167","bg-blue-100":"_bg-blue-100_obtof_168","text-blue-800":"_text-blue-800_obtof_169","bg-red-100":"_bg-red-100_obtof_170","text-red-800":"_text-red-800_obtof_171","bg-gray-100":"_bg-gray-100_obtof_172","text-gray-800":"_text-gray-800_obtof_173","qualidade-menu-grid":"_qualidade-menu-grid_obtof_176","qualidade-section-card":"_qualidade-section-card_obtof_182","qualidade-section-header":"_qualidade-section-header_obtof_195","qualidade-section-header-content":"_qualidade-section-header-content_obtof_215","qualidade-section-title":"_qualidade-section-title_obtof_223","qualidade-section-subtitle":"_qualidade-section-subtitle_obtof_229","qualidade-section-icon":"_qualidade-section-icon_obtof_236","bg-green-500":"_bg-green-500_obtof_242","bg-green-600":"_bg-green-600_obtof_243","qualidade-section-body":"_qualidade-section-body_obtof_246","qualidade-section-items":"_qualidade-section-items_obtof_250","qualidade-section-item":"_qualidade-section-item_obtof_250","qualidade-section-item-icon":"_qualidade-section-item-icon_obtof_274","qualidade-section-item-text":"_qualidade-section-item-text_obtof_299","qualidade-status":"_qualidade-status_obtof_310","qualidade-status-header":"_qualidade-status-header_obtof_318","qualidade-status-title":"_qualidade-status-title_obtof_325","qualidade-status-trend":"_qualidade-status-trend_obtof_332","qualidade-status-trend-text":"_qualidade-status-trend-text_obtof_344","qualidade-status-grid":"_qualidade-status-grid_obtof_349","qualidade-status-item":"_qualidade-status-item_obtof_355","qualidade-status-item-icon":"_qualidade-status-item-icon_obtof_359","qualidade-status-item-title":"_qualidade-status-item-title_obtof_371","qualidade-status-item-value":"_qualidade-status-item-value_obtof_377","text-green-600":"_text-green-600_obtof_384","text-blue-600":"_text-blue-600_obtof_385","text-orange-600":"_text-orange-600_obtof_386","text-purple-600":"_text-purple-600_obtof_387","qualidade-search-toggle":"_qualidade-search-toggle_obtof_450","qualidade-search-input":"_qualidade-search-input_obtof_479","qualidade-header-actions":"_qualidade-header-actions_obtof_489","qualidade-search-bar":"_qualidade-search-bar_obtof_514","search-highlight":"_search-highlight_obtof_518",highlightPulse:"_highlightPulse_obtof_1","qualidade-clear-search-btn":"_qualidade-clear-search-btn_obtof_520","qualidade-search-results-title":"_qualidade-search-results-title_obtof_533","qualidade-search-clear":"_qualidade-search-clear_obtof_538","qualidade-search-info":"_qualidade-search-info_obtof_548","qualidade-search-icon":"_qualidade-search-icon_obtof_576","qualidade-search-container":"_qualidade-search-container_obtof_584","qualidade-filter-icon":"_qualidade-filter-icon_obtof_589","qualidade-search-input-wrapper":"_qualidade-search-input-wrapper_obtof_593","qualidade-search-results":"_qualidade-search-results_obtof_533",slideDown:"_slideDown_obtof_1"},Im=p.memo(({card:e})=>m.jsxs("div",{className:`${Lm["qualidade-card"]} ${Lm[`card-${e.trend}`]}`,children:[m.jsxs("div",{className:Lm["qualidade-card-header"],children:[m.jsx("div",{className:`${Lm["qualidade-card-icon"]} ${e.color}`,children:m.jsx(e.icon,{})}),m.jsx("span",{className:`${Lm["qualidade-card-change"]} ${e.change.startsWith("+")?`${Lm["bg-green-100"]} ${Lm["text-green-800"]}`:e.change.startsWith("-")?`${Lm["bg-red-100"]} ${Lm["text-red-800"]}`:`${Lm["bg-gray-100"]} ${Lm["text-gray-800"]}`}`,children:e.change})]}),m.jsx("h3",{className:Lm["qualidade-card-value"],children:e.value}),m.jsx("p",{className:Lm["qualidade-card-title"],children:e.title}),m.jsx("div",{className:Lm["qualidade-card-trend"],children:m.jsx(Ws,{className:Lm[`trend-${e.trend}`]})})]})),Bm=p.memo(({item:e,onItemClick:t})=>{const a=p.useCallback(()=>{t(e.name)},[e.name,t]);return m.jsxs("button",{className:Lm["qualidade-section-item"],onClick:a,title:e.description,children:[m.jsx("div",{className:Lm["qualidade-section-item-icon"],children:m.jsx(e.icon,{})}),m.jsxs("div",{className:Lm["qualidade-section-item-content"],children:[m.jsx("span",{className:Lm["qualidade-section-item-text"],children:e.name}),m.jsx("span",{className:Lm["qualidade-section-item-description"],children:e.description})]})]})}),qm=p.memo(({section:e,searchTerm:t,onItemClick:a})=>m.jsxs("div",{className:`${Lm["qualidade-section-card"]} ${t?Lm["search-highlight"]:""}`,children:[m.jsx("div",{className:`${Lm["qualidade-section-header"]} ${e.color}`,children:m.jsxs("div",{className:Lm["qualidade-section-header-content"],children:[m.jsxs("div",{children:[m.jsx("h3",{className:Lm["qualidade-section-title"],children:e.title}),m.jsxs("p",{className:Lm["qualidade-section-subtitle"],children:[e.items.length," opções disponíveis"]}),m.jsx("span",{className:Lm["qualidade-section-category"],children:e.category})]}),m.jsx(e.icon,{className:Lm["qualidade-section-icon"]})]})}),m.jsx("div",{className:Lm["qualidade-section-body"],children:m.jsx("div",{className:Lm["qualidade-section-items"],children:e.items.map((t,i)=>m.jsx(Bm,{item:t,onItemClick:a},`${e.id}-${i}`))})})]})),Wm=p.memo(()=>{const[e,t]=p.useState(""),[a,i]=p.useState(!1),s=p.useMemo(()=>[{id:"planilhas",title:"Planilhas Certificadas",icon:Yi,color:Lm["bg-green-500"],category:"documentos",items:[{name:"Criar Planilha",icon:Gi,description:" Criar Planilha Certificada"},{name:"Visualizar ou Preencher",icon:Vi,description:"Consultar Dados das Planilhas"}]},{id:"pesquisa",title:"Pesquisa de Satisfação",icon:us,color:Lm["bg-green-600"],category:"pesquisas",items:[{name:"Cadastrar Pesquisa",icon:Cs,description:"Criar nova pesquisa de satisfação"},{name:"Visualizar Pesquisa",icon:Vi,description:"Ver resultados das pesquisas"}]},{id:"copias",title:"Cópias Controladas",icon:Ui,color:Lm["bg-green-500"],category:"documentos",items:[{name:"Registro",icon:ki,description:"Registrar cópias controladas"},{name:"Manifestação",icon:us,description:"Gerenciar manifestações"},{name:"Visualizar",icon:Vi,description:"Consultar cópias registradas"}]},{id:"acreditacao",title:"Acreditação",icon:_i,color:Lm["bg-green-600"],category:"certificações",items:[{name:"Cadastro",icon:Cs,description:"Cadastrar nova acreditação"},{name:"Escopo",icon:Gi,description:"Definir escopo de acreditação"}]},{id:"fornecedor",title:"Fornecedor",icon:Hs,color:Lm["bg-green-500"],category:"fornecedores",items:[{name:"Cadastrar Fornecedor",icon:Cs,description:"Adicionar novo fornecedor"},{name:"Visualizar Fornecedor",icon:Vi,description:"Consultar dados dos fornecedores"},{name:"Visualizar Qualificações",icon:$s,description:"Ver qualificações dos fornecedores"}]},{id:"cabecalho",title:"Cabeçalho",icon:As,color:Lm["bg-green-600"],category:"configurações",items:[{name:"Cadastro",icon:Cs,description:"Configurar cabeçalhos"},{name:"Padrão",icon:Gi,description:"Definir padrões de cabeçalho"}]},{id:"estoque",title:"Estoque",icon:vs,color:Lm["bg-green-500"],category:"estoque",items:[{name:"Cadastrar",icon:Cs,description:"Adicionar itens ao estoque"},{name:"Gerenciar",icon:As,description:"Gerenciar estoque existente"}]},{id:"orcamento",title:"Orçamento",icon:Wi,color:Lm["bg-green-600"],category:"financeiro",items:[{name:"Criar Orçamento",icon:Cs,description:"Elaborar novo orçamento"},{name:"Visualizar",icon:Vi,description:"Consultar orçamentos existentes"}]},{id:"rastreabilidade",title:"Rastreabilidade",icon:Ds,color:Lm["bg-green-500"],category:"controle",items:[{name:"Rastrear Produtos",icon:Ds,description:"Rastrear produtos no sistema"},{name:"Histórico",icon:Gi,description:"Consultar histórico de rastreamento"}]},{id:"sac",title:"SAC",icon:ws,color:Lm["bg-green-600"],category:"atendimento",items:[{name:"Fale Conosco",icon:us,description:"Canal de comunicação"},{name:"Atendimentos",icon:Xs,description:"Gerenciar atendimentos"}]}],[]),n=p.useMemo(()=>[{title:"Pesquisas",value:"24",change:"+12%",icon:us,color:`${Lm["bg-green-100"]} ${Lm["text-green-800"]}`,trend:"positive"},{title:"Manifestações",value:"8",change:"-3%",icon:Fs,color:`${Lm["bg-orange-100"]} ${Lm["text-orange-800"]}`,trend:"negative"},{title:"Qualificações de Fornecedores",value:"156",change:"+8%",icon:$s,color:`${Lm["bg-blue-100"]} ${Lm["text-blue-800"]}`,trend:"positive"},{title:"Estoque Baixo",value:"12",change:"+2",icon:vs,color:`${Lm["bg-red-100"]} ${Lm["text-red-800"]}`,trend:"warning"},{title:"Controle de Insumos",value:"89%",change:"+5%",icon:Ci,color:`${Lm["bg-green-100"]} ${Lm["text-green-800"]}`,trend:"positive"}],[]),o=p.useMemo(()=>{if(!e.trim())return s;const t=e.toLowerCase();return s.filter(e=>{const a=e.title.toLowerCase().includes(t),i=e.category.toLowerCase().includes(t),s=e.items.some(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t));return a||i||s})},[e,s]),r=p.useCallback(()=>{t(""),i(!1)},[]),l=p.useCallback(()=>{i(e=>!e),a&&t("")},[a]),c=p.useCallback(e=>{t(e.target.value)},[]),d=p.useCallback(e=>{switch(e){case"Visualizar ou Preencher":case"Cadastrar Fornecedor":case"Visualizar Pesquisa":default:break;case"Criar Planilha":Xu.openCreatePlanilha()}},[]);return m.jsxs("div",{className:Lm["qualidade-container"],children:[m.jsx("header",{className:Lm["qualidade-header"],children:m.jsx("div",{className:Lm["qualidade-header-content"],children:m.jsxs("div",{className:Lm["qualidade-header-flex"],children:[m.jsxs("div",{className:Lm["qualidade-header-left"],children:[m.jsx("div",{className:Lm["qualidade-icon-container"],children:m.jsx($s,{className:Lm["qualidade-icon"]})}),m.jsxs("div",{children:[m.jsx("h1",{className:Lm["qualidade-title"],children:"Qualidade"}),m.jsx("p",{className:Lm["qualidade-subtitle"],children:"Controle e Gestão da Qualidade"})]})]}),m.jsx("div",{className:Lm["qualidade-header-actions"],children:m.jsx("button",{className:Lm["qualidade-search-toggle"],onClick:l,title:"Pesquisar","aria-label":"Alternar pesquisa",children:m.jsx(Ds,{})})})]})})}),a&&m.jsx("div",{className:Lm["qualidade-search-bar"],children:m.jsxs("div",{className:Lm["qualidade-search-container"],children:[m.jsxs("div",{className:Lm["qualidade-search-input-wrapper"],children:[m.jsx(Ds,{className:Lm["qualidade-search-icon"]}),m.jsx("input",{type:"text",placeholder:"Pesquisar por módulos, funcionalidades ou categorias...",value:e,onChange:c,className:Lm["qualidade-search-input"],autoFocus:!0,"aria-label":"Campo de pesquisa"}),e&&m.jsx("button",{onClick:r,className:Lm["qualidade-search-clear"],title:"Limpar pesquisa","aria-label":"Limpar pesquisa",children:m.jsx(Zs,{})})]}),m.jsxs("div",{className:Lm["qualidade-search-info"],children:[m.jsx(Qi,{className:Lm["qualidade-filter-icon"]}),m.jsxs("span",{children:[o.length," de ",s.length," módulos encontrados"]})]})]})}),m.jsxs("div",{className:Lm["qualidade-main"],children:[m.jsx("div",{className:Lm["qualidade-cards-grid"],children:n.map((e,t)=>m.jsx(Im,{card:e},`card-${t}`))}),e&&m.jsxs("div",{className:Lm["qualidade-search-results"],children:[m.jsxs("h3",{className:Lm["qualidade-search-results-title"],children:['Resultados da pesquisa para "',e,'"']}),0===o.length&&m.jsxs("div",{className:Lm["qualidade-no-results"],children:[m.jsx(Ds,{className:Lm["qualidade-no-results-icon"]}),m.jsx("p",{children:"Nenhum módulo encontrado para sua pesquisa."}),m.jsx("button",{onClick:r,className:Lm["qualidade-clear-search-btn"],children:"Limpar pesquisa"})]})]}),m.jsx("div",{className:Lm["qualidade-menu-grid"],children:o.map(t=>m.jsx(qm,{section:t,searchTerm:e,onItemClick:d},t.id))}),m.jsxs("div",{className:Lm["qualidade-status"],children:[m.jsxs("div",{className:Lm["qualidade-status-header"],children:[m.jsx("h3",{className:Lm["qualidade-status-title"],children:"Status Geral do Sistema"}),m.jsxs("div",{className:Lm["qualidade-status-trend"],children:[m.jsx(Ws,{}),m.jsx("span",{className:Lm["qualidade-status-trend-text"],children:"Tendência Positiva"})]})]}),m.jsxs("div",{className:Lm["qualidade-status-grid"],children:[m.jsxs("div",{className:Lm["qualidade-status-item"],children:[m.jsx("div",{className:`${Lm["qualidade-status-item-icon"]} ${Lm["bg-green-100"]}`,children:m.jsx(Ti,{className:Lm["text-green-600"]})}),m.jsx("h4",{className:Lm["qualidade-status-item-title"],children:"Conformidade"}),m.jsx("p",{className:`${Lm["qualidade-status-item-value"]} ${Lm["text-green-600"]}`,children:"94%"}),m.jsx("div",{className:Lm["qualidade-status-progress"],children:m.jsx("div",{className:`${Lm["qualidade-status-progress-bar"]} ${Lm["progress-green"]}`,style:{width:"94%"}})})]}),m.jsxs("div",{className:Lm["qualidade-status-item"],children:[m.jsx("div",{className:`${Lm["qualidade-status-item-icon"]} ${Lm["bg-blue-100"]}`,children:m.jsx(Xs,{className:Lm["text-blue-600"]})}),m.jsx("h4",{className:Lm["qualidade-status-item-title"],children:"Satisfação"}),m.jsx("p",{className:`${Lm["qualidade-status-item-value"]} ${Lm["text-blue-600"]}`,children:"87%"}),m.jsx("div",{className:Lm["qualidade-status-progress"],children:m.jsx("div",{className:`${Lm["qualidade-status-progress-bar"]} ${Lm["progress-blue"]}`,style:{width:"87%"}})})]}),m.jsxs("div",{className:Lm["qualidade-status-item"],children:[m.jsx("div",{className:`${Lm["qualidade-status-item-icon"]} ${Lm["bg-orange-100"]}`,children:m.jsx(Fs,{className:Lm["text-orange-600"]})}),m.jsx("h4",{className:Lm["qualidade-status-item-title"],children:"Pendências"}),m.jsx("p",{className:`${Lm["qualidade-status-item-value"]} ${Lm["text-orange-600"]}`,children:"6"}),m.jsx("div",{className:Lm["qualidade-status-progress"],children:m.jsx("div",{className:`${Lm["qualidade-status-progress-bar"]} ${Lm["progress-orange"]}`,style:{width:"20%"}})})]}),m.jsxs("div",{className:Lm["qualidade-status-item"],children:[m.jsx("div",{className:`${Lm["qualidade-status-item-icon"]} ${Lm["bg-purple-100"]}`,children:m.jsx(_i,{className:Lm["text-purple-600"]})}),m.jsx("h4",{className:Lm["qualidade-status-item-title"],children:"Certificações"}),m.jsx("p",{className:`${Lm["qualidade-status-item-value"]} ${Lm["text-purple-600"]}`,children:"12"}),m.jsx("div",{className:Lm["qualidade-status-progress"],children:m.jsx("div",{className:`${Lm["qualidade-status-progress-bar"]} ${Lm["progress-purple"]}`,style:{width:"100%"}})})]})]})]})]})]})});Wm.displayName="Qualidade";const Fm="_formulario-cliente-container_173be_5",Hm="_formulario-titulo_173be_31",Vm="_guias-container_173be_40",Um="_guias-header_173be_48",Ym="_guia-btn_173be_54",Gm="_ativa_173be_78",Xm="_guia-conteudo_173be_94",Km="_formulario-conteudo_173be_100",Jm="_form-grid_173be_104",Zm="_form-group_173be_111",Qm="_full-width_173be_117",ep="_erro-texto_173be_157",tp="_radio-group_173be_170",ap="_radio-label_173be_176",ip="_checkbox-grid_173be_192",sp="_checkbox-label_173be_199",np="_categoria-item_173be_229",op="_cobranca-header_173be_240",rp="_btn-copiar_173be_256",lp="_contatos-header_173be_277",cp="_btn-adicionar_173be_291",dp="_contatos-lista_173be_311",hp="_contato-item_173be_317",up="_contato-header_173be_330",mp="_btn-remover_173be_346",pp="_sem-contatos_173be_365",gp="_formulario-acoes_173be_377",fp="_btn-cancelar_173be_387",xp="_btn-salvar_173be_388",bp="_mini-painel-setores-contato_173be_534",vp="_mini-painel-header-contato_173be_549",yp="_mini-painel-titulo_173be_558",_p="_contador-setores-contato_173be_565",jp="_mini-painel-conteudo-contato_173be_578",wp="_mini-setor-item-contato_173be_585",kp="_mini-setor-nome-contato_173be_644",Cp=()=>{const[e,t]=p.useState({isOpen:!1,type:"success",title:"",message:""});return{modal:e,showSuccess:(e,a)=>{t({isOpen:!0,type:"success",title:e,message:a})},showError:(e,a)=>{t({isOpen:!0,type:"error",title:e,message:a})},showWarning:(e,a)=>{t({isOpen:!0,type:"warning",title:e,message:a})},showConfirm:(e,a,i)=>{t({isOpen:!0,type:"confirm",title:e,message:a,onConfirm:i})},closeModal:()=>{t(e=>({...e,isOpen:!1}))}}},Np={"modal-overlay":"_modal-overlay_f6q31_1","modal-content":"_modal-content_f6q31_14","modal-icon":"_modal-icon_f6q31_24","modal-button":"_modal-button_f6q31_40","modal-success":"_modal-success_f6q31_55","modal-error":"_modal-error_f6q31_63","modal-warning":"_modal-warning_f6q31_71","modal-buttons":"_modal-buttons_f6q31_81","modal-button-cancel":"_modal-button-cancel_f6q31_87","modal-button-confirm":"_modal-button-confirm_f6q31_102"},Sp=({isOpen:e,onClose:t,type:a,title:i,message:s,onConfirm:n})=>{if(!e)return null;const o="success"===a?m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#22c55e"}),m.jsx("path",{d:"M9 12l2 2 4-4",stroke:"white",strokeWidth:"2",fill:"none"})]}):"error"===a?m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#ef4444"}),m.jsx("path",{d:"M15 9l-6 6M9 9l6 6",stroke:"white",strokeWidth:"2"})]}):"warning"===a?m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#facc15"}),m.jsx("path",{d:"M12 7v5",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),m.jsx("circle",{cx:"12",cy:"16",r:"1",fill:"white"})]}):"confirm"===a?m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#f50b0bff"}),m.jsx("path",{d:"M12 7v5",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),m.jsx("circle",{cx:"12",cy:"16",r:"1",fill:"white"})]}):null;return m.jsx("div",{className:Np["modal-overlay"],onClick:t,children:m.jsxs("div",{className:`${Np["modal-content"]} ${Np[`modal-${a}`]}`,onClick:e=>e.stopPropagation(),children:[m.jsx("div",{className:Np["modal-icon"],children:o}),m.jsx("h3",{children:i}),m.jsx("p",{children:s}),"confirm"===a?m.jsxs("div",{className:Np["modal-buttons"],children:[m.jsx("button",{onClick:t,className:Np["modal-button-cancel"],children:"Não"}),m.jsx("button",{onClick:n,className:Np["modal-button-confirm"],children:"Sim"})]}):m.jsx("button",{onClick:t,className:Np["modal-button"],children:"OK"})]})})},Mp="_custom-select_1uo0s_1",zp="_select-arrow_1uo0s_5",Dp="_select-trigger_1uo0s_11",Tp="_open_1uo0s_30",Ap="_placeholder_1uo0s_36",$p="_selected_1uo0s_41",Rp="_select-option_1uo0s_50",Pp="_select-dropdown_1uo0s_70",Op=({value:e,onChange:t,options:a,placeholder:i})=>{const[s,n]=p.useState(!1),o=p.useRef(null);p.useEffect(()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&n(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const r=a.find(t=>t.value===e);return m.jsxs("div",{className:Mp,ref:o,children:[m.jsxs("div",{className:`${Dp} ${s?`${Tp}`:""}`,onClick:()=>n(!s),children:[m.jsx("span",{className:r?`${$p}`:`${Ap}`,children:r?r.label:i||"Selecione"}),m.jsx(R,{className:zp})]}),s&&m.jsxs("div",{className:Pp,children:[i&&m.jsx("div",{className:`${Rp} ${Ap}`,onClick:()=>{t(""),n(!1)},children:i}),a.map(a=>m.jsx("div",{className:`${Rp} ${e===a.value?`${$p} `:""}`,onClick:()=>{t(a.value),n(!1)},children:a.label},a.value))]})]})},Ep=({value:e,onChange:t,id:a})=>{const i=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"].map(e=>({value:e,label:e}));return m.jsx(Op,{id:a,value:e,onChange:t,options:i,placeholder:"Selecione..."})},Lp=({value:e,onChange:t,consultores:a,id:i})=>{const s=a.filter(e=>e.ativo).map(e=>({value:e.id.toString(),label:`${e.nome} - ${e.documento}`}));return m.jsx(Op,{id:i,value:e?.toString()||"",onChange:e=>t(e?Number(e):null),options:s,placeholder:"Selecione um consultor..."})},Ip=({value:e,onChange:t,id:a})=>{const i=[],s=(new Date).getFullYear(),n=s-100;for(let o=s;o>=n;o--)i.push({value:String(o),label:String(o)});return m.jsx(Op,{id:a,value:e,onChange:t,options:i})},Bp="_datePickerContainer_fkemz_2",qp="_inputContainer_fkemz_9",Wp="_dateInput_fkemz_16",Fp="_calendarIcon_fkemz_48",Hp="_calendarContainer_fkemz_77",Vp="_calendarBottom_fkemz_91",Up="_calendarTop_fkemz_95",Yp="_calendarHeader_fkemz_111",Gp="_navButton_fkemz_120",Xp="_monthYearContainer_fkemz_141",Kp="_monthName_fkemz_147",Jp="_calendarWeekdays_fkemz_177",Zp="_weekday_fkemz_184",Qp="_calendarGrid_fkemz_193",eg="_calendarDay_fkemz_199",tg="_calendarDayClickable_fkemz_211",ag="_calendarDaySelected_fkemz_222",ig="_calendarDayToday_fkemz_229",sg=({value:e,onChange:t,placeholder:a="dd/mm/aaaa",disabled:i=!1,className:s="",id:n})=>{const[o,r]=p.useState(!1),[l,c]=p.useState(""),[d,h]=p.useState((new Date).getMonth()),[u,g]=p.useState((new Date).getFullYear()),[f,x]=p.useState(null),[b,v]=p.useState("bottom"),y=p.useRef(null),_=p.useRef(null),j=p.useRef(null),w=e=>{if(!e)return"";const t=new Date(e+"T00:00:00");return isNaN(t.getTime())?"":t.toLocaleDateString("pt-BR")},k=e=>{if(!e)return"";const t=e.split("/");if(3!==t.length)return"";const a=parseInt(t[0]),i=parseInt(t[1]),s=parseInt(t[2]);if(C(a,i,s)){return new Date(s,i-1,a).toISOString().split("T")[0]}return""},C=(e,t,a)=>{if(e<1||e>31||t<1||t>12||a<1900||a>2100)return!1;const i=new Date(a,t-1,e);return i.getFullYear()===a&&i.getMonth()===t-1&&i.getDate()===e};p.useEffect(()=>{if(e){const t=w(e);c(t);const a=new Date(e+"T00:00:00");isNaN(a.getTime())||(x(a),h(a.getMonth()),g(a.getFullYear()))}else c(""),x(null)},[e]);p.useEffect(()=>{const e=e=>{y.current&&!y.current.contains(e.target)&&r(!1)};return o&&(document.addEventListener("mousedown",e),(()=>{if(!y.current)return;const e=y.current.getBoundingClientRect(),t=window.innerHeight;e.bottom+350>t&&e.top>350?v("top"):v("bottom")})()),()=>{document.removeEventListener("mousedown",e)}},[o]);const N=e=>{const a=new Date(u,d,e);x(a);const i=a.toISOString().split("T")[0];t(i),c(w(i)),r(!1)},S=e=>{"prev"===e?0===d?(h(11),g(u-1)):h(d-1):11===d?(h(0),g(u+1)):h(d+1)};return m.jsxs("div",{className:`${Bp} ${s}`,ref:y,children:[m.jsxs("div",{className:qp,children:[m.jsx("input",{ref:j,id:n,type:"text",value:l,onChange:e=>{const a=(e=>{const t=e.replace(/\D/g,"");return t.length<=2?t:t.length<=4?`${t.slice(0,2)}/${t.slice(2)}`:`${t.slice(0,2)}/${t.slice(2,4)}/${t.slice(4,8)}`})(e.target.value);if(c(a),10===a.length){const e=k(a);if(e){t(e);const a=new Date(e+"T00:00:00");x(a),h(a.getMonth()),g(a.getFullYear())}}else""===a&&(t(""),x(null))},onBlur:()=>{if(l&&10===l.length){k(l)||(c(""),t(""),x(null))}},placeholder:a,disabled:i,className:Wp,maxLength:10}),m.jsx("button",{type:"button",className:Fp,onClick:()=>{i||r(!o)},disabled:i,children:m.jsx(A,{})})]}),o&&m.jsxs("div",{className:`${Hp} ${"top"===b?Up:Vp}`,ref:_,children:[m.jsxs("div",{className:Yp,children:[m.jsx("button",{type:"button",className:Gp,onClick:()=>S("prev"),children:m.jsx(P,{})}),m.jsxs("div",{className:Xp,children:[m.jsx("span",{className:Kp,children:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][d]}),m.jsx(Ip,{id:"year-select",value:String(u),onChange:e=>{return t=Number(e),void g(t);var t}})]}),m.jsx("button",{type:"button",className:Gp,onClick:()=>S("next"),children:m.jsx(O,{})})]}),m.jsx("div",{className:Jp,children:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"].map(e=>m.jsx("div",{className:Zp,children:e},e))}),m.jsx("div",{className:Qp,children:(()=>{const e=new Date(u,d+1,0).getDate();const t=((e,t)=>new Date(t,e,1).getDay())(d,u),a=[];for(let i=0;i<t;i++)a.push(m.jsx("div",{className:eg},`empty-${i}`));for(let i=1;i<=e;i++){const e=f&&f.getDate()===i&&f.getMonth()===d&&f.getFullYear()===u,t=(new Date).getDate()===i&&(new Date).getMonth()===d&&(new Date).getFullYear()===u;a.push(m.jsx("div",{className:`${eg} ${tg} ${e?ag:""} ${t?ig:""}`,onClick:()=>N(i),children:i},i))}return a})()})]})]})},ng=e=>{const t=e.replace(/\D/g,"");let a;return a=t.length<=10?t.replace(/(\d{2})(\d)/,"($1)$2").replace(/(\d{4})(\d)/,"$1-$2"):t.replace(/(\d{2})(\d)/,"($1)$2").replace(/(\d{5})(\d)/,"$1-$2"),a.slice(0,14)},og=e=>{const t=e.replace(/\D/g,"");return t.length<=11?"CPF":t.length>11?"CNPJ":"nenhum"},rg=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),lg=()=>{const{modal:e,showError:t,showSuccess:a,showWarning:s,closeModal:n}=Cp(),[c,d]=p.useState("geral"),[h,u]=p.useState(null),[g,f]=p.useState(null),[x,b]=p.useState(null),[v,y]=p.useState(!1),[_,j]=p.useState({tipoDocumento:"CPF",documento:"",fantasia:"",razao:"",tipoRegistro:"RG",registro:"",cep:"",endereco:"",numero:"",bairro:"",cidade:"",uf:"",telefone:"",celular:"",email:"",site:"",observacao:"",consultorId:null,setoresPortal:[],ativo:!0}),[w,k]=p.useState({tipoDocumento:"CPF",documento:"",fantasia:"",razao:"",tipoRegistro:"RG",registro:"",cep:"",endereco:"",numero:"",bairro:"",cidade:"",uf:"",telefone:"",celular:"",email:"",site:"",observacao:""}),[C,N]=p.useState([]),[S,M]=p.useState([]),[z,T]=p.useState([]),[A,$]=p.useState([]),[R,P]=p.useState([]),[O,E]=p.useState({}),L=()=>{k({tipoDocumento:_.tipoDocumento,documento:_.documento,fantasia:_.fantasia,razao:_.razao,tipoRegistro:_.tipoRegistro,registro:_.registro,cep:_.cep,endereco:_.endereco,numero:_.numero,bairro:_.bairro,cidade:_.cidade,uf:_.uf,telefone:_.telefone,celular:_.celular,email:_.email,site:_.site,observacao:_.observacao})},B=(e,t,a="geral")=>{const i=`${"cobranca"===a?"cobranca_":""}${e}`;let s="";switch(e){case"documento":const e="cobranca"===a?w.tipoDocumento:_.tipoDocumento;"nenhum"!==e&&t&&("CPF"!==e||(e=>{const t=e.replace(/\D/g,"");if(11!==t.length)return!1;if(/^(\d)\1{10}$/.test(t))return!1;let a=0;for(let s=0;s<9;s++)a+=parseInt(t.charAt(s))*(10-s);let i=11-a%11;if(10!==i&&11!==i||(i=0),i!==parseInt(t.charAt(9)))return!1;a=0;for(let s=0;s<10;s++)a+=parseInt(t.charAt(s))*(11-s);return i=11-a%11,10!==i&&11!==i||(i=0),i===parseInt(t.charAt(10))})(t)?"CNPJ"!==e||(e=>{const t=e.replace(/\D/g,"");if(14!==t.length)return!1;if(/^(\d)\1{13}$/.test(t))return!1;let a=t.length-2,i=t.substring(0,a),s=t.substring(a),n=0,o=a-7;for(let l=a;l>=1;l--)n+=parseInt(i.charAt(a-l))*o--,o<2&&(o=9);let r=n%11<2?0:11-n%11;if(r!==parseInt(s.charAt(0)))return!1;a+=1,i=t.substring(0,a),n=0,o=a-7;for(let l=a;l>=1;l--)n+=parseInt(i.charAt(a-l))*o--,o<2&&(o=9);return r=n%11<2?0:11-n%11,r===parseInt(s.charAt(1))})(t)||(s="CNPJ inválido"):s="CPF inválido");break;case"email":t&&!rg(t)&&(s="Email inválido");break;case"cep":t&&8!==t.replace(/\D/g,"").length&&(s="CEP deve ter 8 dígitos")}return E(e=>({...e,[i]:s})),s},q=(e,t="geral")=>{let a=e;const i=og(e);"CPF"===i?a=(e=>e.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"))(e):"CNPJ"===i&&(a=(e=>e.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"))(e)),"cobranca"===t?k({...w,documento:a,tipoDocumento:i}):j({..._,documento:a,tipoDocumento:i}),B("documento",a,t)},W=(e,t,a="geral")=>{const i=ng(e);"cobranca"===a?k({...w,[t]:i}):j({..._,[t]:i})},F=(e,t="geral")=>{const a=(e=>e.replace(/\D/g,"").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{3})\d+?$/,"$1"))(e);"cobranca"===t?k({...w,cep:a}):j({..._,cep:a}),B("cep",a,t)};p.useEffect(()=>{(async()=>{try{const e=await i("cliente_categoria");e.success&&e.data&&T(e.data);const t=await i("consultor");t.success&&t.data&&$(t.data);const a=await i("setor_portal");a.success&&a.data&&P(a.data)}catch(e){}})();let e;return(async()=>{try{return await o("category-updated",async()=>{try{const e=await i("cliente_categoria");e.success&&e.data&&T(e.data)}catch(e){}})}catch(e){}})().then(t=>{e=t}),()=>{e&&e()}},[]),p.useEffect(()=>{let e;return(async()=>{try{e=await o("window-data",e=>{const t=e.payload;t&&H(t)}),await r("window-ready")}catch(t){}})(),()=>{e&&e()}},[]);const H=e=>{try{if("cliente_precadastro"===e.origem&&e.id){b(e.id),y(!0);(async e=>{try{const t=await i("get_cliente_data",{clientId:e});if(t.success&&t.data){const e=t.data;j({tipoDocumento:e.dados_gerais.tipo_documento||"CPF",documento:e.dados_gerais.documento||"",fantasia:e.dados_gerais.fantasia||"",razao:e.dados_gerais.razao||"",tipoRegistro:e.dados_gerais.tipo_registro||"RG",registro:e.dados_gerais.registro||"",cep:e.dados_gerais.cep||"",endereco:e.dados_gerais.endereco||"",numero:e.dados_gerais.numero||"",bairro:e.dados_gerais.bairro||"",cidade:e.dados_gerais.cidade||"",uf:e.dados_gerais.uf||"",telefone:e.dados_gerais.telefone||"",celular:e.dados_gerais.celular||"",email:e.dados_gerais.email||"",site:e.dados_gerais.site||"",observacao:e.dados_gerais.observacao||"",consultorId:e.dados_gerais.consultor_id||null,setoresPortal:e.dados_gerais.setores_portal||[],ativo:void 0===e.dados_gerais.ativo||e.dados_gerais.ativo}),k({tipoDocumento:e.dados_cobranca.tipo_documento||"CPF",documento:e.dados_cobranca.documento||"",fantasia:e.dados_cobranca.fantasia||"",razao:e.dados_cobranca.razao||"",tipoRegistro:e.dados_cobranca.tipo_registro||"RG",registro:e.dados_cobranca.registro||"",cep:e.dados_cobranca.cep||"",endereco:e.dados_cobranca.endereco||"",numero:e.dados_cobranca.numero||"",bairro:e.dados_cobranca.bairro||"",cidade:e.dados_cobranca.cidade||"",uf:e.dados_cobranca.uf||"",telefone:e.dados_cobranca.telefone||"",celular:e.dados_cobranca.celular||"",email:e.dados_cobranca.email||"",site:e.dados_cobranca.site||"",observacao:e.dados_cobranca.observacao||""}),N(e.categorias||[]),M(e.contatos_existentes.map(e=>({id:e.id.toString(),nome:e.nome||"",cargo:e.cargo||"",email:e.email||"",telefone:e.telefone||"",dataNascimento:e.data_nascimento?e.data_nascimento.split("T")[0]:"",setoresContato:e.setores_contato||[]})))}}catch(t){}})(e.id)}else{const t=e.documento?og(e.documento):"CPF";j(a=>({...a,fantasia:e.nome_cliente||"",razao:e.nome_cliente||"",documento:e.documento||"",telefone:e.telefone||"",email:e.email||"",tipoDocumento:t})),u(e.origem),f(e.id)}}catch(t){}},V=()=>{const e={id:`new_${Date.now()}`,nome:"",cargo:"",email:"",telefone:"",dataNascimento:"",setoresContato:[]};M([...S,e])},U=(e,t,a)=>{let i=a;if("telefone"===t&&(i=ng(a)),M(S.map(a=>a.id===e?{...a,[t]:i}:a)),"email"===t&&a){const t=`contato_${e}_email`,i=rg(a)?"":"Email inválido";E(e=>({...e,[t]:i}))}},Y=p.useCallback(async()=>{try{await Xu.openCadastrarCategoria()}catch(e){}},[]);return m.jsxs("div",{className:Fm,children:[m.jsx("h1",{className:Hm,children:"Cadastro de Cliente"}),m.jsxs("div",{className:Vm,children:[m.jsxs("div",{className:Um,children:[m.jsxs("button",{className:`${Ym} ${"geral"===c?Gm:""}`,onClick:()=>d("geral"),children:[m.jsx(ue,{})," Dados Gerais"]}),m.jsxs("button",{className:`${Ym} ${"cobranca"===c?Gm:""}`,onClick:()=>d("cobranca"),children:[m.jsx(K,{})," Cobrança"]}),m.jsxs("button",{className:`${Ym} ${"categorias"===c?Gm:""}`,onClick:()=>d("categorias"),children:[m.jsx(ne,{})," Categorias"]}),m.jsxs("button",{className:`${Ym} ${"contatos"===c?Gm:""}`,onClick:()=>d("contatos"),children:[m.jsx(D,{})," Contatos"]})]}),m.jsxs("div",{className:Xm,children:["geral"===c&&m.jsx("div",{className:Km,children:m.jsxs("div",{className:Jm,children:[m.jsx("div",{className:Zm,style:{gridColumn:"1 / -1",marginBottom:"1rem"},children:m.jsx("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",gap:"0.5rem"},children:m.jsxs("label",{style:{fontWeight:600,color:"#374151",fontSize:"0.95rem"},children:[m.jsx("input",{type:"checkbox",checked:_.ativo,onChange:e=>j({..._,ativo:e.target.checked}),style:{width:"18px",height:"18px",accentColor:"#4F46E5",marginRight:"0.5rem"}}),"Ativo"]})})}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Tipo de Documento"}),m.jsxs("div",{className:tp,children:[m.jsxs("label",{className:ap,children:[m.jsx("input",{type:"radio",name:"tipoDocumento",value:"CPF",checked:"CPF"===_.tipoDocumento,onChange:e=>j({..._,tipoDocumento:e.target.value})}),"CPF"]}),m.jsxs("label",{className:ap,children:[m.jsx("input",{type:"radio",name:"tipoDocumento",value:"CNPJ",checked:"CNPJ"===_.tipoDocumento,onChange:e=>j({..._,tipoDocumento:e.target.value})}),"CNPJ"]}),m.jsxs("label",{className:ap,children:[m.jsx("input",{type:"radio",name:"tipoDocumento",value:"nenhum",checked:"nenhum"===_.tipoDocumento,onChange:e=>j({..._,tipoDocumento:e.target.value})}),"Nenhum"]})]})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Documento"}),m.jsx("input",{type:"text",value:_.documento,onChange:e=>q(e.target.value,"geral"),disabled:"nenhum"===_.tipoDocumento,placeholder:"CPF"===_.tipoDocumento?"000.000.000-00":"CNPJ"===_.tipoDocumento?"00.000.000/0000-00":"",className:O.documento?"erro":""}),O.documento&&m.jsx("span",{className:ep,children:O.documento})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Fantasia"}),m.jsx("input",{type:"text",value:_.fantasia,onChange:e=>j({..._,fantasia:e.target.value})})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Razão Social"}),m.jsx("input",{type:"text",value:_.razao,onChange:e=>j({..._,razao:e.target.value})})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Tipo de Registro"}),m.jsxs("div",{className:tp,children:[m.jsxs("label",{className:ap,children:[m.jsx("input",{type:"radio",name:"tipoRegistro",value:"IE",checked:"IE"===_.tipoRegistro,onChange:e=>j({..._,tipoRegistro:e.target.value})}),"IE"]}),m.jsxs("label",{className:ap,children:[m.jsx("input",{type:"radio",name:"tipoRegistro",value:"RG",checked:"RG"===_.tipoRegistro,onChange:e=>j({..._,tipoRegistro:e.target.value})}),"RG"]})]})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Registro"}),m.jsx("input",{type:"text",value:_.registro,onChange:e=>j({..._,registro:e.target.value})})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"CEP"}),m.jsx("input",{type:"text",value:_.cep,onChange:e=>F(e.target.value,"geral"),placeholder:"00000-000",className:O.cep?"erro":""}),O.cep&&m.jsx("span",{className:ep,children:O.cep})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Endereço"}),m.jsx("input",{type:"text",value:_.endereco,onChange:e=>j({..._,endereco:e.target.value})})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Número"}),m.jsx("input",{type:"text",value:_.numero,onChange:e=>j({..._,numero:e.target.value})})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Bairro"}),m.jsx("input",{type:"text",value:_.bairro,onChange:e=>j({..._,bairro:e.target.value})})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Cidade"}),m.jsx("input",{type:"text",value:_.cidade,onChange:e=>j({..._,cidade:e.target.value})})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"UF"}),m.jsx(Ep,{id:"uf-gerais",value:_.uf,onChange:e=>j({..._,uf:e})})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Telefone"}),m.jsx("input",{type:"text",value:_.telefone,onChange:e=>W(e.target.value,"telefone","geral"),placeholder:"(00) 0000-0000"})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Celular"}),m.jsx("input",{type:"text",value:_.celular,onChange:e=>W(e.target.value,"celular","geral"),placeholder:"(00) 00000-0000"})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Email"}),m.jsx("input",{type:"email",value:_.email,onChange:e=>{j({..._,email:e.target.value}),B("email",e.target.value,"geral")},className:O.email?"erro":""}),O.email&&m.jsx("span",{className:ep,children:O.email})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Site"}),m.jsx("input",{type:"url",value:_.site,onChange:e=>j({..._,site:e.target.value})})]}),m.jsxs("div",{className:`${Zm} ${Qm}`,children:[m.jsx("label",{children:"Observação"}),m.jsx("textarea",{value:_.observacao,onChange:e=>j({..._,observacao:e.target.value}),rows:4})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Consultor"}),m.jsx(Lp,{id:"consultor-gerais",value:_.consultorId,onChange:e=>j({..._,consultorId:e}),consultores:A})]}),m.jsxs("div",{className:`${Zm} ${Qm}`,children:[m.jsx("label",{children:"Setores Portal"}),m.jsx("div",{className:ip,children:R.map(e=>m.jsxs("label",{className:sp,children:[m.jsx("input",{type:"checkbox",checked:_.setoresPortal.includes(e.id),onChange:()=>{return t=e.id,void j(e=>({...e,setoresPortal:e.setoresPortal.includes(t)?e.setoresPortal.filter(e=>e!==t):[...e.setoresPortal,t]}));var t}}),e.nome]},e.id))})]})]})}),"cobranca"===c&&m.jsxs("div",{className:Km,children:[m.jsxs("div",{className:op,children:[m.jsx("h3",{children:"Dados de Cobrança"}),m.jsxs("button",{type:"button",className:rp,onClick:L,title:"Copiar dados gerais para cobrança",children:[m.jsx(I,{})," Copiar Dados Gerais"]})]}),m.jsxs("div",{className:Jm,children:[m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Tipo de Documento"}),m.jsxs("div",{className:tp,children:[m.jsxs("label",{className:ap,children:[m.jsx("input",{type:"radio",name:"tipoDocumentoCobranca",value:"CPF",checked:"CPF"===w.tipoDocumento,onChange:e=>k({...w,tipoDocumento:e.target.value})}),"CPF"]}),m.jsxs("label",{className:ap,children:[m.jsx("input",{type:"radio",name:"tipoDocumentoCobranca",value:"CNPJ",checked:"CNPJ"===w.tipoDocumento,onChange:e=>k({...w,tipoDocumento:e.target.value})}),"CNPJ"]}),m.jsxs("label",{className:ap,children:[m.jsx("input",{type:"radio",name:"tipoDocumentoCobranca",value:"nenhum",checked:"nenhum"===w.tipoDocumento,onChange:e=>k({...w,tipoDocumento:e.target.value})}),"Nenhum"]})]})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Documento"}),m.jsx("input",{type:"text",value:w.documento,onChange:e=>q(e.target.value,"cobranca"),disabled:"nenhum"===w.tipoDocumento,placeholder:"CPF"===w.tipoDocumento?"000.000.000-00":"CNPJ"===w.tipoDocumento?"00.000.000/0000-00":"",className:O.cobranca_documento?"erro":""}),O.cobranca_documento&&m.jsx("span",{className:ep,children:O.cobranca_documento})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Fantasia"}),m.jsx("input",{type:"text",value:w.fantasia,onChange:e=>k({...w,fantasia:e.target.value})})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Razão Social"}),m.jsx("input",{type:"text",value:w.razao,onChange:e=>k({...w,razao:e.target.value})})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Tipo de Registro"}),m.jsxs("div",{className:tp,children:[m.jsxs("label",{className:ap,children:[m.jsx("input",{type:"radio",name:"tipoRegistroCobranca",value:"IE",checked:"IE"===w.tipoRegistro,onChange:e=>k({...w,tipoRegistro:e.target.value})}),"IE"]}),m.jsxs("label",{className:ap,children:[m.jsx("input",{type:"radio",name:"tipoRegistroCobranca",value:"RG",checked:"RG"===w.tipoRegistro,onChange:e=>k({...w,tipoRegistro:e.target.value})}),"RG"]})]})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Registro"}),m.jsx("input",{type:"text",value:w.registro,onChange:e=>k({...w,registro:e.target.value})})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"CEP"}),m.jsx("input",{type:"text",value:w.cep,onChange:e=>F(e.target.value,"cobranca"),placeholder:"00000-000",className:O.cobranca_cep?"erro":""}),O.cobranca_cep&&m.jsx("span",{className:ep,children:O.cobranca_cep})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Endereço"}),m.jsx("input",{type:"text",value:w.endereco,onChange:e=>k({...w,endereco:e.target.value})})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Número"}),m.jsx("input",{type:"text",value:w.numero,onChange:e=>k({...w,numero:e.target.value})})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Bairro"}),m.jsx("input",{type:"text",value:w.bairro,onChange:e=>k({...w,bairro:e.target.value})})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Cidade"}),m.jsx("input",{type:"text",value:w.cidade,onChange:e=>k({...w,cidade:e.target.value})})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"UF"}),m.jsx(Ep,{id:"uf-cobranca",value:w.uf,onChange:e=>k({...w,uf:e})})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Telefone"}),m.jsx("input",{type:"text",value:w.telefone,onChange:e=>W(e.target.value,"telefone","cobranca"),placeholder:"(00) 0000-0000"})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Celular"}),m.jsx("input",{type:"text",value:w.celular,onChange:e=>W(e.target.value,"celular","cobranca"),placeholder:"(00) 0000-0000"})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Email"}),m.jsx("input",{type:"email",value:w.email,onChange:e=>{k({...w,email:e.target.value}),B("email",e.target.value,"cobranca")},className:O.cobranca_email?"erro":""}),O.cobranca_email&&m.jsx("span",{className:ep,children:O.cobranca_email})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Site"}),m.jsx("input",{type:"url",value:w.site,onChange:e=>k({...w,site:e.target.value})})]}),m.jsxs("div",{className:`${Zm} ${Qm}`,children:[m.jsx("label",{children:"Observação"}),m.jsx("textarea",{value:w.observacao,onChange:e=>k({...w,observacao:e.target.value}),rows:4})]})]})]}),"categorias"===c&&m.jsxs("div",{className:Km,children:[m.jsxs("div",{className:lp,children:[m.jsx("h3",{children:"Selecione as Categorias"}),m.jsx("button",{className:cp,onClick:()=>Y(),type:"button",children:m.jsx("span",{children:"+"})})]}),m.jsx("div",{className:ip,children:z.map(e=>m.jsxs("label",{className:`${sp} ${np}`,children:[m.jsx("input",{type:"checkbox",checked:C.includes(e.id),onChange:()=>{return t=e.id,void N(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t}}),e.nome]},e.id))})]}),"contatos"===c&&m.jsxs("div",{className:Km,children:[m.jsxs("div",{className:lp,children:[m.jsx("h3",{children:"Contatos"}),m.jsxs("button",{type:"button",className:cp,onClick:V,children:[m.jsx(Z,{})," Adicionar Contato"]})]}),m.jsxs("div",{className:dp,children:[S.map((e,t)=>m.jsxs("div",{className:hp,children:[m.jsxs("div",{className:up,children:[m.jsxs("h4",{children:["Contato ",t+1]}),m.jsx("button",{type:"button",className:mp,onClick:()=>{return t=e.id,void M(S.filter(e=>e.id!==t));var t},children:m.jsx(ce,{})})]}),m.jsxs("div",{className:Jm,children:[m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Nome"}),m.jsx("input",{type:"text",value:e.nome,onChange:t=>U(e.id,"nome",t.target.value)})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Cargo"}),m.jsx("input",{type:"text",value:e.cargo,onChange:t=>U(e.id,"cargo",t.target.value)})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Email"}),m.jsx("input",{type:"email",value:e.email,onChange:t=>U(e.id,"email",t.target.value),className:O[`contato_${e.id}_email`]?"erro":""}),O[`contato_${e.id}_email`]&&m.jsx("span",{className:ep,children:O[`contato_${e.id}_email`]})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Telefone"}),m.jsx("input",{type:"text",value:e.telefone,onChange:t=>U(e.id,"telefone",t.target.value),placeholder:"(00) 00000-0000"})]}),m.jsxs("div",{className:Zm,children:[m.jsx("label",{children:"Data de Nascimento"}),m.jsx(sg,{value:e.dataNascimento,onChange:t=>U(e.id,"dataNascimento",t),placeholder:"dd/mm/aaaa"})]}),_.setoresPortal.length>0&&m.jsxs("div",{className:`${Zm} ${Qm}`,children:[m.jsx("label",{children:"Setores Portal para este Contato"}),m.jsxs("div",{className:bp,children:[m.jsxs("div",{className:vp,children:[m.jsx("span",{className:yp,children:"Setores Disponíveis"}),m.jsxs("span",{className:_p,children:[e.setoresContato.length,"/",_.setoresPortal.length]})]}),m.jsx("div",{className:jp,children:R.filter(e=>_.setoresPortal.includes(e.id)).map(t=>m.jsxs("label",{className:wp,children:[m.jsx("input",{type:"checkbox",checked:e.setoresContato.includes(t.id),onChange:()=>{return a=e.id,i=t.id,void M(e=>e.map(e=>e.id===a?{...e,setoresContato:e.setoresContato.includes(i)?e.setoresContato.filter(e=>e!==i):[...e.setoresContato,i]}:e));var a,i}}),m.jsx("span",{className:kp,children:t.nome})]},t.id))})]})]})]})]},e.id)),0===S.length&&m.jsx("div",{className:pp,children:m.jsx("p",{children:'Nenhum contato adicionado. Clique em "Adicionar Contato" para começar.'})})]})]})]})]}),m.jsxs("div",{className:gp,children:[m.jsx("button",{type:"button",className:fp,onClick:async()=>{const e=l();await e.close()},children:"Cancelar"}),m.jsx("button",{type:"button",className:xp,onClick:async()=>{try{if(!(()=>{const e={};return _.documento.trim()||(e.documento="Documento é obrigatório"),_.fantasia.trim()||(e.fantasia="Fantasia é obrigatória"),_.razao.trim()||(e.razao="Razão Social é obrigatória"),w.documento.trim()||(e.cobranca_documento="Documento de cobrança é obrigatório"),w.fantasia.trim()||(e.cobranca_fantasia="Fantasia de cobrança é obrigatória"),w.razao.trim()||(e.cobranca_razao="Razão Social de cobrança é obrigatória"),E(e),0===Object.keys(e).length})())return void s("Erro "+(v?"na Edição":"no Cadastro"),"Por favor, preencha todos os campos obrigatórios.");const e={dados:{cliente_id:x,dados_gerais:{tipo_documento:_.tipoDocumento,documento:_.documento,fantasia:_.fantasia,razao:_.razao,tipo_registro:_.tipoRegistro,registro:_.registro||null,cep:_.cep||null,endereco:_.endereco||null,numero:_.numero||null,bairro:_.bairro||null,cidade:_.cidade||null,uf:_.uf||null,telefone:_.telefone||null,celular:_.celular||null,email:_.email||null,site:_.site||null,observacao:_.observacao||null,consultor_id:_.consultorId||null,setores_portal:_.setoresPortal||null,origem:h||null,id_pre_cad:g||0,ativo:_.ativo},dados_cobranca:{tipo_documento:w.tipoDocumento,documento:w.documento,fantasia:w.fantasia,razao:w.razao,tipo_registro:w.tipoRegistro,registro:w.registro||null,cep:w.cep||null,endereco:w.endereco||null,numero:w.numero||null,bairro:w.bairro||null,cidade:w.cidade||null,uf:w.uf||null,telefone:w.telefone||null,celular:w.celular||null,email:w.email||null,site:w.site||null,observacao:w.observacao||null},categorias:C,contatos:S.map(e=>({id:e.id.startsWith("new_")?null:parseInt(e.id),nome:e.nome,cargo:e.cargo||null,email:e.email||null,telefone:e.telefone||null,data_nascimento:e.dataNascimento||null,setores_contato:e.setoresContato||[]}))}};(await i(v?"editar_cliente":"salvar_cliente",e)).success?(a("Sucesso "+(v?"na Edição":"no Cadastro"),`Cliente ${v?"editado":"salvo"} com sucesso!`),u(null),f(null),b(null),y(!1),j({tipoDocumento:"CPF",documento:"",fantasia:"",razao:"",tipoRegistro:"RG",registro:"",cep:"",endereco:"",numero:"",bairro:"",cidade:"",uf:"",telefone:"",celular:"",email:"",site:"",observacao:"",consultorId:null,setoresPortal:[],ativo:!0}),k({tipoDocumento:"CPF",documento:"",fantasia:"",razao:"",tipoRegistro:"RG",registro:"",cep:"",endereco:"",numero:"",bairro:"",cidade:"",uf:"",telefone:"",celular:"",email:"",site:"",observacao:""}),N([]),M([])):t("Erro "+(v?"na Edição":"no Cadastro"),`Erro ao ${v?"editar":"salvar"} cliente`)}catch(e){t("Erro "+(v?"na Edição":"no Cadastro"),`Erro ao ${v?"editar":"salvar"} cliente\n`+String(e))}},children:v?"Editar Cliente":"Salvar Cliente"})]}),m.jsx(Sp,{...e,onClose:n})]})},cg="_search-layout_1dieb_1",dg="_search-header_1dieb_9",hg="_toggle-button_1dieb_15",ug="_main-search-container_1dieb_41",mg="_search-input-wrapper_1dieb_46",pg="_search-icon_1dieb_52",gg="_main-search-input_1dieb_60",fg="_clear-button_1dieb_76",xg="_search-dropdown_1dieb_93",bg="_dropdown-item_1dieb_108",vg="_loading_1dieb_123",yg="_cliente-info_1dieb_133",_g="_cliente-name_1dieb_139",jg="_cliente-details_1dieb_145",wg="_documento_1dieb_152",kg="_location_1dieb_156",Cg="_advanced-search-container_1dieb_161",Ng="_search-fields-grid_1dieb_167",Sg="_search-field_1dieb_167",Mg="_field-label_1dieb_179",zg="_field-input_1dieb_185",Dg="_custom-select_1dieb_205",Tg="_select-trigger_1dieb_209",Ag="_open_1dieb_226",$g="_placeholder_1dieb_231",Rg="_selected_1dieb_235",Pg="_select-arrow_1dieb_239",Og="_select-dropdown_1dieb_249",Eg="_select-option_1dieb_265",Lg="_search-actions_1dieb_286",Ig="_search-button_1dieb_292",Bg="_primary_1dieb_305",qg="_secondary_1dieb_316",Wg=({value:e,onChange:t,options:a,placeholder:i})=>{const[s,n]=p.useState(!1),o=p.useRef(null);p.useEffect(()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&n(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const r=a.find(t=>t.value===e);return m.jsxs("div",{className:Dg,ref:o,children:[m.jsxs("div",{className:`${Tg} ${s?`${Ag}`:""}`,onClick:()=>n(!s),children:[m.jsx("span",{className:r?`${Rg}`:`${$g}`,children:r?r.label:i}),m.jsx(R,{className:Pg})]}),s&&m.jsxs("div",{className:Og,children:[m.jsx("div",{className:`${Eg} ${$g}`,onClick:()=>{t(""),n(!1)},children:i}),a.map(a=>m.jsx("div",{className:`${Eg} ${e===a.value?`${Rg}`:""}`,onClick:()=>{t(a.value),n(!1)},children:a.label},a.value))]})]})},Fg=({fields:e=[],onSearch:t,onClear:a,dropdownSearch:i={enabled:!1}})=>{const[s,n]=p.useState(!1),[o,r]=p.useState(""),[l,c]=p.useState([]),[d,h]=p.useState(!1),[u,g]=p.useState(!1),[f,x]=p.useState({}),b=p.useRef(null),v=i.enabled&&e.length>0;p.useEffect(()=>{const e=e=>{b.current&&!b.current.contains(e.target)&&h(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const y=(e,t)=>{x(a=>({...a,[e]:t}))},_=()=>{x({}),r(""),h(!1),a&&a()},j=e=>{if(!e)return"";const t=e.replace(/\D/g,"");return 11===t.length?t.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):14===t.length?t.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):e};return i.enabled||0!==e.length?m.jsxs("div",{className:cg,children:[v&&m.jsx("div",{className:dg,children:m.jsx("div",{className:"search-toggle",children:m.jsxs("button",{className:hg,onClick:()=>{n(!s),s?x({}):(r(""),h(!1))},title:s?"Busca simples":"Busca avançada",children:[s?m.jsx(le,{}):m.jsx(re,{}),m.jsx("span",{children:s?"Busca Avançada":"Busca Simples"})]})})}),i.enabled&&(!v||!s)&&m.jsxs("div",{className:ug,ref:b,children:[m.jsxs("div",{className:mg,children:[m.jsx(ee,{className:pg}),m.jsx("input",{type:"text",className:gg,placeholder:i.placeholder||"Buscar...",value:o,onChange:e=>(async e=>{if(r(e),e.trim().length>=2&&i.onSearch){g(!0);try{const t=await i.onSearch(e);c(t),h(t.length>0)}catch(t){c([]),h(!1)}finally{g(!1)}}else c([]),h(!1)})(e.target.value),onFocus:()=>{l.length>0&&h(!0)}}),o&&m.jsx("button",{className:fg,onClick:_,title:"Limpar busca",children:m.jsx(oe,{})})]}),d&&m.jsx("div",{className:xg,children:u?m.jsx("div",{className:`${bg} ${vg}`,children:m.jsx("span",{children:"Buscando..."})}):l.map(e=>m.jsx("div",{className:bg,onClick:()=>(e=>{r(e.fantasia||e.razao||""),h(!1),i.onSelect&&i.onSelect(e)})(e),children:m.jsxs("div",{className:yg,children:[m.jsx("div",{className:_g,children:e.fantasia||e.razao||"Nome não informado"}),m.jsxs("div",{className:jg,children:[e.documento&&m.jsx("span",{className:wg,children:j(e.documento)}),e.cidade&&e.uf&&m.jsxs("span",{className:kg,children:[e.cidade," / ",e.uf]})]})]})},e.id))})]}),e.length>0&&(!v||s)&&m.jsxs("div",{className:Cg,children:[m.jsx("div",{className:Ng,children:e.map(e=>m.jsxs("div",{className:Sg,children:[m.jsx("label",{htmlFor:e.name,className:Mg,children:e.label}),"select"===e.type?m.jsx(Wg,{id:e.name,value:f[e.name]||"",onChange:t=>y(e.name,t),options:e.options||[],placeholder:"Selecione..."}):m.jsx("input",{id:e.name,type:"text",className:zg,placeholder:`Digite ${e.label.toLowerCase()}...`,value:f[e.name]||"",onChange:t=>y(e.name,t.target.value)})]},e.name))}),m.jsxs("div",{className:Lg,children:[m.jsxs("button",{className:`${Ig} ${Bg}`,onClick:()=>{t&&t(f)},children:[m.jsx(ee,{}),"Buscar"]}),m.jsxs("button",{className:`${Ig} ${qg}`,onClick:_,children:[m.jsx(oe,{}),"Limpar"]})]})]})]}):null},Hg="_visualizar-clientes-container_1srgh_1",Vg="_page-header_1srgh_27",Ug="_page-title_1srgh_34",Yg="_page-stats_1srgh_41",Gg="_stats-text_1srgh_46",Xg="_loading-container_1srgh_55",Kg="_loading-spinner_1srgh_64",Jg="_clientes-grid_1srgh_81",Zg="_cliente-card_1srgh_89",Qg="_card-header_1srgh_103",ef="_cliente-avatar_1srgh_112",tf="_cliente-main-info_1srgh_125",af="_cliente-name_1srgh_130",sf="_cliente-document_1srgh_139",nf="_card-body_1srgh_149",of="_info-item_1srgh_156",rf="_info-icon_1srgh_164",lf="_info-label_1srgh_171",cf="_card-actions_1srgh_177",df="_action-button_1srgh_185",hf="_view_1srgh_200",uf="_edit_1srgh_210",mf="_pagination-container_1srgh_221",pf="_pagination_1srgh_221",gf="_pagination-button_1srgh_238",ff="_pagination-info_1srgh_263",xf="_items-info_1srgh_276",bf="_empty-state_1srgh_283",vf="_empty-icon_1srgh_293",yf="_page-input_1srgh_410",_f="_page-group_1srgh_425",jf=()=>{const[e,t]=p.useState([]),[a,s]=p.useState([]),[n,o]=p.useState([]),[r,l]=p.useState(!1),[c,d]=p.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:30}),[h,u]=p.useState({}),g=[{name:"fantasia",label:"Fantasia",type:"text"},{name:"razao",label:"Razão Social",type:"text"},{name:"cnpj",label:"CNPJ",type:"text"},{name:"cpf",label:"CPF",type:"text"},{name:"cidade",label:"Cidade",type:"text"},{name:"uf",label:"UF",type:"select",options:[{value:"AC",label:"Acre"},{value:"AL",label:"Alagoas"},{value:"AP",label:"Amapá"},{value:"AM",label:"Amazonas"},{value:"BA",label:"Bahia"},{value:"CE",label:"Ceará"},{value:"DF",label:"Distrito Federal"},{value:"ES",label:"Espírito Santo"},{value:"GO",label:"Goiás"},{value:"MA",label:"Maranhão"},{value:"MT",label:"Mato Grosso"},{value:"MS",label:"Mato Grosso do Sul"},{value:"MG",label:"Minas Gerais"},{value:"PA",label:"Pará"},{value:"PB",label:"Paraíba"},{value:"PR",label:"Paraná"},{value:"PE",label:"Pernambuco"},{value:"PI",label:"Piauí"},{value:"RJ",label:"Rio de Janeiro"},{value:"RN",label:"Rio Grande do Norte"},{value:"RS",label:"Rio Grande do Sul"},{value:"RO",label:"Rondônia"},{value:"RR",label:"Roraima"},{value:"SC",label:"Santa Catarina"},{value:"SP",label:"São Paulo"},{value:"SE",label:"Sergipe"},{value:"TO",label:"Tocantins"}]},{name:"categoria",label:"Categoria",type:"select",options:e.map(e=>({value:e.id.toString(),label:e.nome}))},{name:"consultor",label:"Consultor",type:"select",options:a.map(e=>({value:e.id.toString(),label:e.nome}))}],f={enabled:!0,placeholder:"Buscar por fantasia, razão social ou documento...",onSearch:async function(e){try{const t=await i("buscar_clientes_dropdown",{query:e.trim()});return t.success&&t.data?t.data:[]}catch(t){return[]}},onSelect:function(e){o([e]),d(e=>({...e,currentPage:1,totalPages:1,totalItems:1})),u({})}};p.useEffect(()=>{v({},1),x(),b()},[]);const x=async()=>{try{const e=await i("buscar_categorias");e.success&&e.data&&t(e.data)}catch(e){}},b=async()=>{try{const e=await i("buscar_consultores");e.success&&e.data&&s(e.data)}catch(e){}},v=async(e,t=1)=>{l(!0);try{const a=await i("buscar_clientes_filtros",{filters:e,page:t,limit:c.itemsPerPage});a.success&&a.data?(o(a.data),d(e=>({...e,currentPage:t,totalItems:a.total||0,totalPages:Math.ceil((a.total||0)/e.itemsPerPage)})),u(e)):o([])}catch(a){o([])}finally{l(!1)}};const y=p.useCallback(e=>{const t={};Object.keys(e).forEach(a=>{e[a]?.trim()&&(t[a]=e[a].trim())}),v(t,1)},[]);const _=e=>{e>=1&&e<=c.totalPages&&v(h,e)},j=e=>{if(!e)return"";const t=e.replace(/\D/g,"");return 11===t.length?t.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):14===t.length?t.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):e},w=e=>{if(!e)return"";const t=e.replace(/\D/g,"");return 11===t.length?t.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):10===t.length?t.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):e},k=p.useCallback(async e=>{try{const t={id:e.id,origem:"cliente_precadastro"};await Xu.openCadastroClientes(t)}catch(t){localStorage.setItem("clientePreenchimento",JSON.stringify(e))}},[]);return m.jsxs("div",{className:Hg,children:[m.jsxs("div",{className:Vg,children:[m.jsx("h1",{className:Ug,children:"Visualizar Clientes"}),m.jsx("div",{className:Yg,children:c.totalItems>0&&m.jsxs("span",{className:Gg,children:[c.totalItems," cliente",1!==c.totalItems?"s":""," encontrado",1!==c.totalItems?"s":""]})})]}),m.jsx(Fg,{fields:g,onSearch:y,onClear:()=>{v({},1)},dropdownSearch:f}),r?m.jsxs("div",{className:Xg,children:[m.jsx("div",{className:Kg}),m.jsx("span",{children:"Carregando clientes..."})]}):m.jsx(m.Fragment,{children:n.length>0?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:Jg,children:n.map(e=>m.jsxs("div",{className:Zg,children:[m.jsxs("div",{className:Qg,children:[m.jsx("div",{className:ef,children:m.jsx(ue,{})}),m.jsxs("div",{className:tf,children:[m.jsx("h3",{className:af,children:e.fantasia||e.razao||"Nome não informado"}),e.documento&&m.jsx("span",{className:sf,children:j(e.documento)})]})]}),m.jsxs("div",{className:nf,children:[e.telefone&&m.jsxs("div",{className:of,children:[m.jsx(J,{className:rf}),m.jsx("span",{children:w(e.telefone)})]}),e.email&&m.jsxs("div",{className:of,children:[m.jsx(q,{className:rf}),m.jsx("span",{children:e.email})]}),(e.cidade||e.uf)&&m.jsxs("div",{className:of,children:[m.jsx(G,{className:rf}),m.jsx("span",{children:e.cidade&&e.uf?`${e.cidade} / ${e.uf}`:e.cidade||e.uf})]}),e.categoria&&m.jsxs("div",{className:of,children:[m.jsx("span",{className:lf,children:"Categoria:"}),m.jsx("span",{children:e.categoria})]}),e.consultor&&m.jsxs("div",{className:of,children:[m.jsx("span",{className:lf,children:"Consultor:"}),m.jsx("span",{children:e.consultor})]})]}),m.jsxs("div",{className:cf,children:[m.jsxs("button",{className:df+" "+hf,onClick:()=>{},title:"Visualizar detalhes",children:[m.jsx(W,{}),"Relatório"]}),m.jsxs("button",{className:df+" "+uf,onClick:()=>k(e),title:"Editar cliente",children:[m.jsx(B,{}),"Editar"]})]})]},e.id))}),c.totalPages>1&&m.jsx("div",{className:mf,children:m.jsxs("div",{className:pf,children:[m.jsxs("button",{className:gf,onClick:()=>_(c.currentPage-1),disabled:1===c.currentPage,children:[m.jsx(P,{}),"Anterior"]}),m.jsxs("div",{className:ff,children:[m.jsxs("div",{className:_f,children:[m.jsx("span",{children:"Página"}),m.jsx("input",{type:"text",className:yf,defaultValue:c.currentPage,min:"1",max:c.totalPages,onKeyDown:e=>{if("Enter"===e.key){const t=Number(e.currentTarget.value);t>=1&&t<=c.totalPages&&_(t)}},onBlur:e=>{const t=Number(e.target.value);t>=1&&t<=c.totalPages?_(t):e.target.value=c.currentPage.toString()},onFocus:e=>e.target.select()}),m.jsxs("span",{children:[" de ",c.totalPages]})]}),m.jsxs("div",{className:xf,children:["(",c.itemsPerPage," itens por página)"]})]}),m.jsxs("button",{className:gf,onClick:()=>_(c.currentPage+1),disabled:c.currentPage===c.totalPages,children:["Próxima",m.jsx(O,{})]})]})})]}):m.jsxs("div",{className:bf,children:[m.jsx(ue,{className:vf}),m.jsx("h3",{children:"Nenhum cliente encontrado"}),m.jsx("p",{children:"Tente ajustar os filtros de busca ou verifique se há clientes cadastrados."})]})})]})},wf=()=>{const[e,t]=p.useState([]),[a,s]=p.useState([]),[n,r]=p.useState([]),[l,c]=p.useState(null),[d,h]=p.useState(""),[u,g]=p.useState(""),[f,x]=p.useState(!0),[b,v]=p.useState(1),[y,_]=p.useState("Você"),[j,w]=p.useState([]),[k,C]=p.useState(!1),[N,S]=p.useState(!1),[M,z]=p.useState(!1),[D,T]=p.useState(new Set),[A,$]=p.useState(!1),[R,P]=p.useState(""),[O,E]=p.useState(""),[L,I]=p.useState(1),[B,q]=p.useState(0),[W,F]=p.useState(!1),[H,V]=p.useState(""),[U,Y]=p.useState(""),G=p.useRef(null),X=p.useRef(null),K=async e=>{try{const t=`user_id:${e}`;await i("send_ws_message",{message:t})}catch(t){}};p.useEffect(()=>{(async()=>{try{const e=await o("nova_mensagem_ws",e=>{try{const t=JSON.parse(e.payload);J(t)}catch(t){Z(e.payload)}});return()=>{e()}}catch(e){}})()},[l,b]);const J=e=>{if("OnlineUsersList"===e.type){const t=new Set(e.online_users.map(e=>e.user_id));T(t)}else if("UserOnlineStatusChanged"===e.type){const t=e;T(e=>{const a=new Set(e);return t.is_online?a.add(t.user_id):a.delete(t.user_id),a})}else if("chat_message_notification"===e.type){const t=e;l&&t.chat_id===l.chatId&&ie(l.chatId),Q(t),te(t)}else if("chat_message"===e.type){const t=e;l&&t.chat_id===l.chatId&&s(e=>e.some(e=>e.id===t.message.id)?e:[...e,t.message]),ee(t)}},Z=e=>{e.includes("Conectado como usuário")&&e.includes("Bem-vindo ao sistema!")&&ae("Conectado ao sistema de chat em tempo real!")},Q=e=>{t(t=>t.map(t=>t.chatId===e.chat_id?{...t,lastMessage:e.content,lastMessageTime:new Date(e.timestamp),unreadCount:t.unreadCount+1}:t))},ee=e=>{t(t=>t.map(t=>t.chatId===e.chat_id?{...t,lastMessage:e.message.content,lastMessageTime:new Date(e.message.timestamp),unreadCount:e.message.user_id!==b?t.unreadCount+1:t.unreadCount}:t))},te=e=>{if(e.sender_id===b)return;const t=document.createElement("div");t.innerHTML=`\n            <div style="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                background: white;\n                border: 1px solid #e5e7eb;\n                border-radius: 8px;\n                padding: 12px 16px;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n                z-index: 1000;\n                max-width: 300px;\n                animation: slideIn 0.3s ease-out;\n            ">\n                <div style="font-weight: 600; color: #1f2937; margin-bottom: 4px;">\n                    ${e.sender_name}\n                </div>\n                <div style="color: #6b7280; font-size: 14px;">\n                    ${e.content}\n                </div>\n            </div>\n        `,document.body.appendChild(t),setTimeout(()=>{document.body.contains(t)&&document.body.removeChild(t)},5e3)},ae=e=>{const t=document.createElement("div");t.innerHTML=`\n            <div style="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                background: #10b981;\n                color: white;\n                border-radius: 8px;\n                padding: 12px 16px;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n                z-index: 1000;\n                animation: slideIn 0.3s ease-out;\n            ">\n                ${e}\n            </div>\n        `,document.body.appendChild(t),setTimeout(()=>{document.body.contains(t)&&document.body.removeChild(t)},3e3)},ie=async e=>{try{if(l?.chatId===e){const t=await i("get_chat_messages",{chatId:e});s(t.messages)}}catch(t){}},se=e=>{const t=[];e.forEach(e=>{const a=(e=>["image/jpeg","image/jpg","image/png","image/gif","image/webp","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain","text/csv"].includes(e.type)?e.size>52428800?"Arquivo muito grande. Tamanho máximo: 50MB":null:`Tipo de arquivo não permitido: ${e.type}`)(e);if(a)return;const i=e.type.startsWith("image/"),s={file:e,type:i?"image":"document",uploading:!1,uploadProgress:0,error:void 0};if(i){const t=new FileReader;t.onload=e=>{s.preview=e.target?.result,w(e=>[...e,s])},t.readAsDataURL(e)}else t.push(s)}),t.length>0&&w(e=>[...e,...t]),C(!0)},ne=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},oe=e=>{const t=e.split(".").pop()?.toLowerCase();switch(t){case"pdf":return m.jsx(Xi,{className:"text-red-500",size:24});case"doc":case"docx":return m.jsx(Xi,{className:"text-blue-500",size:24});case"xls":case"xlsx":return m.jsx(Xi,{className:"text-green-500",size:24});default:return m.jsx(Xi,{className:"text-gray-500",size:24})}},re=async(e,t)=>{try{const a=document.createElement("div");a.textContent="Baixando arquivo...",a.style.cssText="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                background: #3b82f6;\n                color: white;\n                padding: 12px 24px;\n                border-radius: 8px;\n                z-index: 1000;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n            ",document.body.appendChild(a);await i("download_file_to_downloads",{url:e,fileName:t});document.body.removeChild(a);const s=document.createElement("div");s.textContent="Arquivo baixado com sucesso!",s.style.cssText="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                background: #10b981;\n                color: white;\n                padding: 12px 24px;\n                border-radius: 8px;\n                z-index: 1000;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n            ",document.body.appendChild(s),setTimeout(()=>{document.body.contains(s)&&document.body.removeChild(s)},3e3)}catch(a){const e=document.querySelector('div[style*="Baixando arquivo"]');e&&document.body.removeChild(e);const t=document.createElement("div");t.textContent="Erro ao fazer download do arquivo",t.style.cssText="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                background: #ef4444;\n                color: white;\n                padding: 12px 24px;\n                border-radius: 8px;\n                z-index: 1000;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n            ",document.body.appendChild(t),setTimeout(()=>{document.body.contains(t)&&document.body.removeChild(t)},3e3)}},le=(e,t)=>{P(e),E(t),I(1),q(0),$(!0)},ce=()=>{$(!1),P(""),E(""),I(1),q(0)},de=()=>{F(!1),V(""),Y("")},he=async()=>{if(!l)return;const e=d.trim().length>0,a=j.length>0;if(!e&&!a)return;z(!0);const n=new Date;try{if(e){const e=d.trim(),t={id:Date.now(),user_id:b,content:e,timestamp:n.toISOString(),user_name:y,visualizado:!1,visualizado_cont:0,visualizado_hora:null,arquivo:!1};s(e=>[...e,t]),h("");try{const a=await i("send_message",{chatId:l.chatId,userId:b,content:e});s(e=>e.map(e=>e.id===t.id?a:e))}catch(o){s(e=>e.filter(e=>e.id!==t.id))}}if(a){const e=j.map(e=>(async e=>{try{w(t=>t.map(t=>t.file===e.file?{...t,uploading:!0,uploadProgress:0,error:void 0}:t));const t=new FileReader;return new Promise((a,s)=>{t.onload=async t=>{try{const s=t.target?.result,n=s.split(",")[1];for(let t=10;t<=90;t+=20)w(a=>a.map(a=>a.file===e.file?{...a,uploadProgress:t}:a)),await new Promise(e=>setTimeout(e,100));const o=await i("send_file_message",{chatId:l.chatId,userId:b,fileName:e.file.name,fileType:e.file.type,fileSize:e.file.size,fileContent:n});w(t=>t.map(t=>t.file===e.file?{...t,uploading:!1,uploadProgress:100}:t)),a(o)}catch(o){w(t=>t.map(t=>t.file===e.file?{...t,uploading:!1,error:"Erro ao enviar arquivo"}:t)),s(o)}},t.onerror=()=>{w(t=>t.map(t=>t.file===e.file?{...t,uploading:!1,error:"Erro ao ler arquivo"}:t)),s(new Error("Erro ao ler arquivo"))},t.readAsDataURL(e.file)})}catch(o){return null}})(e)),t=await Promise.allSettled(e),a=[];t.forEach(e=>{"fulfilled"===e.status&&e.value&&a.push(e.value)}),a.length>0&&s(e=>[...e,...a]),w([]),C(!1)}const r=a?"📎 Arquivo":e?d.trim():"";t(e=>{const t=e.map(e=>e.chatId===l.chatId?{...e,lastMessage:r,lastMessageTime:n}:e),a=t.find(e=>e.chatId===l.chatId),i=t.filter(e=>e.chatId!==l.chatId);return a?[a,...i]:t})}catch(o){}finally{z(!1)}};p.useEffect(()=>{(async()=>{try{const e=await i("usuario_logado");e&&(v(e.id),_(e.nome),await K(e.id))}catch(e){}})()},[]),p.useEffect(()=>{(async()=>{try{const e=await i("get_users");r(e.usuarios)}catch(e){}})(),(async()=>{try{const e=(await i("get_user_chats",{userId:b})).chats.map(e=>{let t=e.group_name,a=e.group_profile_photo;if(2===e.members.length){const i=e.members.find(e=>e.id!==b);i&&(t=i.nome,a=i.profile_photo_path)}return{id:e.id.toString(),chatId:e.id,name:t,avatar:a?`http://192.168.15.26:8082${a}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(t)}&background=random`,lastMessage:e.last_message?.content||"Nenhuma mensagem",lastMessageTime:e.last_message?new Date(e.last_message.timestamp):new Date(0),unreadCount:0,status:"online",members:e.members}});t(e)}catch(e){}})()},[b]),p.useEffect(()=>{G.current?.scrollIntoView({behavior:"smooth"})},[a]),p.useEffect(()=>{l&&ie(l.chatId)},[l]),p.useEffect(()=>{const e=e=>{"Escape"===e.key&&(A?ce():W&&de())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[A,W]);const ue=n.filter(e=>e.id!==b&&e.nome.toLowerCase().includes(u.toLowerCase())).sort((t,a)=>{const i=e.find(e=>2===e.members.length&&e.members.some(e=>e.id===t.id)),s=e.find(e=>2===e.members.length&&e.members.some(e=>e.id===a.id)),n=i?.lastMessageTime||new Date(0);return(s?.lastMessageTime||new Date(0)).getTime()-n.getTime()}),me=e=>{const t=new Date;if(!e||isNaN(e.getTime()))return"";const a=t.getTime()-e.getTime();return a<6e4?"agora":a<36e5?`${Math.floor(a/6e4)}m`:a<864e5?e.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):a<6048e5?e.toLocaleDateString("pt-BR",{weekday:"short"}):e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})},pe=e=>{if(!e)return null;return new Date(e).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})};return m.jsxs("div",{className:"chat-container",children:[m.jsxs("div",{className:"sidebar "+(f?"":"closed"),children:[m.jsxs("div",{className:"sidebar-header",children:[m.jsx("div",{className:"sidebar-header-top",children:m.jsx("h1",{className:"sidebar-title",children:"Contatos"})}),m.jsxs("div",{className:"search-container",children:[m.jsx(Ds,{className:"search-icon"}),m.jsx("input",{type:"text",placeholder:"Pesquisar contatos...",value:u,onChange:e=>g(e.target.value),className:"search-input"})]})]}),m.jsx("div",{className:"conversations-list",children:ue.map(a=>{const n=e.find(e=>2===e.members.length&&e.members.some(e=>e.id===a.id)),o=l?.members.some(e=>e.id===a.id),r=D.has(a.id)||!0===a.logado;return m.jsx("div",{onClick:()=>(async a=>{const n=e.find(e=>2===e.members.length&&e.members.some(e=>e.id===a.id));if(n)c(n);else try{const e=await i("create_direct_chat",{currentUserId:b,targetUserId:a.id}),n={id:e.id.toString(),chatId:e.id,name:a.nome,avatar:a.profile_photo_path?`http://192.168.15.26:8082${a.profile_photo_path}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(a.nome)}&background=random`,lastMessage:"Nenhuma mensagem",lastMessageTime:new Date(0),unreadCount:0,status:"online",members:e.members};t(e=>[...e,n]),c(n),s([])}catch(o){}g("")})(a),className:"conversation-item "+(o?"selected":""),children:m.jsxs("div",{className:"conversation-content",children:[m.jsxs("div",{className:"avatar-container",children:[m.jsx("img",{src:a.profile_photo_path?`http://192.168.15.26:8082${a.profile_photo_path}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(a.nome)}&background=random`,alt:a.nome,className:"avatar"}),m.jsx("div",{className:"status-indicator "+(r?"status-online":"status-offline")})]}),m.jsxs("div",{className:"conversation-info",children:[m.jsxs("div",{className:"conversation-header",children:[m.jsx("h3",{className:"conversation-name",children:a.nome}),n&&m.jsx("span",{className:"conversation-time",children:me(n.lastMessageTime)})]}),m.jsxs("div",{className:"conversation-footer",children:[m.jsx("p",{className:"conversation-message",children:n?.lastMessage||a.cargo||(r?"Online":"Offline")}),n&&n.unreadCount>0&&m.jsx("span",{className:"unread-badge",children:n.unreadCount})]})]})]})},a.id)})})]}),m.jsx("div",{className:"chat-main",children:l?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"chat-header",children:[m.jsxs("div",{className:"chat-header-left",children:[m.jsx("button",{onClick:()=>x(!f),className:"menu-button",children:m.jsx(hs,{})}),m.jsxs("div",{className:"avatar-container",children:[m.jsx("img",{src:l.avatar,alt:l.name,className:"chat-header-avatar"}),2===l.members.length&&m.jsx("div",{className:`status-indicator ${(()=>{const e=l.members.find(e=>e.id!==b);if(!e)return"status-offline";return D.has(e.id)||!0===e.logado?"status-online":"status-offline"})()}`})]}),m.jsxs("div",{className:"chat-header-info",children:[m.jsx("h2",{children:l.name}),m.jsx("p",{children:2===l.members.length?(()=>{const e=l.members.find(e=>e.id!==b);if(!e)return"Offline";return D.has(e.id)||!0===e.logado?"Online":"Offline"})():`${l.members.length} membros`})]})]}),m.jsxs("div",{className:"chat-header-actions",children:[m.jsx("button",{className:"action-button",children:m.jsx(Ds,{})}),m.jsx("button",{className:"action-button",children:m.jsx(ws,{})}),m.jsx("button",{className:"action-button",children:m.jsx(Ks,{})}),m.jsx("button",{className:"action-button",children:m.jsx(Hi,{})})]})]}),m.jsxs("div",{className:"messages-area "+(N?"dragging":""),onDragOver:e=>{e.preventDefault(),S(!0)},onDragLeave:e=>{e.preventDefault(),S(!1)},onDrop:e=>{e.preventDefault(),S(!1);const t=Array.from(e.dataTransfer.files);se(t)},children:[N&&m.jsx("div",{className:"drag-overlay",children:m.jsxs("div",{className:"drag-message",children:[m.jsx(_s,{size:48}),m.jsx("p",{children:"Solte os arquivos aqui para enviar"})]})}),a.map(e=>{return m.jsx("div",{className:"message-container "+(e.user_id===b?"user":"other"),children:m.jsxs("div",{className:"message "+(e.user_id===b?"user":"other"),children:[e.user_id!==b&&m.jsx("div",{className:"message-sender",children:e.user_name}),e.arquivo&&e.arquivo_tipo?.startsWith("image/")&&e.arquivo_url?m.jsxs("div",{className:"message-image",children:[m.jsx("img",{src:e.arquivo_url,alt:e.arquivo_nome,className:"message-image-content",onClick:()=>le(e.arquivo_url,e.arquivo_nome||"Imagem"),style:{cursor:"pointer"}}),m.jsxs("div",{className:"message-image-info",children:[m.jsx("span",{children:e.arquivo_nome}),m.jsx("span",{children:e.arquivo_tamanho?ne(e.arquivo_tamanho):""})]}),m.jsxs("div",{className:"message-image-actions",children:[m.jsx("button",{className:"image-action-button",onClick:()=>le(e.arquivo_url,e.arquivo_nome||"Imagem"),title:"Ver em tela cheia",children:m.jsx(Qs,{size:16})}),m.jsx("button",{className:"image-action-button",onClick:()=>re(e.arquivo_url,e.arquivo_nome||"imagem"),title:"Baixar arquivo",children:m.jsx(Fi,{size:16})})]})]}):e.arquivo?m.jsxs("div",{className:"message-file",children:[m.jsx("div",{className:"message-file-icon",children:oe(e.arquivo_nome||"")}),m.jsxs("div",{className:"message-file-info",children:[m.jsx("span",{className:"file-name",children:e.arquivo_nome}),m.jsx("span",{className:"file-size",children:e.arquivo_tamanho?ne(e.arquivo_tamanho):""})]}),m.jsxs("div",{className:"message-file-actions",children:["application/pdf"===e.arquivo_tipo&&e.arquivo_url&&m.jsx("button",{className:"file-action-button",onClick:()=>{return t=e.arquivo_url,a=e.arquivo_nome||"PDF",V(t),Y(a),void F(!0);var t,a},title:"Visualizar PDF",children:m.jsx(Ds,{size:16})}),m.jsx("button",{className:"file-action-button",onClick:()=>re(e.arquivo_url,e.arquivo_nome||"arquivo"),title:"Baixar arquivo",children:m.jsx(Fi,{size:16})})]})]}):m.jsx("p",{className:"message-text",children:e.content}),m.jsxs("div",{className:"message-footer "+(e.user_id===b?"user":"other"),children:[m.jsx("span",{className:"message-time",children:(t=e.timestamp,new Date(t).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}))}),e.user_id===b&&m.jsx("div",{className:"status-checkmarks",children:e.visualizado?m.jsx($i,{size:16,color:"#3b82f6"}):m.jsx(Ri,{size:16,color:"#6b7280"})}),e.user_id===b&&e.visualizado_hora&&m.jsxs("span",{className:"read-time",children:["Lido às ",pe(e.visualizado_hora)]})]})]})},e.id);var t}),m.jsx("div",{ref:G})]}),k&&j.length>0&&m.jsxs("div",{className:"file-preview-container",children:[m.jsxs("div",{className:"file-preview-header",children:[m.jsxs("span",{children:["Arquivos selecionados (",j.length,")"]}),m.jsx("button",{onClick:()=>{w([]),C(!1)},className:"close-preview-button",disabled:M,children:m.jsx(Zs,{size:16})})]}),m.jsx("div",{className:"file-preview-list",children:j.map((e,t)=>m.jsxs("div",{className:"file-preview-item",children:["image"===e.type&&e.preview?m.jsx("img",{src:e.preview,alt:e.file.name,className:"file-preview-image"}):m.jsx("div",{className:"file-preview-document",children:oe(e.file.name)}),m.jsxs("div",{className:"file-preview-info",children:[m.jsx("span",{className:"file-preview-name",children:e.file.name}),m.jsx("span",{className:"file-preview-size",children:ne(e.file.size)}),e.uploading&&m.jsxs("div",{className:"upload-progress",children:[m.jsx("div",{className:"progress-bar",children:m.jsx("div",{className:"progress-fill",style:{width:`${e.uploadProgress||0}%`}})}),m.jsxs("span",{className:"progress-text",children:[e.uploadProgress||0,"%"]})]}),e.error&&m.jsxs("div",{className:"upload-error",children:[m.jsx(Pi,{size:14}),m.jsx("span",{children:e.error})]})]}),!e.uploading&&m.jsx("button",{onClick:()=>(e=>{w(t=>t.filter((t,a)=>a!==e)),j.length<=1&&C(!1)})(t),className:"remove-file-button",disabled:M,children:m.jsx(Zs,{size:16})})]},t))})]}),m.jsx("div",{className:"input-area",children:m.jsxs("div",{className:"input-container",children:[m.jsx("input",{ref:X,type:"file",multiple:!0,accept:"image/*,application/pdf,.doc,.docx,.xls,.xlsx,.txt,.csv",onChange:e=>{const t=e.target.files;t&&se(Array.from(t)),e.target.value=""},style:{display:"none"}}),m.jsx("button",{className:"attachment-button",onClick:()=>X.current?.click(),disabled:M,children:M?m.jsx(Us,{className:"animate-pulse"}):m.jsx(_s,{})}),m.jsxs("div",{className:"input-wrapper",children:[m.jsx("input",{type:"text",value:d,onChange:e=>h(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),he())},placeholder:"Digite sua mensagem...",className:"message-input",disabled:M}),m.jsx("button",{className:"emoji-button",disabled:M,children:m.jsx(Rs,{})})]}),m.jsx("button",{onClick:he,disabled:!d.trim()&&0===j.length||M,className:"send-button",children:M?m.jsx(Us,{className:"animate-pulse"}):m.jsx(Ts,{})})]})})]}):m.jsx("div",{className:"no-conversation-selected",children:m.jsx("p",{children:"Selecione um contato na lista para iniciar uma conversa."})})}),A&&m.jsx("div",{className:"image-viewer-overlay",onClick:ce,children:m.jsxs("div",{className:"image-viewer-container",onClick:e=>e.stopPropagation(),children:[m.jsxs("div",{className:"image-viewer-header",children:[m.jsx("h3",{className:"image-viewer-title",children:O}),m.jsxs("div",{className:"image-viewer-controls",children:[m.jsx("button",{onClick:()=>{I(e=>Math.max(e-.25,.25))},className:"viewer-control-button",title:"Diminuir zoom",children:m.jsx(en,{size:20})}),m.jsxs("span",{className:"zoom-level",children:[Math.round(100*L),"%"]}),m.jsx("button",{onClick:()=>{I(e=>Math.min(e+.25,3))},className:"viewer-control-button",title:"Aumentar zoom",children:m.jsx(Qs,{size:20})}),m.jsx("button",{onClick:()=>{q(e=>(e+90)%360)},className:"viewer-control-button",title:"Girar",children:m.jsx(Ms,{size:20})}),m.jsx("button",{onClick:()=>{I(1),q(0)},className:"viewer-control-button",title:"Resetar",children:"Resetar"}),m.jsx("button",{onClick:()=>re(R,O),className:"viewer-control-button",title:"Baixar",children:m.jsx(Fi,{size:20})}),m.jsx("button",{onClick:ce,className:"viewer-close-button",title:"Fechar",children:m.jsx(Zs,{size:24})})]})]}),m.jsx("div",{className:"image-viewer-content",children:m.jsx("img",{src:R,alt:O,className:"image-viewer-image",style:{transform:`scale(${L}) rotate(${B}deg)`,transition:"transform 0.3s ease"}})})]})}),W&&m.jsx("div",{className:"pdf-viewer-overlay",onClick:de,children:m.jsxs("div",{className:"pdf-viewer-container",onClick:e=>e.stopPropagation(),children:[m.jsxs("div",{className:"pdf-viewer-header",children:[m.jsx("h3",{className:"pdf-viewer-title",children:U}),m.jsxs("div",{className:"pdf-viewer-controls",children:[m.jsx("button",{onClick:()=>re(H,U),className:"viewer-control-button",title:"Baixar",children:m.jsx(Fi,{size:20})}),m.jsx("button",{onClick:de,className:"viewer-close-button",title:"Fechar",children:m.jsx(Zs,{size:24})})]})]}),m.jsx("div",{className:"pdf-viewer-content",children:m.jsx("iframe",{src:H,className:"pdf-viewer-iframe",title:U})})]})})]})},kf="_container_objgr_1",Cf="_header_objgr_29",Nf="_headerContent_objgr_50",Sf="_headerIcon_objgr_58",Mf="_headerText_objgr_72",zf="_title_objgr_76",Df="_alert_objgr_92",Tf="_alertIcon_objgr_103",Af="_alertError_objgr_108",$f="_alertSuccess_objgr_114",Rf="_content_objgr_121",Pf="_formCard_objgr_129",Of="_formHeader_objgr_143",Ef="_formTitle_objgr_150",Lf="_cancelButton_objgr_157",If="_form_objgr_129",Bf="_inputGroup_objgr_180",qf="_label_objgr_184",Wf="_input_objgr_180",Ff="_submitButton_objgr_216",Hf="_editMode_objgr_261",Vf="_spinner_objgr_269",Uf="_listCard_objgr_279",Yf="_listHeader_objgr_293",Gf="_listTitle_objgr_302",Xf="_listStats_objgr_309",Kf="_loadingContainer_objgr_319",Jf="_loadingSpinner_objgr_328",Zf="_categoriasList_objgr_339",Qf="_categoriaItem_objgr_357",ex="_editing_objgr_372",tx="_categoriaInfo_objgr_381",ax="_categoriaIcon_objgr_388",ix="_categoriaDetails_objgr_401",sx="_categoriaNome_objgr_405",nx="_categoriaActions_objgr_423",ox="_actionButton_objgr_428",rx="_editButton_objgr_461",lx="_deleteButton_objgr_471",cx="_emptyState_objgr_489",dx="_emptyIcon_objgr_499",hx=()=>{const{modal:e,showConfirm:t,closeModal:a}=Cp(),[s,n]=p.useState([]),[o,r]=p.useState(""),[c,d]=p.useState(null),[h,u]=p.useState(!1),[g,f]=p.useState(!1),[x,b]=p.useState(null),[v,y]=p.useState(null);p.useEffect(()=>{_()},[]),p.useEffect(()=>{if(x||v){const e=setTimeout(()=>{b(null),y(null)},3e3);return()=>clearTimeout(e)}},[x,v]);const _=async()=>{u(!0),b(null);try{const e=await i("buscar_categorias_cadastro");e.success&&e.data&&n(e.data)}catch(e){b("Erro ao carregar categorias. Tente novamente.")}finally{u(!1)}},j=()=>{r(""),d(null),b(null)},w=null!==c;return m.jsxs("div",{className:kf,children:[m.jsx("div",{className:Cf,children:m.jsxs("div",{className:Nf,children:[m.jsx("div",{className:Sf,children:m.jsx(se,{})}),m.jsx("div",{className:Mf,children:m.jsx("h1",{className:zf,children:"Gerenciar Categorias"})})]})}),x&&m.jsxs("div",{className:Df+" "+Af,children:[m.jsx(oe,{className:Tf}),x]}),v&&m.jsxs("div",{className:Df+" "+$f,children:[m.jsx(Q,{className:Tf}),v]}),m.jsxs("div",{className:Rf,children:[m.jsxs("div",{className:Pf,children:[m.jsxs("div",{className:Of,children:[m.jsx("h2",{className:Ef,children:w?"Editar Categoria":"Nova Categoria"}),w&&m.jsx("button",{type:"button",onClick:j,className:Lf,title:"Cancelar edição",children:m.jsx(oe,{})})]}),m.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),o.trim()){f(!0),b(null);try{if(c){const e=await i("editar_categoria",{id:c,nome:o.trim()});e.success?(n(e=>e.map(e=>e.id===c?{...e,nome:o.trim()}:e)),y("Categoria editada com sucesso!"),d(null),(await l()).emit("category-updated")):b(e.message||"Erro ao editar categoria")}else{const e=await i("criar_categoria",{nome:o.trim()});if(e.success&&e.data&&e.data.length>0){const t=e.data[0];n(e=>[...e,t]),y("Categoria cadastrada com sucesso!"),(await l()).emit("category-updated")}else b(e.message||"Erro ao criar categoria")}r("")}catch(t){b("Erro ao salvar categoria. Tente novamente.")}finally{f(!1)}}else b("O nome da categoria é obrigatório.")},className:If,children:[m.jsxs("div",{className:Bf,children:[m.jsx("label",{htmlFor:"nomeCategoria",className:qf,children:"Nome da Categoria"}),m.jsx("input",{type:"text",id:"nomeCategoria",value:o,onChange:e=>r(e.target.value),placeholder:"Digite o nome da categoria...",className:Wf,maxLength:50,disabled:g})]}),m.jsx("button",{type:"submit",disabled:g||!o.trim(),className:Ff+(w?" "+Hf:""),children:g?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:Vf}),w?"Salvando...":"Cadastrando..."]}):m.jsxs(m.Fragment,{children:[w?m.jsx(B,{}):m.jsx(Z,{}),w?"Salvar Alterações":"Salvar Categoria"]})})]})]}),m.jsxs("div",{className:Uf,children:[m.jsxs("div",{className:Yf,children:[m.jsx("h2",{className:Gf,children:"Categorias Cadastradas"}),m.jsxs("div",{className:Xf,children:[s.length," categoria",1!==s.length?"s":""]})]}),h?m.jsxs("div",{className:Kf,children:[m.jsx("div",{className:Jf}),m.jsx("span",{children:"Carregando categorias..."})]}):m.jsx("div",{className:Zf,children:s.length>0?s.map(e=>m.jsxs("div",{className:Qf+(c===e.id?" "+ex:""),children:[m.jsxs("div",{className:tx,children:[m.jsx("div",{className:ax,children:m.jsx(se,{})}),m.jsx("div",{className:ix,children:m.jsx("h3",{className:sx,children:e.nome})})]}),m.jsxs("div",{className:nx,children:[m.jsx("button",{onClick:()=>(e=>{r(e.nome),d(e.id),b(null),y(null)})(e),className:ox+" "+rx,title:"Editar categoria",disabled:g,children:m.jsx(B,{})}),m.jsx("button",{onClick:()=>(async(e,s)=>{t("Confirme exclusão",`Tem certeza que deseja excluir a categoria "${s}"?`,async()=>{try{const t=await i("excluir_categoria",{id:e});t.success?(n(t=>t.filter(t=>t.id!==e)),y("Categoria excluída com sucesso!"),c===e&&j(),(await l()).emit("category-updated")):b(t.message||"Erro ao excluir categoria")}catch(t){b("Erro ao excluir categoria. Tente novamente.")}a()})})(e.id,e.nome),className:ox+" "+lx,title:"Excluir categoria",disabled:g,children:m.jsx(ce,{})})]})]},e.id)):m.jsxs("div",{className:cx,children:[m.jsx(se,{className:dx}),m.jsx("h3",{children:"Nenhuma categoria cadastrada"}),m.jsx("p",{children:"Cadastre a primeira categoria usando o formulário acima."})]})})]})]}),m.jsx(Sp,{...e,onClose:a,onConfirm:e.onConfirm})]})},ux="_scroll-container_19lw0_1",mx="_container_19lw0_8",px="_header_19lw0_14",gx="_title_19lw0_21",fx="_subtitle_19lw0_29",xx="_main-actions_19lw0_36",bx="_primary-button_19lw0_42",vx="_secondary-button_19lw0_64",yx="_search-section_19lw0_85",_x="_search-container_19lw0_94",jx="_search-input_19lw0_99",wx="_search-icon_19lw0_117",kx="_filters-container_19lw0_125",Cx="_filter-chip_19lw0_132",Nx="_active_19lw0_149",Sx="_content-grid_19lw0_154",Mx="_planilhas-list_19lw0_161",zx="_list-header_19lw0_172",Dx="_list-title_19lw0_182",Tx="_planilhas-scroll-container_19lw0_188",Ax="_planilha-item_19lw0_194",$x="_planilha-header_19lw0_210",Rx="_planilha-name_19lw0_217",Px="_planilha-date_19lw0_224",Ox="_planilha-description_19lw0_229",Ex="_planilha-actions_19lw0_235",Lx="_action-button_19lw0_242",Ix="_primary_19lw0_42",Bx="_sidebar_19lw0_272",qx="_sidebar-section_19lw0_284",Wx="_sidebar-title_19lw0_292",Fx="_quick-action_19lw0_299",Hx="_quick-action-icon_19lw0_317",Vx="_quick-action-text_19lw0_322",Ux="_stats-card_19lw0_327",Yx="_stats-number_19lw0_335",Gx="_stats-label_19lw0_342",Xx="_modal-overlay_19lw0_350",Kx="_modal_19lw0_350",Jx="_modal-header_19lw0_387",Zx="_modal-title_19lw0_396",Qx="_close-button_19lw0_403",eb="_modal-options_19lw0_421",tb="_option-card_19lw0_426",ab="_option-icon_19lw0_442",ib="_option-title_19lw0_449",sb="_option-description_19lw0_456",nb="_empty-state_19lw0_463",ob="_empty-icon_19lw0_469",rb="_empty-title_19lw0_476",lb="_empty-description_19lw0_483",cb="_loading-state_19lw0_582",db="_error-message_19lw0_598",hb="_retry-button_19lw0_615",ub=({isOpen:e,onClose:t,templates:a,onSelectTemplate:i,loading:s})=>{const[n,o]=p.useState(""),r=p.useMemo(()=>n?a.filter(e=>e.nome.toLowerCase().includes(n.toLowerCase())||e.descricao.toLowerCase().includes(n.toLowerCase())||e.categoria.toLowerCase().includes(n.toLowerCase())):a,[a,n]),l=e=>{try{const t=new Date(e);return isNaN(t.getTime())?"Data inválida":t.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"Data inválida"}};return e?m.jsx("div",{className:Xx,onClick:t,children:m.jsxs("div",{className:Kx,onClick:e=>e.stopPropagation(),style:{maxWidth:"800px",maxHeight:"80vh"},children:[m.jsxs("div",{className:Jx,children:[m.jsx("h2",{className:Zx,children:"Escolher Template"}),m.jsx("button",{className:Qx,onClick:t,children:m.jsx(Zs,{size:20})})]}),m.jsxs("div",{className:_x,style:{margin:"20px 0"},children:[m.jsx(Ds,{className:wx,size:20}),m.jsx("input",{type:"text",placeholder:"Buscar templates...",className:jx,value:n,onChange:e=>o(e.target.value)})]}),m.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",padding:"0 20px"},children:s?m.jsxs("div",{className:cb,children:[m.jsx(ls,{size:48,className:"animate-spin"}),m.jsx("p",{children:"Carregando templates..."})]}):0===r.length?m.jsxs("div",{className:nb,children:[m.jsx("div",{className:ob,children:m.jsx(Ji,{size:64})}),m.jsx("h3",{className:rb,children:n?"Nenhum template encontrado":"Nenhum template disponível"}),m.jsx("p",{className:lb,children:n?"Tente ajustar o termo de busca":"Não há templates cadastrados no sistema"})]}):r.map(e=>m.jsxs("div",{className:Ax,style:{cursor:"pointer",marginBottom:"12px"},onClick:()=>{i(e),t()},children:[m.jsxs("div",{className:$x,children:[m.jsxs("div",{children:[m.jsx("h3",{className:Rx,children:e.nome}),m.jsxs("span",{className:Px,children:["Modificado em ",l(e.dataModificacao)," • ",e.autor]})]}),m.jsx("span",{className:Cx,children:e.categoria})]}),m.jsx("p",{className:Ox,children:e.descricao}),m.jsx("div",{className:Ex,children:m.jsxs("button",{className:`${Lx} ${Ix}`,onClick:a=>{a.stopPropagation(),i(e),t()},children:[m.jsx(Bi,{size:14}),"Usar Template"]})})]},e.id))})]})}):null},mb=({isOpen:e,onClose:t,onCreateFromTemplate:a})=>{if(!e)return null;return m.jsx("div",{className:Xx,onClick:t,children:m.jsxs("div",{className:Kx,onClick:e=>e.stopPropagation(),children:[m.jsxs("div",{className:Jx,children:[m.jsx("h2",{className:Zx,children:"Criar Nova Planilha"}),m.jsx("button",{className:Qx,onClick:t,children:m.jsx(Zs,{size:20})})]}),m.jsxs("div",{className:eb,children:[m.jsxs("div",{className:tb,onClick:()=>{Xu.openCadastrarPlanilha({type:"Criar",templateData:null}),t()},children:[m.jsx("div",{className:ab,children:m.jsx(Yi,{size:40})}),m.jsx("h3",{className:ib,children:"Criar do Zero"}),m.jsx("p",{className:sb,children:"Comece com uma planilha em branco e construa do seu jeito"})]}),m.jsxs("div",{className:tb,onClick:a,children:[m.jsx("div",{className:ab,children:m.jsx(Ji,{size:40})}),m.jsx("h3",{className:ib,children:"Usar Template"}),m.jsx("p",{className:sb,children:"Escolha um modelo pré-definido para começar rapidamente"})]})]})]})})},pb=()=>{const[e,t]=p.useState(""),[a,s]=p.useState("todas"),[n,o]=p.useState(!1),[r,l]=p.useState(!1),[c,d]=p.useState([]),[h,u]=p.useState(!0),[g,f]=p.useState(null),x=e=>{const t=e.tag||"Geral",a="template"===e.tipo?"template":"personalizada",i=`Planilha ${"template"===a?"modelo":"personalizada"} - ${e.nome_arquivo}`;return{id:e.id?.toString()||Math.random().toString(),nome:e.nome_arquivo.replace(/\.[^/.]+$/,""),descricao:i,dataModificacao:e.updated_at||new Date(0).toISOString(),tipo:a,categoria:t,autor:"template"===a?"Sistema":"Usuário",templateData:e}},b=async()=>{try{u(!0),f(null);const e=(await i("list_templates")).map(x);d(e)}catch(e){f("string"==typeof e?e:"Erro desconhecido ao carregar planilhas."),d([])}finally{u(!1)}};p.useEffect(()=>{b()},[]);const v=p.useMemo(()=>{let t=[...c];return e&&(t=t.filter(t=>t.nome.toLowerCase().includes(e.toLowerCase())||t.descricao.toLowerCase().includes(e.toLowerCase())||t.categoria.toLowerCase().includes(e.toLowerCase()))),"todas"!==a&&("recentes"===a?t.sort((e,t)=>new Date(t.dataModificacao).getTime()-new Date(e.dataModificacao).getTime()):t=t.filter(e=>e.tipo===a)),t},[e,a,c]),y=p.useMemo(()=>c.filter(e=>"template"===e.tipo),[c]),_=async e=>{try{const t=Number(e.templateData?.id);if(isNaN(t))throw new Error("ID da planilha não é um número válido");const a={type:"Duplicar",templateData:await i("get_template_by_id",{id:t})};Xu.openCadastrarPlanilha(a)}catch(t){alert("Erro ao abrir planilha para edição")}},j=()=>{b()},w=e=>{try{const t=new Date(e);return isNaN(t.getTime())?"Data inválida":t.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"Data inválida"}},k=c.length,C=c.filter(e=>"template"===e.tipo).length,N=c.filter(e=>"personalizada"===e.tipo).length,S=Array.from(new Set(c.map(e=>e.categoria))).sort();return m.jsx("div",{className:ux,children:m.jsxs("div",{className:mx,children:[m.jsxs("div",{className:px,children:[m.jsxs("div",{children:[m.jsx("h1",{className:gx,children:"Gerenciar Planilhas"}),m.jsx("p",{className:fx,children:"Crie, edite e organize suas planilhas e templates"})]}),m.jsxs("div",{className:xx,children:[m.jsxs("button",{className:vx,onClick:j,disabled:h,children:[m.jsx(Ss,{size:18,className:h?"animate-spin":""}),"Atualizar"]}),m.jsxs("button",{className:bx,onClick:()=>o(!0),children:[m.jsx(Cs,{size:18}),"Nova Planilha"]})]})]}),m.jsxs("div",{className:yx,children:[m.jsxs("div",{className:_x,children:[m.jsx(Ds,{className:wx,size:20}),m.jsx("input",{type:"text",placeholder:"Buscar planilhas por nome, descrição ou categoria...",className:jx,value:e,onChange:e=>t(e.target.value)})]}),m.jsx("div",{className:kx,children:[{id:"todas",label:"Todas"},{id:"template",label:"Templates"},{id:"personalizada",label:"Personalizadas"},{id:"recentes",label:"Recentes"}].map(e=>m.jsx("button",{className:`${Cx} ${a===e.id?Nx:""}`,onClick:()=>s(e.id),children:e.label},e.id))})]}),g&&m.jsxs("div",{className:db,children:[m.jsxs("p",{children:["Erro: ",g]}),m.jsx("button",{onClick:j,className:hb,children:"Tentar novamente"})]}),m.jsxs("div",{className:Sx,children:[m.jsxs("div",{className:Mx,children:[m.jsxs("div",{className:zx,children:[m.jsx("h2",{className:Dx,children:h?"Carregando...":`${v.length} planilha(s) encontrada(s)`}),m.jsx(Yi,{size:24})]}),m.jsx("div",{className:Tx,children:h?m.jsxs("div",{className:cb,children:[m.jsx(ls,{size:48,className:"animate-spin"}),m.jsx("p",{children:"Carregando planilhas do servidor..."})]}):0===v.length?m.jsxs("div",{className:nb,children:[m.jsx("div",{className:ob,children:m.jsx(Gi,{size:64})}),m.jsx("h3",{className:rb,children:g?"Erro ao carregar planilhas":"Nenhuma planilha encontrada"}),m.jsx("p",{className:lb,children:g?"Verifique sua conexão e tente novamente":"Tente ajustar os filtros ou criar uma nova planilha"}),m.jsxs("button",{className:bx,onClick:()=>o(!0),children:[m.jsx(Cs,{size:18}),"Criar Primeira Planilha"]})]}):v.map(e=>m.jsxs("div",{className:Ax,children:[m.jsxs("div",{className:$x,children:[m.jsxs("div",{children:[m.jsx("h3",{className:Rx,children:e.nome}),m.jsxs("span",{className:Px,children:["Modificado em ",w(e.dataModificacao)," • ",e.autor]})]}),m.jsx("span",{className:Cx,children:e.categoria})]}),m.jsx("p",{className:Ox,children:e.descricao}),m.jsxs("div",{className:Ex,children:[m.jsxs("button",{className:`${Lx} ${Ix}`,onClick:()=>(async e=>{try{const t=Number(e.templateData?.id);if(isNaN(t))throw new Error("ID da planilha não é um número válido");const a={type:"Editar",templateData:await i("get_template_by_id",{id:t})};Xu.openCadastrarPlanilha(a)}catch(t){alert("Erro ao abrir planilha para edição")}})(e),children:[m.jsx(js,{size:14}),"Abrir"]}),m.jsxs("button",{className:Lx,onClick:()=>_(e),children:[m.jsx(Bi,{size:14}),"Duplicar"]}),m.jsxs("button",{className:Lx,onClick:()=>(async e=>{const t=c.find(t=>t.id===e);if(t?.templateData?.id&&confirm(`Tem certeza que deseja excluir a planilha "${t.nome}"?`))try{await i("delete_template",{id:t.templateData.id}),alert(`Planilha "${t.nome}" excluída com sucesso!`),b()}catch(a){alert("Erro ao excluir planilha")}})(e.id),style:{color:"#dc2626"},children:[m.jsx(qs,{size:14}),"Excluir"]})]})]},e.id))})]}),m.jsxs("div",{className:Bx,children:[m.jsxs("div",{className:qx,children:[m.jsx("h3",{className:Wx,children:"Estatísticas"}),m.jsxs("div",{className:Ux,children:[m.jsx("p",{className:Yx,children:k}),m.jsx("p",{className:Gx,children:"Total de Planilhas"})]}),m.jsxs("div",{className:Ux,children:[m.jsx("p",{className:Yx,children:C}),m.jsx("p",{className:Gx,children:"Templates Disponíveis"})]}),m.jsxs("div",{className:Ux,children:[m.jsx("p",{className:Yx,children:N}),m.jsx("p",{className:Gx,children:"Planilhas Personalizadas"})]})]}),m.jsxs("div",{className:qx,children:[m.jsx("h3",{className:Wx,children:"Ações Rápidas"}),m.jsxs("div",{className:Fx,onClick:()=>o(!0),children:[m.jsx(Cs,{className:Hx,size:20}),m.jsx("span",{className:Vx,children:"Nova Planilha"})]}),m.jsxs("div",{className:Fx,onClick:j,children:[m.jsx(Ss,{className:Hx,size:20}),m.jsx("span",{className:Vx,children:"Sincronizar"})]})]}),m.jsxs("div",{className:qx,children:[m.jsx("h3",{className:Wx,children:"Categorias"}),S.length>0?S.map(e=>m.jsxs("div",{className:Fx,children:[m.jsx(Zi,{className:Hx,size:20}),m.jsx("span",{className:Vx,children:e})]},e)):m.jsxs("div",{className:Fx,children:[m.jsx(Zi,{className:Hx,size:20}),m.jsx("span",{className:Vx,children:"Nenhuma categoria"})]})]})]})]}),m.jsx(mb,{isOpen:n,onClose:()=>o(!1),onCreateFromScratch:()=>{o(!1),alert("Criando planilha do zero...")},onCreateFromTemplate:()=>{o(!1),l(!0)}}),m.jsx(ub,{isOpen:r,onClose:()=>l(!1),templates:y,onSelectTemplate:e=>{_(e)},loading:h})]})})};class gb{static getColumnLabel(e){let t="",a=e;for(;a>=0;)t=String.fromCharCode(65+a%26)+t,a=Math.floor(a/26)-1;return t}static getColumnIndex(e){let t=0;for(let a=0;a<e.length;a++)t=26*t+(e.charCodeAt(a)-64);return t-1}static getCellReference(e,t){return`${this.getColumnLabel(t)}${e+1}`}static parseCellReference(e){const t=e.match(/^([A-Z]+)(\d+)$/);if(!t)return null;const a=t[1],i=t[2],s=this.getColumnIndex(a);return{row:parseInt(i)-1,col:s}}static isValidCellReference(e){return/^[A-Z]+\d+$/.test(e)}static expandRange(e){if(!e.includes(":"))return this.isValidCellReference(e)?[e]:[];const[t,a]=e.split(":"),i=this.parseCellReference(t),s=this.parseCellReference(a);if(!i||!s)return[];const n=[],o=Math.min(i.row,s.row),r=Math.max(i.row,s.row),l=Math.min(i.col,s.col),c=Math.max(i.col,s.col);for(let d=o;d<=r;d++)for(let e=l;e<=c;e++)n.push(this.getCellReference(d,e));return n}static isCellInRange(e,t){return this.expandRange(t).includes(e)}}class fb{static validateMergeRange(e,t,a,i,s){if(t<0||a<0||i>=e.length||s>=e[0].length)return{isValid:!1,error:"Coordenadas fora dos limites da planilha"};if(t===i&&a===s)return{isValid:!1,error:"Selecione pelo menos duas células para mesclar"};for(let n=t;n<=i;n++)for(let t=a;t<=s;t++){const a=e[n]?.[t];if(a?.merged)return{isValid:!1,error:`A célula ${gb.getCellReference(n,t)} já está mesclada`}}return{isValid:!0}}static mergeCells(e,t,a,i,s){const n=Math.min(t,i),o=Math.max(t,i),r=Math.min(a,s),l=Math.max(a,s),c=this.validateMergeRange(e,n,r,o,l);if(!c.isValid)return{success:!1,error:c.error,mergedCells:[],masterCell:{row:n,col:r},mergeRange:{startRow:n,startCol:r,endRow:o,endCol:l}};const d={row:n,col:r},h={startRow:n,startCol:r,endRow:o,endCol:l},u=[];let m="",p="",g=!1,f=e[n][r]?.style||{},x=e[n][r]?.media;for(let b=n;b<=o;b++)for(let t=r;t<=l;t++){const a=e[b][t];if(u.push({row:b,col:t}),b===n&&t===r)m=a.computed_value||a.value||"",a.is_formula&&a.formula&&(p=a.formula,g=!0);else{const e=a.computed_value||a.value||"";e.trim()&&(m.trim()?m+=" "+e:m=e),!g&&a.is_formula&&a.formula&&(p=a.formula,g=!0)}}for(let b=n;b<=o;b++)for(let t=r;t<=l;t++)e[b][t]=b===n&&t===r?{...e[b][t],value:g?`=${p}`:m,formula:g?p:null,computed_value:g?e[b][t].computed_value:null,is_formula:g,merged:!0,masterCell:d,mergeRange:h,style:f,media:x}:{...e[b][t],value:"",formula:null,computed_value:null,is_formula:!1,merged:!0,masterCell:d,mergeRange:h,style:{},media:void 0};return{success:!0,mergedCells:u,masterCell:d,mergeRange:h}}static unmergeCells(e,t,a){const i=e[t]?.[a];if(!i?.merged)return{success:!1,error:"A célula selecionada não está mesclada",mergedCells:[],masterCell:{row:t,col:a},mergeRange:{startRow:t,startCol:a,endRow:t,endCol:a}};let s=i.masterCell||{row:t,col:a},n=i.mergeRange;if(!n){const t=e[s.row]?.[s.col];n=t?.mergeRange}if(!n)return{success:!1,error:"Não foi possível encontrar o intervalo de mesclagem",mergedCells:[],masterCell:s,mergeRange:{startRow:t,startCol:a,endRow:t,endCol:a}};const{startRow:o,startCol:r,endRow:l,endCol:c}=n,d=[];for(let h=o;h<=l;h++)for(let t=r;t<=c;t++)d.push({row:h,col:t}),h===s.row&&t===s.col?e[h][t]={...e[h][t],merged:!1,masterCell:void 0,mergeRange:void 0}:e[h][t]={...e[h][t],value:"",formula:null,computed_value:null,is_formula:!1,merged:!1,masterCell:void 0,mergeRange:void 0,style:{},media:void 0};return{success:!0,mergedCells:d,masterCell:s,mergeRange:n}}static isCellMerged(e,t,a){const i=e[t]?.[a];return i?.merged||!1}static getMergeInfo(e,t,a){const i=e[t]?.[a];if(!i?.merged)return{isMerged:!1,isMasterCell:!1};const s=i.masterCell||{row:t,col:a};return{isMerged:!0,isMasterCell:s.row===t&&s.col===a,masterCell:s,mergeRange:i.mergeRange}}static getAllMergedCells(e){const t=new Map;return e.forEach((e,a)=>{e.forEach((e,i)=>{if(e.merged&&e.masterCell&&e.mergeRange){const s=`${e.masterCell.row}-${e.masterCell.col}`;t.has(s)||t.set(s,{masterCell:e.masterCell,mergeRange:e.mergeRange,cells:[]}),t.get(s).cells.push({row:a,col:i})}})}),Array.from(t.values())}static getCellSpan(e,t,a){const i=e[t]?.[a];if(!i?.merged)return{colspan:1,rowspan:1,shouldRender:!0};const s=this.getMergeInfo(e,t,a);if(!s.isMasterCell)return{colspan:1,rowspan:1,shouldRender:!1};if(!s.mergeRange)return{colspan:1,rowspan:1,shouldRender:!0};const{startRow:n,startCol:o,endRow:r,endCol:l}=s.mergeRange;return{colspan:l-o+1,rowspan:r-n+1,shouldRender:!0}}}const xb={container:"_container_17un7_1",maximized:"_maximized_17un7_9",header:"_header_17un7_20","main-content":"_main-content_17un7_42",toolbar:"_toolbar_17un7_81",button:"_button_17un7_95",secondary:"_secondary_17un7_129",danger:"_danger_17un7_148",success:"_success_17un7_158","spreadsheet-container":"_spreadsheet-container_17un7_169","spreadsheet-scroll-area":"_spreadsheet-scroll-area_17un7_185","spreadsheet-grid":"_spreadsheet-grid_17un7_219",cell:"_cell_17un7_228",selected:"_selected_17un7_248","in-range":"_in-range_17un7_255",master:"_master_17un7_282","column-header":"_column-header_17un7_323","row-header":"_row-header_17un7_328",corner:"_corner_17un7_335","print-area-header":"_print-area-header_17un7_343","print-area-cell":"_print-area-cell_17un7_351","print-area-selecting":"_print-area-selecting_17un7_356","cell-input":"_cell-input_17un7_362","column-resizer":"_column-resizer_17un7_388",resizing:"_resizing_17un7_404","row-resizer":"_row-resizer_17un7_409","formatting-toolbar":"_formatting-toolbar_17un7_430","format-group":"_format-group_17un7_448","format-button":"_format-button_17un7_469",active:"_active_17un7_499","format-select":"_format-select_17un7_510","position-indicator":"_position-indicator_17un7_567","modal-overlay":"_modal-overlay_17un7_595","modal-content":"_modal-content_17un7_609","modal-header":"_modal-header_17un7_620","modal-actions":"_modal-actions_17un7_631","input-group":"_input-group_17un7_694","input-field":"_input-field_17un7_705","formula-bar":"_formula-bar_17un7_857","formula-bar-input-container":"_formula-bar-input-container_17un7_878","formula-bar-input":"_formula-bar-input_17un7_878","formula-error":"_formula-error_17un7_900","formula-validation":"_formula-validation_17un7_905","formula-error-text":"_formula-error-text_17un7_915","formula-suggestions":"_formula-suggestions_17un7_925","formula-suggestion":"_formula-suggestion_17un7_925","formula-cell":"_formula-cell_17un7_967","formula-modal-content":"_formula-modal-content_17un7_985","formula-categories":"_formula-categories_17un7_990","category-button":"_category-button_17un7_998","formula-list":"_formula-list_17un7_1024","formula-item":"_formula-item_17un7_1030","formula-header":"_formula-header_17un7_1044","formula-category":"_formula-category_17un7_1057","formula-description":"_formula-description_17un7_1066","formula-syntax":"_formula-syntax_17un7_1073","formula-example":"_formula-example_17un7_1074","insert-formula-button":"_insert-formula-button_17un7_1096","image-container":"_image-container_17un7_1115","resize-handle":"_resize-handle_17un7_1126","drop-target":"_drop-target_17un7_1155","table-config-container":"_table-config-container_17un7_1423","table-size-section":"_table-size-section_17un7_1432","table-templates-section":"_table-templates-section_17un7_1433","table-preview-section":"_table-preview-section_17un7_1434","size-inputs":"_size-inputs_17un7_1443","size-input":"_size-input_17un7_1443","templates-grid":"_templates-grid_17un7_1470","template-preview":"_template-preview_17un7_1482","template-name":"_template-name_17un7_1508","preview-table":"_preview-table_17un7_1520","preview-header":"_preview-header_17un7_1529","preview-row":"_preview-row_17un7_1530","table-preview":"_table-preview_17un7_1434","preview-full-table":"_preview-full-table_17un7_1551","preview-note":"_preview-note_17un7_1568","modal-footer":"_modal-footer_17un7_1683","close-button":"_close-button_17un7_1700",modalHeader:"_modalHeader_17un7_1763",closeButton:"_closeButton_17un7_1788",modalBody:"_modalBody_17un7_1814",historyList:"_historyList_17un7_1865",historyItem:"_historyItem_17un7_1872",modalFooter:"_modalFooter_17un7_2000"},bb=()=>{const[e,t]=p.useState("Nova Planilha"),[a,s]=p.useState(20),[n,l]=p.useState(20),[c,d]=p.useState([]),[h,u]=p.useState(null),[f,x]=p.useState(!1),[b,v]=p.useState(null),[y,_]=p.useState(!1),[j,w]=p.useState(!1),[k,C]=p.useState(null),[N,S]=p.useState(()=>Array(20).fill(100)),[M,z]=p.useState(()=>Array(20).fill(32)),[D,T]=p.useState(null),[A,$]=p.useState(!1),[R,P]=p.useState("image"),[O,E]=p.useState(),[L,I]=p.useState(!1),[B,q]=p.useState({tipo:"template",tag:"",nomeArquivo:"",caminhoArquivo:"",jsonData:"",updated_at:""}),[W,F]=p.useState(["Financeiro","Vendas","Estoque","RH","Marketing","Produção","Relatório","Dashboard"]),[H,V]=p.useState(""),[U,Y]=p.useState(!1),[G,X]=p.useState(!1),[K,J]=p.useState({usuario:"",senha:""}),[Z,Q]=p.useState(""),[ee,te]=p.useState(!1),[ae,ie]=p.useState({rows:3,cols:3,selectedTemplate:0}),se=[{name:"Light",headerStyle:{backgroundColor:"#f8f9fa",color:"#212529",fontWeight:"bold",border:"1px solid #dee2e6"},cellStyle:{backgroundColor:"#ffffff",color:"#212529",border:"1px solid #dee2e6"},alternateRowStyle:{backgroundColor:"#f8f9fa",color:"#212529",border:"1px solid #dee2e6"}},{name:"Blue",headerStyle:{backgroundColor:"#0d6efd",color:"#ffffff",fontWeight:"bold",border:"1px solid #0d6efd"},cellStyle:{backgroundColor:"#ffffff",color:"#212529",border:"1px solid #dee2e6"},alternateRowStyle:{backgroundColor:"#e7f1ff",color:"#212529",border:"1px solid #dee2e6"}},{name:"Green",headerStyle:{backgroundColor:"#198754",color:"#ffffff",fontWeight:"bold",border:"1px solid #198754"},cellStyle:{backgroundColor:"#ffffff",color:"#212529",border:"1px solid #dee2e6"},alternateRowStyle:{backgroundColor:"#d1e7dd",color:"#212529",border:"1px solid #dee2e6"}},{name:"Orange",headerStyle:{backgroundColor:"#fd7e14",color:"#ffffff",fontWeight:"bold",border:"1px solid #fd7e14"},cellStyle:{backgroundColor:"#ffffff",color:"#212529",border:"1px solid #dee2e6"},alternateRowStyle:{backgroundColor:"#fff3cd",color:"#212529",border:"1px solid #dee2e6"}},{name:"Red",headerStyle:{backgroundColor:"#dc3545",color:"#ffffff",fontWeight:"bold",border:"1px solid #dc3545"},cellStyle:{backgroundColor:"#ffffff",color:"#212529",border:"1px solid #dee2e6"},alternateRowStyle:{backgroundColor:"#f8d7da",color:"#212529",border:"1px solid #dee2e6"}},{name:"Purple",headerStyle:{backgroundColor:"#6f42c1",color:"#ffffff",fontWeight:"bold",border:"1px solid #6f42c1"},cellStyle:{backgroundColor:"#ffffff",color:"#212529",border:"1px solid #dee2e6"},alternateRowStyle:{backgroundColor:"#e2d9f3",color:"#212529",border:"1px solid #dee2e6"}},{name:"Dark",headerStyle:{backgroundColor:"#212529",color:"#ffffff",fontWeight:"bold",border:"1px solid #212529"},cellStyle:{backgroundColor:"#ffffff",color:"#212529",border:"1px solid #dee2e6"},alternateRowStyle:{backgroundColor:"#f8f9fa",color:"#212529",border:"1px solid #dee2e6"}},{name:"Teal",headerStyle:{backgroundColor:"#20c997",color:"#ffffff",fontWeight:"bold",border:"1px solid #20c997"},cellStyle:{backgroundColor:"#ffffff",color:"#212529",border:"1px solid #dee2e6"},alternateRowStyle:{backgroundColor:"#d1ecf1",color:"#212529",border:"1px solid #dee2e6"}}],[ne,oe]=p.useState(!1),[re,le]=p.useState(!1),[ce,de]=p.useState(1),[he,ue]=p.useState(60),[me,pe]=p.useState(32),[ge,fe]=p.useState("0.875rem"),[xe,be]=p.useState("inherit"),[ve,ye]=p.useState(null),_e=p.useRef(null),[je,we]=p.useState(null),[ke,Ce]=p.useState(()=>Array(20).fill(null).map((e,t)=>Array(20).fill(null).map((e,a)=>({value:"",id:`cell-${t}-${a}`,formula:null,computed_value:null,error:null,is_formula:!1,style:{}})))),[Ne,Se]=p.useState(!1),[Me,ze]=p.useState(null),[De,Te]=p.useState([]),[Ae,$e]=p.useState(""),[Re,Pe]=p.useState(!1),[Oe,Ee]=p.useState(null),[Le,Ie]=p.useState(""),[Be,qe]=p.useState(!1),[We,Fe]=p.useState([]),[He,Ve]=p.useState(!1),[Ue,Ye]=p.useState({type:"info",title:"",message:""}),Ge=p.useRef(null),Xe=p.useRef(null),Ke=p.useRef(null),Je=p.useRef(null),Ze=p.useRef({x:0,y:0,initialSize:0}),Qe=p.useRef(null),et=p.useRef(null),[tt,at]=p.useState(""),[it,st]=p.useState([]),[nt,ot]=p.useState(!1),[rt,lt]=p.useState(null),[ct,dt]=p.useState([]),[ht,ut]=p.useState([]),[mt,pt]=p.useState("Todas"),gt=p.useRef(null),ft=p.useCallback(e=>{e.ctrlKey&&e.shiftKey&&"B"===e.key&&ne&&(e.preventDefault(),Se(e=>!e),Ne&&(ze(null),Ee(null),Ie("")))},[ne,Ne]);p.useEffect(()=>(document.addEventListener("keydown",ft),()=>{document.removeEventListener("keydown",ft)}),[ft]);const xt=p.useCallback(()=>{ze(null),Ee(null),Ie("")},[]),bt=p.useCallback(async(e,t)=>{try{const a=await i("get_usuario_nome"),s=a?`${t} - Usuário: ${a}`:t,n={timestamp:new Date,action:e,details:s};Fe(e=>[n,...e].slice(0,50))}catch(a){const i={timestamp:new Date,action:e,details:t};Fe(e=>[i,...e].slice(0,50))}},[]),vt=p.useCallback(async(e,t)=>{try{te(!0),Q("");return await i("validate_user_credentials",{usuario:e,senha:t})}catch(a){return Q("Erro ao validar credenciais. Tente novamente."),!1}finally{te(!1)}},[]),yt=p.useCallback(()=>{if(0===c.length)return{};const e=c[0];return ke[e.row][e.col].style||{}},[c,ke]),_t=p.useCallback(()=>{const t={name:e,rows:a,cols:n,data:ke,history:We,columnWidths:N,rowHeights:M,globalStyles:{}};return JSON.stringify(t,null,2)},[e,a,n,ke,We,N,M]),jt=p.useCallback(()=>{const t=_t();q({tipo:"template",tag:"",nomeArquivo:e||"Nova Planilha",caminhoArquivo:`templates/${e||"nova_planilha"}.json`,jsonData:t,updated_at:""}),I(!0)},[_t,e]),wt=p.useCallback((e,t,a)=>{Ye({type:e,title:t,message:a}),Ve(!0)},[]),kt=p.useCallback(()=>{Ve(!1)},[]),Ct=p.useCallback(()=>{J({usuario:"",senha:""}),Q(""),X(!0)},[]),Nt=p.useCallback(()=>{X(!1),J({usuario:"",senha:""}),Q("")},[]),St=p.useCallback(async()=>{if(!K.usuario.trim()||!K.senha.trim())return void Q("Por favor, preencha usuário e senha.");await vt(K.usuario,K.senha)?(Nt(),await Et()):Q("Usuário ou senha inválidos.")},[K,vt,Nt]),Mt=p.useCallback(()=>{H.trim()&&!W.includes(H.trim())&&(F(e=>[...e,H.trim()]),q(e=>({...e,tag:H.trim()})),V(""),Y(!1),bt("Nova Tag",`Tag "${H.trim()}" adicionada`))},[H,W,bt]),zt=p.useCallback(e=>{Ne&&Te(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[Ne]),Dt=p.useCallback(()=>{Ne&&Te(We.map((e,t)=>t))},[Ne,We]),Tt=p.useCallback(()=>{Te([]),Pe(!1),$e("")},[]),At=p.useCallback(()=>{if(0===De.length)return;const e=We[De[0]].timestamp,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0"),s=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0");$e(`${t}-${a}-${i}T${s}:${n}`),Pe(!0)},[De,We]),$t=p.useCallback(()=>{if(!Ae||0===De.length)return;const e=new Date(Ae);Fe(t=>{const a=[...t];return De.forEach(t=>{a[t]={...a[t],timestamp:new Date(e)}}),a}),Tt()},[Ae,De]),Rt=p.useCallback(()=>{Pe(!1),$e("")},[]),Pt=p.useCallback((e,t)=>{if(Ne)if(ze(e),Ee(t),"timestamp"===t){const a=We[e][t],i=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),o=String(a.getHours()).padStart(2,"0"),r=String(a.getMinutes()).padStart(2,"0");Ie(`${i}-${s}-${n}T${o}:${r}`)}else Ie(We[e][t])},[Ne,We]),Ot=p.useCallback(()=>{null!==Me&&null!==Oe&&(Fe(e=>{const t=[...e];if("timestamp"===Oe){const e=new Date(Le);t[Me]={...t[Me],timestamp:e}}else t[Me]={...t[Me],[Oe]:Le};return t}),ze(null),Ee(null),Ie(""))},[Me,Oe,Le]),Et=p.useCallback(async()=>{try{const t=_t();if(!t||""===t.trim()||"{}"===t)return void wt("error","Erro ao Salvar","Dados JSON não podem estar vazios");if("Editar"===O?.type){q(a=>({...a,tipo:"template",tag:a.tag||"",nomeArquivo:a.nomeArquivo||"Nova Planilha",caminhoArquivo:a.caminhoArquivo||`templates/${e||"nova_planilha"}.json`,jsonData:t,updated_at:a.updated_at||""}));const a=btoa(unescape(encodeURIComponent(t))),s={id:O?.templateData?.id,caminho_arquivo:O?.templateData?.caminho_arquivo,nome_arquivo:O?.templateData?.nome_arquivo,tag:B.tag,tipo:O?.templateData?.tipo,json_data:a,updated_at:null};await i("update_template",{templateData:{...s,json_data_base64:a}})}else{if(!B.nomeArquivo.trim())return void wt("error","Campo Obrigatório","Por favor, insira um nome para o arquivo.");if(!B.tag.trim())return void wt("error","Campo Obrigatório","Por favor, selecione ou adicione uma tag.");const e=btoa(unescape(encodeURIComponent(B.jsonData))),t={caminho_arquivo:B.caminhoArquivo,nome_arquivo:B.nomeArquivo,tag:B.tag,tipo:B.tipo,json_data:B.jsonData,updated_at:null};await i("save_template",{templateData:{...t,json_data_base64:e}})}I(!1),wt("success","Sucesso!","Template salvo com sucesso!"),bt("Template Salvo",`Template "${B.nomeArquivo}" foi salvo com a tag "${B.tag}"`)}catch(t){wt("error","Erro ao Salvar","Erro ao salvar template. Verifique os dados e tente novamente.")}},[_t,O,B,e,bt]),Lt=p.useCallback(async()=>{I(!1),Ct()},[Ct]);p.useEffect(()=>{if(c.length>0){const e=yt();fe(e.fontSize||"0.875rem"),be(e.fontFamily||"inherit")}},[c,yt]);const It=p.useCallback(()=>{de(e=>{const t=Math.min(e+.1,3),a=t/e;return bt("Zoom In",`Zoom aumentado para ${Math.round(100*t)}%`),S(e=>e.map(e=>e*a)),z(e=>e.map(e=>e*a)),ue(e=>e*a),pe(e=>e*a),t})},[bt]),Bt=p.useCallback(()=>{de(e=>{const t=Math.max(e-.1,.3),a=t/e;return bt("Zoom Out",`Zoom reduzido para ${Math.round(100*t)}%`),S(e=>e.map(e=>e*a)),z(e=>e.map(e=>e*a)),ue(e=>e*a),pe(e=>e*a),t})},[bt]),qt=p.useCallback(()=>{const e=ce;de(1);const t=1/e;S(e=>e.map(e=>e*t)),z(e=>e.map(e=>e*t)),ue(e=>e*t),pe(e=>e*t),bt("Reset Zoom","Zoom resetado para 100%")},[bt,ce]),Wt=p.useCallback(()=>{_(!0),d([]),u(null),bt("Modo Área de Impressão","Modo de seleção de área de impressão ativado")},[bt]),Ft=p.useCallback(()=>{_(!1),w(!1),C(null),bt("Modo Área de Impressão","Modo de seleção de área de impressão desativado")},[bt]),Ht=p.useCallback(()=>{if(k){const{startRow:e,startCol:t,endRow:a,endCol:i}=k,s=Math.min(e,a),n=Math.max(e,a),o=Math.min(t,i),r=Math.max(t,i);v({startRow:s,startCol:o,endRow:n,endCol:r}),_(!1),w(!1),C(null);const l=`${da(o)}${s+1}:${da(r)}${n+1}`;bt("Área de Impressão Definida",`Área selecionada: ${l}`)}},[k,bt]),Vt=p.useCallback(()=>{v(null),bt("Área de Impressão","Área de impressão removida - impressão completa")},[bt]),Ut=p.useCallback((e,t)=>!!b&&(e>=b.startRow&&e<=b.endRow&&t>=b.startCol&&t<=b.endCol),[b]),Yt=p.useCallback((e,t)=>{if(!k)return!1;const{startRow:a,startCol:i,endRow:s,endCol:n}=k,o=Math.min(a,s),r=Math.max(a,s),l=Math.min(i,n),c=Math.max(i,n);return e>=o&&e<=r&&t>=l&&t<=c},[k]),Gt=p.useCallback((e,t,a)=>{if(y)return w(!0),void C({startRow:e,startCol:t,endRow:e,endCol:t});if(a.ctrlKey&&gt.current===document.activeElement){a.preventDefault();const i=na(e,t);return void at(e=>e+i)}x(!0),a.ctrlKey?d(a=>{const i=a.some(a=>a.row===e&&a.col===t);return i?a.filter(a=>!(a.row===e&&a.col===t)):[...a,{row:e,col:t}]}):(d([{row:e,col:t}]),u({startRow:e,startCol:t,endRow:e,endCol:t})),d([{row:e,col:t}]),u({startRow:e,startCol:t,endRow:e,endCol:t})},[y,gt]),Xt=p.useCallback((e,t)=>{if(j&&k)C(a=>a?{...a,endRow:e,endCol:t}:null);else if(f&&h){const a={...h,endRow:e,endCol:t};u(a);const i=Math.min(a.startRow,a.endRow),s=Math.max(a.startRow,a.endRow),n=Math.min(a.startCol,a.endCol),o=Math.max(a.startCol,a.endCol),r=[];for(let e=i;e<=s;e++)for(let t=n;t<=o;t++)r.push({row:e,col:t});d(r)}},[j,k,f,h]);p.useEffect(()=>{let e;return(async()=>{try{e=await o("window-data",e=>{const t=e.payload;if(t)switch(t.type){case"Template":case"Editar":case"Duplicar":t.templateData?.json_data_base64&&(E(t),ja(t.templateData?.json_data_base64));break;default:E(t)}}),await r("window-ready")}catch(t){}})(),()=>{e&&e()}},[]);const Kt=p.useCallback((e,t,a)=>{e.preventDefault(),e.stopPropagation();const i=ke[t][a];i.media&&"image"===i.media.type&&we({row:t,col:a,startX:e.clientX,startY:e.clientY,startWidth:i.media.width||80,startHeight:i.media.height||60})},[ke]),Jt=p.useCallback((e,t,a)=>{if(a.preventDefault(),a.stopPropagation(),ve){const{media:a,fromCell:i}=ve;if(i.row===e&&i.col===t)return void ye(null);Ce(s=>{const n=s.map(e=>[...e]);return n[i.row][i.col]={...n[i.row][i.col],media:void 0},n[e][t]={...n[e][t],media:{...a,x:void 0,y:void 0}},n}),bt("Mover Imagem",`Imagem movida de ${da(i.col)}${i.row+1} para ${da(t)}${e+1}`),ye(null)}},[ve,bt]),Zt=p.useCallback(()=>{x(!1),u(null),w(!1)},[]),Qt=p.useCallback(()=>{if(!b)return"Planilha completa";const{startRow:e,startCol:t,endRow:a,endCol:i}=b;return`${da(t)}${e+1}:${da(i)}${a+1}`},[b]),ea=p.useCallback(async(e,t,s,o=!1)=>{const r=na(e,t),l=ke[e][t];try{if(o||s.startsWith("=")){const o=s.startsWith("=")?s.substring(1):s,c={};ke.forEach((e,t)=>{e.forEach((e,a)=>{const i=na(t,a);c[i]=e.computed_value||e.value})});const d={cells:Object.fromEntries(ke.flatMap((e,t)=>e.map((e,a)=>[na(t,a),{value:e.value,formula:e.formula,computed_value:e.computed_value,error:e.error,is_formula:e.is_formula||!1}]))),rows:a,cols:n},h=await i("update_spreadsheet_cell",{cellRef:r,value:o,isFormula:!0,spreadsheetData:d}),[u,m]=h;Ce(a=>{const i=a.map(e=>[...e]);return i[e][t]={...l,value:s,formula:o,computed_value:u.value,error:u.error||null,is_formula:!0},m.forEach(([e,t])=>{const a=oa(e);if(a){const{row:e,col:s}=a;i[e]&&i[e][s]&&(i[e][s]={...i[e][s],computed_value:t.value,error:t.error||null})}}),i}),u.success?bt("Fórmula Adicionada",`Célula ${r}: ${s} = ${u.value}`):bt("Erro de Fórmula",`Célula ${r}: ${u.error}`)}else Ce(a=>{const i=a.map(e=>[...e]);return i[e][t]={...l,value:s,formula:null,computed_value:null,error:null,is_formula:!1},i}),l.value!==s&&bt("Edição de Célula",`Célula ${r}: "${l.value}" → "${s}"`)}catch(c){Ce(a=>{const i=a.map(e=>[...e]);return i[e][t]={...l,value:s,formula:null,computed_value:null,error:`Erro: ${c}`,is_formula:!1},i})}},[ke,a,n,bt]),ta=p.useCallback(async e=>{if(at(e),e.startsWith("=")){try{const t=await i("validate_formula",{formula:e});lt({isValid:t.success,error:t.error})}catch(t){lt({isValid:!1,error:`Erro: ${t}`})}const a=e.split(/[^A-Z_]/i).pop()||"";if(a.length>0)try{const e=await i("get_formula_suggestions",{partialFormula:a});st(e),ot(e.length>0)}catch(t){ot(!1)}else ot(!1)}else ot(!1),lt(null)},[]),aa=p.useCallback(async()=>{if(1===c.length){const{row:e,col:t}=c[0],a=tt.startsWith("=");await ea(e,t,tt,a),ot(!1),lt(null)}},[c,tt,ea]),ia=p.useCallback(e=>{const t=tt,a=t.lastIndexOf(e.function_name.substring(0,1)),i=t.substring(0,a)+e.insert_text;at(i),ot(!1),gt.current&&(gt.current.focus(),gt.current.setSelectionRange(i.length-1,i.length-1))},[tt]);p.useEffect(()=>{sa(),ra()},[]),p.useEffect(()=>{if(1===c.length){const e=ke[c[0].row][c[0].col];e.is_formula&&e.formula?at("="+e.formula):at(e.value)}else c.length,at("")},[c,ke]);const sa=async()=>{try{const e=await i("get_all_formula_functions");dt(e)}catch(e){}},na=(e,t)=>`${da(t)}${e+1}`,oa=e=>{const t=e.match(/^([A-Z]+)(\d+)$/);if(!t)return null;const a=t[1],i=t[2];let s=0;for(let n=0;n<a.length;n++)s=26*s+(a.charCodeAt(n)-64);s-=1;return{row:parseInt(i)-1,col:s}},ra=async()=>{try{const e=await i("get_formula_categories");ut(["Todas",...e])}catch(e){}},la=p.useCallback(e=>{if(0===c.length)return;Ce(t=>{const a=t.map(e=>[...e]);return c.forEach(({row:t,col:i})=>{a[t]&&a[t][i]&&(a[t][i].style={...a[t][i].style,...e})}),a});const t=1===c.length?`Célula ${da(c[0].col)}${c[0].row+1}`:`${c.length} células`;bt("Formatação de Células",`${t} formatadas`)},[c,bt]),ca=p.useCallback((e,t,a)=>{Ce(i=>{const s=i.map(e=>[...e]);return s[e][t].media=a,bt("Mídia Adicionada",`${a.type} adicionada à célula ${da(t)}${e+1}`),s})},[bt]),da=e=>{let t="",a=e;for(;a>=0;)t=String.fromCharCode(65+a%26)+t,a=Math.floor(a/26)-1;return t},ha=p.useCallback((e,t)=>c.some(a=>a.row===e&&a.col===t),[c]),ua=p.useCallback((e,t)=>{if(!h)return!1;const{startRow:a,startCol:i,endRow:s,endCol:n}=h,o=Math.min(a,s),r=Math.max(a,s),l=Math.min(i,n),c=Math.max(i,n);return e>=o&&e<=r&&t>=l&&t<=c},[h]),ma=p.useCallback((e,t,i)=>{"ArrowUp"===e.key?(e.preventDefault(),t>0&&(d([{row:t-1,col:i}]),setTimeout(()=>{const e=document.querySelector(`[data-cell="${t-1}-${i}"]`);e&&e.focus()},0))):"ArrowDown"===e.key?(e.preventDefault(),t<a-1&&(d([{row:t+1,col:i}]),setTimeout(()=>{const e=document.querySelector(`[data-cell="${t+1}-${i}"]`);e&&e.focus()},0))):"ArrowLeft"===e.key?(e.preventDefault(),i>0&&(d([{row:t,col:i-1}]),setTimeout(()=>{const e=document.querySelector(`[data-cell="${t}-${i-1}"]`);e&&e.focus()},0))):"ArrowRight"===e.key?(e.preventDefault(),i<n-1&&(d([{row:t,col:i+1}]),setTimeout(()=>{const e=document.querySelector(`[data-cell="${t}-${i+1}"]`);e&&e.focus()},0))):"Enter"===e.key?t<a-1&&(d([{row:t+1,col:i}]),setTimeout(()=>{const e=document.querySelector(`[data-cell="${t+1}-${i}"]`);e&&e.focus()},0)):"Tab"===e.key&&(e.preventDefault(),i<n-1?(d([{row:t,col:i+1}]),setTimeout(()=>{const e=document.querySelector(`[data-cell="${t}-${i+1}"]`);e&&e.focus()},0)):t<a-1&&(d([{row:t+1,col:0}]),setTimeout(()=>{const e=document.querySelector(`[data-cell="${t+1}-0"]`);e&&e.focus()},0)))},[a,n]),pa=p.useCallback(()=>{Ce(e=>{const t=Array(n).fill(null).map((e,t)=>({value:"",id:`cell-${a}-${t}`,formula:null,computed_value:null,error:null,is_formula:!1,style:{}}));return bt("Adicionar Linha",`Nova linha ${a+1} adicionada`),[...e,t]}),s(e=>e+1),z(e=>[...e,32])},[n,a,bt]),ga=p.useCallback(()=>{Ce(e=>{const t=e.map((e,t)=>[...e,{value:"",id:`cell-${t}-${n}`,formula:null,computed_value:null,error:null,is_formula:!1,style:{}}]);return bt("Adicionar Coluna",`Nova coluna ${da(n)} adicionada`),t}),l(e=>e+1),S(e=>[...e,100])},[n,bt]),fa=p.useCallback(()=>{a>1&&(Ce(e=>{const t=e.slice(0,-1);return bt("Remover Linha",`Linha ${a} removida`),t}),s(e=>e-1),z(e=>e.slice(0,-1)))},[a,bt]),xa=p.useCallback(()=>{n>1&&(Ce(e=>{const t=e.map(e=>e.slice(0,-1));return bt("Remover Coluna",`Coluna ${da(n-1)} removida`),t}),l(e=>e-1),S(e=>e.slice(0,-1)))},[n,bt]),ba=p.useCallback(()=>{confirm("Tem certeza que deseja limpar toda a planilha?")&&(Ce(e=>e.map(e=>e.map(e=>({...e,value:"",formula:null,computed_value:null,error:null,is_formula:!1,media:void 0})))),bt("Limpar Planilha","Todos os dados foram removidos"))},[bt]),va=p.useCallback(()=>{const t={name:e,rows:a,cols:n,data:ke,history:We,columnWidths:N,rowHeights:M,globalStyles:{}},i=JSON.stringify(t,null,2),s=new Blob([i],{type:"application/json"}),o=URL.createObjectURL(s),r=document.createElement("a");r.href=o,r.download=`${e.replace(/\s+/g,"_")}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(o),bt("Salvar Template",`Template "${e}" salvo como JSON`)},[e,a,n,ke,We,N,M,bt]),ya=p.useCallback(e=>{const a=e.target.files?.[0];if(!a)return;const n=a.name.toLowerCase().substring(a.name.lastIndexOf("."));if(![".xlsx",".xls"].includes(n))return void wt("error","Arquivo Inválido","Por favor, selecione um arquivo Excel válido (.xlsx ou .xls)");const o=new FileReader;o.onload=async e=>{try{const n=e.target?.result,o=new Uint8Array(n),r=await i("import_xlsx_from_bytes",{fileBytes:Array.from(o),fileName:a.name,sheetName:null});if(r.success&&r.data&&r.rows&&r.cols)s(r.rows),l(r.cols),Ce(r.data),r.column_widths?S(r.column_widths):S(Array(r.cols).fill(100)),r.row_heights?z(r.row_heights):z(Array(r.rows).fill(32)),r.imported_sheet?t(`Importado - ${r.imported_sheet}`):t(`Importado - ${a.name.replace(/\.[^/.]+$/,"")}`),bt("Importar XLSX",`Arquivo "${a.name}" importado com ${r.rows} linhas e ${r.cols} colunas${r.imported_sheet?` da planilha "${r.imported_sheet}"`:""}`),wt("success","Importação Concluída",`Arquivo XLSX importado com sucesso!\nArquivo: ${a.name}\nLinhas: ${r.rows}\nColunas: ${r.cols}${r.imported_sheet?`\nPlanilha: ${r.imported_sheet}`:""}`);else{const e=r.error||"Erro desconhecido ao importar arquivo XLSX";wt("error","Erro na Importação",`Erro ao importar arquivo XLSX: ${e}`)}}catch(n){wt("error","Erro de Processamento",`Erro ao processar arquivo XLSX: ${n}`)}},o.onerror=()=>{wt("error","Erro de Leitura","Erro ao ler o arquivo. Tente novamente.")},o.readAsArrayBuffer(a),e.target.value=""},[bt]),_a=p.useCallback(e=>{const a=e.target.files?.[0];if(!a)return;const i=new FileReader;i.onload=e=>{try{const a=JSON.parse(e.target?.result),i=a.history.map(e=>({...e,timestamp:new Date(e.timestamp)}));t(a.name),s(a.rows),l(a.cols),Ce(a.data),Fe(i||[]),S(a.columnWidths||Array(a.cols).fill(100)),z(a.rowHeights||Array(a.rows).fill(32)),bt("Carregar Template",`Template "${a.name}" carregado`)}catch(a){wt("error","Erro ao Carregar","Erro ao carregar o arquivo. Verifique se é um template válido.")}},i.readAsText(a)},[bt]);async function ja(e){try{const a=await i("decode_base64_to_json",{encodedString:e}),n=a.history.map(e=>({...e,timestamp:new Date(e.timestamp)}));t(a.name),s(a.rows),l(a.cols),Ce(a.data),Fe(n||[]),S(a.columnWidths||Array(a.cols).fill(100)),z(a.rowHeights||Array(a.rows).fill(32)),bt("Carregar Template",`Template "${a.name}" carregado`)}catch(a){wt("error","Erro ao Carregar",`Erro ao carregar o arquivo: ${a}. Verifique se é um template válido e se o Base64 está correto.`)}}const wa=p.useCallback(e=>{const t=e.target.files?.[0];if(!t)return;const a=new FileReader;a.onload=e=>{try{const t=e.target?.result,a=t.split("\n").filter(e=>e.trim()).map(e=>{const t=[];let a="",i=!1;for(let s=0;s<e.length;s++){const n=e[s];'"'===n?i=!i:","!==n||i?a+=n:(t.push(a.trim()),a="")}return t.push(a.trim()),t}),i=Math.max(...a.map(e=>e.length)),o=a.length,r=Math.max(i,n);s(o),l(r),S(Array(r).fill(100)),z(Array(o).fill(32));const c=Array(o).fill(null).map((e,t)=>Array(r).fill(null).map((e,i)=>({value:a[t]?.[i]||"",id:`cell-${t}-${i}`,style:{}})));Ce(c),bt("Importar CSV",`Arquivo CSV importado com ${o} linhas e ${r} colunas`)}catch(t){wt("error","Erro na Importação","Erro ao importar CSV. Verifique se o arquivo está no formato correto.")}},a.readAsText(t)},[n,bt]),ka=p.useCallback(()=>{const t=ke.map(e=>e.map(e=>{let t=e.computed_value||e.value;return e.media&&(t+=` [${e.media.type.toUpperCase()}]`,e.media.url&&(t+=` ${e.media.url}`)),t.includes(",")||t.includes('"')||t.includes("\n")?`"${t.replace(/"/g,'""')}"`:t}).join(",")).join("\n"),a=new Blob([t],{type:"text/csv"}),i=URL.createObjectURL(a),s=document.createElement("a");s.href=i,s.download=`${e.replace(/\s+/g,"_")}.csv`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i),bt("Salvar Template",`Template "${e}" salvo como JSON`)},[ke,e,bt]),Ca=p.useCallback(()=>{if(0===c.length)return;const e=c[0],t=ke[e.row][e.col].style;la({fontWeight:"bold"===t?.fontWeight?"normal":"bold"})},[c,ke,la]),Na=p.useCallback(()=>{if(0===c.length)return;const e=c[0],t=ke[e.row][e.col].style;la({fontStyle:"italic"===t?.fontStyle?"normal":"italic"})},[c,ke,la]),Sa=p.useCallback(()=>{if(0===c.length)return;const e=c[0],t=ke[e.row][e.col].style;la({textDecoration:"underline"===t?.textDecoration?"none":"underline"})},[c,ke,la]),Ma=p.useCallback(()=>{if(0===c.length)return;const e=c[0],t=ke[e.row][e.col].style;la({textDecoration:"line-through"===t?.textDecoration?"none":"line-through"})},[c,ke,la]),za=p.useCallback(e=>{0!==c.length&&la({textAlign:e})},[c,la]),Da=p.useCallback(e=>{0!==c.length&&la({backgroundColor:e})},[c,la]),Ta=p.useCallback(e=>{0!==c.length&&la({color:e})},[c,la]),Aa=p.useCallback(e=>{0!==c.length&&la({border:e})},[c,la]),$a=p.useCallback(e=>{0!==c.length&&la({textTransform:e})},[c,la]),Ra=p.useCallback(e=>{0!==c.length&&(fe(e),la({fontSize:e}))},[c,la]),Pa=p.useCallback(e=>{0!==c.length&&(be(e),la({fontFamily:e}))},[c,la]),Oa=p.useCallback(e=>{0!==c.length?(P(e),$(!0)):wt("info","Seleção Necessária","Selecione uma célula primeiro")},[c]),Ea=p.useCallback(e=>{const t=e.target.files?.[0];if(!t||0===c.length)return;const a=new FileReader;a.onload=e=>{const a=e.target?.result,i={type:R,data:a,alt:t.name,title:t.name},s=c[0];ca(s.row,s.col,i),$(!1)},a.readAsDataURL(t)},[c,R,ca]),La=p.useCallback(e=>{if(0===c.length)return;const t={type:R,url:e,title:e},a=c[0];ca(a.row,a.col,t),$(!1)},[c,R,ca]),Ia=p.useCallback(()=>{if(0===c.length)return;const e=se[ae.selectedTemplate],{rows:t,cols:a}=ae,i=[];for(let l=0;l<t;l++){const e=[];for(let t=0;t<a;t++)0===l?e.push(`Cabeçalho ${t+1}`):e.push(`Linha ${l}, Col ${t+1}`);i.push(e)}const s={type:"table",tableData:i},n=c[0];ca(n.row,n.col,s);const o=n.row,r=n.col;for(let l=0;l<t&&o+l<ke.length;l++)for(let t=0;t<a&&r+t<ke[0].length;t++){const a=o+l,i=r+t;let s;s=0===l?e.headerStyle:l%2==0?e.cellStyle:e.alternateRowStyle,Ce(e=>{const t=e.map(e=>[...e]);return t[a]&&t[a][i]&&(t[a][i]={...t[a][i],style:{...t[a][i].style,...s}}),t})}$(!1),bt("Tabela Criada",`Tabela ${t}x${a} criada com template ${e.name}`)},[c,ca,ae,se,ke,bt]),Ba=p.useCallback((e,t,a)=>{e.preventDefault(),T({type:t,index:a}),Ze.current={x:e.clientX,y:e.clientY,initialSize:"col"===t?N[a]:M[a]}},[N,M]);p.useEffect(()=>{const e=e=>{if(D){const{type:t,index:a}=D,{x:i,y:s,initialSize:n}=Ze.current;if("col"===t){const t=e.clientX-i,s=Math.max(50,n+t);S(e=>{const t=[...e];return t[a]=s,t})}else{const t=e.clientY-s,i=Math.max(20,n+t);z(e=>{const t=[...e];return t[a]=i,t})}}if(je){const{row:t,col:a,startX:i,startY:s,startWidth:n,startHeight:o}=je,r=e.clientX-i,l=e.clientY-s,c=Math.max(20,n+r),d=Math.max(20,o+l);Ce(e=>{const i=e.map(e=>[...e]);return i[t][a].media&&(i[t][a].media={...i[t][a].media,width:c,height:d}),i})}},t=()=>{D&&(bt("Redimensionar",`${"col"===D.type?"Coluna":"Linha"} ${D.index+1} redimensionada`),T(null)),je&&(bt("Redimensionar Imagem",`Imagem na célula ${da(je.col)}${je.row+1} redimensionada`),we(null))};return(D||je)&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}},[D,je,bt,da]);const qa=(e,t)=>{const a=ke[e]?.[t];if(!a)return{};const{colspan:i,rowspan:s,shouldRender:n}=fb.getCellSpan(ke,e,t);if(!n)return{display:"none"};const o=a.style||{};let r={};b&&Ut(e,t)&&(r.boxShadow="0 0 0 2px #10b981",r.backgroundColor=r.backgroundColor||"#ecfdf5"),y&&Yt(e,t)&&(r.boxShadow="0 0 0 2px #3b82f6",r.backgroundColor="#dbeafe");const l={fontWeight:o.fontWeight||"normal",fontStyle:o.fontStyle||"normal",textDecoration:o.textDecoration||"none",textAlign:o.textAlign||"left",backgroundColor:o.backgroundColor||"transparent",color:o.color||"#374151",fontSize:o.fontSize||"0.875rem",fontFamily:o.fontFamily||"inherit",border:o.border||void 0,borderTop:o.borderTop||void 0,borderRight:o.borderRight||void 0,borderBottom:o.borderBottom||void 0,borderLeft:o.borderLeft||void 0,borderRadius:o.borderRadius||void 0,padding:o.padding||void 0,margin:o.margin||void 0,verticalAlign:o.verticalAlign||"middle",textTransform:o.textTransform||"none",letterSpacing:o.letterSpacing||"normal",lineHeight:o.lineHeight||"normal",textShadow:o.textShadow||"none",boxShadow:o.boxShadow||"none",opacity:o.opacity||1,...r};if(a.merged&&i>1||s>1){if(l.gridColumn=`span ${i}`,l.gridRow=`span ${s}`,l.zIndex=a.masterCell&&a.masterCell.row===e&&a.masterCell.col===t?4:3,a.masterCell&&a.masterCell.row===e&&a.masterCell.col===t){const a=Array.from({length:i},(e,a)=>N[t+a]||100).reduce((e,t)=>e+t,0),n=Array.from({length:s},(t,a)=>M[e+a]||32).reduce((e,t)=>e+t,0);l.width=a,l.height=n,l.minWidth=a,l.minHeight=n,l.maxWidth=a,l.maxHeight=n}}else l.width=N[t]||100,l.height=M[e]||32,l.minWidth=N[t]||100,l.minHeight=M[e]||32;return l},Wa=(e,t)=>{const a=ke[e]?.[t];if(!a||a.merged&&a.masterCell&&(a.masterCell.row!==e||a.masterCell.col!==t))return null;if(a.media)switch(a.media.type){case"image":return m.jsxs("div",{className:xb["image-container"],draggable:!0,onDragStart:i=>{if(a.media){ye({media:a.media,fromCell:{row:e,col:t}}),i.dataTransfer.setData("text/plain",a.id),i.dataTransfer.effectAllowed="move";const s=new Image;s.src=a.media.data||a.media.url||"",s.style.width="50px",s.style.height="50px",s.style.opacity="0.7",i.dataTransfer.setDragImage(s,25,25)}},onDragEnd:()=>{ye(null)},style:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"move",transition:"opacity 0.2s ease",opacity:ve&&ve.fromCell.row===e&&ve.fromCell.col===t?.5:1},title:"Arraste para mover a imagem para outra célula",children:[a.media.data&&m.jsxs("div",{style:{position:"relative"},children:[m.jsx("img",{ref:_e,src:a.media.data,alt:a.media.alt||"Imagem",style:{maxWidth:a.media.width?`${a.media.width}px`:"80px",maxHeight:a.media.height?`${a.media.height}px`:"60px",objectFit:"contain",position:"absolute",left:void 0!==a.media.x?`${a.media.x}px`:"50%",top:void 0!==a.media.y?`${a.media.y}px`:"50%",transform:void 0!==a.media.x&&void 0!==a.media.y?"none":"translate(-50%, -50%)",pointerEvents:"none"}}),m.jsx("div",{className:xb["resize-handle"],onMouseDown:a=>Kt(a,e,t),style:{position:"absolute",bottom:"0",right:"0",width:"10px",height:"10px",backgroundColor:"#16a34a",cursor:"se-resize",borderRadius:"2px",zIndex:10},title:"Arraste para redimensionar"})]}),a.media.url&&!a.media.data&&m.jsxs("div",{style:{position:"relative"},children:[m.jsx("img",{ref:_e,src:a.media.url,alt:a.media.alt||"Imagem",style:{maxWidth:a.media.width?`${a.media.width}px`:"80px",maxHeight:a.media.height?`${a.media.height}px`:"60px",objectFit:"contain",position:"absolute",left:void 0!==a.media.x?`${a.media.x}px`:"50%",top:void 0!==a.media.y?`${a.media.y}px`:"50%",transform:void 0!==a.media.x&&void 0!==a.media.y?"none":"translate(-50%, -50%)",pointerEvents:"none"}}),m.jsx("div",{className:xb["resize-handle"],onMouseDown:a=>Kt(a,e,t),style:{position:"absolute",bottom:"0",right:"0",width:"10px",height:"10px",backgroundColor:"#16a34a",cursor:"se-resize",borderRadius:"2px",zIndex:10},title:"Arraste para redimensionar"})]}),m.jsx("span",{style:{fontSize:"0.7rem",position:"relative",zIndex:1,pointerEvents:"none"},children:a.computed_value||a.value})]});case"video":return m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[m.jsx(Ks,{size:24,color:"#16a34a"}),m.jsx("span",{style:{fontSize:"0.7rem"},children:a.computed_value||a.value||"Vídeo"})]});case"audio":return m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[m.jsx(bs,{size:24,color:"#16a34a"}),m.jsx("span",{style:{fontSize:"0.7rem"},children:a.computed_value||a.value||"Áudio"})]});case"link":return m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[m.jsx(rs,{size:24,color:"#16a34a"}),m.jsx("span",{style:{fontSize:"0.7rem"},children:a.computed_value||a.value||"Link"})]});case"table":return m.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"}})}if(a.error)return m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"#dc2626",fontSize:"0.75rem"},children:[m.jsx(Pi,{size:16}),m.jsx("span",{children:a.error})]});const i=a.computed_value||a.value;return m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",width:"100%"},children:[a.is_formula&&m.jsx(ns,{size:12,color:"#16a34a",style:{flexShrink:0}}),m.jsx("input",{type:"text",className:xb["cell-input"],value:i||"",onChange:a=>ea(e,t,a.target.value),onKeyDown:a=>ma(a,e,t),"data-cell":`${e}-${t}`,style:{fontWeight:a.style?.fontWeight||"normal",fontStyle:a.style?.fontStyle||"normal",textDecoration:a.style?.textDecoration||"none",textAlign:a.style?.textAlign||"left",color:a.style?.color||"#374151",fontSize:a.style?.fontSize||"0.875rem",fontFamily:a.style?.fontFamily||"inherit",textTransform:a.style?.textTransform||"none",letterSpacing:a.style?.letterSpacing||"normal",lineHeight:a.style?.lineHeight||"normal"},placeholder:"",disabled:y})]})},Fa=()=>{if(y){if(k){const{startRow:e,startCol:t,endRow:a,endCol:i}=k,s=Math.min(e,a),n=Math.max(e,a),o=Math.min(t,i),r=Math.max(t,i);return`Selecionando: ${da(o)}${s+1}:${da(r)}${n+1}`}return"Modo: Selecionar área de impressão"}if(0===c.length)return"";if(1===c.length){const e=c[0];return`${da(e.col)}${e.row+1}`}return`${c.length} células selecionadas`},Ha=p.useCallback(()=>{if(c.length<2)return void wt("info","Seleção Insuficiente","Selecione pelo menos duas células para mesclar.");const e=c.map(e=>e.row),t=c.map(e=>e.col),a=Math.min(...e),i=Math.max(...e),s=Math.min(...t),n=Math.max(...t);Ce(e=>{const t=e.map(e=>[...e]),o=fb.mergeCells(t,a,s,i,n);if(o.success){const e=`${gb.getCellReference(a,s)}:${gb.getCellReference(i,n)}`;return bt("Mesclar Células",`Células mescladas no intervalo ${e}`),d([{row:a,col:s}]),t}return wt("error","Erro na Mesclagem",`Erro ao mesclar células: ${o.error}`),e})},[c,bt]),Va=p.useCallback(()=>{if(0===c.length)return;const{row:e,col:t}=c[0],a=ke[e]?.[t];a&&a.merged?Ce(a=>{const i=a.map(e=>[...e]),s=fb.unmergeCells(i,e,t);if(s.success){const e=`${gb.getCellReference(s.mergeRange.startRow,s.mergeRange.startCol)}:${gb.getCellReference(s.mergeRange.endRow,s.mergeRange.endCol)}`;return bt("Desmesclar Células",`Células desmescladas no intervalo ${e}`),d([{row:s.masterCell.row,col:s.masterCell.col}]),i}return wt("error","Erro na Desmesclagem",`Erro ao desmesclar células: ${s.error}`),a}):wt("info","Célula Não Mesclada","A célula selecionada não está mesclada.")},[c,ke,bt]),Ua=p.useCallback(()=>{le(!0),bt("Visualizar Impressão",`Modal de impressão aberto para planilha "${e}"`)},[e,bt]),Ya=p.useCallback(()=>{if(et.current){const t="\n        @media print {\n          body * {\n            visibility: hidden;\n          }\n          \n          .print-content, .print-content * {\n            visibility: visible;\n          }\n          \n          .print-content {\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n          }\n          \n          @page {\n            size: A4 landscape;\n            margin: 1cm;\n          }\n          \n          body {\n            margin: 0;\n            padding: 0;\n            font-family: Arial, sans-serif;\n            font-size: 12px;\n          }\n          \n          .print-header {\n            text-align: center;\n            margin-bottom: 20px;\n            border-bottom: 2px solid #333;\n            padding-bottom: 10px;\n          }\n          \n          .print-header h1 {\n            margin: 0;\n            font-size: 18px;\n            color: #333;\n          }\n          \n          .print-header p {\n            margin: 5px 0 0 0;\n            color: #666;\n            font-size: 12px;\n          }\n          \n          .print-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 10px;\n          }\n          \n          .print-table th,\n          .print-table td {\n            border: 1px solid #ccc;\n            padding: 4px 6px;\n            text-align: left;\n            vertical-align: top;\n            word-wrap: break-word;\n            max-width: 120px;\n          }\n          \n          .print-table th {\n            background-color: #f5f5f5;\n            font-weight: bold;\n            text-align: center;\n          }\n          \n          .print-table .row-header {\n            background-color: #f9f9f9;\n            font-weight: bold;\n            text-align: center;\n            width: 40px;\n          }\n          \n          .formula-cell {\n            background-color: #e8f5e8;\n          }\n          \n          .error-cell {\n            background-color: #ffe6e6;\n            color: #d32f2f;\n          }\n          \n          .media-cell {\n            background-color: #f0f8ff;\n            font-style: italic;\n          }\n          \n          .print-table {\n            font-size: 8px;\n          }\n          \n          .print-table th,\n          .print-table td {\n            padding: 2px 4px;\n            max-width: 80px;\n          }\n        }\n        \n        @media screen {\n          .print-content {\n            display: none;\n          }\n        }\n      ",a=document.createElement("div");a.className="print-content",a.innerHTML=et.current.innerHTML;const i=document.createElement("style");i.id="tauri-print-styles",i.innerHTML=t,document.head.appendChild(i),document.body.appendChild(a),setTimeout(()=>{window.print(),setTimeout(()=>{const e=document.getElementById("tauri-print-styles"),t=document.querySelector(".print-content");e&&document.head.removeChild(e),t&&document.body.removeChild(t)},500)},100),le(!1);const s=b?` (Área: ${Qt()})`:" (Planilha completa)";bt("Imprimir Planilha",`Planilha "${e}" enviada para impressão${s}`)}},[e,bt,b,Qt]),Ga=p.useCallback(()=>{let e=0,t=a-1,i=0,s=n-1;b&&(e=b.startRow,t=b.endRow,i=b.startCol,s=b.endCol);const o=t-e+1,r=s-i+1;return m.jsx("div",{className:"print-content",style:{fontFamily:"Arial, sans-serif",fontSize:"12px",color:"#000",backgroundColor:"#fff",padding:"20px"},children:m.jsx("table",{className:"print-table",style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:m.jsx("tbody",{children:Array(o).fill(null).map((t,a)=>m.jsx("tr",{children:Array(r).fill(null).map((t,s)=>{const n=e+a,o=i+s,r=ke[n]?.[o];if(!r)return m.jsx("td",{style:{border:"1px solid #ccc",padding:"4px 6px"}},s);let l=r.computed_value||r.value||"",c="",d={border:"1px solid #ccc",padding:"4px 6px",textAlign:"left",verticalAlign:"top",wordWrap:"break-word",maxWidth:"120px"};if(r.error?(c="error-cell",d.backgroundColor="#ffe6e6",d.color="#d32f2f",l=r.error):r.is_formula?(c="formula-cell",d.backgroundColor="#e8f5e8"):r.media&&(c="media-cell",d.backgroundColor="#f0f8ff",d.fontStyle="italic",l=`[${r.media.type.toUpperCase()}] ${l}`),r.style){const e=r.style;e.fontWeight&&(d.fontWeight=e.fontWeight),e.fontStyle&&(d.fontStyle=e.fontStyle),e.textDecoration&&(d.textDecoration=e.textDecoration),e.textAlign&&(d.textAlign=e.textAlign),e.backgroundColor&&(d.backgroundColor=e.backgroundColor),e.color&&(d.color=e.color),e.fontSize&&(d.fontSize=e.fontSize),e.fontFamily&&(d.fontFamily=e.fontFamily),e.textTransform&&(d.textTransform=e.textTransform)}return m.jsx("td",{className:c,style:d,children:l},s)})},a))})})})},[e,a,n,ke,da,b,Qt]);return p.useEffect(()=>{const e=()=>{x(!1),u(null),w(!1),D&&(bt("Redimensionar",`${"col"===D.type?"Coluna":"Linha"} ${D.index+1} redimensionada`),T(null)),je&&(bt("Redimensionar Imagem",`Imagem na célula ${da(je.col)}${je.row+1} redimensionada`),we(null))},t=e=>{"Escape"===e.key&&(je&&(we(null),bt("Redimensionar Imagem","Redimensionamento de imagem cancelado")),D&&(T(null),bt("Redimensionar","Redimensionamento de coluna/linha cancelado")),gt.current===document.activeElement&&nt&&ot(!1));const t=document.activeElement;t&&t.hasAttribute("data-cell")&&["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&e.preventDefault()};return document.addEventListener("mouseup",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mouseup",e),document.removeEventListener("keydown",t)}},[D,je,bt,nt]),m.jsxs("div",{className:`${xb.container} ${xb.maximized}`,children:[m.jsxs("div",{className:xb["main-content"],children:[m.jsxs("div",{className:xb.toolbar,children:[m.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),style:{padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",color:"#166534",minWidth:"200px"},placeholder:"Nome da planilha"}),m.jsxs("button",{className:xb.button,onClick:pa,children:[m.jsx(Cs,{size:16}),"Adicionar Linha"]}),m.jsxs("button",{className:xb.button,onClick:ga,children:[m.jsx(Cs,{size:16}),"Adicionar Coluna"]}),m.jsxs("button",{className:`${xb.button} ${xb.secondary}`,onClick:fa,children:[m.jsx(ps,{size:16}),"Remover Linha"]}),m.jsxs("button",{className:`${xb.button} ${xb.secondary}`,onClick:xa,children:[m.jsx(ps,{size:16}),"Remover Coluna"]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"0 16px",borderLeft:"1px solid #e5e7eb",borderRight:"1px solid #e5e7eb"},children:[m.jsx("button",{className:xb.button,onClick:Bt,title:"Diminuir zoom",children:m.jsx(en,{size:16})}),m.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",minWidth:"50px",textAlign:"center"},children:[Math.round(100*ce),"%"]}),m.jsx("button",{className:xb.button,onClick:It,title:"Aumentar zoom",children:m.jsx(Qs,{size:16})}),m.jsx("button",{className:`${xb.button} ${xb.secondary}`,onClick:qt,title:"Resetar zoom",children:m.jsx(Ms,{size:16})})]}),O&&"Criar"===O?.type&&m.jsxs("button",{className:xb.button,onClick:jt,children:[m.jsx(zs,{size:16}),"Salvar"]}),O&&"Duplicar"===O?.type&&m.jsxs("button",{className:xb.button,onClick:jt,children:[m.jsx(zs,{size:16}),"Salvar"]}),O&&"Editar"===O?.type&&m.jsxs("button",{className:xb.button,onClick:Lt,children:[m.jsx(zs,{size:16}),"Salvar Edições"]}),m.jsxs("button",{className:xb.button,onClick:va,children:[m.jsx(Yi,{size:16}),"Exportar JSON com Estilos"]}),m.jsxs("button",{className:`${xb.button} ${xb.secondary}`,onClick:()=>Ge.current?.click(),children:[m.jsx(Us,{size:16}),"Carregar Template"]}),m.jsxs("button",{className:`${xb.button} ${xb.secondary}`,onClick:()=>Xe.current?.click(),children:[m.jsx(Gi,{size:16}),"Importar CSV"]}),m.jsxs("button",{className:`${xb.button} ${xb.secondary}`,onClick:()=>Ke.current?.click(),children:[m.jsx(Yi,{size:16}),"Importar XLSX"]}),m.jsxs("button",{className:xb.button,onClick:ka,children:[m.jsx(Fi,{size:16}),"Exportar CSV"]}),y?m.jsxs(m.Fragment,{children:[m.jsxs("button",{className:`${xb.button} ${xb.success}`,onClick:Ht,disabled:!k,title:"Confirmar área selecionada",children:[m.jsx(Oi,{size:16}),"Confirmar Área"]}),m.jsxs("button",{className:`${xb.button} ${xb.secondary}`,onClick:Ft,title:"Cancelar seleção de área",children:[m.jsx(Zs,{size:16}),"Cancelar"]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("button",{className:`${xb.button} ${b?xb.success:""}`,onClick:Wt,title:"Selecionar área específica para impressão",children:[m.jsx(Bs,{size:16}),b?"Alterar Área":"Selecionar Área"]}),b&&m.jsxs("button",{className:`${xb.button} ${xb.secondary}`,onClick:Vt,title:"Remover área de impressão - imprimir planilha completa",children:[m.jsx(Zs,{size:16}),"Limpar Área"]})]}),m.jsxs("button",{className:xb.button,onClick:Ua,children:[m.jsx(Ns,{size:16}),b?"Imprimir Área":"Imprimir Planilha"]}),m.jsxs("button",{className:`${xb.button} ${xb.danger}`,onClick:ba,children:[m.jsx(qs,{size:16}),"Limpar Tudo"]}),m.jsxs("button",{className:xb.button,onClick:()=>oe(!0),children:[m.jsx(is,{size:16}),"Ver Histórico"]}),m.jsxs("button",{className:xb.button,onClick:()=>qe(!0),children:[m.jsx(Si,{size:16}),"Fórmulas"]})]}),b&&m.jsxs("div",{style:{padding:"8px 16px",backgroundColor:"#ecfdf5",border:"1px solid #10b981",borderRadius:"6px",margin:"8px 0",fontSize:"14px",color:"#065f46"},children:[m.jsx("strong",{children:"Área de impressão definida:"})," ",Qt()]}),G?m.jsx("div",{className:xb["modal-overlay"],children:m.jsxs("div",{className:xb["modal-content"],style:{maxWidth:"400px"},children:[m.jsxs("div",{className:xb.modalHeader,children:[m.jsxs("h3",{children:[m.jsx(ds,{size:20}),"Validação de Usuário"]}),m.jsx("button",{className:xb.closeButton,onClick:Nt,disabled:ee,children:m.jsx(Zs,{size:20})})]}),m.jsxs("div",{className:xb.modalBody,children:[m.jsx("p",{style:{marginBottom:"20px",color:"#6c757d"},children:"Para continuar, por favor valide suas credenciais:"}),m.jsxs("div",{style:{marginBottom:"15px"},children:[m.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#495057"},children:[m.jsx(Gs,{size:16,style:{marginRight:"5px"}}),"Usuário:"]}),m.jsx("input",{type:"text",value:K.usuario,onChange:e=>J(t=>({...t,usuario:e.target.value})),placeholder:"Digite seu usuário",disabled:ee,style:{width:"100%",padding:"10px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"14px"},onKeyDown:e=>{"Enter"===e.key&&St()}})]}),m.jsxs("div",{style:{marginBottom:"15px"},children:[m.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#495057"},children:[m.jsx(ds,{size:16,style:{marginRight:"5px"}}),"Senha:"]}),m.jsx("input",{type:"password",value:K.senha,onChange:e=>J(t=>({...t,senha:e.target.value})),placeholder:"Digite sua senha",disabled:ee,style:{width:"100%",padding:"10px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"14px"},onKeyDown:e=>{"Enter"===e.key&&St()}})]}),Z&&m.jsxs("div",{style:{padding:"10px",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"4px",color:"#721c24",marginBottom:"15px",fontSize:"14px"},children:[m.jsx(Pi,{size:16,style:{marginRight:"5px"}}),Z]})]}),m.jsxs("div",{className:xb.modalFooter,children:[m.jsx("button",{className:xb.button,onClick:Nt,disabled:ee,style:{marginRight:"10px"},children:"Cancelar"}),m.jsx("button",{className:`${xb.button} ${xb.primaryButton}`,onClick:St,disabled:ee||!K.usuario.trim()||!K.senha.trim(),style:{backgroundColor:ee?"#6c757d":"#007bff",cursor:ee?"not-allowed":"pointer"},children:ee?"Validando...":"Confirmar"})]})]})}):null,m.jsxs("div",{className:xb["formula-bar"],children:[m.jsxs("div",{className:xb["formula-bar-input-container"],children:[m.jsx("input",{ref:gt,type:"text",className:`${xb["formula-bar-input"]} ${!1===rt?.isValid?xb["formula-error"]:""}`,value:tt,onChange:e=>ta(e.target.value),onKeyDown:e=>{"Enter"===e.key?aa():"Escape"===e.key&&ot(!1)},placeholder:"Digite um valor ou fórmula (comece com =)",disabled:y}),rt&&m.jsxs("div",{className:xb["formula-validation"],children:[rt.isValid?m.jsx(Oi,{size:16,color:"#16a34a"}):m.jsx(Pi,{size:16,color:"#dc2626"}),rt.error&&m.jsx("span",{className:xb["formula-error-text"],children:rt.error})]})]}),nt&&it.length>0&&m.jsx("div",{className:xb["formula-suggestions"],children:it.slice(0,5).map((e,t)=>m.jsxs("div",{className:xb["formula-suggestion"],onClick:()=>ia(e),children:[m.jsx("strong",{children:e.display_text}),m.jsx("span",{children:e.description})]},t))})]}),m.jsxs("div",{className:xb["formatting-toolbar"],children:[m.jsx("div",{className:xb["format-group"],children:m.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginRight:"0.5rem"},children:Fa()})}),!y&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:xb["format-group"],children:[m.jsx("button",{className:`${xb["format-button"]} ${c.length>0&&"bold"===ke[c[0].row][c[0].col].style?.fontWeight?xb.active:""}`,onClick:Ca,disabled:0===c.length,title:"Negrito",children:m.jsx(wi,{size:16})}),m.jsx("button",{className:`${xb["format-button"]} ${c.length>0&&"italic"===ke[c[0].row][c[0].col].style?.fontStyle?xb.active:""}`,onClick:Na,disabled:0===c.length,title:"Itálico",children:m.jsx(os,{size:16})}),m.jsx("button",{className:`${xb["format-button"]} ${c.length>0&&"underline"===ke[c[0].row][c[0].col].style?.textDecoration?xb.active:""}`,onClick:Sa,disabled:0===c.length,title:"Sublinhado",children:m.jsx(Vs,{size:16})}),m.jsx("button",{className:`${xb["format-button"]} ${c.length>0&&"line-through"===ke[c[0].row][c[0].col].style?.textDecoration?xb.active:""}`,onClick:Ma,disabled:0===c.length,title:"Tachado",children:m.jsx(es,{size:16})})]}),m.jsxs("div",{className:xb["format-group"],children:[m.jsx("button",{className:xb["format-button"],onClick:()=>za("left"),disabled:0===c.length,title:"Alinhar à esquerda",children:m.jsx(vi,{size:16})}),m.jsx("button",{className:xb["format-button"],onClick:()=>za("center"),disabled:0===c.length,title:"Centralizar",children:m.jsx(bi,{size:16})}),m.jsx("button",{className:xb["format-button"],onClick:()=>za("right"),disabled:0===c.length,title:"Alinhar à direita",children:m.jsx(yi,{size:16})})]}),m.jsxs("div",{className:xb["format-group"],children:[m.jsx("input",{type:"color",onChange:e=>Da(e.target.value),disabled:0===c.length,title:"Cor de fundo",style:{width:"32px",height:"32px",border:"none",borderRadius:"4px"}}),m.jsx("input",{type:"color",onChange:e=>Ta(e.target.value),disabled:0===c.length,title:"Cor do texto",style:{width:"32px",height:"32px",border:"none",borderRadius:"4px"}})]}),m.jsxs("div",{className:xb["format-group"],children:[m.jsxs("select",{className:xb["format-select"],value:ge,onChange:e=>Ra(e.target.value),disabled:0===c.length,title:"Tamanho da fonte",children:[m.jsx("option",{value:"0.5rem",children:"8px"}),m.jsx("option",{value:"0.625rem",children:"9px"}),m.jsx("option",{value:"0.75rem",children:"10px"}),m.jsx("option",{value:"0.8125rem",children:"11px"}),m.jsx("option",{value:"0.875rem",children:"12px"}),m.jsx("option",{value:"0.9375rem",children:"13px"}),m.jsx("option",{value:"1rem",children:"14px"}),m.jsx("option",{value:"1.0625rem",children:"15px"}),m.jsx("option",{value:"1.125rem",children:"16px"}),m.jsx("option",{value:"1.1875rem",children:"17px"}),m.jsx("option",{value:"1.25rem",children:"18px"}),m.jsx("option",{value:"1.375rem",children:"19px"}),m.jsx("option",{value:"1.5rem",children:"20px"}),m.jsx("option",{value:"1.625rem",children:"22px"}),m.jsx("option",{value:"1.75rem",children:"24px"}),m.jsx("option",{value:"1.875rem",children:"26px"}),m.jsx("option",{value:"2rem",children:"28px"}),m.jsx("option",{value:"2.25rem",children:"30px"}),m.jsx("option",{value:"2.5rem",children:"32px"}),m.jsx("option",{value:"2.75rem",children:"36px"}),m.jsx("option",{value:"3rem",children:"40px"}),m.jsx("option",{value:"3.5rem",children:"48px"}),m.jsx("option",{value:"4rem",children:"56px"}),m.jsx("option",{value:"4.5rem",children:"64px"}),m.jsx("option",{value:"5rem",children:"72px"}),m.jsx("option",{value:"6rem",children:"96px"})]}),m.jsxs("select",{className:xb["format-select"],value:xe,onChange:e=>Pa(e.target.value),disabled:0===c.length,title:"Fonte",children:[m.jsx("option",{value:"inherit",children:"Padrão"}),m.jsx("option",{value:"Arial, sans-serif",children:"Arial"}),m.jsx("option",{value:"'Times New Roman', serif",children:"Times New Roman"}),m.jsx("option",{value:"'Courier New', monospace",children:"Courier New"}),m.jsx("option",{value:"Georgia, serif",children:"Georgia"}),m.jsx("option",{value:"Verdana, sans-serif",children:"Verdana"}),m.jsx("option",{value:"'Comic Sans MS', cursive",children:"Comic Sans MS"}),m.jsx("option",{value:"Helvetica, sans-serif",children:"Helvetica"}),m.jsx("option",{value:"'Trebuchet MS', sans-serif",children:"Trebuchet MS"}),m.jsx("option",{value:"'Arial Black', sans-serif",children:"Arial Black"}),m.jsx("option",{value:"Impact, sans-serif",children:"Impact"}),m.jsx("option",{value:"'Lucida Console', monospace",children:"Lucida Console"}),m.jsx("option",{value:"'Palatino Linotype', serif",children:"Palatino Linotype"}),m.jsx("option",{value:"Tahoma, sans-serif",children:"Tahoma"}),m.jsx("option",{value:"'Century Gothic', sans-serif",children:"Century Gothic"}),m.jsx("option",{value:"'Book Antiqua', serif",children:"Book Antiqua"}),m.jsx("option",{value:"'Arial Narrow', sans-serif",children:"Arial Narrow"}),m.jsx("option",{value:"'Brush Script MT', cursive",children:"Brush Script MT"}),m.jsx("option",{value:"Garamond, serif",children:"Garamond"}),m.jsx("option",{value:"'MS Sans Serif', sans-serif",children:"MS Sans Serif"}),m.jsx("option",{value:"'Lucida Sans Unicode', sans-serif",children:"Lucida Sans Unicode"}),m.jsx("option",{value:"Monaco, monospace",children:"Monaco"}),m.jsx("option",{value:"'Segoe UI', sans-serif",children:"Segoe UI"}),m.jsx("option",{value:"Calibri, sans-serif",children:"Calibri"}),m.jsx("option",{value:"Cambria, serif",children:"Cambria"})]})]}),m.jsx("div",{className:xb["format-group"],children:m.jsxs("select",{className:xb["format-select"],onChange:e=>c.length>0&&$a(e.target.value),disabled:0===c.length,title:"Transformação de texto",children:[m.jsx("option",{value:"none",children:"Normal"}),m.jsx("option",{value:"uppercase",children:"MAIÚSCULA"}),m.jsx("option",{value:"lowercase",children:"minúscula"}),m.jsx("option",{value:"capitalize",children:"Primeira Maiúscula"})]})}),m.jsxs("div",{className:xb["format-group"],children:[m.jsx("button",{className:xb["format-button"],onClick:()=>Aa("1px solid #000"),disabled:0===c.length,title:"Adicionar borda",children:m.jsx(Os,{size:16})}),m.jsx("button",{className:xb["format-button"],onClick:()=>Aa("none"),disabled:0===c.length,title:"Remover borda",children:m.jsx(ms,{size:16})})]}),m.jsxs("div",{className:xb["format-group"],children:[m.jsx("button",{className:xb["format-button"],onClick:Ha,disabled:c.length<2,title:"Mesclar Células",children:m.jsx(Es,{size:16})}),m.jsx("button",{className:xb["format-button"],onClick:Va,disabled:0===c.length||!ke[c[0].row][c[0].col].merged,title:"Desmesclar Células",children:m.jsx(Zs,{size:16})})]}),m.jsxs("div",{className:xb["format-group"],children:[m.jsx("button",{className:xb["format-button"],onClick:()=>Oa("image"),disabled:0===c.length,title:"Adicionar Imagem",children:m.jsx(ss,{size:16})}),m.jsx("button",{className:xb["format-button"],onClick:()=>Oa("video"),disabled:0===c.length,title:"Adicionar Vídeo",children:m.jsx(Ks,{size:16})}),m.jsx("button",{className:xb["format-button"],onClick:()=>Oa("audio"),disabled:0===c.length,title:"Adicionar Áudio",children:m.jsx(bs,{size:16})}),m.jsx("button",{className:xb["format-button"],onClick:()=>Oa("link"),disabled:0===c.length,title:"Adicionar Link",children:m.jsx(rs,{size:16})}),m.jsx("button",{className:xb["format-button"],onClick:()=>Oa("table"),disabled:0===c.length,title:"Criar Tabela",children:m.jsx(Ls,{size:16})})]})]})]}),L&&m.jsx("div",{className:xb["modal-overlay"],children:m.jsxs("div",{className:xb.modal,children:[m.jsxs("div",{className:xb["modal-header"],children:[m.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx(qi,{size:20}),"Salvar Template"]}),m.jsx("button",{className:xb["close-button"],onClick:()=>I(!1),children:m.jsx(Zs,{size:20})})]}),m.jsxs("div",{className:xb["modal-content"],style:{padding:"24px"},children:[m.jsxs("div",{style:{marginBottom:"20px"},children:[m.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"Nome do Arquivo:"}),m.jsx("input",{type:"text",value:B.nomeArquivo,onChange:e=>q(t=>({...t,nomeArquivo:e.target.value,caminhoArquivo:`templates/${e.target.value.replace(/\s+/g,"_").toLowerCase()}.json`})),style:{width:"100%",padding:"12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px"},placeholder:"Digite o nome do arquivo"})]}),m.jsxs("div",{style:{marginBottom:"20px"},children:[m.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"Tipo de Documento:"}),m.jsxs("select",{value:B.tipo,onChange:e=>q(t=>({...t,tipo:e.target.value})),style:{width:"100%",padding:"12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",backgroundColor:"#fff"},children:[m.jsx("option",{value:"template",children:"Template"}),m.jsx("option",{value:"planilha_padrao",children:"Planilha Padrão"})]})]}),m.jsxs("div",{style:{marginBottom:"20px"},children:[m.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"Tag:"}),U?m.jsxs("div",{style:{display:"flex",gap:"8px"},children:[m.jsx("input",{type:"text",value:H,onChange:e=>V(e.target.value),onKeyDown:e=>{"Enter"===e.key?Mt():"Escape"===e.key&&(Y(!1),V(""))},style:{flex:1,padding:"12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px"},placeholder:"Digite uma nova tag",autoFocus:!0}),m.jsx("button",{className:xb.button,onClick:Mt,style:{padding:"12px"},title:"Confirmar nova tag",children:m.jsx(Oi,{size:16})}),m.jsx("button",{className:`${xb.button} ${xb.secondary}`,onClick:()=>{Y(!1),V("")},style:{padding:"12px"},title:"Cancelar",children:m.jsx(Zs,{size:16})})]}):m.jsxs("div",{style:{display:"flex",gap:"8px"},children:[m.jsxs("select",{value:B.tag,onChange:e=>q(t=>({...t,tag:e.target.value})),style:{flex:1,padding:"12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",backgroundColor:"#fff"},children:[m.jsx("option",{value:"",children:"Selecione uma tag"}),W.map((e,t)=>m.jsx("option",{value:e,children:e},t))]}),m.jsx("button",{className:xb.button,onClick:()=>Y(!0),style:{padding:"12px"},title:"Adicionar nova tag",children:m.jsx(Cs,{size:16})})]})]}),m.jsxs("div",{style:{marginBottom:"24px",padding:"16px",backgroundColor:"#f0f9ff",border:"1px solid #0ea5e9",borderRadius:"8px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[m.jsx(ns,{size:16,color:"#0ea5e9"}),m.jsx("span",{style:{fontWeight:"600",color:"#0c4a6e"},children:"Informações do Template"})]}),m.jsxs("div",{style:{fontSize:"14px",color:"#0c4a6e"},children:[m.jsxs("p",{style:{margin:"4px 0"},children:[m.jsx("strong",{children:"Planilha:"})," ",e]}),m.jsxs("p",{style:{margin:"4px 0"},children:[m.jsx("strong",{children:"Dimensões:"})," ",a," linhas × ",n," colunas"]}),m.jsxs("p",{style:{margin:"4px 0"},children:[m.jsx("strong",{children:"Tamanho do JSON:"})," ",(B.jsonData.length/1024).toFixed(2)," KB"]})]})]}),m.jsxs("div",{className:xb["modal-footer"],children:[m.jsx("button",{className:`${xb.button} ${xb.secondary}`,onClick:()=>I(!1),children:"Cancelar"}),m.jsxs("button",{className:xb.button,onClick:Lt,disabled:!B.nomeArquivo.trim()||!B.tag.trim(),children:[m.jsx(zs,{size:16}),"Salvar Template"]})]})]})]})}),m.jsx("input",{ref:Ge,type:"file",accept:".json",onChange:_a,style:{display:"none"}}),m.jsx("input",{ref:Xe,type:"file",accept:".csv",onChange:wa,style:{display:"none"}}),m.jsx("input",{ref:Ke,type:"file",accept:".xlsx,.xls",onChange:ya,style:{display:"none"}}),m.jsx("input",{ref:Je,type:"file",accept:"image/*,video/*,audio/*",onChange:Ea,style:{display:"none"}}),m.jsx("div",{ref:Qe,className:xb["spreadsheet-container"],children:m.jsx("div",{className:xb["spreadsheet-scroll-area"],onMouseLeave:Zt,children:m.jsxs("div",{className:xb["spreadsheet-grid"],style:{gridTemplateColumns:`${he}px ${N.map(e=>`${e}px`).join(" ")}`,gridTemplateRows:`${me}px ${M.map(e=>`${e}px`).join(" ")}`},children:[m.jsx("div",{className:`${xb.cell} ${xb.header} ${xb.corner}`,children:m.jsx("div",{className:xb["position-indicator"],children:y?m.jsx(xs,{size:16,color:"#3b82f6"}):Fa()})}),Array(n).fill(null).map((e,t)=>m.jsxs("div",{className:`${xb.cell} ${xb.header} ${xb["column-header"]} ${b&&t>=b.startCol&&t<=b.endCol?xb["print-area-header"]:""}`,style:{width:N[t],minWidth:N[t],height:me,minHeight:me},children:[da(t),m.jsx("div",{className:`${xb["column-resizer"]} ${"col"===D?.type&&D.index===t?xb.resizing:""}`,onMouseDown:e=>Ba(e,"col",t)})]},`col-header-${t}`)),Array(a).fill(null).map((e,t)=>m.jsxs(g.Fragment,{children:[m.jsxs("div",{className:`${xb.cell} ${xb.header} ${xb["row-header"]} ${b&&t>=b.startRow&&t<=b.endRow?xb["print-area-header"]:""}`,style:{height:M[t],minHeight:M[t],width:he,minWidth:he},children:[t+1,m.jsx("div",{className:`${xb["row-resizer"]} ${"row"===D?.type&&D.index===t?xb.resizing:""}`,onMouseDown:e=>Ba(e,"row",t)})]}),Array(n).fill(null).map((e,a)=>{const i=ke[t]?.[a],{shouldRender:s}=fb.getCellSpan(ke,t,a);if(!s)return null;const n=i?.merged&&i?.masterCell&&i.masterCell.row===t&&i.masterCell.col===a;return m.jsx("div",{className:`${xb.cell} ${ha(t,a)?xb.selected:""} ${ua(t,a)?xb["in-range"]:""} ${ke[t]?.[a]?.is_formula?xb["formula-cell"]:""} ${Ut(t,a)?xb["print-area-cell"]:""} ${Yt(t,a)?xb["print-area-selecting"]:""} ${ve?xb["drop-target"]:""}  ${n?xb.master:""}`,style:qa(t,a),onMouseDown:e=>Gt(t,a,e),onMouseEnter:()=>Xt(t,a),onDragOver:e=>{e.preventDefault(),e.stopPropagation(),ve&&(e.currentTarget.style.backgroundColor="#e0f2fe",e.currentTarget.style.border="2px dashed #0284c7")},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),ve&&(e.currentTarget.style.backgroundColor="",e.currentTarget.style.border="")},onDrop:e=>{Jt(t,a,e),e.currentTarget.style.backgroundColor="",e.currentTarget.style.border=""},children:Wa(t,a)},`cell-${t}-${a}`)})]},`row-${t}`))]})})}),A&&m.jsx("div",{className:xb["modal-overlay"],children:m.jsxs("div",{className:xb["modal-content"],children:[m.jsxs("h3",{className:xb["modal-header"],children:["Adicionar ","image"===R?"Imagem":"video"===R?"Vídeo":"audio"===R?"Áudio":"link"===R?"Link":"Tabela"]}),"table"!==R&&"link"!==R&&m.jsx("div",{className:xb["input-group"],children:m.jsx("button",{className:xb.button,onClick:()=>Je.current?.click(),children:"Fazer Upload de Arquivo"})}),"link"===R&&m.jsxs("div",{className:xb["input-group"],children:[m.jsx("input",{type:"url",placeholder:"Digite a URL do link",className:xb["input-field"],onKeyPress:e=>{"Enter"===e.key&&La(e.target.value)}}),m.jsx("button",{className:xb.button,onClick:()=>{const e=document.querySelector('input[type="url"]');e?.value&&La(e.value)},children:"Adicionar Link"})]}),"table"===R&&m.jsxs("div",{className:xb["table-config-container"],children:[m.jsxs("div",{className:xb["table-size-section"],children:[m.jsx("h4",{children:"Tamanho da Tabela"}),m.jsxs("div",{className:xb["size-inputs"],children:[m.jsxs("div",{className:xb["input-group"],children:[m.jsx("label",{children:"Linhas:"}),m.jsx("input",{type:"number",min:"1",max:"20",value:ae.rows,onChange:e=>ie(t=>({...t,rows:parseInt(e.target.value)||1})),className:xb["size-input"]})]}),m.jsxs("div",{className:xb["input-group"],children:[m.jsx("label",{children:"Colunas:"}),m.jsx("input",{type:"number",min:"1",max:"20",value:ae.cols,onChange:e=>ie(t=>({...t,cols:parseInt(e.target.value)||1})),className:xb["size-input"]})]})]})]}),m.jsxs("div",{className:xb["table-templates-section"],children:[m.jsx("h4",{children:"Templates de Estilo"}),m.jsx("div",{className:xb["templates-grid"],children:se.map((e,t)=>m.jsxs("div",{className:`${xb["template-preview"]} ${ae.selectedTemplate===t?xb.selected:""}`,onClick:()=>ie(e=>({...e,selectedTemplate:t})),children:[m.jsx("div",{className:xb["template-name"],children:e.name}),m.jsxs("div",{className:xb["preview-table"],children:[m.jsx("div",{className:xb["preview-header"],style:e.headerStyle,children:"Cabeçalho"}),m.jsx("div",{className:xb["preview-row"],style:e.cellStyle,children:"Dados"}),m.jsx("div",{className:xb["preview-row"],style:e.alternateRowStyle,children:"Dados"})]})]},t))})]}),m.jsxs("div",{className:xb["table-preview-section"],children:[m.jsx("h4",{children:"Prévia da Tabela"}),m.jsxs("div",{className:xb["table-preview"],children:[m.jsx("table",{className:xb["preview-full-table"],children:m.jsx("tbody",{children:Array(Math.min(ae.rows,5)).fill(null).map((e,t)=>m.jsx("tr",{children:Array(Math.min(ae.cols,5)).fill(null).map((e,a)=>{const i=se[ae.selectedTemplate];let s;return s=0===t?i.headerStyle:t%2==0?i.cellStyle:i.alternateRowStyle,m.jsx("td",{style:s,children:0===t?`Col ${a+1}`:`R${t}C${a+1}`},a)})},t))})}),(ae.rows>5||ae.cols>5)&&m.jsxs("p",{className:xb["preview-note"],children:["Mostrando apenas ",Math.min(ae.rows,5),"x",Math.min(ae.cols,5)," células da tabela ",ae.rows,"x",ae.cols]})]})]}),m.jsx("button",{className:xb.button,onClick:()=>Ia(),children:"Criar Tabela"})]}),m.jsx("div",{className:xb["modal-actions"],children:m.jsx("button",{className:`${xb.button} ${xb.secondary}`,onClick:()=>$(!1),children:"Cancelar"})})]})}),Be&&m.jsx("div",{className:xb["modal-overlay"],children:m.jsxs("div",{className:xb["modal-content"],style:{maxWidth:"800px",maxHeight:"80vh"},children:[m.jsxs("h3",{className:xb["modal-header"],children:[m.jsx(Si,{size:20}),"Fórmulas Disponíveis"]}),m.jsxs("div",{className:xb["formula-modal-content"],children:[m.jsx("div",{className:xb["formula-categories"],children:ht.map(e=>m.jsx("button",{className:`${xb["category-button"]} ${mt===e?xb.active:""}`,onClick:()=>pt(e),children:e},e))}),m.jsx("div",{className:xb["formula-list"],children:("Todas"===mt?ct:ct.filter(e=>e.category===mt)).map((e,t)=>m.jsxs("div",{className:xb["formula-item"],children:[m.jsxs("div",{className:xb["formula-header"],children:[m.jsx("strong",{children:e.name}),m.jsx("span",{className:xb["formula-category"],children:e.category})]}),m.jsx("p",{className:xb["formula-description"],children:e.description}),m.jsxs("div",{className:xb["formula-syntax"],children:[m.jsx("strong",{children:"Sintaxe:"})," ",m.jsx("code",{children:e.syntax})]}),m.jsxs("div",{className:xb["formula-example"],children:[m.jsx("strong",{children:"Exemplo:"})," ",m.jsx("code",{children:e.example})]}),m.jsx("button",{className:xb["insert-formula-button"],onClick:()=>{at(`=${e.name}()`),qe(!1),gt.current&&gt.current.focus()},children:"Inserir"})]},t))})]}),m.jsx("div",{className:xb["modal-actions"],children:m.jsx("button",{className:`${xb.button} ${xb.secondary}`,onClick:()=>qe(!1),children:"Fechar"})})]})}),ne?m.jsx("div",{className:xb["modal-overlay"],children:m.jsxs("div",{className:xb["modal-content"],children:[m.jsxs("div",{className:xb.modalHeader,children:[m.jsxs("h3",{children:[m.jsx(is,{size:20}),"Histórico de Alterações",Ne&&m.jsxs("span",{style:{marginLeft:"10px",fontSize:"14px",color:"#007bff",fontWeight:"normal"},children:[m.jsx(js,{size:16,style:{marginRight:"5px"}}),"Modo de Edição Ativo"]})]}),m.jsx("button",{className:xb.closeButton,onClick:()=>{oe(!1),Se(!1),xt()},children:m.jsx(Zs,{size:20})})]}),m.jsxs("div",{className:xb.modalBody,style:{maxHeight:"400px",overflowY:"auto"},children:[Ne&&m.jsxs("div",{style:{padding:"10px",backgroundColor:"#e7f3ff",borderRadius:"4px",marginBottom:"15px",fontSize:"14px",color:"#0066cc"},children:[m.jsx(js,{size:16,style:{marginRight:"5px"}}),"Modo de edição ativo. Clique em qualquer campo para editar. Pressione ",m.jsx("kbd",{children:"Ctrl + Shift + B"})," novamente para sair.",m.jsxs("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"1px solid #b3d9ff",display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"},children:[m.jsxs("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[m.jsx("button",{onClick:Dt,style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Selecionar Todos"}),m.jsx("button",{onClick:Tt,style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Limpar Seleção"})]}),De.length>0&&m.jsxs("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[m.jsxs("span",{style:{fontSize:"12px"},children:[De.length," item(s) selecionado(s)"]}),m.jsx("button",{onClick:At,style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Alterar Data/Hora"})]})]}),Re&&m.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#d4edda",borderRadius:"4px",border:"1px solid #c3e6cb"},children:[m.jsxs("div",{style:{marginBottom:"8px",fontSize:"13px",fontWeight:"bold",color:"#155724"},children:["Alterar data/hora para ",De.length," item(s) selecionado(s):"]}),m.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[m.jsx("input",{type:"datetime-local",value:Ae,onChange:e=>$e(e.target.value),style:{padding:"4px 6px",fontSize:"12px",border:"1px solid #28a745",borderRadius:"3px",backgroundColor:"#fff"}}),m.jsx("button",{onClick:$t,style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Aplicar"}),m.jsx("button",{onClick:Rt,style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Cancelar"})]})]})]}),0===We.length?m.jsx("p",{style:{textAlign:"center",color:"#6c757d",fontStyle:"italic"},children:"Nenhuma alteração registrada ainda."}):m.jsx("div",{className:xb.historyList,children:We.map((e,t)=>m.jsxs("div",{className:xb.historyItem,style:{padding:"12px",border:De.includes(t)?"2px solid #007bff":"1px solid #dee2e6",borderRadius:"4px",marginBottom:"8px",backgroundColor:De.includes(t)?"#f8f9ff":"#fff",position:"relative"},children:[Ne&&m.jsx("div",{style:{position:"absolute",top:"8px",left:"8px",zIndex:1},children:m.jsx("input",{type:"checkbox",checked:De.includes(t),onChange:()=>zt(t),style:{width:"16px",height:"16px",cursor:"pointer"}})}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginLeft:Ne?"30px":"0"},children:[m.jsxs("div",{style:{flex:1},children:[m.jsxs("div",{style:{marginBottom:"5px"},children:[m.jsx("strong",{style:{color:"#495057"},children:"Ação: "}),Me===t&&"action"===Oe?m.jsx("input",{type:"text",value:Le,onChange:e=>Ie(e.target.value),onBlur:Ot,onKeyDown:e=>{"Enter"===e.key&&Ot(),"Escape"===e.key&&(e.preventDefault(),Ot())},autoFocus:!0,style:{border:"2px solid #007bff",borderRadius:"3px",padding:"2px 5px",fontSize:"14px",width:"100%"}}):m.jsx("span",{onClick:()=>Pt(t,"action"),style:{cursor:Ne?"pointer":"default",padding:Ne?"2px 5px":"0",borderRadius:"3px",backgroundColor:Ne?"#f8f9fa":"transparent",border:Ne?"1px dashed #ccc":"none"},children:e.action})]}),m.jsxs("div",{style:{marginBottom:"5px"},children:[m.jsx("strong",{style:{color:"#495057"},children:"Detalhes: "}),Me===t&&"details"===Oe?m.jsx("textarea",{value:Le,onChange:e=>Ie(e.target.value),onBlur:Ot,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),Ot()),"Escape"===e.key&&(e.preventDefault(),Ot())},autoFocus:!0,style:{border:"2px solid #007bff",borderRadius:"3px",padding:"5px",fontSize:"14px",width:"100%",minHeight:"60px",resize:"vertical"}}):m.jsx("span",{onClick:()=>Pt(t,"details"),style:{cursor:Ne?"pointer":"default",padding:Ne?"2px 5px":"0",borderRadius:"3px",backgroundColor:Ne?"#f8f9fa":"transparent",border:Ne?"1px dashed #ccc":"none",display:"block",minHeight:Ne?"20px":"auto"},children:e.details})]})]}),m.jsx("div",{style:{fontSize:"12px",color:"#6c757d",marginLeft:"15px",textAlign:"right",minWidth:"120px"},children:Me===t&&"timestamp"===Oe?m.jsx("input",{type:"datetime-local",value:Le,onChange:e=>Ie(e.target.value),onBlur:Ot,onKeyDown:e=>{"Enter"===e.key&&Ot(),"Escape"===e.key&&(e.preventDefault(),Ot())},autoFocus:!0,style:{border:"2px solid #007bff",borderRadius:"3px",padding:"4px 6px",fontSize:"12px",width:"180px",backgroundColor:"#fff"}}):m.jsx("span",{onClick:()=>Pt(t,"timestamp"),style:{cursor:Ne?"pointer":"default",padding:Ne?"2px 5px":"0",borderRadius:"3px",backgroundColor:Ne?"#f8f9fa":"transparent",border:Ne?"1px dashed #ccc":"none",display:"block"},children:e.timestamp.toLocaleString("pt-BR")})})]})]},t))})]}),m.jsx("div",{className:xb.modalFooter,children:m.jsx("button",{className:xb.button,onClick:()=>{oe(!1),Se(!1),xt()},children:"Fechar"})})]})}):null,re&&m.jsx("div",{className:xb["modal-overlay"],children:m.jsxs("div",{className:xb["modal-content"],style:{maxWidth:"90vw",maxHeight:"90vh",overflow:"auto"},children:[m.jsxs("h3",{className:xb["modal-header"],children:[m.jsx(Ns,{size:20}),"Visualizar Impressão - ",e]}),m.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},children:[m.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"600",color:"#495057"},children:"Prévia da Impressão"}),m.jsxs("p",{style:{margin:"0",fontSize:"14px",color:"#6c757d"},children:[b?`Será impressa apenas a área selecionada: ${Qt()}`:"Será impressa a planilha completa."," ",'Clique em "Imprimir" para abrir o diálogo de impressão do navegador.']})]}),m.jsx("div",{ref:et,style:{border:"1px solid #dee2e6",borderRadius:"8px",padding:"20px",backgroundColor:"#fff",maxHeight:"60vh",overflow:"auto"},children:Ga()}),m.jsxs("div",{className:xb["modal-actions"],style:{marginTop:"20px"},children:[m.jsxs("button",{className:xb.button,onClick:Ya,style:{marginRight:"10px"},children:[m.jsx(Ns,{size:16}),"Imprimir"]}),m.jsx("button",{className:`${xb.button} ${xb.secondary}`,onClick:()=>le(!1),children:"Cancelar"})]})]})})]}),He&&m.jsx("div",{className:xb["modal-overlay"],children:m.jsxs("div",{className:xb["modal-content"],style:{maxWidth:"500px"},children:[m.jsxs("div",{className:xb.modalHeader,children:[m.jsxs("h3",{style:{display:"flex",alignItems:"center",color:"success"===Ue.type?"#198754":"error"===Ue.type?"#dc3545":"#0d6efd"},children:["success"===Ue.type&&m.jsx(Oi,{size:20,style:{marginRight:"8px"}}),"error"===Ue.type&&m.jsx(Pi,{size:20,style:{marginRight:"8px"}}),"info"===Ue.type&&m.jsx(ns,{size:20,style:{marginRight:"8px"}}),Ue.title]}),m.jsx("button",{className:xb.closeButton,onClick:kt,children:m.jsx(Zs,{size:20})})]}),m.jsx("div",{className:xb.modalBody,children:m.jsx("div",{style:{padding:"20px",backgroundColor:"success"===Ue.type?"#d1e7dd":"error"===Ue.type?"#f8d7da":"#cff4fc",border:"1px solid "+("success"===Ue.type?"#badbcc":"error"===Ue.type?"#f5c2c7":"#b6effb"),borderRadius:"8px",color:"success"===Ue.type?"#0f5132":"error"===Ue.type?"#842029":"#055160",fontSize:"16px",lineHeight:"1.5"},children:Ue.message})}),m.jsx("div",{className:xb.modalFooter,children:m.jsx("button",{className:`${xb.button} ${xb.primaryButton}`,onClick:kt,style:{backgroundColor:"success"===Ue.type?"#198754":"error"===Ue.type?"#dc3545":"#0d6efd"},children:"OK"})})]})})]})},vb={inicio:{component:m.jsx(Wu,{}),hasLayout:!0},reports:{component:m.jsx(Fu,{}),hasLayout:!0},settings:{component:m.jsx(Hu,{}),hasLayout:!0},laboratorio:{component:m.jsx(Vu,{}),hasLayout:!0},geral:{component:m.jsx(Rm,{}),hasLayout:!0},administracao:{component:m.jsx(Uu,{}),hasLayout:!0},agenda:{component:m.jsx(Pm,{}),hasLayout:!0},financeiro:{component:m.jsx(Om,{}),hasLayout:!0},qualidade:{component:m.jsx(Wm,{}),hasLayout:!0},frota:{component:m.jsx(Em,{}),hasLayout:!0},"cadastrar-clientes":{component:m.jsx(lg,{}),hasLayout:!1},"visualizar-clientes":{component:m.jsx(jf,{}),hasLayout:!1},"gerenciar-categoria":{component:m.jsx(hx,{}),hasLayout:!1},"cadastro-usuario-portal":{component:m.jsx(Wu,{}),hasLayout:!1},"cadastrar-setor-usuario":{component:m.jsx(Wu,{}),hasLayout:!1},"cadastrar-consultor":{component:m.jsx(Wu,{}),hasLayout:!1},"cadastrar-laboratorio-terceirizado":{component:m.jsx(Wu,{}),hasLayout:!1},"estrutura-tipo":{component:m.jsx(Wu,{}),hasLayout:!0},"estrutura-grupo":{component:m.jsx(Wu,{}),hasLayout:!0},"estrutura-matriz":{component:m.jsx(Wu,{}),hasLayout:!0},"estrutura-unidade":{component:m.jsx(Wu,{}),hasLayout:!0},"estrutura-parametro":{component:m.jsx(Wu,{}),hasLayout:!0},"estrutura-pg-coleta":{component:m.jsx(Wu,{}),hasLayout:!0},"estrutura-pop":{component:m.jsx(Wu,{}),hasLayout:!0},"estrutura-tecnica":{component:m.jsx(Wu,{}),hasLayout:!0},"estrutura-identificacao":{component:m.jsx(Wu,{}),hasLayout:!0},"estrutura-metodologia":{component:m.jsx(Wu,{}),hasLayout:!0},"estrutura-legislacao":{component:m.jsx(Wu,{}),hasLayout:!0},"estrutura-categoria":{component:m.jsx(Wu,{}),hasLayout:!0},"estrutura-forma-contato":{component:m.jsx(Wu,{}),hasLayout:!0},"estrutura-observacao":{component:m.jsx(Wu,{}),hasLayout:!0},"estrutura-submatriz":{component:m.jsx(Wu,{}),hasLayout:!0},"rel-parametro-pop":{component:m.jsx(Wu,{}),hasLayout:!0},"rel-limite-quantificacao":{component:m.jsx(Wu,{}),hasLayout:!0},"rel-legislacao-parametro":{component:m.jsx(Wu,{}),hasLayout:!0},"rel-pacote-parametro":{component:m.jsx(Wu,{}),hasLayout:!0},"rel-tecnica-etapa":{component:m.jsx(Wu,{}),hasLayout:!0},"cadastrar-calculo":{component:m.jsx(Wu,{}),hasLayout:!0},"visualizar-calculo":{component:m.jsx(Wu,{}),hasLayout:!0},chat:{component:m.jsx(wf,{}),hasLayout:!1},"criar-planilha":{component:m.jsx(pb,{}),hasLayout:!1},"cadastrar-planilha":{component:m.jsx(bb,{}),hasLayout:!1}},yb=p.createContext(void 0),_b=()=>{const e=p.useContext(yb);if(!e)throw new Error("useRouter must be used within RouterProvider");return e},jb=({children:e})=>{const[t,a]=p.useState("inicio"),[s,n]=p.useState(!1),[o,r]=p.useState(!0),l={login:te,inicio:Y,reports:$,settings:L,laboratorio:F,frota:de,agenda:A,qualidade:E,financeiro:X,geral:H,administracao:he,"cadastrar-clientes":me,"visualizar-cliente":me,"gerenciar-categoria":me,"cadastro-usuario-portal":me,"cadastrar-setor-usuario":me,"cadastrar-consultor":me,"cadastrar-laboratorio-terceirizado":me,"estrutura-tipo":T,"estrutura-grupo":T,"estrutura-matriz":T,"estrutura-unidade":T,"estrutura-parametro":T,"estrutura-pg-coleta":T,"estrutura-pop":T,"estrutura-tecnica":T,"estrutura-identificacao":T,"estrutura-metodologia":T,"estrutura-legislacao":T,"estrutura-categoria":T,"estrutura-forma-contato":T,"estrutura-observacao":T,"estrutura-submatriz":T,"rel-parametro-pop":U,"rel-limite-quantificacao":U,"rel-legislacao-parametro":U,"rel-pacote-parametro":U,"rel-tecnica-etapa":U,"cadastrar-calculo":pe,"visualizar-calculo":pe};p.useEffect(()=>{(async()=>{r(!0);const e=window.location.hash.substring(2);if(vb.hasOwnProperty(e))a(e),n(!0),r(!1);else try{const e=await i("verificar_autenticacao");n(e),a(e?"inicio":"login")}catch(t){a("login")}finally{r(!1)}})()},[]);return o?m.jsxs("div",{className:"loading-screen",children:[m.jsx("div",{className:"spinner",children:m.jsx(L,{className:"spinning-icon"})}),m.jsx("p",{children:"Verificando autenticação..."})]}):m.jsx(yb.Provider,{value:{currentRoute:t,navigate:e=>{a(e),window.location.hash=`#/${e}`},isAuthenticated:s,setAuthenticated:e=>{n(e),e&&a("inicio")},getRouteIcon:e=>{const t=l[e]||Y;return m.jsx("span",{className:"icon-container",children:m.jsx(t,{className:"icon"})})}},children:e})},wb=({notification:e,onClose:t,onOpenChat:a})=>{const[i,s]=p.useState(!1);p.useEffect(()=>{const e=setTimeout(()=>s(!0),100),t=setTimeout(()=>{n()},5e3);return()=>{clearTimeout(e),clearTimeout(t)}},[]);const n=()=>{s(!1),setTimeout(t,300)};return m.jsxs("div",{className:"whatsapp-notification "+(i?"visible":""),onClick:()=>{a&&a(e.chat_id),n()},children:[m.jsxs("div",{className:"notification-avatar",children:[m.jsx("img",{src:e.sender_avatar?`http://192.168.15.26:8082${e.sender_avatar}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(e.sender_name)}&background=random&color=fff&size=64`,alt:e.sender_name,onError:t=>{t.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(e.sender_name)}&background=25D366&color=fff&size=64`}}),m.jsx("div",{className:"online-indicator"})]}),m.jsxs("div",{className:"notification-content",children:[m.jsxs("div",{className:"notification-header",children:[m.jsx("span",{className:"sender-name",children:e.sender_name}),m.jsx("span",{className:"timestamp",children:new Date(e.timestamp).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),m.jsx("div",{className:"message-preview",children:((e,t=60)=>e.length<=t?e:e.substring(0,t)+"...")(e.content)})]}),m.jsx("button",{className:"close-notification",onClick:e=>{e.stopPropagation(),n()},children:m.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})},kb=({notification:e,onClose:t,onOpenChat:a})=>m.jsx("div",{className:"chat-modal-overlay",onClick:t,children:m.jsxs("div",{className:"chat-modal-content",onClick:e=>e.stopPropagation(),children:[m.jsxs("div",{className:"chat-modal-header",children:[m.jsxs("div",{className:"sender-info",children:[m.jsxs("div",{className:"sender-avatar-container",children:[m.jsx("img",{src:e.sender_avatar?`http://192.168.15.26:8082${e.sender_avatar}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(e.sender_name)}&background=25D366&color=fff&size=80`,alt:e.sender_name,className:"sender-avatar-large",onError:t=>{t.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(e.sender_name)}&background=25D366&color=fff&size=80`}}),m.jsx("div",{className:"status-indicator online"})]}),m.jsxs("div",{className:"sender-details",children:[m.jsx("h3",{className:"sender-name-large",children:e.sender_name}),m.jsx("p",{className:"message-time",children:(()=>{const t=new Date(e.timestamp),a=new Date,i=Math.floor((a.getTime()-t.getTime())/6e4);if(i<1)return"Agora";if(i<60)return`${i}min atrás`;const s=Math.floor(i/60);return s<24?`${s}h atrás`:t.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})})()})]})]}),m.jsx("button",{className:"close-modal-btn",onClick:t,children:m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),m.jsx("div",{className:"chat-modal-body",children:m.jsxs("div",{className:"message-bubble",children:[m.jsx("div",{className:"message-content",children:e.content}),m.jsx("div",{className:"message-meta",children:m.jsx("span",{className:"message-timestamp",children:new Date(e.timestamp).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})})]})}),m.jsxs("div",{className:"chat-modal-footer",children:[m.jsxs("button",{className:"action-btn secondary",onClick:t,children:[m.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M9 11H5a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2h-4"}),m.jsx("polyline",{points:"9,7 12,4 15,7"}),m.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"17"})]}),"Dispensar"]}),m.jsxs("button",{className:"action-btn primary",onClick:()=>{a&&a(e.chat_id),t()},children:[m.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),"Abrir Chat"]})]})]})}),Cb=({notification:e,onClose:t,onAction:a})=>{const[i,s]=p.useState(!1);p.useEffect(()=>{const e=setTimeout(()=>s(!0),100),t=setTimeout(()=>{n()},6e3);return()=>{clearTimeout(e),clearTimeout(t)}},[]);const n=()=>{s(!1),setTimeout(t,300)};return m.jsxs("div",{className:`normal-notification ${(()=>{switch(e.icon){case"success":return"success";case"error":return"error";case"alert":return"warning";default:return"info"}})()} ${i?"visible":""} ${e.isNew?"new":""}`,onClick:()=>{a&&a(),n()},children:[m.jsxs("div",{className:"notification-icon-container",children:[(()=>{switch(e.icon){case"info":return m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),m.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]});case"alert":return m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),m.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),m.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"success":return m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),m.jsx("polyline",{points:"22,4 12,14.01 9,11.01"})]});case"error":return m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),m.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]});default:return m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),m.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]})}})(),e.isNew&&m.jsx("div",{className:"new-indicator"})]}),m.jsxs("div",{className:"notification-content",children:[m.jsxs("div",{className:"notification-header",children:[m.jsx("span",{className:"notification-title",children:e.title||"Notificação"}),m.jsx("span",{className:"notification-time",children:(new Date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),m.jsx("div",{className:"notification-description",children:e.description||"Nova notificação recebida"})]}),m.jsx("button",{className:"close-notification",onClick:e=>{e.stopPropagation(),n()},children:m.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})},Nb=({notification:e,onClose:t,onViewTask:a,onAcceptTask:i})=>{const[s,n]=p.useState(!1);p.useEffect(()=>{const e=setTimeout(()=>n(!0),100),t=setTimeout(()=>{o()},8e3);return()=>{clearTimeout(e),clearTimeout(t)}},[]);const o=()=>{n(!1),setTimeout(t,300)};return m.jsxs("div",{className:`kanban-notification ${s?"visible":""} ${e.isNew?"new":""}`,children:[m.jsxs("div",{className:"kanban-notification-header",children:[m.jsx("div",{className:"task-icon",children:m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),m.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})]})}),m.jsxs("div",{className:"notification-meta",children:[m.jsx("span",{className:"notification-type",children:"Nova Tarefa"}),m.jsx("span",{className:"notification-time",children:(new Date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),m.jsx("button",{className:"close-notification",onClick:o,children:m.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),m.jsxs("div",{className:"kanban-notification-body",children:[m.jsxs("div",{className:"task-info",children:[m.jsx("h3",{className:"task-title",children:e.data?.title||e.title||"Nova Tarefa"}),e.data?.description&&m.jsx("p",{className:"task-description",children:((e,t=80)=>e.length<=t?e:e.substring(0,t)+"...")(e.data.description)}),m.jsxs("div",{className:"task-details",children:[m.jsxs("div",{className:"urgency-badge",style:{color:(e=>{switch(e){case 1:return"#3b82f6";case 2:return"#22c55e";case 3:return"#f59e0b";case 4:return"#ef4444";default:return"#6b7280"}})(e.data?.urgencia||1)},children:[(e=>{switch(e){case 1:return m.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("circle",{cx:"12",cy:"12",r:"8"})});case 2:return m.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2",ry:"2"})});case 3:return m.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M12 2L3 18h18z"}),m.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"10"})]});case 4:return m.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"6"}),m.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"13"}),m.jsx("line",{x1:"12",y1:"15",x2:"12.01",y2:"15"})]});default:return m.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("circle",{cx:"12",cy:"12",r:"10"})})}})(e.data?.urgencia||1),m.jsx("span",{children:(e=>{switch(e){case 1:return"Baixa";case 2:return"Média";case 3:return"Alta";case 4:return"Muito Alta";default:return"Normal"}})(e.data?.urgencia||1)})]}),e.data?.cardType&&m.jsxs("div",{className:"card-type",children:[m.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("path",{d:"M20 6L9 17l-5-5"})}),m.jsx("span",{children:e.data.cardType})]})]}),e.data?.tags&&m.jsx("div",{className:"task-tags",children:e.data.tags.split(",").map((e,t)=>m.jsx("span",{className:"tag",children:e.trim()},t))})]}),m.jsx("div",{className:"task-assignee",children:m.jsx("img",{src:e.data?.userPhotoUrl?`http://192.168.15.26:8082${e.data.userPhotoUrl}`:"https://ui-avatars.com/api/?name=Usuario&background=random&color=fff&size=32",alt:"Usuário",className:"user-avatar",onError:e=>{e.target.src="https://ui-avatars.com/api/?name=Usuario&background=6366f1&color=fff&size=32"}})})]}),m.jsxs("div",{className:"kanban-notification-actions",children:[m.jsxs("button",{className:"action-btn secondary",onClick:()=>{a&&e.data&&a(e.data.id),o()},children:[m.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),m.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Visualizar"]}),m.jsxs("button",{className:"action-btn primary",onClick:()=>{i&&e.data&&i(e.data.id),o()},children:[m.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("path",{d:"M20 6L9 17l-5-5"})}),"Aceitar"]})]})]})},Sb=({children:e})=>{const{navigate:t,currentRoute:a,setAuthenticated:s,getRouteIcon:n}=_b(),[r,l]=p.useState(null),[c,d]=p.useState("https://placehold.co/40x40/065f46/ffffff?text=U"),[h,u]=p.useState(!1),[g,f]=p.useState(!1),[x,b]=p.useState(!1),v=p.useRef(null),[y,_]=p.useState([]),[j,w]=p.useState([]),[k,C]=p.useState([]),[N,S]=p.useState(null),[M,z]=p.useState(!1),[D,T]=p.useState(!1),[A,$]=p.useState(null),[R,P]=p.useState(!1),[O,E]=p.useState(null),[L,I]=p.useState(!1),[B,q]=p.useState(!1),[W,F]=p.useState(!1),[H,V]=p.useState(null);var[U,Y]=p.useState(0);const G=p.useRef(!1),X=p.useRef(!1),K=p.useRef(!1),J=e=>{Xu.openChat()},Z=p.useCallback(async()=>{try{const e=await i("get_inicio_data_from_api"),t=e.pending_notifications.map(e=>({id:e.id,name:e.nome,description:e.descricao,icon:e.icon,type:e.type,finalizado:e.finalizado,userId:e.user_id,createdAt:e.created_at}));w(t);const a=e.kanban_cards.map(e=>({id:e.id,urgencia:e.urgencia,cardType:e.card_type,title:e.title,description:e.description,userId:e.user_id,userPhotoUrl:e.user_photo_url,tags:e.tags,cardColor:e.card_color})).map(e=>({id:e.id,name:e.title,description:e.description,urgency:e.urgencia,cardType:e.cardType,tags:e.tags,cardColor:e.cardColor,isCompleted:!1}));C(a),Y(t.length)}catch(e){}},[]);p.useEffect(()=>{if(!G.current){G.current=!0;const e=o("nova_mensagem_ws",e=>{try{const t=JSON.parse(e.payload),{type:a,...i}=t;if("chat_message_notification"===a){S(i),T(!0),U+=1,setTimeout(()=>{T(!1)},6e3)}else if("new_kanban_card"===a&&t.data){const e=t.data;C(t=>[{id:e.id,name:e.title,description:e.description,urgency:e.urgencia,cardType:e.cardType,tags:e.tags,cardColor:e.cardColor,isCompleted:!1},...t]);const a={type:"new_kanban_card",title:`Nova Tarefa: ${e.title}`,description:e.description||"Nenhuma descrição.",icon:"ticket",isNew:!0,data:e};E(a),I(!0)}else if("new_ticket"===a){const e={...t,isNew:!0};_(t=>[e,...t]),$(e),P(!0)}else{const e={title:t.title||"Nova Notificação",description:t.description||"Notificação recebida",icon:t.icon||"info",type:t.type||"info",isNew:!0};$(e),P(!0)}}catch(t){$({title:"Erro de Comunicação",description:"Erro ao processar mensagem do servidor",icon:"alert",type:"error",isNew:!0}),P(!0)}});return()=>{(async()=>{(await e)()})(),G.current=!1}}},[]),p.useEffect(()=>{if(!K.current){K.current=!0;(async()=>{try{const e=await i("usuario_logado");if(e){l(e);const t="http://192.168.15.26:8082",a=e.profile_photo?`${t}${e.profile_photo}`:"https://placehold.co/40x40/065f46/ffffff?text=U";d(a),document.body.classList.toggle("dark-mode",e.dark_mode),e.id&&!X.current&&i("send_ws_message",{message:e.id.toString()}).then(()=>{X.current=!0}).catch(e=>{}),await Z()}else X.current=!1}catch(e){X.current=!1}})()}},[Z]),p.useEffect(()=>{const e=()=>{const e=localStorage.getItem("appDarkMode");null!==e&&document.body.classList.toggle("dark-mode",JSON.parse(e))};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[]),p.useEffect(()=>{function e(e){v.current&&!v.current.contains(e.target)&&b(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const Q=()=>{u(!h)},ee=()=>{f(!g)},te=()=>{q(!1)},ae=()=>{V(null),F(!1)},ie=e=>{switch(e){case"ticket":return m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"notification-item-icon",children:[m.jsx("path",{d:"M22 17H2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3z"}),m.jsx("path",{d:"M12 11h.01"}),m.jsx("path",{d:"M12 14h.01"})]});case"alert":return m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"notification-item-icon",children:[m.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),m.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),m.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"info":return m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"notification-item-icon",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),m.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]});default:return m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"notification-item-icon",children:[m.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),m.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]})}},se=e=>{const t={width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"urgency-icon"};switch(e){case 1:return m.jsx("svg",{...t,children:m.jsx("circle",{cx:"12",cy:"12",r:"8"})});case 2:return m.jsx("svg",{...t,children:m.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2",ry:"2"})});case 3:return m.jsxs("svg",{...t,children:[m.jsx("path",{d:"M12 2L3 18h18z"}),m.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"10"})]});case 4:return m.jsxs("svg",{...t,children:[m.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"6"}),m.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"13"}),m.jsx("line",{x1:"12",y1:"15",x2:"12.01",y2:"15"}),m.jsx("polyline",{points:"7 17 12 22 17 17"})]});default:return m.jsxs("svg",{...t,children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),m.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}},ne=[...y.filter(e=>"new_ticket"===e.type),...j.map(e=>({description:e.description,icon:e.icon,title:e.name,type:e.type,isNew:!1}))],oe=y.filter(e=>"new_ticket"===e.type).length+j.length,re=k.filter(e=>!e.isCompleted).length;return m.jsxs("div",{className:"layout",children:[m.jsx("header",{className:"layout-header",children:m.jsxs("div",{className:"header-content",children:[m.jsxs("div",{className:"logo-small",children:[m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 40 40",fill:"none",children:[m.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"#44dc8c"}),m.jsx("path",{d:"M12 20l6 6 10-12",stroke:"#ffffff",strokeWidth:"3"})]}),m.jsx("span",{children:"Bioma Ambiental"})]}),m.jsxs("div",{className:"header-actions-left",children:[m.jsx("div",{className:"messages-container",children:m.jsxs("button",{className:"header-icon-button",onClick:()=>Xu.openChat(),children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),U>0&&m.jsx("span",{className:"messages-badge",children:U})]})}),m.jsxs("div",{className:"notifications-container",children:[m.jsxs("button",{className:"header-icon-button",onClick:Q,children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),m.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),oe>0&&m.jsx("span",{className:"notification-badge",children:oe})]}),h&&m.jsx("div",{className:"modal notifications-modal",children:m.jsxs("div",{className:"modal-content",children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h3",{children:"Notificações"}),m.jsx("button",{className:"close-button",onClick:Q,children:"×"})]}),m.jsx("div",{className:"modal-body",children:0===ne.length?m.jsx("p",{className:"no-items-message",children:"Nenhuma notificação."}):m.jsx("ul",{children:ne.map((e,t)=>m.jsxs("li",{className:"notification-item-modal "+(e.isNew?"new":""),children:[ie(e.icon||"default"),m.jsxs("div",{className:"notification-text-content",children:[m.jsx("span",{className:"notification-title",children:e.title}),m.jsx("span",{className:"notification-description",children:e.description})]})]},`${e.type}-${t}`))})}),m.jsx("div",{className:"modal-footer",children:m.jsx("button",{className:"clear-all-notifications-button",onClick:()=>{q(!0)},children:"Limpar todas"})})]})})]}),m.jsxs("div",{className:"tasks-container",children:[m.jsxs("button",{className:"header-icon-button",onClick:ee,children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),m.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})]}),re>0&&m.jsx("span",{className:"notification-badge",children:re})]}),g&&m.jsx("div",{className:"modal tasks-modal",children:m.jsxs("div",{className:"modal-content",children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h3",{children:"Minhas Tarefas"}),m.jsx("button",{className:"close-button",onClick:ee,children:"×"})]}),m.jsx("div",{className:"modal-body",children:0===k.length?m.jsx("p",{className:"no-items-message",children:"Nenhuma Tarefa pendente."}):m.jsx("ul",{children:k.map(e=>m.jsxs("li",{className:`task-item urgency-${e.urgency} ${e.isCompleted?"completed":""}`,children:[m.jsxs("div",{className:"task-details",children:[m.jsx("div",{className:"task-urgency-indicator",children:se(e.urgency)}),m.jsxs("div",{style:{flexGrow:1,display:"flex",flexDirection:"column"},children:[m.jsx("span",{className:"task-name",children:e.name}),e.description&&m.jsx("span",{className:"task-description",children:e.description})]})]}),m.jsx("div",{className:"task-actions",children:e.isCompleted?m.jsx("span",{className:"task-completed-text",children:"Concluída ✓"}):m.jsx("button",{className:"finalize-task-button",onClick:()=>(e=>{V(e),F(!0)})(e),children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#22c55e",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon-confirm-task",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})})})})]},e.id))})})]})})]})]}),m.jsx("div",{className:"header-actions-right",children:m.jsxs("div",{className:"user-dropdown",ref:v,children:[m.jsxs("button",{className:"user-info-toggle",onClick:()=>b(!x),children:[r&&m.jsxs("div",{className:"user-info",children:[m.jsx("img",{src:c,alt:"Foto de Perfil",className:"profile-photo"}),m.jsxs("div",{className:"user-details",children:[m.jsx("span",{className:"user-name",children:r.nome_completo}),m.jsx("span",{className:"user-cargo",children:r.cargo})]})]}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"dropdown-arrow "+(x?"open":""),children:m.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),x&&m.jsx("div",{className:"dropdown-content "+(x?"show-dropdown":""),children:m.jsxs("button",{className:"dropdown-item logout-button",onClick:()=>{X.current=!1,K.current=!1,s(!1)},children:[m.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),m.jsx("polyline",{points:"16,17 21,12 16,7"}),m.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),m.jsx("span",{children:"Sair"})]})})]})})]})}),m.jsxs("div",{className:"layout-body",children:[m.jsx("aside",{className:"layout-sidebar",children:m.jsxs("nav",{className:"sidebar-nav",children:[m.jsxs("button",{className:"nav-item "+("inicio"===a?"active":""),onClick:()=>t("inicio"),children:[n("inicio"),m.jsx("span",{children:"Início"})]}),m.jsxs("button",{className:"nav-item "+("reports"===a?"active":""),onClick:()=>t("reports"),children:[n("reports"),m.jsx("span",{children:"Relatórios"})]}),m.jsxs("button",{className:"nav-item "+("geral"===a?"active":""),onClick:()=>t("geral"),children:[n("geral"),m.jsx("span",{children:"Geral"})]}),m.jsxs("button",{className:"nav-item "+("laboratorio"===a?"active":""),onClick:()=>t("laboratorio"),children:[n("laboratorio"),m.jsx("span",{children:"Laboratório"})]}),m.jsxs("button",{className:"nav-item "+("qualidade"===a?"active":""),onClick:()=>t("qualidade"),children:[n("qualidade"),m.jsx("span",{children:"Qualidade"})]}),m.jsxs("button",{className:"nav-item "+("financeiro"===a?"active":""),onClick:()=>t("financeiro"),children:[n("financeiro"),m.jsx("span",{children:"Financeiro"})]}),m.jsxs("button",{className:"nav-item "+("administracao"===a?"active":""),onClick:()=>t("administracao"),children:[n("administracao"),m.jsx("span",{children:"Administração"})]}),m.jsxs("button",{className:"nav-item "+("agenda"===a?"active":""),onClick:()=>t("agenda"),children:[n("agenda"),m.jsx("span",{children:"Agenda"})]}),m.jsxs("button",{className:"nav-item "+("frota"===a?"active":""),onClick:()=>t("frota"),children:[n("frota"),m.jsx("span",{children:"Frota"})]}),m.jsxs("button",{className:"nav-item "+("settings"===a?"active":""),onClick:()=>t("settings"),children:[n("settings"),m.jsx("span",{children:"Configurações"})]})]})}),m.jsx("main",{className:"layout-main",children:e})]}),D&&N&&m.jsx(wb,{notification:N,onClose:()=>{T(!1),S(null)},onOpenChat:J}),M&&N&&m.jsx(kb,{notification:N,onClose:()=>{z(!1),S(null)},onOpenChat:J}),R&&A&&m.jsx(Cb,{notification:A,onClose:()=>{P(!1),$(null)}}),L&&O&&m.jsx(Nb,{notification:O,onClose:()=>{I(!1),E(null)},onViewTask:e=>{f(!0)},onAcceptTask:e=>{}}),B&&m.jsx("div",{className:"modal confirm-modal",children:m.jsxs("div",{className:"modal-content",children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h3",{children:"Confirmar Limpeza de Notificações"}),m.jsx("button",{className:"close-button",onClick:te,children:"×"})]}),m.jsxs("div",{className:"modal-body",children:[m.jsx("p",{children:"Tem certeza de que deseja limpar todas as notificações?"}),m.jsx("p",{children:"Esta ação removerá todas as notificações da sua lista."})]}),m.jsxs("div",{className:"modal-footer",children:[m.jsx("button",{className:"cancel-button",onClick:te,children:"Cancelar"}),m.jsx("button",{className:"confirm-button",onClick:async()=>{_([]),w([]);try{await i("finalizar_notificacao")}catch(e){}finally{q(!1),u(!1)}},children:"Confirmar"})]})]})}),W&&H&&m.jsx("div",{className:"modal confirm-modal",children:m.jsxs("div",{className:"modal-content",children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h3",{children:"Confirmar Finalização de Tarefa"}),m.jsx("button",{className:"close-button",onClick:ae,children:"×"})]}),m.jsxs("div",{className:"modal-body",children:[m.jsx("p",{children:"Tem certeza de que deseja finalizar a tarefa:"}),m.jsxs("p",{className:"task-to-confirm-name",children:[H.name,"?"]}),m.jsx("p",{children:"Essa ação a removerá da sua lista de tarefas pendentes."})]}),m.jsxs("div",{className:"modal-footer",children:[m.jsx("button",{className:"cancel-button",onClick:ae,children:"Cancelar"}),m.jsx("button",{className:"confirm-button",onClick:async()=>{if(H)try{await i("mark_kanban_card_as_completed",{cardId:H.id}),C(e=>e.filter(e=>e.id!==H.id))}catch(e){}finally{V(null),F(!1)}},children:"Confirmar"})]})]})})]})},Mb=()=>{const[e,t]=p.useState(""),[a,s]=p.useState(""),[n,o]=p.useState(!1),[r,l]=p.useState(!1),{modal:c,showError:d,closeModal:h}=Cp(),{setAuthenticated:u}=_b();return m.jsxs("div",{className:"app",children:[m.jsxs("div",{className:"login-container",children:[m.jsxs("div",{className:"login-card",children:[m.jsxs("div",{className:"login-header",children:[m.jsxs("div",{className:"logo",children:[m.jsx("div",{className:"logo-icon",children:m.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[m.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"#22c55e",stroke:"#ffffff",strokeWidth:"2"}),m.jsx("path",{d:"M12 20l6 6 10-12",stroke:"#ffffff",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]})}),m.jsx("h1",{children:"Bioma Ambiental"})]}),m.jsx("p",{className:"subtitle",children:"Bem-vindo de volta"})]}),m.jsxs("form",{onSubmit:async t=>{t.preventDefault(),o(!0);try{(await i("fazer_login",{usuario:e,senha:a})).success?u(!0):d("Erro no Login","Falha no login. Verifique usuário e senha.")}catch(s){d("Erro no Sistema","Erro no backend: "+String(s))}o(!1)},className:"login-form",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"email",children:"Email"}),m.jsxs("div",{className:"input-wrapper",children:[m.jsxs("svg",{className:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),m.jsx("polyline",{points:"22,6 12,13 2,6"})]}),m.jsx("input",{id:"email",type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"seu@email.com",required:!0})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"password",children:"Senha"}),m.jsxs("div",{className:"input-wrapper",children:[m.jsxs("svg",{className:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),m.jsx("circle",{cx:"12",cy:"16",r:"1"}),m.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),m.jsx("input",{id:"password",type:r?"text":"password",value:a,onChange:e=>s(e.target.value),placeholder:"••••••••",required:!0}),m.jsx("button",{type:"button",className:"password-toggle",onClick:()=>l(!r),children:r?m.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),m.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):m.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),m.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),m.jsxs("div",{className:"form-options",children:[m.jsxs("label",{className:"checkbox-wrapper",children:[m.jsx("input",{type:"checkbox"}),m.jsx("span",{className:"checkmark"}),"Lembrar-me"]}),m.jsx("a",{href:"#",className:"forgot-password",children:"Esqueceu a senha?"})]}),m.jsx("button",{type:"submit",className:"login-button",disabled:n,children:n?m.jsxs("div",{className:"loading-spinner",children:[m.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:m.jsxs("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"31.416",strokeDashoffset:"31.416",children:[m.jsx("animate",{attributeName:"stroke-dasharray",dur:"2s",values:"0 31.416;15.708 15.708;0 31.416",repeatCount:"indefinite"}),m.jsx("animate",{attributeName:"stroke-dashoffset",dur:"2s",values:"0;-15.708;-31.416",repeatCount:"indefinite"})]})}),"Entrando..."]}):"Entrar"})]}),m.jsx("div",{className:"login-footer",children:m.jsxs("p",{children:["Não tem uma conta? ",m.jsx("a",{href:"#",className:"signup-link",children:"Criar conta"})]})})]}),m.jsxs("div",{className:"background-decoration",children:[m.jsx("div",{className:"floating-shape shape-1"}),m.jsx("div",{className:"floating-shape shape-2"}),m.jsx("div",{className:"floating-shape shape-3"})]})]}),m.jsx(Sp,{...c,onClose:h})]})},zb=()=>{const{currentRoute:e,isAuthenticated:t}=_b();if(!t)return m.jsx(Mb,{});const a=vb[e],i=a?a.component:null;return!!a&&a.hasLayout?m.jsx(Sb,{children:i}):m.jsx(m.Fragment,{children:i})};function Db(){return m.jsx(jb,{children:m.jsx(zb,{})})}b.createRoot(document.getElementById("root")).render(m.jsx(g.StrictMode,{children:m.jsx(Db,{})}));
