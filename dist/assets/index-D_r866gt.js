import{r as e,g as t,a}from"./vendor-DJcYfsJ3.js";import{i as r,W as n,a as i,l as s,e as o,g as l}from"./tauri-Cn-No_-e.js";function c(e,t){for(var a=0;a<t.length;a++){const r=t[a];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const a=Object.getOwnPropertyDescriptor(r,t);a&&Object.defineProperty(e,t,a.get?a:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var d,u,h={exports:{}},m={};var p=(u||(u=1,h.exports=function(){if(d)return m;d=1;var t=e(),a=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,r){var o,l={},c=null,d=null;for(o in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)n.call(t,o)&&!s.hasOwnProperty(o)&&(l[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===l[o]&&(l[o]=t[o]);return{$$typeof:a,type:e,key:c,ref:d,props:l,_owner:i.current}}return m.Fragment=r,m.jsx=o,m.jsxs=o,m}()),h.exports),f=e();const g=t(f),x=c({__proto__:null,default:g},[f]);var v,b={};const y=t(function(){if(v)return b;v=1;var e=a();return b.createRoot=e.createRoot,b.hydrateRoot=e.hydrateRoot,b}());var _={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},j=g.createContext&&g.createContext(_),w=["attr","size","title"];function N(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},C.apply(this,arguments)}function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach(function(t){M(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function M(e,t,a){var r;return r=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==typeof r?r:r+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function E(e){return e&&e.map((e,t)=>g.createElement(e.tag,S({key:t},e.attr),E(e.child)))}function O(e){return t=>g.createElement(P,C({attr:S({},e.attr)},t),E(e.child))}function P(e){var t=t=>{var a,{attr:r,size:n,title:i}=e,s=N(e,w),o=n||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),g.createElement("svg",C({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:a,style:S(S({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&g.createElement("title",null,i),e.children)};return void 0!==j?g.createElement(j.Consumer,null,e=>t(e)):t(_)}function A(e){return O({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h320c26.5 0 48-21.5 48-48v-48h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20zm-228-32c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H118.4C106 384 96 375.4 96 364.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(e)}function D(e){return O({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(e)}function I(e){return O({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function T(e){return O({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function z(e){return O({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function R(e){return O({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function L(e){return O({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function $(e){return O({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function B(e){return O({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function q(e){return O({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"},child:[]}]})(e)}function F(e){return O({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function W(e){return O({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function G(e){return O({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function H(e){return O({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function V(e){return O({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function U(e){return O({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function K(e){return O({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M437.2 403.5L320 215V64h8c13.3 0 24-10.7 24-24V24c0-13.3-10.7-24-24-24H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h8v151L10.8 403.5C-18.5 450.6 15.3 512 70.9 512h306.2c55.7 0 89.4-61.5 60.1-108.5zM137.9 320l48.2-77.6c3.7-5.2 5.8-11.6 5.8-18.4V64h64v160c0 6.9 2.2 13.2 5.8 18.4l48.2 77.6h-172z"},child:[]}]})(e)}function Y(e){return O({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm82.29 357.6c-3.9 3.88-7.99 7.95-11.31 11.28-2.99 3-5.1 6.7-6.17 10.71-1.51 5.66-2.73 11.38-4.77 16.87l-17.39 46.85c-13.76 3-28 4.69-42.65 4.69v-27.38c1.69-12.62-7.64-36.26-22.63-51.25-6-6-9.37-14.14-9.37-22.63v-32.01c0-11.64-6.27-22.34-16.46-27.97-14.37-7.95-34.81-19.06-48.81-26.11-11.48-5.78-22.1-13.14-31.65-21.75l-.8-.72a114.792 114.792 0 0 1-18.06-20.74c-9.38-13.77-24.66-36.42-34.59-51.14 20.47-45.5 57.36-82.04 103.2-101.89l24.01 12.01C203.48 89.74 216 82.01 216 70.11v-11.3c7.99-1.29 16.12-2.11 24.39-2.42l28.3 28.3c6.25 6.25 6.25 16.38 0 22.63L264 112l-10.34 10.34c-3.12 3.12-3.12 8.19 0 11.31l4.69 4.69c3.12 3.12 3.12 8.19 0 11.31l-8 8a8.008 8.008 0 0 1-5.66 2.34h-8.99c-2.08 0-4.08.81-5.58 2.27l-9.92 9.65a8.008 8.008 0 0 0-1.58 9.31l15.59 31.19c2.66 5.32-1.21 11.58-7.15 11.58h-5.64c-1.93 0-3.79-.7-5.24-1.96l-9.28-8.06a16.017 16.017 0 0 0-15.55-3.1l-31.17 10.39a11.95 11.95 0 0 0-8.17 11.34c0 4.53 2.56 8.66 6.61 10.69l11.08 5.54c9.41 4.71 19.79 7.16 30.31 7.16s22.59 27.29 32 32h66.75c8.49 0 16.62 3.37 22.63 9.37l13.69 13.69a30.503 30.503 0 0 1 8.93 21.57 46.536 46.536 0 0 1-13.72 32.98zM417 274.25c-5.79-1.45-10.84-5-14.15-9.97l-17.98-26.97a23.97 23.97 0 0 1 0-26.62l19.59-29.38c2.32-3.47 5.5-6.29 9.24-8.15l12.98-6.49C440.2 193.59 448 223.87 448 256c0 8.67-.74 17.16-1.82 25.54L417 274.25z"},child:[]}]})(e)}function X(e){return O({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(e)}function J(e){return O({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function Z(e){return O({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(e)}function Q(e){return O({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function ee(e){return O({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function te(e){return O({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function ae(e){return O({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 176c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 48h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"},child:[]}]})(e)}function re(e){return O({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function ne(e){return O({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function ie(e){return O({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function se(e){return O({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function oe(e){return O({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function le(e){return O({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function ce(e){return O({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(e)}function de(e){return O({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function ue(e){return O({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(e)}function he(e){return O({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(e)}function me(e){return O({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(e)}function pe(e){return O({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function fe(e){return O({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"},child:[]}]})(e)}function ge(e){return O({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"},child:[]}]})(e)}function xe(e){return O({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function ve(e){return O({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(e)}function be(e){return O({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(e)}function ye(e){return O({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(e)}function _e(e){return O({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function je(e){return O({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function we(e){return O({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function Ne(e){var t,a,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(a=Ne(e[t]))&&(r&&(r+=" "),r+=a)}else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}function Ce(){for(var e,t,a=0,r="",n=arguments.length;a<n;a++)(e=arguments[a])&&(t=Ne(e))&&(r&&(r+=" "),r+=t);return r}const ke=(e,t,a,r)=>{if("length"===a||"prototype"===a)return;if("arguments"===a||"caller"===a)return;const n=Object.getOwnPropertyDescriptor(e,a),i=Object.getOwnPropertyDescriptor(t,a);!Se(n,i)&&r||Object.defineProperty(e,a,i)},Se=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},Me=(e,t)=>`/* Wrapped ${e}*/\n${t}`,Ee=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Oe=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");function Pe(e,t,{ignoreNonConfigurable:a=!1}={}){const{name:r}=e;for(const n of Reflect.ownKeys(t))ke(e,t,n,a);return((e,t)=>{const a=Object.getPrototypeOf(t);a!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,a)})(e,t),((e,t,a)=>{const r=""===a?"":`with ${a.trim()}() `,n=Me.bind(null,r,t.toString());Object.defineProperty(n,"name",Oe);const{writable:i,enumerable:s,configurable:o}=Ee;Object.defineProperty(e,"toString",{value:n,writable:i,enumerable:s,configurable:o})})(e,t,r),e}const Ae=new WeakMap,De=new WeakMap;function Ie(e,{cacheKey:t,cache:a=new Map,maxAge:r}={}){if(0===r)return e;if("number"==typeof r){const e=2147483647;if(r>e)throw new TypeError(`The \`maxAge\` option cannot exceed ${e}.`);if(r<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const n=function(...n){const i=t?t(n):n[0],s=a.get(i);if(s)return s.data;const o=e.apply(this,n),l="function"==typeof r?r(...n):r;if(a.set(i,{data:o,maxAge:l?Date.now()+l:Number.POSITIVE_INFINITY}),l&&l>0&&l!==Number.POSITIVE_INFINITY){const t=setTimeout(()=>{a.delete(i)},l);t.unref?.();const r=De.get(e)??new Set;r.add(t),De.set(e,r)}return o};return Pe(n,e,{ignoreNonConfigurable:!0}),Ae.set(n,a),n}function Te(e){return"string"==typeof e}function ze(e,t,a){return a.indexOf(e)===t}function Re(e){return-1===e.indexOf(",")?e:e.split(",")}function Le(e){if(!e)return e;if("C"===e||"posix"===e||"POSIX"===e)return"en-US";if(-1!==e.indexOf(".")){var t=e.split(".")[0];return Le(void 0===t?"":t)}if(-1!==e.indexOf("@")){var a=e.split("@")[0];return Le(void 0===a?"":a)}if(-1===e.indexOf("-")||(r=e).toLowerCase()!==r)return e;var r,n=e.split("-"),i=n[0],s=n[1],o=void 0===s?"":s;return"".concat(i,"-").concat(o.toUpperCase())}var $e=Ie(function(e){var t=void 0===e?{}:e,a=t.useFallbackLocale,r=void 0===a||a,n=t.fallbackLocale,i=void 0===n?"en-US":n,s=[];if("undefined"!=typeof navigator){for(var o=[],l=0,c=navigator.languages||[];l<c.length;l++){var d=c[l];o=o.concat(Re(d))}var u=navigator.language,h=u?Re(u):u;s=s.concat(o,h)}return r&&s.push(i),s.filter(Te).map(Le).filter(ze)},{cacheKey:JSON.stringify});var Be=Ie(function(e){return $e(e)[0]||null},{cacheKey:JSON.stringify});function qe(e,t,a){return function(r,n=a){const i=e(r)+n;return t(i)}}function Fe(e){return function(t){return new Date(e(t).getTime()-1)}}function We(e,t){return function(a){return[e(a),t(a)]}}function Ge(e){if(e instanceof Date)return e.getFullYear();if("number"==typeof e)return e;const t=Number.parseInt(e,10);if("string"==typeof e&&!Number.isNaN(t))return t;throw new Error(`Failed to get year from date: ${e}.`)}function He(e){if(e instanceof Date)return e.getMonth();throw new Error(`Failed to get month from date: ${e}.`)}function Ve(e){if(e instanceof Date)return e.getDate();throw new Error(`Failed to get year from date: ${e}.`)}function Ue(e){const t=Ge(e),a=t+(1-t)%100,r=new Date;return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}const Ke=qe(Ge,Ue,-100),Ye=qe(Ge,Ue,100),Xe=Fe(Ye),Je=qe(Ge,Xe,-100),Ze=We(Ue,Xe);function Qe(e){const t=Ge(e),a=t+(1-t)%10,r=new Date;return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}const et=qe(Ge,Qe,-10),tt=qe(Ge,Qe,10),at=Fe(tt),rt=qe(Ge,at,-10),nt=We(Qe,at);function it(e){const t=Ge(e),a=new Date;return a.setFullYear(t,0,1),a.setHours(0,0,0,0),a}const st=qe(Ge,it,-1),ot=qe(Ge,it,1),lt=Fe(ot),ct=qe(Ge,lt,-1),dt=We(it,lt);function ut(e,t){return function(a,r=t){const n=Ge(a),i=He(a)+r,s=new Date;return s.setFullYear(n,i,1),s.setHours(0,0,0,0),e(s)}}function ht(e){const t=Ge(e),a=He(e),r=new Date;return r.setFullYear(t,a,1),r.setHours(0,0,0,0),r}const mt=ut(ht,-1),pt=ut(ht,1),ft=Fe(pt),gt=ut(ft,-1),xt=We(ht,ft);function vt(e){const t=Ge(e),a=He(e),r=Ve(e),n=new Date;return n.setFullYear(t,a,r),n.setHours(0,0,0,0),n}const bt=(yt=vt,_t=1,function(e,t=_t){const a=Ge(e),r=He(e),n=Ve(e)+t,i=new Date;return i.setFullYear(a,r,n),i.setHours(0,0,0,0),yt(i)});var yt,_t;const jt=Fe(bt),wt=We(vt,jt);function Nt(e){return Ve(ft(e))}var Ct="gregory",kt="hebrew",St="islamic",Mt="iso8601",Et={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Ot=[0,1,2,3,4,5,6],Pt=new Map;function At(e){return function(t,a){return function(e){return function(t,a){var r=t||Be();Pt.has(r)||Pt.set(r,new Map);var n=Pt.get(r);return n.has(e)||n.set(e,new Intl.DateTimeFormat(r||void 0,e).format),n.get(e)(a)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(a))}}var Dt=At({day:"numeric"}),It=At({day:"numeric",month:"long",year:"numeric"}),Tt=At({month:"long"}),zt=At({month:"long",year:"numeric"}),Rt=At({weekday:"short"}),Lt=At({weekday:"long"}),$t=At({year:"numeric"}),Bt=Ot[0],qt=Ot[5],Ft=Ot[6];function Wt(e,t){void 0===t&&(t=Mt);var a=e.getDay();switch(t){case Mt:return(a+6)%7;case St:return(a+1)%7;case kt:case Ct:return a;default:throw new Error("Unsupported calendar type.")}}function Gt(e,t){void 0===t&&(t=Mt);var a=Ge(e),r=He(e),n=e.getDate()-Wt(e,t);return new Date(a,r,n)}function Ht(e,t){switch(e){case"century":return Ue(t);case"decade":return Qe(t);case"year":return it(t);case"month":return ht(t);case"day":return vt(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Vt(e,t){switch(e){case"century":return Ye(t);case"decade":return tt(t);case"year":return ot(t);case"month":return pt(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Ut(e,t){switch(e){case"century":return Xe(t);case"decade":return at(t);case"year":return lt(t);case"month":return ft(t);case"day":return jt(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Kt(e,t){switch(e){case"century":return Ze(t);case"decade":return nt(t);case"year":return dt(t);case"month":return xt(t);case"day":return wt(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Yt(e,t,a){return a.map(function(a){return(t||$t)(e,a)}).join(" – ")}function Xt(e,t,a){return Yt(e,t,nt(a))}function Jt(e){return e.getDay()===(new Date).getDay()}function Zt(e,t){void 0===t&&(t=Mt);var a=e.getDay();switch(t){case St:case kt:return a===qt||a===Ft;case Mt:case Ct:return a===Ft||a===Bt;default:throw new Error("Unsupported calendar type.")}}var Qt="react-calendar__navigation";function ea(e){var t,a=e.activeStartDate,r=e.drillUp,n=e.formatMonthYear,i=void 0===n?zt:n,s=e.formatYear,o=void 0===s?$t:s,l=e.locale,c=e.maxDate,d=e.minDate,u=e.navigationAriaLabel,h=void 0===u?"":u,m=e.navigationAriaLive,f=e.navigationLabel,g=e.next2AriaLabel,x=void 0===g?"":g,v=e.next2Label,b=void 0===v?"»":v,y=e.nextAriaLabel,_=void 0===y?"":y,j=e.nextLabel,w=void 0===j?"›":j,N=e.prev2AriaLabel,C=void 0===N?"":N,k=e.prev2Label,S=void 0===k?"«":k,M=e.prevAriaLabel,E=void 0===M?"":M,O=e.prevLabel,P=void 0===O?"‹":O,A=e.setActiveStartDate,D=e.showDoubleView,I=e.view,T=e.views.indexOf(I)>0,z="century"!==I,R=function(e,t){switch(e){case"century":return Ke(t);case"decade":return et(t);case"year":return st(t);case"month":return mt(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(I,a),L=z?function(e,t){switch(e){case"decade":return et(t,-100);case"year":return st(t,-10);case"month":return mt(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(I,a):void 0,$=Vt(I,a),B=z?function(e,t){switch(e){case"decade":return tt(t,100);case"year":return ot(t,10);case"month":return pt(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(I,a):void 0,q=function(){if(R.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return Je(t);case"decade":return rt(t);case"year":return ct(t);case"month":return gt(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(I,a);return d&&d>=e}(),F=z&&function(){if(L.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return rt(t,-100);case"year":return ct(t,-10);case"month":return gt(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(I,a);return d&&d>=e}(),W=c&&c<$,G=z&&c&&c<B;function H(e){var t=function(){switch(I){case"century":return function(e,t,a){return Yt(e,t,Ze(a))}(l,o,e);case"decade":return Xt(l,o,e);case"year":return o(l,e);case"month":return i(l,e);default:throw new Error("Invalid view: ".concat(I,"."))}}();return f?f({date:e,label:t,locale:l||Be()||void 0,view:I}):t}return p.jsxs("div",{className:Qt,children:[null!==S&&z?p.jsx("button",{"aria-label":C,className:"".concat(Qt,"__arrow ").concat(Qt,"__prev2-button"),disabled:F,onClick:function(){A(L,"prev2")},type:"button",children:S}):null,null!==P&&p.jsx("button",{"aria-label":E,className:"".concat(Qt,"__arrow ").concat(Qt,"__prev-button"),disabled:q,onClick:function(){A(R,"prev")},type:"button",children:P}),(t="".concat(Qt,"__label"),p.jsxs("button",{"aria-label":h,"aria-live":m,className:t,disabled:!T,onClick:r,style:{flexGrow:1},type:"button",children:[p.jsx("span",{className:"".concat(t,"__labelText ").concat(t,"__labelText--from"),children:H(a)}),D?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"".concat(t,"__divider"),children:" – "}),p.jsx("span",{className:"".concat(t,"__labelText ").concat(t,"__labelText--to"),children:H($)})]}):null]})),null!==w&&p.jsx("button",{"aria-label":_,className:"".concat(Qt,"__arrow ").concat(Qt,"__next-button"),disabled:W,onClick:function(){A($,"next")},type:"button",children:w}),null!==b&&z?p.jsx("button",{"aria-label":x,className:"".concat(Qt,"__arrow ").concat(Qt,"__next2-button"),disabled:G,onClick:function(){A(B,"next2")},type:"button",children:b}):null]})}var ta=function(){return ta=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},ta.apply(this,arguments)},aa=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a};function ra(e){return"".concat(e,"%")}function na(e){var t=e.children,a=e.className,r=e.count,n=e.direction,i=e.offset,s=e.style,o=e.wrap,l=aa(e,["children","className","count","direction","offset","style","wrap"]);return p.jsx("div",ta({className:a,style:ta({display:"flex",flexDirection:n,flexWrap:o?"wrap":"nowrap"},s)},l,{children:f.Children.map(t,function(e,t){var a=i&&0===t?ra(100*i/r):null;return f.cloneElement(e,ta(ta({},e.props),{style:{flexBasis:ra(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:a,marginInlineStart:a,marginInlineEnd:0}}))})}))}function ia(e,t){return t[0]<=e&&t[1]>=e}function sa(e,t){return ia(e[0],t)||ia(e[1],t)}function oa(e,t,a){var r=[];if(sa(t,e)){r.push(a);var n=ia(e[0],t),i=ia(e[1],t);n&&r.push("".concat(a,"Start")),i&&r.push("".concat(a,"End")),n&&i&&r.push("".concat(a,"BothEnds"))}return r}function la(e){if(!e)throw new Error("args is required");var t=e.value,a=e.date,r=e.hover,n="react-calendar__tile",i=[n];if(!a)return i;var s=new Date,o=function(){if(Array.isArray(a))return a;var t=e.dateType;if(!t)throw new Error("dateType is required when date is not an array of two dates");return Kt(t,a)}();if(ia(s,o)&&i.push("".concat(n,"--now")),!t||!function(e){return Array.isArray(e)?null!==e[0]&&null!==e[1]:null!==e}(t))return i;var l,c,d=function(){if(Array.isArray(t))return t;var a=e.valueType;if(!a)throw new Error("valueType is required when value is not an array of two dates");return Kt(a,t)}();c=o,(l=d)[0]<=c[0]&&l[1]>=c[1]?i.push("".concat(n,"--active")):sa(d,o)&&i.push("".concat(n,"--hasActive"));var u=oa(d,o,"".concat(n,"--range"));i.push.apply(i,u);var h=Array.isArray(t)?t:[t];if(r&&1===h.length){var m=oa(r>d[0]?[d[0],r]:[r,d[0]],o,"".concat(n,"--hover"));i.push.apply(i,m)}return i}function ca(e){for(var t=e.className,a=e.count,r=void 0===a?3:a,n=e.dateTransform,i=e.dateType,s=e.end,o=e.hover,l=e.offset,c=e.renderTile,d=e.start,u=e.step,h=void 0===u?1:u,m=e.value,f=e.valueType,g=[],x=d;x<=s;x+=h){var v=n(x);g.push(c({classes:la({date:v,dateType:i,hover:o,value:m,valueType:f}),date:v}))}return p.jsx(na,{className:t,count:r,offset:l,wrap:!0,children:g})}function da(e){var t=e.activeStartDate,a=e.children,r=e.classes,n=e.date,i=e.formatAbbr,s=e.locale,o=e.maxDate,l=e.maxDateTransform,c=e.minDate,d=e.minDateTransform,u=e.onClick,h=e.onMouseOver,m=e.style,g=e.tileClassName,x=e.tileContent,v=e.tileDisabled,b=e.view,y=f.useMemo(function(){return"function"==typeof g?g({activeStartDate:t,date:n,view:b}):g},[t,n,g,b]),_=f.useMemo(function(){return"function"==typeof x?x({activeStartDate:t,date:n,view:b}):x},[t,n,x,b]);return p.jsxs("button",{className:Ce(r,y),disabled:c&&d(c)>n||o&&l(o)<n||(null==v?void 0:v({activeStartDate:t,date:n,view:b})),onClick:u?function(e){return u(n,e)}:void 0,onFocus:h?function(){return h(n)}:void 0,onMouseOver:h?function(){return h(n)}:void 0,style:m,type:"button",children:[i?p.jsx("abbr",{"aria-label":i(s,n),children:a}):a,_]})}var ua=function(){return ua=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},ua.apply(this,arguments)},ha=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},ma="react-calendar__century-view__decades__decade";function pa(e){var t=e.classes,a=void 0===t?[]:t,r=e.currentCentury,n=e.formatYear,i=void 0===n?$t:n,s=ha(e,["classes","currentCentury","formatYear"]),o=s.date,l=s.locale,c=[];return a&&c.push.apply(c,a),c.push(ma),Ue(o).getFullYear()!==r&&c.push("".concat(ma,"--neighboringCentury")),p.jsx(da,ua({},s,{classes:c,maxDateTransform:at,minDateTransform:Qe,view:"century",children:Xt(l,i,o)}))}var fa=function(){return fa=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},fa.apply(this,arguments)},ga=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a};function xa(e){var t=e.activeStartDate,a=e.hover,r=e.showNeighboringCentury,n=e.value,i=e.valueType,s=ga(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),o=function(e){return Ge(Ue(e))}(t),l=o+(r?119:99);return p.jsx(ca,{className:"react-calendar__century-view__decades",dateTransform:Qe,dateType:"decade",end:l,hover:a,renderTile:function(e){var a=e.date,r=ga(e,["date"]);return p.jsx(pa,fa({},s,r,{activeStartDate:t,currentCentury:o,date:a}),a.getTime())},start:o,step:10,value:n,valueType:i})}var va=function(){return va=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},va.apply(this,arguments)};function ba(e){return p.jsx("div",{className:"react-calendar__century-view",children:p.jsx(xa,va({},e))})}var ya=function(){return ya=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},ya.apply(this,arguments)},_a=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},ja="react-calendar__decade-view__years__year";function wa(e){var t=e.classes,a=void 0===t?[]:t,r=e.currentDecade,n=e.formatYear,i=void 0===n?$t:n,s=_a(e,["classes","currentDecade","formatYear"]),o=s.date,l=s.locale,c=[];return a&&c.push.apply(c,a),c.push(ja),Qe(o).getFullYear()!==r&&c.push("".concat(ja,"--neighboringDecade")),p.jsx(da,ya({},s,{classes:c,maxDateTransform:lt,minDateTransform:it,view:"decade",children:i(l,o)}))}var Na=function(){return Na=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Na.apply(this,arguments)},Ca=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a};function ka(e){var t=e.activeStartDate,a=e.hover,r=e.showNeighboringDecade,n=e.value,i=e.valueType,s=Ca(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),o=function(e){return Ge(Qe(e))}(t),l=o+(r?11:9);return p.jsx(ca,{className:"react-calendar__decade-view__years",dateTransform:it,dateType:"year",end:l,hover:a,renderTile:function(e){var a=e.date,r=Ca(e,["date"]);return p.jsx(wa,Na({},s,r,{activeStartDate:t,currentDecade:o,date:a}),a.getTime())},start:o,value:n,valueType:i})}var Sa=function(){return Sa=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Sa.apply(this,arguments)};function Ma(e){return p.jsx("div",{className:"react-calendar__decade-view",children:p.jsx(ka,Sa({},e))})}var Ea=function(){return Ea=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Ea.apply(this,arguments)},Oa=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},Pa=function(e,t,a){if(a||2===arguments.length)for(var r,n=0,i=t.length;n<i;n++)!r&&n in t||(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))};function Aa(e){var t=e.classes,a=void 0===t?[]:t,r=e.formatMonth,n=void 0===r?Tt:r,i=e.formatMonthYear,s=void 0===i?zt:i,o=Oa(e,["classes","formatMonth","formatMonthYear"]),l=o.date,c=o.locale;return p.jsx(da,Ea({},o,{classes:Pa(Pa([],a,!0),["react-calendar__year-view__months__month"],!1),formatAbbr:s,maxDateTransform:ft,minDateTransform:ht,view:"year",children:n(c,l)}))}var Da=function(){return Da=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Da.apply(this,arguments)},Ia=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a};function Ta(e){var t=e.activeStartDate,a=e.hover,r=e.value,n=e.valueType,i=Ia(e,["activeStartDate","hover","value","valueType"]),s=Ge(t);return p.jsx(ca,{className:"react-calendar__year-view__months",dateTransform:function(e){var t=new Date;return t.setFullYear(s,e,1),ht(t)},dateType:"month",end:11,hover:a,renderTile:function(e){var a=e.date,r=Ia(e,["date"]);return p.jsx(Aa,Da({},i,r,{activeStartDate:t,date:a}),a.getTime())},start:0,value:r,valueType:n})}var za=function(){return za=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},za.apply(this,arguments)};function Ra(e){return p.jsx("div",{className:"react-calendar__year-view",children:p.jsx(Ta,za({},e))})}var La=function(){return La=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},La.apply(this,arguments)},$a=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},Ba="react-calendar__month-view__days__day";function qa(e){var t=e.calendarType,a=e.classes,r=void 0===a?[]:a,n=e.currentMonthIndex,i=e.formatDay,s=void 0===i?Dt:i,o=e.formatLongDate,l=void 0===o?It:o,c=$a(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=c.date,u=c.locale,h=[];return r&&h.push.apply(h,r),h.push(Ba),Zt(d,t)&&h.push("".concat(Ba,"--weekend")),d.getMonth()!==n&&h.push("".concat(Ba,"--neighboringMonth")),p.jsx(da,La({},c,{classes:h,formatAbbr:l,maxDateTransform:jt,minDateTransform:vt,view:"month",children:s(u,d)}))}var Fa=function(){return Fa=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Fa.apply(this,arguments)},Wa=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a};function Ga(e){var t=e.activeStartDate,a=e.calendarType,r=e.hover,n=e.showFixedNumberOfWeeks,i=e.showNeighboringMonth,s=e.value,o=e.valueType,l=Wa(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=Ge(t),d=He(t),u=n||i,h=Wt(t,a),m=u?0:h,f=1+(u?-h:0),g=function(){if(n)return f+42-1;var e=Nt(t);if(i){var r=new Date;return r.setFullYear(c,d,e),r.setHours(0,0,0,0),e+(7-Wt(r,a)-1)}return e}();return p.jsx(ca,{className:"react-calendar__month-view__days",count:7,dateTransform:function(e){var t=new Date;return t.setFullYear(c,d,e),vt(t)},dateType:"day",hover:r,end:g,renderTile:function(e){var r=e.date,n=Wa(e,["date"]);return p.jsx(qa,Fa({},l,n,{activeStartDate:t,calendarType:a,currentMonthIndex:d,date:r}),r.getTime())},offset:m,start:f,value:s,valueType:o})}var Ha="react-calendar__month-view__weekdays",Va="".concat(Ha,"__weekday");function Ua(e){for(var t=e.calendarType,a=e.formatShortWeekday,r=void 0===a?Rt:a,n=e.formatWeekday,i=void 0===n?Lt:n,s=e.locale,o=e.onMouseLeave,l=ht(new Date),c=Ge(l),d=He(l),u=[],h=1;h<=7;h+=1){var m=new Date(c,d,h-Wt(l,t)),f=i(s,m);u.push(p.jsx("div",{className:Ce(Va,Jt(m)&&"".concat(Va,"--current"),Zt(m,t)&&"".concat(Va,"--weekend")),children:p.jsx("abbr",{"aria-label":f,title:f,children:r(s,m).replace(".","")})},h))}return p.jsx(na,{className:Ha,count:7,onFocus:o,onMouseOver:o,children:u})}var Ka=function(){return Ka=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Ka.apply(this,arguments)},Ya=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},Xa="react-calendar__tile";function Ja(e){var t=e.onClickWeekNumber,a=e.weekNumber,r=p.jsx("span",{children:a});if(t){var n=e.date,i=e.onClickWeekNumber,s=e.weekNumber,o=Ya(e,["date","onClickWeekNumber","weekNumber"]);return p.jsx("button",Ka({},o,{className:Xa,onClick:function(e){return i(s,n,e)},type:"button",children:r}))}e.date,e.onClickWeekNumber,e.weekNumber;o=Ya(e,["date","onClickWeekNumber","weekNumber"]);return p.jsx("div",Ka({},o,{className:Xa,children:r}))}function Za(e){var t=e.activeStartDate,a=e.calendarType,r=e.onClickWeekNumber,n=e.onMouseLeave,i=e.showFixedNumberOfWeeks,s=function(){if(i)return 6;var e=Nt(t)-(7-Wt(t,a));return 1+Math.ceil(e/7)}(),o=function(){for(var e=Ge(t),r=He(t),n=Ve(t),i=[],o=0;o<s;o+=1)i.push(Gt(new Date(e,r,n+7*o),a));return i}(),l=o.map(function(e){return function(e,t){void 0===t&&(t=Mt);var a,r=t===Ct?Ct:Mt,n=Gt(e,t),i=Ge(e)+1;do{a=Gt(new Date(i,0,r===Mt?4:1),t),i-=1}while(e<a);return Math.round((n.getTime()-a.getTime())/6048e5)+1}(e,a)});return p.jsx(na,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:n,onMouseOver:n,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map(function(e,t){var a=o[t];if(!a)throw new Error("date is not defined");return p.jsx(Ja,{date:a,onClickWeekNumber:r,weekNumber:e},e)})})}var Qa=function(){return Qa=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Qa.apply(this,arguments)},er=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a};function tr(e){var t=e.activeStartDate,a=e.locale,r=e.onMouseLeave,n=e.showFixedNumberOfWeeks,i=e.calendarType,s=void 0===i?function(e){if(e)for(var t=0,a=Object.entries(Et);t<a.length;t++){var r=a[t],n=r[0];if(r[1].includes(e))return n}return Mt}(a):i,o=e.formatShortWeekday,l=e.formatWeekday,c=e.onClickWeekNumber,d=e.showWeekNumbers,u=er(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);var h="react-calendar__month-view";return p.jsx("div",{className:Ce(h,d?"".concat(h,"--weekNumbers"):""),children:p.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[d?p.jsx(Za,{activeStartDate:t,calendarType:s,onClickWeekNumber:c,onMouseLeave:r,showFixedNumberOfWeeks:n}):null,p.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[p.jsx(Ua,{calendarType:s,formatShortWeekday:o,formatWeekday:l,locale:a,onMouseLeave:r}),p.jsx(Ga,Qa({calendarType:s},u))]})]})})}var ar=function(){return ar=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},ar.apply(this,arguments)},rr="react-calendar",nr=["century","decade","year","month"],ir=["decade","year","month","day"],sr=new Date;sr.setFullYear(1,0,1),sr.setHours(0,0,0,0);var or=new Date(864e13);function lr(e){return e instanceof Date?e:new Date(e)}function cr(e,t){return nr.slice(nr.indexOf(e),nr.indexOf(t)+1)}function dr(e,t,a){return e&&function(e,t,a){return-1!==cr(t,a).indexOf(e)}(e,t,a)?e:a}function ur(e){var t=nr.indexOf(e);return ir[t]}function hr(e,t){var a=e.value,r=e.minDate,n=e.maxDate,i=e.maxDetail,s=function(e,t){var a=Array.isArray(e)?e[t]:e;if(!a)return null;var r=lr(a);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}(a,t);if(!s)return null;var o=ur(i);return function(e,t,a){return t&&t>e?t:a&&a<e?a:e}(function(){switch(t){case 0:return Ht(o,s);case 1:return Ut(o,s);default:throw new Error("Invalid index value: ".concat(t))}}(),r,n)}var mr=function(e){return hr(e,0)},pr=function(e){return hr(e,1)},fr=function(e){return[mr,pr].map(function(t){return t(e)})};function gr(e){var t=e.maxDate,a=e.maxDetail,r=e.minDate,n=e.minDetail,i=e.value;return Ht(dr(e.view,n,a),mr({value:i,minDate:r,maxDate:t,maxDetail:a})||new Date)}function xr(e){return e&&(!Array.isArray(e)||1===e.length)}function vr(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var br=f.forwardRef(function(e,t){var a,r=e.activeStartDate,n=e.allowPartialRange,i=e.calendarType,s=e.className,o=e.defaultActiveStartDate,l=e.defaultValue,c=e.defaultView,d=e.formatDay,u=e.formatLongDate,h=e.formatMonth,m=e.formatMonthYear,g=e.formatShortWeekday,x=e.formatWeekday,v=e.formatYear,b=e.goToRangeStartOnSelect,y=void 0===b||b,_=e.inputRef,j=e.locale,w=e.maxDate,N=void 0===w?or:w,C=e.maxDetail,k=void 0===C?"month":C,S=e.minDate,M=void 0===S?sr:S,E=e.minDetail,O=void 0===E?"century":E,P=e.navigationAriaLabel,A=e.navigationAriaLive,D=e.navigationLabel,I=e.next2AriaLabel,T=e.next2Label,z=e.nextAriaLabel,R=e.nextLabel,L=e.onActiveStartDateChange,$=e.onChange,B=e.onClickDay,q=e.onClickDecade,F=e.onClickMonth,W=e.onClickWeekNumber,G=e.onClickYear,H=e.onDrillDown,V=e.onDrillUp,U=e.onViewChange,K=e.prev2AriaLabel,Y=e.prev2Label,X=e.prevAriaLabel,J=e.prevLabel,Z=e.returnValue,Q=void 0===Z?"start":Z,ee=e.selectRange,te=e.showDoubleView,ae=e.showFixedNumberOfWeeks,re=e.showNavigation,ne=void 0===re||re,ie=e.showNeighboringCentury,se=e.showNeighboringDecade,oe=e.showNeighboringMonth,le=void 0===oe||oe,ce=e.showWeekNumbers,de=e.tileClassName,ue=e.tileContent,he=e.tileDisabled,me=e.value,pe=e.view,fe=f.useState(o),ge=fe[0],xe=fe[1],ve=f.useState(null),be=ve[0],ye=ve[1],_e=f.useState(Array.isArray(l)?l.map(function(e){return null!==e?lr(e):null}):null!=l?lr(l):null),je=_e[0],we=_e[1],Ne=f.useState(c),ke=Ne[0],Se=Ne[1],Me=r||ge||function(e){var t=e.activeStartDate,a=e.defaultActiveStartDate,r=e.defaultValue,n=e.defaultView,i=e.maxDate,s=e.maxDetail,o=e.minDate,l=e.minDetail,c=e.value,d=e.view,u=dr(d,l,s),h=t||a;return h?Ht(u,h):gr({maxDate:i,maxDetail:s,minDate:o,minDetail:l,value:c||r,view:d||n})}({activeStartDate:r,defaultActiveStartDate:o,defaultValue:l,defaultView:c,maxDate:N,maxDetail:k,minDate:M,minDetail:O,value:me,view:pe}),Ee=(a=ee&&xr(je)?je:void 0!==me?me:je)?Array.isArray(a)?a.map(function(e){return null!==e?lr(e):null}):null!==a?lr(a):null:null,Oe=ur(k),Pe=dr(pe||ke,O,k),Ae=cr(O,k),De=ee?be:null,Ie=Ae.indexOf(Pe)<Ae.length-1,Te=Ae.indexOf(Pe)>0,ze=f.useCallback(function(e){return function(){switch(Q){case"start":return mr;case"end":return pr;case"range":return fr;default:throw new Error("Invalid returnValue.")}}()({maxDate:N,maxDetail:k,minDate:M,value:e})},[N,k,M,Q]),Re=f.useCallback(function(e,t){xe(e);var a={action:t,activeStartDate:e,value:Ee,view:Pe};L&&!vr(Me,e)&&L(a)},[Me,L,Ee,Pe]),Le=f.useCallback(function(e,t){var a=function(){switch(Pe){case"century":return q;case"decade":return G;case"year":return F;case"month":return B;default:throw new Error("Invalid view: ".concat(Pe,"."))}}();a&&a(e,t)},[B,q,F,G,Pe]),$e=f.useCallback(function(e,t){if(Ie){Le(e,t);var a=Ae[Ae.indexOf(Pe)+1];if(!a)throw new Error("Attempted to drill down from the lowest view.");xe(e),Se(a);var r={action:"drillDown",activeStartDate:e,value:Ee,view:a};L&&!vr(Me,e)&&L(r),U&&Pe!==a&&U(r),H&&H(r)}},[Me,Ie,L,Le,H,U,Ee,Pe,Ae]),Be=f.useCallback(function(){if(Te){var e=Ae[Ae.indexOf(Pe)-1];if(!e)throw new Error("Attempted to drill up from the highest view.");var t=Ht(e,Me);xe(t),Se(e);var a={action:"drillUp",activeStartDate:t,value:Ee,view:e};L&&!vr(Me,t)&&L(a),U&&Pe!==e&&U(a),V&&V(a)}},[Me,Te,L,V,U,Ee,Pe,Ae]),qe=f.useCallback(function(e,t){var a=Ee;Le(e,t);var r,i=ee&&!xr(a);if(ee)if(i)r=Ht(Oe,e);else{if(!a)throw new Error("previousValue is required");if(Array.isArray(a))throw new Error("previousValue must not be an array");r=function(e,t,a){var r=[t,a].sort(function(e,t){return e.getTime()-t.getTime()});return[Ht(e,r[0]),Ut(e,r[1])]}(Oe,a,e)}else r=ze(e);var s=!ee||i||y?gr({maxDate:N,maxDetail:k,minDate:M,minDetail:O,value:r,view:Pe}):null;t.persist(),xe(s),we(r);var o={action:"onChange",activeStartDate:s,value:r,view:Pe};if(L&&!vr(Me,s)&&L(o),$)if(ee)if(xr(r)){if(n){if(Array.isArray(r))throw new Error("value must not be an array");$([r||null,null],t)}}else $(r||null,t);else $(r||null,t)},[Me,n,ze,y,N,k,M,O,L,$,Le,ee,Ee,Oe,Pe]);function Fe(e){ye(e)}function We(){ye(null)}function Ge(e){var t={activeStartDate:e?Vt(Pe,Me):Ht(Pe,Me),hover:De,locale:j,maxDate:N,minDate:M,onClick:Ie?$e:qe,onMouseOver:ee?Fe:void 0,tileClassName:de,tileContent:ue,tileDisabled:he,value:Ee,valueType:Oe};switch(Pe){case"century":return p.jsx(ba,ar({formatYear:v,showNeighboringCentury:ie},t));case"decade":return p.jsx(Ma,ar({formatYear:v,showNeighboringDecade:se},t));case"year":return p.jsx(Ra,ar({formatMonth:h,formatMonthYear:m},t));case"month":return p.jsx(tr,ar({calendarType:i,formatDay:d,formatLongDate:u,formatShortWeekday:g,formatWeekday:x,onClickWeekNumber:W,onMouseLeave:ee?We:void 0,showFixedNumberOfWeeks:void 0!==ae?ae:te,showNeighboringMonth:le,showWeekNumbers:ce},t));default:throw new Error("Invalid view: ".concat(Pe,"."))}}f.useImperativeHandle(t,function(){return{activeStartDate:Me,drillDown:$e,drillUp:Be,onChange:qe,setActiveStartDate:Re,value:Ee,view:Pe}},[Me,$e,Be,qe,Re,Ee,Pe]);var He=Array.isArray(Ee)?Ee:[Ee];return p.jsxs("div",{className:Ce(rr,ee&&1===He.length&&"".concat(rr,"--selectRange"),te&&"".concat(rr,"--doubleView"),s),ref:_,children:[ne?p.jsx(ea,{activeStartDate:Me,drillUp:Be,formatMonthYear:m,formatYear:v,locale:j,maxDate:N,minDate:M,navigationAriaLabel:P,navigationAriaLive:A,navigationLabel:D,next2AriaLabel:I,next2Label:T,nextAriaLabel:z,nextLabel:R,prev2AriaLabel:K,prev2Label:Y,prevAriaLabel:X,prevLabel:J,setActiveStartDate:Re,showDoubleView:te,view:Pe,views:Ae}):null,p.jsxs("div",{className:"".concat(rr,"__viewContainer"),onBlur:ee?We:void 0,onMouseLeave:ee?We:void 0,children:[Ge(),te?Ge(!0):null]})]})});const yr=({options:e,onSelect:t,initialValue:a,placeholder:r="Selecione",className:n=""})=>{const[i,s]=f.useState(!1),[o,l]=f.useState(a||null);f.useEffect(()=>{a?l(a):e.length>0&&l(e[0])},[e,a]);return p.jsxs("div",{className:`relative w-full max-w-[400px] ${n}`,children:[p.jsxs("div",{onClick:()=>s(!i),className:"custom-select-header",children:[p.jsx("span",{children:o?o.label:r}),p.jsx("div",{className:"transform transition-transform duration-200 "+(i?"rotate-180":""),children:p.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M6 9L12 15L18 9",stroke:"#166534",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),i&&p.jsx("div",{className:"custom-select-dropdown",children:e.map(e=>p.jsx("div",{onClick:()=>(e=>{l(e),s(!1),t(e)})(e),className:"custom-select-option "+(o?.id===e.id?"option-selected":""),children:e.label},e.id))})]})},_r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jr=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},wr=(...e)=>e.filter((e,t,a)=>Boolean(e)&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),Nr=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};
/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var Cr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:n="",children:i,iconNode:s,...o},l)=>f.createElement("svg",{ref:l,...Cr,width:t,height:t,stroke:e,strokeWidth:r?24*Number(a)/Number(t):a,className:wr("lucide",n),...!i&&!Nr(o)&&{"aria-hidden":"true"},...o},[...s.map(([e,t])=>f.createElement(e,t)),...Array.isArray(i)?i:[i]])),Sr=(e,t)=>{const a=f.forwardRef(({className:a,...r},n)=>f.createElement(kr,{ref:n,iconNode:t,className:wr(`lucide-${_r(jr(e))}`,`lucide-${e}`,a),...r}));return a.displayName=jr(e),a},Mr=Sr("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),Er=Sr("align-center",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),Or=Sr("align-left",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),Pr=Sr("align-right",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),Ar=Sr("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Dr=Sr("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),Ir=Sr("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),Tr=Sr("beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]),zr=Sr("bell-ring",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]]),Rr=Sr("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),Lr=Sr("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),$r=Sr("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Br=Sr("boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]),qr=Sr("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),Fr=Sr("brush-cleaning",[["path",{d:"m16 22-1-4",key:"1ow2iv"}],["path",{d:"M19 13.99a1 1 0 0 0 1-1V12a2 2 0 0 0-2-2h-3a1 1 0 0 1-1-1V4a2 2 0 0 0-4 0v5a1 1 0 0 1-1 1H6a2 2 0 0 0-2 2v.99a1 1 0 0 0 1 1",key:"iw8jdu"}],["path",{d:"M5 14h14l1.973 6.767A1 1 0 0 1 20 22H4a1 1 0 0 1-.973-1.233z",key:"1soew8"}],["path",{d:"m8 22 1-4",key:"s3unb"}]]),Wr=Sr("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Gr=Sr("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Hr=Sr("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Vr=Sr("calendar-clock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]),Ur=Sr("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Kr=Sr("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Yr=Sr("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),Xr=Sr("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Jr=Sr("chart-no-axes-column",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),Zr=Sr("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),Qr=Sr("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),en=Sr("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),tn=Sr("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),an=Sr("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),rn=Sr("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),nn=Sr("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),sn=Sr("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),on=Sr("chevrons-right",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),ln=Sr("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),cn=Sr("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),dn=Sr("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),un=Sr("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),hn=Sr("clipboard-pen",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",key:"1oijnt"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-5.5",key:"cereej"}],["path",{d:"M4 13.5V6a2 2 0 0 1 2-2h2",key:"5ua5vh"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]),mn=Sr("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),pn=Sr("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),fn=Sr("columns-2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]),gn=Sr("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),xn=Sr("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),vn=Sr("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),bn=Sr("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),yn=Sr("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),_n=Sr("drill",[["path",{d:"M10 18a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H5a3 3 0 0 1-3-3 1 1 0 0 1 1-1z",key:"ioqxb1"}],["path",{d:"M13 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1l-.81 3.242a1 1 0 0 1-.97.758H8",key:"1rs59n"}],["path",{d:"M14 4h3a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-3",key:"105ega"}],["path",{d:"M18 6h4",key:"66u95g"}],["path",{d:"m5 10-2 8",key:"xt2lic"}],["path",{d:"m7 18 2-8",key:"1bzku2"}]]),jn=Sr("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),wn=Sr("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),Nn=Sr("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Cn=Sr("file-chart-column-increasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]),kn=Sr("file-check",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),Sn=Sr("file-spreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]),Mn=Sr("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),En=Sr("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),On=Sr("flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),Pn=Sr("flask-conical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]]),An=Sr("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),Dn=Sr("folder-pen",[["path",{d:"M2 11.5V5a2 2 0 0 1 2-2h3.9c.7 0 1.3.3 1.7.9l.8 1.2c.4.6 1 .9 1.7.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-9.5",key:"a8xqs0"}],["path",{d:"M11.378 13.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1saktj"}]]),In=Sr("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),Tn=Sr("fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]),zn=Sr("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),Rn=Sr("gallery-horizontal",[["path",{d:"M2 3v18",key:"pzttux"}],["rect",{width:"12",height:"18",x:"6",y:"3",rx:"2",key:"btr8bg"}],["path",{d:"M22 3v18",key:"6jf3v"}]]),Ln=Sr("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),$n=Sr("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Bn=Sr("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),qn=Sr("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),Fn=Sr("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Wn=Sr("headset",[["path",{d:"M3 11h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5Zm0 0a9 9 0 1 1 18 0m0 0v5a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3Z",key:"12oyoe"}],["path",{d:"M21 16v2a4 4 0 0 1-4 4h-5",key:"1x7m43"}]]),Gn=Sr("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Hn=Sr("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Vn=Sr("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Un=Sr("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),Kn=Sr("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Yn=Sr("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),Xn=Sr("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Jn=Sr("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),Zn=Sr("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),Qn=Sr("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ei=Sr("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),ti=Sr("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ai=Sr("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),ri=Sr("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),ni=Sr("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]),ii=Sr("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),si=Sr("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),oi=Sr("moon-star",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9",key:"4ay0iu"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}]]),li=Sr("mouse-pointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]),ci=Sr("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),di=Sr("navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),ui=Sr("package-2",[["path",{d:"M12 3v6",key:"1holv5"}],["path",{d:"M16.76 3a2 2 0 0 1 1.8 1.1l2.23 4.479a2 2 0 0 1 .21.891V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9.472a2 2 0 0 1 .211-.894L5.45 4.1A2 2 0 0 1 7.24 3z",key:"187q7i"}],["path",{d:"M3.054 9.013h17.893",key:"grwhos"}]]),hi=Sr("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),mi=Sr("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),pi=Sr("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),fi=Sr("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]),gi=Sr("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),xi=Sr("pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]),vi=Sr("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),bi=Sr("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),yi=Sr("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),_i=Sr("redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]),ji=Sr("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),wi=Sr("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ni=Sr("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Ci=Sr("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),ki=Sr("route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]),Si=Sr("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Mi=Sr("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Ei=Sr("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Oi=Sr("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Pi=Sr("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Ai=Sr("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]),Di=Sr("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Ii=Sr("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Ti=Sr("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),zi=Sr("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Ri=Sr("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Li=Sr("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),$i=Sr("table-cells-merge",[["path",{d:"M12 21v-6",key:"lihzve"}],["path",{d:"M12 9V3",key:"da5inc"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M3 9h18",key:"1pudct"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Bi=Sr("table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]),qi=Sr("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Fi=Sr("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Wi=Sr("test-tube-diagonal",[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]]),Gi=Sr("test-tube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),Hi=Sr("thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),Vi=Sr("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ui=Sr("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Ki=Sr("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Yi=Sr("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),Xi=Sr("underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]),Ji=Sr("undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),Zi=Sr("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),Qi=Sr("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),es=Sr("user-round",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]),ts=Sr("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),as=Sr("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),rs=Sr("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),ns=Sr("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),is=Sr("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),ss=Sr("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),os=Sr("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ls=Sr("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),cs=Sr("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),ds={background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px",padding:"2rem",boxShadow:"0 10px 25px rgba(0,0,0,0.08), 0 4px 10px rgba(0,0,0,0.03)",border:"1px solid rgba(255,255,255,0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"},us={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},hs={background:"#ffffff",borderRadius:"12px",padding:"2rem",width:"90%",maxWidth:"700px",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.15)",position:"relative",animation:"fadeInUp 0.3s ease-out"},ms={position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#6b7280"},ps={marginTop:"1.5rem",padding:"0.75rem 1.5rem",backgroundColor:"#22c55e",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",transition:"background-color 0.2s ease-in-out",width:"100%"},fs=f.memo(({coleta:e})=>{const[t,a]=f.useState(!1),r=e.agendamentos.filter(e=>!0===e.recibo_gerado).length,n=e.agendamentos.filter(e=>!1===e.recibo_gerado||void 0===e.recibo_gerado||null===e.recibo_gerado).length,i=e.agendamentos.slice(0,3),s=e.agendamentos.length>3,o=()=>{a(!t)},l=e=>({id:void 0!==e.cliente_cod&&null!==e.cliente_cod?e.cliente_cod:Math.floor(1e6*Math.random()),nome:e.descricao||`Agendamento Cliente ${e.cliente_nome||""}`,responsavel:e.cliente_nome||"Cliente Desconhecido",status:!0===e.recibo_gerado?"concluido":"andamento",prioridade:"media",dataEntrega:e.data||(new Date).toISOString().split("T")[0],progresso:!0===e.recibo_gerado?100:50,atencoes:0});return p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[p.jsx(Um,{icon:p.jsx(Fi,{size:24,color:"#22c55e"}),title:"Total de Agendamentos",value:e.total_agendamentos,gradient:"linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)",borderColor:"#bbf7d0",textColor:"#166534"}),p.jsx(Um,{icon:p.jsx(pn,{size:24,color:"#f59e0b"}),title:"Agendamentos Pendentes",value:n,gradient:"linear-gradient(135deg, #fefce8 0%, #fef3c7 100%)",borderColor:"#fde68a",textColor:"#92400e"}),p.jsx(Um,{icon:p.jsx(cn,{size:24,color:"#0ea5e9"}),title:"Agend. Concluídos",value:r,gradient:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderColor:"#7dd3fc",textColor:"#0c4a6e"})]}),p.jsxs("div",{style:ds,children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1.5rem"},children:[p.jsx(as,{size:24,color:"#166534",style:{marginRight:"0.75rem"}}),p.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#166534",margin:0},children:"Agendamentos Recentes (Coleta)"})]}),e.agendamentos&&e.agendamentos.length>0?p.jsxs(p.Fragment,{children:[i.map((e,t)=>p.jsx(Km,{projeto:l(e)},e.cliente_cod||t)),s&&p.jsxs("button",{style:ps,onClick:o,onMouseEnter:e=>e.currentTarget.style.backgroundColor="#16a34a",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#22c55e",children:["Ver Mais Agendamentos (",e.agendamentos.length-i.length," agendamentos)"]})]}):p.jsx("div",{style:{textAlign:"center",color:"#6b7280",padding:"2rem",fontSize:"1rem"},children:"Nenhum agendamento de coleta encontrado."})]}),t&&p.jsx("div",{style:us,onClick:o,children:p.jsxs("div",{style:hs,onClick:e=>e.stopPropagation(),children:[p.jsx("button",{style:ms,onClick:o,children:"×"}),p.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"600",color:"#166534",marginBottom:"1.5rem"},children:"Todas as Pendências de Coleta"}),e.agendamentos.map((e,t)=>p.jsx(Km,{projeto:l(e)},e.cliente_cod||t))]})})]})});
/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */fs.displayName="ColetaScreen";const gs={background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px",padding:"2rem",boxShadow:"0 10px 25px rgba(0,0,0,0.08), 0 4px 10px rgba(0,0,0,0.03)",border:"1px solid rgba(255,255,255,0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"},xs={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},vs={background:"#ffffff",borderRadius:"12px",padding:"2rem",width:"90%",maxWidth:"700px",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.15)",position:"relative",animation:"fadeInUp 0.3s ease-out"},bs={position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#6b7280"},ys={marginTop:"1.5rem",padding:"0.75rem 1.5rem",backgroundColor:"#22c55e",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",transition:"background-color 0.2s ease-in-out",width:"100%"},_s=f.memo(({atendimentos:e})=>{const[t,a]=f.useState(!1),r=e.length,n=e.filter(e=>e.numero&&e.numero%2==0).length,i=r-n,s=e.filter(e=>"URGENTE"===e.prefixo).length,o=e.slice(0,3),l=e.length>3,c=()=>{a(!t)},d=e=>p.jsx(Km,{projeto:{id:e.id,nome:`Cadastrar Coleta: ${e.numero||""} ${e.prefixo?`(${e.prefixo})`:""}`,responsavel:e.cliente||"Cliente Desconhecido",status:e.numero&&e.numero%2==0?"concluido":"andamento",prioridade:"URGENTE"===e.prefixo||e.prefixo?.includes("ALTA")?"alta":e.prefixo?.includes("MEDIA")?"media":"baixa",dataEntrega:e.data_coleta||(new Date).toISOString().split("T")[0],progresso:e.numero&&e.numero%2==0?100:50,atencoes:"URGENTE"===e.prefixo?1:0}},e.id);return p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[p.jsx(Um,{icon:p.jsx(Jr,{size:24,color:"#22c55e"}),title:"Total de Atendimentos",value:r,gradient:"linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)",borderColor:"#bbf7d0",textColor:"#166534"}),p.jsx(Um,{icon:p.jsx(pn,{size:24,color:"#3b82f6"}),title:"Atendimentos em Andamento",value:i,gradient:"linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)",borderColor:"#93c5fd",textColor:"#1e40af"}),p.jsx(Um,{icon:p.jsx(cn,{size:24,color:"#0ea5e9"}),title:"Atendimentos Concluídos",value:n,gradient:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderColor:"#7dd3fc",textColor:"#0c4a6e"}),p.jsx(Um,{icon:p.jsx(Ki,{size:24,color:"#f59e0b"}),title:"Atendimentos c/ Atenção",value:s,gradient:"linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%)",borderColor:"#fcd34d",textColor:"#92400e"})]}),p.jsxs("div",{style:gs,children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1.5rem"},children:[p.jsx(Wn,{size:24,color:"#166534",style:{marginRight:"0.75rem"}}),p.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#166534",margin:0},children:"Trabalhos Recentes"})]}),e.length>0?p.jsxs(p.Fragment,{children:[o.map(d),l&&p.jsxs("button",{style:ys,onClick:c,onMouseEnter:e=>e.currentTarget.style.backgroundColor="#16a34a",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#22c55e",children:["Ver Mais Trabalhos (",r-o.length," pendências)"]})]}):p.jsx("div",{style:{textAlign:"center",color:"#6b7280",padding:"2rem",fontSize:"1rem"},children:"Nenhum trabalho encontrado."})]}),t&&p.jsx("div",{style:xs,onClick:c,children:p.jsxs("div",{style:vs,onClick:e=>e.stopPropagation(),children:[p.jsx("button",{style:bs,onClick:c,children:"×"}),p.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"600",color:"#166534",marginBottom:"1.5rem"},children:"Todas as Pendências de Trabalhos"}),e.map(d)]})})]})});_s.displayName="AtendimentoScreen";const js={background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px",padding:"2rem",boxShadow:"0 10px 25px rgba(0,0,0,0.08), 0 4px 10px rgba(0,0,0,0.03)",border:"1px solid rgba(255,255,255,0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"},ws={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},Ns={background:"#ffffff",borderRadius:"12px",padding:"2rem",width:"90%",maxWidth:"700px",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.15)",position:"relative",animation:"fadeInUp 0.3s ease-out"},Cs={position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#6b7280"},ks={marginTop:"1.5rem",padding:"0.75rem 1.5rem",backgroundColor:"#22c55e",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",transition:"background-color 0.2s ease-in-out",width:"100%"},Ss=f.memo(({mb:e})=>{const[t,a]=f.useState(!1),r=e.pendencias_prazo.length+e.pendencias_liberacao.length>3,n=()=>{a(!t)},i=e=>{const t="tempo"in e;let a=(new Date).toISOString().split("T")[0];if(t&&e.tempo){const[t,n]=e.tempo.split(" "),[i,s,o]=t.split("/"),l=`${o}-${s}-${i}T${n}:00`;try{const e=new Date(l);isNaN(e.getTime())||(a=e.toISOString().split("T")[0])}catch(r){}}return{id:e.id,nome:e.identificacao||`Item MB ID ${e.id}`,responsavel:e.fantasia||e.razao||"Cliente Desconhecido",status:t&&e.passou?"concluido":"andamento",prioridade:t?e.passou?"baixa":"alta":"media",dataEntrega:a,progresso:t?e.passou?100:0:80,atencoes:t?e.passou?0:1:0}};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[p.jsx(Um,{icon:p.jsx(Qn,{size:24,color:"#ef4444"}),title:"Total de Pendências",value:e.total_pendencias_prazo+e.total_pendencias_liberacao,gradient:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)",borderColor:"#fca5a5",textColor:"#b91c1c"}),p.jsx(Um,{icon:p.jsx(pn,{size:24,color:"#f59e0b"}),title:"Pendências de Prazo",value:e.total_pendencias_prazo,gradient:"linear-gradient(135deg, #fefce8 0%, #fef3c7 100%)",borderColor:"#fde68a",textColor:"#92400e"}),p.jsx(Um,{icon:p.jsx(Zn,{size:24,color:"#0ea5e9"}),title:"Pendências de Liberação",value:e.total_pendencias_liberacao,gradient:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderColor:"#7dd3fc",textColor:"#0c4a6e"})]}),p.jsxs("div",{style:js,children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1.5rem"},children:[p.jsx(as,{size:24,color:"#166534",style:{marginRight:"0.75rem"}}),p.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#166534",margin:0},children:"Bloqueios Recentes (MB)"})]}),e.pendencias_prazo.length>0||e.pendencias_liberacao.length>0?p.jsxs(p.Fragment,{children:[p.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"#dc2626",marginBottom:"1rem"},children:"Pendências de Prazo"}),e.pendencias_prazo.slice(0,3).map((e,t)=>p.jsx(Km,{projeto:i(e)},`pendente-${e.id||t}`)),e.pendencias_prazo.length>0&&e.pendencias_liberacao.length>0&&p.jsx("hr",{style:{borderTop:"1px solid #e5e7eb",margin:"2rem 0"}}),p.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"#2563eb",marginBottom:"1rem"},children:"Pendências de Liberação"}),e.pendencias_liberacao.slice(0,3).map((e,t)=>p.jsx(Km,{projeto:i(e)},`liberacao-${e.id||t}`)),r&&p.jsxs("button",{style:ks,onClick:n,onMouseEnter:e=>e.currentTarget.style.backgroundColor="#16a34a",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#22c55e",children:["Ver Mais Bloqueios (",e.total_pendencias_prazo+e.total_pendencias_liberacao," bloqueios)"]})]}):p.jsx("div",{style:{textAlign:"center",color:"#6b7280",padding:"2rem",fontSize:"1rem"},children:"Nenhum bloqueio de MB encontrado."})]}),t&&p.jsx("div",{style:ws,onClick:n,children:p.jsxs("div",{style:Ns,onClick:e=>e.stopPropagation(),children:[p.jsx("button",{style:Cs,onClick:n,children:"×"}),p.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"600",color:"#166534",marginBottom:"1.5rem"},children:"Todas as Pendências de Microbiologia"}),p.jsx("h3",{style:{fontSize:"1.4rem",fontWeight:"600",color:"#dc2626",marginBottom:"1rem"},children:"Pendências de Prazo"}),e.pendencias_prazo.map((e,t)=>p.jsx(Km,{projeto:i(e)},`modal-pendente-${e.id||t}`)),e.pendencias_prazo.length>0&&e.pendencias_liberacao.length>0&&p.jsx("hr",{style:{borderTop:"1px solid #e5e7eb",margin:"2rem 0"}}),p.jsx("h3",{style:{fontSize:"1.4rem",fontWeight:"600",color:"#2563eb",marginBottom:"1rem"},children:"Pendências de Liberação"}),e.pendencias_liberacao.map((e,t)=>p.jsx(Km,{projeto:i(e)},`modal-liberacao-${e.id||t}`))]})})]})});Ss.displayName="MBScreen";const Ms={background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px",padding:"2rem",boxShadow:"0 0 25px rgba(0,0,0,0.08), 0 4px 10px rgba(0,0,0,0.03)",border:"1px solid rgba(255,255,255,0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"},Es={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},Os={background:"#ffffff",borderRadius:"12px",padding:"2rem",width:"90%",maxWidth:"700px",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.15)",position:"relative",animation:"fadeInUp 0.3s ease-out"},Ps={position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#6b7280"},As={marginTop:"1.5rem",padding:"0.75rem 1.5rem",backgroundColor:"#22c55e",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",transition:"background-color 0.2s ease-in-out",width:"100%"},Ds=f.memo(({fq:e})=>{const[t,a]=f.useState(!1),r=e.pendencias_prazo.length+e.pendencias_liberacao.length>3,n=()=>{a(!t)},i=e=>{const t="tempo"in e;let a=(new Date).toISOString().split("T")[0];if(t&&e.tempo){const[t,n]=e.tempo.split(" "),[i,s,o]=t.split("/"),l=`${o}-${s}-${i}T${n}:00`;try{const e=new Date(l);isNaN(e.getTime())||(a=e.toISOString().split("T")[0])}catch(r){}}return{id:e.id,nome:e.identificacao||`Item FQ ID ${e.id}`,responsavel:e.fantasia||e.razao||"Cliente Desconhecido",status:t&&e.passou?"concluido":"andamento",prioridade:t?e.passou?"baixa":"alta":"media",dataEntrega:a,progresso:t?e.passou?100:0:80,atencoes:t?e.passou?0:1:0}};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[p.jsx(Um,{icon:p.jsx(Qn,{size:24,color:"#ef4444"}),title:"Total de Bloqueios (FQ)",value:e.total_pendencias_prazo+e.total_pendencias_liberacao,gradient:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)",borderColor:"#fca5a5",textColor:"#b91c1c"}),p.jsx(Um,{icon:p.jsx(pn,{size:24,color:"#f59e0b"}),title:"Bloqueios de Prazo (FQ)",value:e.total_pendencias_prazo,gradient:"linear-gradient(135deg, #fefce8 0%, #fef3c7 100%)",borderColor:"#fde68a",textColor:"#92400e"}),p.jsx(Um,{icon:p.jsx(Zn,{size:24,color:"#0ea5e9"}),title:"Bloqueios de Liberação (FQ)",value:e.total_pendencias_liberacao,gradient:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderColor:"#7dd3fc",textColor:"#0c4a6e"})]}),p.jsxs("div",{style:Ms,children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1.5rem"},children:[p.jsx(as,{size:24,color:"#166534",style:{marginRight:"0.75rem"}}),p.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#166534",margin:0},children:"Bloqueios Recentes (FQ)"})]}),e.pendencias_prazo.length>0||e.pendencias_liberacao.length>0?p.jsxs(p.Fragment,{children:[p.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"#dc2626",marginBottom:"1rem"},children:"Bloqueios de Prazo"}),e.pendencias_prazo.slice(0,3).map((e,t)=>p.jsx(Km,{projeto:i(e)},`pendente-${e.id||t}`)),e.pendencias_prazo.length>0&&e.pendencias_liberacao.length>0&&p.jsx("hr",{style:{borderTop:"1px solid #e5e7eb",margin:"2rem 0"}}),p.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"#2563eb",marginBottom:"1rem"},children:"Bloqueios de Liberação"}),e.pendencias_liberacao.slice(0,3).map((e,t)=>p.jsx(Km,{projeto:i(e)},`liberacao-${e.id||t}`)),r&&p.jsxs("button",{style:As,onClick:n,onMouseEnter:e=>e.currentTarget.style.backgroundColor="#16a34a",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#22c55e",children:["Ver Mais Bloqueios (",e.total_pendencias_prazo+e.total_pendencias_liberacao," bloqueios)"]})]}):p.jsx("div",{style:{textAlign:"center",color:"#6b7280",padding:"2rem",fontSize:"1rem"},children:"Nenhum bloqueio de FQ encontrado."})]}),t&&p.jsx("div",{style:Es,onClick:n,children:p.jsxs("div",{style:Os,onClick:e=>e.stopPropagation(),children:[p.jsx("button",{style:Ps,onClick:n,children:"×"}),p.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"600",color:"#166534",marginBottom:"1.5rem"},children:"Todas as Pendências de Físico-Químico"}),p.jsx("h3",{style:{fontSize:"1.4rem",fontWeight:"600",color:"#dc2626",marginBottom:"1rem"},children:"Bloqueios de Prazo"}),e.pendencias_prazo.map((e,t)=>p.jsx(Km,{projeto:i(e)},`modal-pendente-${e.id||t}`)),e.pendencias_prazo.length>0&&e.pendencias_liberacao.length>0&&p.jsx("hr",{style:{borderTop:"1px solid #e5e7eb",margin:"2rem 0"}}),p.jsx("h3",{style:{fontSize:"1.4rem",fontWeight:"600",color:"#2563eb",marginBottom:"1rem"},children:"Bloqueios de Liberação"}),e.pendencias_liberacao.map((e,t)=>p.jsx(Km,{projeto:i(e)},`modal-liberacao-${e.id||t}`))]})})]})});
/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */
function Is(e){return e+.5|0}Ds.displayName="FQScreen";const Ts=(e,t,a)=>Math.max(Math.min(e,a),t);function zs(e){return Ts(Is(2.55*e),0,255)}function Rs(e){return Ts(Is(255*e),0,255)}function Ls(e){return Ts(Is(e/2.55)/100,0,1)}function $s(e){return Ts(Is(100*e),0,100)}const Bs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},qs=[..."0123456789ABCDEF"],Fs=e=>qs[15&e],Ws=e=>qs[(240&e)>>4]+qs[15&e],Gs=e=>(240&e)>>4==(15&e);function Hs(e){var t=(e=>Gs(e.r)&&Gs(e.g)&&Gs(e.b)&&Gs(e.a))(e)?Fs:Ws;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const Vs=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Us(e,t,a){const r=t*Math.min(a,1-a),n=(t,n=(t+e/30)%12)=>a-r*Math.max(Math.min(n-3,9-n,1),-1);return[n(0),n(8),n(4)]}function Ks(e,t,a){const r=(r,n=(r+e/60)%6)=>a-a*t*Math.max(Math.min(n,4-n,1),0);return[r(5),r(3),r(1)]}function Ys(e,t,a){const r=Us(e,1,.5);let n;for(t+a>1&&(n=1/(t+a),t*=n,a*=n),n=0;n<3;n++)r[n]*=1-t-a,r[n]+=t;return r}function Xs(e){const t=e.r/255,a=e.g/255,r=e.b/255,n=Math.max(t,a,r),i=Math.min(t,a,r),s=(n+i)/2;let o,l,c;return n!==i&&(c=n-i,l=s>.5?c/(2-n-i):c/(n+i),o=function(e,t,a,r,n){return e===n?(t-a)/r+(t<a?6:0):t===n?(a-e)/r+2:(e-t)/r+4}(t,a,r,c,n),o=60*o+.5),[0|o,l||0,s]}function Js(e,t,a,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,a,r)).map(Rs)}function Zs(e,t,a){return Js(Us,e,t,a)}function Qs(e){return(e%360+360)%360}function eo(e){const t=Vs.exec(e);let a,r=255;if(!t)return;t[5]!==a&&(r=t[6]?zs(+t[5]):Rs(+t[5]));const n=Qs(+t[2]),i=+t[3]/100,s=+t[4]/100;return a="hwb"===t[1]?function(e,t,a){return Js(Ys,e,t,a)}(n,i,s):"hsv"===t[1]?function(e,t,a){return Js(Ks,e,t,a)}(n,i,s):Zs(n,i,s),{r:a[0],g:a[1],b:a[2],a:r}}const to={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ao={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let ro;function no(e){ro||(ro=function(){const e={},t=Object.keys(ao),a=Object.keys(to);let r,n,i,s,o;for(r=0;r<t.length;r++){for(s=o=t[r],n=0;n<a.length;n++)i=a[n],o=o.replace(i,to[i]);i=parseInt(ao[s],16),e[o]=[i>>16&255,i>>8&255,255&i]}return e}(),ro.transparent=[0,0,0,0]);const t=ro[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const io=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const so=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,oo=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function lo(e,t,a){if(e){let r=Xs(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*a,0===t?360:1)),r=Zs(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function co(e,t){return e?Object.assign(t||{},e):e}function uo(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Rs(e[3]))):(t=co(e,{r:0,g:0,b:0,a:1})).a=Rs(t.a),t}function ho(e){return"r"===e.charAt(0)?function(e){const t=io.exec(e);let a,r,n,i=255;if(t){if(t[7]!==a){const e=+t[7];i=t[8]?zs(e):Ts(255*e,0,255)}return a=+t[1],r=+t[3],n=+t[5],a=255&(t[2]?zs(a):Ts(a,0,255)),r=255&(t[4]?zs(r):Ts(r,0,255)),n=255&(t[6]?zs(n):Ts(n,0,255)),{r:a,g:r,b:n,a:i}}}(e):eo(e)}let mo=class e{constructor(t){if(t instanceof e)return t;const a=typeof t;let r;var n,i,s;"object"===a?r=uo(t):"string"===a&&(s=(n=t).length,"#"===n[0]&&(4===s||5===s?i={r:255&17*Bs[n[1]],g:255&17*Bs[n[2]],b:255&17*Bs[n[3]],a:5===s?17*Bs[n[4]]:255}:7!==s&&9!==s||(i={r:Bs[n[1]]<<4|Bs[n[2]],g:Bs[n[3]]<<4|Bs[n[4]],b:Bs[n[5]]<<4|Bs[n[6]],a:9===s?Bs[n[7]]<<4|Bs[n[8]]:255})),r=i||no(t)||ho(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=co(this._rgb);return e&&(e.a=Ls(e.a)),e}set rgb(e){this._rgb=uo(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Ls(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?Hs(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Xs(e),a=t[0],r=$s(t[1]),n=$s(t[2]);return e.a<255?`hsla(${a}, ${r}%, ${n}%, ${Ls(e.a)})`:`hsl(${a}, ${r}%, ${n}%)`}(this._rgb):void 0}mix(e,t){if(e){const a=this.rgb,r=e.rgb;let n;const i=t===n?.5:t,s=2*i-1,o=a.a-r.a,l=((s*o===-1?s:(s+o)/(1+s*o))+1)/2;n=1-l,a.r=255&l*a.r+n*r.r+.5,a.g=255&l*a.g+n*r.g+.5,a.b=255&l*a.b+n*r.b+.5,a.a=i*a.a+(1-i)*r.a,this.rgb=a}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,a){const r=oo(Ls(e.r)),n=oo(Ls(e.g)),i=oo(Ls(e.b));return{r:Rs(so(r+a*(oo(Ls(t.r))-r))),g:Rs(so(n+a*(oo(Ls(t.g))-n))),b:Rs(so(i+a*(oo(Ls(t.b))-i))),a:e.a+a*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new e(this.rgb)}alpha(e){return this._rgb.a=Rs(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Is(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return lo(this._rgb,2,e),this}darken(e){return lo(this._rgb,2,-e),this}saturate(e){return lo(this._rgb,1,e),this}desaturate(e){return lo(this._rgb,1,-e),this}rotate(e){return function(e,t){var a=Xs(e);a[0]=Qs(a[0]+t),a=Zs(a),e.r=a[0],e.g=a[1],e.b=a[2]}(this._rgb,e),this}};
/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function po(){}const fo=(()=>{let e=0;return()=>e++})();function go(e){return null==e}function xo(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function vo(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function bo(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function yo(e,t){return bo(e)?e:t}function _o(e,t){return void 0===e?t:e}const jo=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function wo(e,t,a){if(e&&"function"==typeof e.call)return e.apply(a,t)}function No(e,t,a,r){let n,i,s;if(xo(e))for(i=e.length,n=0;n<i;n++)t.call(a,e[n],n);else if(vo(e))for(s=Object.keys(e),i=s.length,n=0;n<i;n++)t.call(a,e[s[n]],s[n])}function Co(e,t){let a,r,n,i;if(!e||!t||e.length!==t.length)return!1;for(a=0,r=e.length;a<r;++a)if(n=e[a],i=t[a],n.datasetIndex!==i.datasetIndex||n.index!==i.index)return!1;return!0}function ko(e){if(xo(e))return e.map(ko);if(vo(e)){const t=Object.create(null),a=Object.keys(e),r=a.length;let n=0;for(;n<r;++n)t[a[n]]=ko(e[a[n]]);return t}return e}function So(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Mo(e,t,a,r){if(!So(e))return;const n=t[e],i=a[e];vo(n)&&vo(i)?Eo(n,i,r):t[e]=ko(i)}function Eo(e,t,a){const r=xo(t)?t:[t],n=r.length;if(!vo(e))return e;const i=(a=a||{}).merger||Mo;let s;for(let o=0;o<n;++o){if(s=r[o],!vo(s))continue;const t=Object.keys(s);for(let r=0,n=t.length;r<n;++r)i(t[r],e,s,a)}return e}function Oo(e,t){return Eo(e,t,{merger:Po})}function Po(e,t,a){if(!So(e))return;const r=t[e],n=a[e];vo(r)&&vo(n)?Oo(r,n):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ko(n))}const Ao={"":e=>e,x:e=>e.x,y:e=>e.y};function Do(e,t){const a=Ao[t]||(Ao[t]=function(e){const t=function(e){const t=e.split("."),a=[];let r="";for(const n of t)r+=n,r.endsWith("\\")?r=r.slice(0,-1)+".":(a.push(r),r="");return a}(e);return e=>{for(const a of t){if(""===a)break;e=e&&e[a]}return e}}(t));return a(e)}function Io(e){return e.charAt(0).toUpperCase()+e.slice(1)}const To=e=>void 0!==e,zo=e=>"function"==typeof e,Ro=(e,t)=>{if(e.size!==t.size)return!1;for(const a of e)if(!t.has(a))return!1;return!0};const Lo=Math.PI,$o=2*Lo,Bo=Number.POSITIVE_INFINITY,qo=Lo/180,Fo=Lo/2,Wo=Lo/4,Go=2*Lo/3,Ho=Math.log10,Vo=Math.sign;function Uo(e,t,a){return Math.abs(e-t)<a}function Ko(e){const t=Math.round(e);e=Uo(e,t,e/1e3)?t:e;const a=Math.pow(10,Math.floor(Ho(e))),r=e/a;return(r<=1?1:r<=2?2:r<=5?5:10)*a}function Yo(e){return!function(e){return"symbol"==typeof e||"object"==typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Xo(e){return e*(Lo/180)}function Jo(e){if(!bo(e))return;let t=1,a=0;for(;Math.round(e*t)/t!==e;)t*=10,a++;return a}function Zo(e,t){const a=t.x-e.x,r=t.y-e.y,n=Math.sqrt(a*a+r*r);let i=Math.atan2(r,a);return i<-.5*Lo&&(i+=$o),{angle:i,distance:n}}function Qo(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function el(e){return(e%$o+$o)%$o}function tl(e,t,a,r){const n=el(e),i=el(t),s=el(a),o=el(i-n),l=el(s-n),c=el(n-i),d=el(n-s);return n===i||n===s||r&&i===s||o>l&&c<d}function al(e,t,a){return Math.max(t,Math.min(a,e))}function rl(e,t,a,r=1e-6){return e>=Math.min(t,a)-r&&e<=Math.max(t,a)+r}function nl(e,t,a){a=a||(a=>e[a]<t);let r,n=e.length-1,i=0;for(;n-i>1;)r=i+n>>1,a(r)?i=r:n=r;return{lo:i,hi:n}}const il=(e,t,a,r)=>nl(e,a,r?r=>{const n=e[r][t];return n<a||n===a&&e[r+1][t]===a}:r=>e[r][t]<a),sl=(e,t,a)=>nl(e,a,r=>e[r][t]>=a);const ol=["push","pop","shift","splice","unshift"];function ll(e,t){const a=e._chartjs;if(!a)return;const r=a.listeners,n=r.indexOf(t);-1!==n&&r.splice(n,1),r.length>0||(ol.forEach(t=>{delete e[t]}),delete e._chartjs)}function cl(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const dl="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function ul(e,t){let a=[],r=!1;return function(...n){a=n,r||(r=!0,dl.call(window,()=>{r=!1,e.apply(t,a)}))}}const hl=e=>"start"===e?"left":"end"===e?"right":"center",ml=(e,t,a)=>"start"===e?t:"end"===e?a:(t+a)/2,pl=e=>0===e||1===e,fl=(e,t,a)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*$o/a),gl=(e,t,a)=>Math.pow(2,-10*e)*Math.sin((e-t)*$o/a)+1,xl={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Fo),easeOutSine:e=>Math.sin(e*Fo),easeInOutSine:e=>-.5*(Math.cos(Lo*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>pl(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>pl(e)?e:fl(e,.075,.3),easeOutElastic:e=>pl(e)?e:gl(e,.075,.3),easeInOutElastic(e){const t=.1125;return pl(e)?e:e<.5?.5*fl(2*e,t,.45):.5+.5*gl(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-xl.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,a=2.75;return e<1/a?t*e*e:e<2/a?t*(e-=1.5/a)*e+.75:e<2.5/a?t*(e-=2.25/a)*e+.9375:t*(e-=2.625/a)*e+.984375},easeInOutBounce:e=>e<.5?.5*xl.easeInBounce(2*e):.5*xl.easeOutBounce(2*e-1)+.5};function vl(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function bl(e){return vl(e)?e:new mo(e)}function yl(e){return vl(e)?e:new mo(e).saturate(.5).darken(.1).hexString()}const _l=["x","y","borderWidth","radius","tension"],jl=["color","borderColor","backgroundColor"];const wl=new Map;function Nl(e,t,a){return function(e,t){t=t||{};const a=e+JSON.stringify(t);let r=wl.get(a);return r||(r=new Intl.NumberFormat(e,t),wl.set(a,r)),r}(t,a).format(e)}const Cl={values:e=>xo(e)?e:""+e,numeric(e,t,a){if(0===e)return"0";const r=this.chart.options.locale;let n,i=e;if(a.length>1){const t=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(t<1e-4||t>1e15)&&(n="scientific"),i=function(e,t){let a=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(a)>=1&&e!==Math.floor(e)&&(a=e-Math.floor(e));return a}(e,a)}const s=Ho(Math.abs(i)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:n,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Nl(e,r,l)}};var kl={formatters:Cl};const Sl=Object.create(null),Ml=Object.create(null);function El(e,t){if(!t)return e;const a=t.split(".");for(let r=0,n=a.length;r<n;++r){const t=a[r];e=e[t]||(e[t]=Object.create(null))}return e}function Ol(e,t,a){return"string"==typeof t?Eo(El(e,t),a):Eo(El(e,""),t)}class Pl{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>yl(t.backgroundColor),this.hoverBorderColor=(e,t)=>yl(t.borderColor),this.hoverColor=(e,t)=>yl(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Ol(this,e,t)}get(e){return El(this,e)}describe(e,t){return Ol(Ml,e,t)}override(e,t){return Ol(Sl,e,t)}route(e,t,a,r){const n=El(this,e),i=El(this,a),s="_"+t;Object.defineProperties(n,{[s]:{value:n[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[s],t=i[r];return vo(e)?Object.assign({},t,e):_o(e,t)},set(e){this[s]=e}}})}apply(e){e.forEach(e=>e(this))}}var Al=new Pl({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:jl},numbers:{type:"number",properties:_l}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:kl.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Dl(e,t,a,r,n){let i=t[n];return i||(i=t[n]=e.measureText(n).width,a.push(n)),i>r&&(r=i),r}function Il(e,t,a){const r=e.currentDevicePixelRatio,n=0!==a?Math.max(a/2,.5):0;return Math.round((t-n)*r)/r+n}function Tl(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function zl(e,t,a,r){Rl(e,t,a,r,null)}function Rl(e,t,a,r,n){let i,s,o,l,c,d,u,h;const m=t.pointStyle,p=t.rotation,f=t.radius;let g=(p||0)*qo;if(m&&"object"==typeof m&&(i=m.toString(),"[object HTMLImageElement]"===i||"[object HTMLCanvasElement]"===i))return e.save(),e.translate(a,r),e.rotate(g),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),void e.restore();if(!(isNaN(f)||f<=0)){switch(e.beginPath(),m){default:n?e.ellipse(a,r,n/2,f,0,0,$o):e.arc(a,r,f,0,$o),e.closePath();break;case"triangle":d=n?n/2:f,e.moveTo(a+Math.sin(g)*d,r-Math.cos(g)*f),g+=Go,e.lineTo(a+Math.sin(g)*d,r-Math.cos(g)*f),g+=Go,e.lineTo(a+Math.sin(g)*d,r-Math.cos(g)*f),e.closePath();break;case"rectRounded":c=.516*f,l=f-c,s=Math.cos(g+Wo)*l,u=Math.cos(g+Wo)*(n?n/2-c:l),o=Math.sin(g+Wo)*l,h=Math.sin(g+Wo)*(n?n/2-c:l),e.arc(a-u,r-o,c,g-Lo,g-Fo),e.arc(a+h,r-s,c,g-Fo,g),e.arc(a+u,r+o,c,g,g+Fo),e.arc(a-h,r+s,c,g+Fo,g+Lo),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*f,d=n?n/2:l,e.rect(a-d,r-l,2*d,2*l);break}g+=Wo;case"rectRot":u=Math.cos(g)*(n?n/2:f),s=Math.cos(g)*f,o=Math.sin(g)*f,h=Math.sin(g)*(n?n/2:f),e.moveTo(a-u,r-o),e.lineTo(a+h,r-s),e.lineTo(a+u,r+o),e.lineTo(a-h,r+s),e.closePath();break;case"crossRot":g+=Wo;case"cross":u=Math.cos(g)*(n?n/2:f),s=Math.cos(g)*f,o=Math.sin(g)*f,h=Math.sin(g)*(n?n/2:f),e.moveTo(a-u,r-o),e.lineTo(a+u,r+o),e.moveTo(a+h,r-s),e.lineTo(a-h,r+s);break;case"star":u=Math.cos(g)*(n?n/2:f),s=Math.cos(g)*f,o=Math.sin(g)*f,h=Math.sin(g)*(n?n/2:f),e.moveTo(a-u,r-o),e.lineTo(a+u,r+o),e.moveTo(a+h,r-s),e.lineTo(a-h,r+s),g+=Wo,u=Math.cos(g)*(n?n/2:f),s=Math.cos(g)*f,o=Math.sin(g)*f,h=Math.sin(g)*(n?n/2:f),e.moveTo(a-u,r-o),e.lineTo(a+u,r+o),e.moveTo(a+h,r-s),e.lineTo(a-h,r+s);break;case"line":s=n?n/2:Math.cos(g)*f,o=Math.sin(g)*f,e.moveTo(a-s,r-o),e.lineTo(a+s,r+o);break;case"dash":e.moveTo(a,r),e.lineTo(a+Math.cos(g)*(n?n/2:f),r+Math.sin(g)*f);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function Ll(e,t,a){return a=a||.5,!t||e&&e.x>t.left-a&&e.x<t.right+a&&e.y>t.top-a&&e.y<t.bottom+a}function $l(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Bl(e){e.restore()}function ql(e,t,a,r,n){if(n.strikethrough||n.underline){const i=e.measureText(r),s=t-i.actualBoundingBoxLeft,o=t+i.actualBoundingBoxRight,l=a-i.actualBoundingBoxAscent,c=a+i.actualBoundingBoxDescent,d=n.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=n.decorationWidth||2,e.moveTo(s,d),e.lineTo(o,d),e.stroke()}}function Fl(e,t){const a=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=a}function Wl(e,t,a,r,n,i={}){const s=xo(t)?t:[t],o=i.strokeWidth>0&&""!==i.strokeColor;let l,c;for(e.save(),e.font=n.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),go(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,i),l=0;l<s.length;++l)c=s[l],i.backdrop&&Fl(e,i.backdrop),o&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),go(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(c,a,r,i.maxWidth)),e.fillText(c,a,r,i.maxWidth),ql(e,a,r,c,i),r+=Number(n.lineHeight);e.restore()}function Gl(e,t){const{x:a,y:r,w:n,h:i,radius:s}=t;e.arc(a+s.topLeft,r+s.topLeft,s.topLeft,1.5*Lo,Lo,!0),e.lineTo(a,r+i-s.bottomLeft),e.arc(a+s.bottomLeft,r+i-s.bottomLeft,s.bottomLeft,Lo,Fo,!0),e.lineTo(a+n-s.bottomRight,r+i),e.arc(a+n-s.bottomRight,r+i-s.bottomRight,s.bottomRight,Fo,0,!0),e.lineTo(a+n,r+s.topRight),e.arc(a+n-s.topRight,r+s.topRight,s.topRight,0,-Fo,!0),e.lineTo(a+s.topLeft,r)}const Hl=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Vl=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ul(e,t){const a=(""+e).match(Hl);if(!a||"normal"===a[1])return 1.2*t;switch(e=+a[2],a[3]){case"px":return e;case"%":e/=100}return t*e}const Kl=e=>+e||0;function Yl(e,t){const a={},r=vo(t),n=r?Object.keys(t):t,i=vo(e)?r?a=>_o(e[a],e[t[a]]):t=>e[t]:()=>e;for(const s of n)a[s]=Kl(i(s));return a}function Xl(e){return Yl(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Jl(e){return Yl(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Zl(e){const t=Xl(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ql(e,t){e=e||{},t=t||Al.font;let a=_o(e.size,t.size);"string"==typeof a&&(a=parseInt(a,10));let r=_o(e.style,t.style);r&&!(""+r).match(Vl)&&(r=void 0);const n={family:_o(e.family,t.family),lineHeight:Ul(_o(e.lineHeight,t.lineHeight),a),size:a,style:r,weight:_o(e.weight,t.weight),string:""};return n.string=function(e){return!e||go(e.size)||go(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(n),n}function ec(e,t,a,r){let n,i,s;for(n=0,i=e.length;n<i;++n)if(s=e[n],void 0!==s&&void 0!==s)return s}function tc(e,t){return Object.assign(Object.create(e),t)}function ac(e,t=[""],a,r,n=()=>e[0]){const i=a||e;void 0===r&&(r=mc("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:r,_getTarget:n,override:a=>ac([a,...e],t,i,r)};return new Proxy(s,{deleteProperty:(t,a)=>(delete t[a],delete t._keys,delete e[0][a],!0),get:(a,r)=>oc(a,r,()=>function(e,t,a,r){let n;for(const i of t)if(n=mc(ic(i,e),a),void 0!==n)return sc(e,n)?uc(a,r,e,n):n}(r,t,e,a)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>pc(e).includes(t),ownKeys:e=>pc(e),set(e,t,a){const r=e._storage||(e._storage=n());return e[t]=r[t]=a,delete e._keys,!0}})}function rc(e,t,a,r){const n={_cacheable:!1,_proxy:e,_context:t,_subProxy:a,_stack:new Set,_descriptors:nc(e,r),setContext:t=>rc(e,t,a,r),override:n=>rc(e.override(n),t,a,r)};return new Proxy(n,{deleteProperty:(t,a)=>(delete t[a],delete e[a],!0),get:(e,t,a)=>oc(e,t,()=>function(e,t,a){const{_proxy:r,_context:n,_subProxy:i,_descriptors:s}=e;let o=r[t];zo(o)&&s.isScriptable(t)&&(o=function(e,t,a,r){const{_proxy:n,_context:i,_subProxy:s,_stack:o}=a;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(i,s||r);o.delete(e),sc(e,l)&&(l=uc(n._scopes,n,e,l));return l}(t,o,e,a));xo(o)&&o.length&&(o=function(e,t,a,r){const{_proxy:n,_context:i,_subProxy:s,_descriptors:o}=a;if(void 0!==i.index&&r(e))return t[i.index%t.length];if(vo(t[0])){const a=t,r=n._scopes.filter(e=>e!==a);t=[];for(const l of a){const a=uc(r,n,e,l);t.push(rc(a,i,s&&s[e],o))}}return t}(t,o,e,s.isIndexable));sc(t,o)&&(o=rc(o,n,i&&i[t],s));return o}(e,t,a)),getOwnPropertyDescriptor:(t,a)=>t._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,a)=>Reflect.has(e,a),ownKeys:()=>Reflect.ownKeys(e),set:(t,a,r)=>(e[a]=r,delete t[a],!0)})}function nc(e,t={scriptable:!0,indexable:!0}){const{_scriptable:a=t.scriptable,_indexable:r=t.indexable,_allKeys:n=t.allKeys}=e;return{allKeys:n,scriptable:a,indexable:r,isScriptable:zo(a)?a:()=>a,isIndexable:zo(r)?r:()=>r}}const ic=(e,t)=>e?e+Io(t):t,sc=(e,t)=>vo(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function oc(e,t,a){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=a();return e[t]=r,r}function lc(e,t,a){return zo(e)?e(t,a):e}const cc=(e,t)=>!0===e?t:"string"==typeof e?Do(t,e):void 0;function dc(e,t,a,r,n){for(const i of t){const t=cc(a,i);if(t){e.add(t);const i=lc(t._fallback,a,n);if(void 0!==i&&i!==a&&i!==r)return i}else if(!1===t&&void 0!==r&&a!==r)return null}return!1}function uc(e,t,a,r){const n=t._rootScopes,i=lc(t._fallback,a,r),s=[...e,...n],o=new Set;o.add(r);let l=hc(o,s,a,i||a,r);return null!==l&&((void 0===i||i===a||(l=hc(o,s,i,l,r),null!==l))&&ac(Array.from(o),[""],n,i,()=>function(e,t,a){const r=e._getTarget();t in r||(r[t]={});const n=r[t];if(xo(n)&&vo(a))return a;return n||{}}(t,a,r)))}function hc(e,t,a,r,n){for(;a;)a=dc(e,t,a,r,n);return a}function mc(e,t){for(const a of t){if(!a)continue;const t=a[e];if(void 0!==t)return t}}function pc(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const a of e)for(const e of Object.keys(a).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function fc(){return"undefined"!=typeof window&&"undefined"!=typeof document}function gc(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function xc(e,t,a){let r;return"string"==typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[a])):r=e,r}const vc=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const bc=["top","right","bottom","left"];function yc(e,t,a){const r={};a=a?"-"+a:"";for(let n=0;n<4;n++){const i=bc[n];r[i]=parseFloat(e[t+"-"+i+a])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function _c(e,t){if("native"in e)return e;const{canvas:a,currentDevicePixelRatio:r}=t,n=vc(a),i="border-box"===n.boxSizing,s=yc(n,"padding"),o=yc(n,"border","width"),{x:l,y:c,box:d}=function(e,t){const a=e.touches,r=a&&a.length?a[0]:e,{offsetX:n,offsetY:i}=r;let s,o,l=!1;if(((e,t,a)=>(e>0||t>0)&&(!a||!a.shadowRoot))(n,i,e.target))s=n,o=i;else{const e=t.getBoundingClientRect();s=r.clientX-e.left,o=r.clientY-e.top,l=!0}return{x:s,y:o,box:l}}(e,a),u=s.left+(d&&o.left),h=s.top+(d&&o.top);let{width:m,height:p}=t;return i&&(m-=s.width+o.width,p-=s.height+o.height),{x:Math.round((l-u)/m*a.width/r),y:Math.round((c-h)/p*a.height/r)}}const jc=e=>Math.round(10*e)/10;function wc(e,t,a,r){const n=vc(e),i=yc(n,"margin"),s=xc(n.maxWidth,e,"clientWidth")||Bo,o=xc(n.maxHeight,e,"clientHeight")||Bo,l=function(e,t,a){let r,n;if(void 0===t||void 0===a){const i=e&&gc(e);if(i){const e=i.getBoundingClientRect(),s=vc(i),o=yc(s,"border","width"),l=yc(s,"padding");t=e.width-l.width-o.width,a=e.height-l.height-o.height,r=xc(s.maxWidth,i,"clientWidth"),n=xc(s.maxHeight,i,"clientHeight")}else t=e.clientWidth,a=e.clientHeight}return{width:t,height:a,maxWidth:r||Bo,maxHeight:n||Bo}}(e,t,a);let{width:c,height:d}=l;if("content-box"===n.boxSizing){const e=yc(n,"border","width"),t=yc(n,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-i.width),d=Math.max(0,r?c/r:d-i.height),c=jc(Math.min(c,s,l.maxWidth)),d=jc(Math.min(d,o,l.maxHeight)),c&&!d&&(d=jc(c/2));return(void 0!==t||void 0!==a)&&r&&l.height&&d>l.height&&(d=l.height,c=jc(Math.floor(d*r))),{width:c,height:d}}function Nc(e,t,a){const r=t||1,n=Math.floor(e.height*r),i=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const s=e.canvas;return s.style&&(a||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==r||s.height!==n||s.width!==i)&&(e.currentDevicePixelRatio=r,s.height=n,s.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0)}const Cc=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};fc()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function kc(e,t){const a=function(e,t){return vc(e).getPropertyValue(t)}(e,t),r=a&&a.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Sc(e,t,a){return e?function(e,t){return{x:a=>e+e+t-a,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,a):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function Mc(e,t){let a,r;"ltr"!==t&&"rtl"!==t||(a=e.canvas.style,r=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Ec(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Oc(e,t,a){return e.options.clip?e[a]:t[a]}function Pc(e,t){const a=t._clip;if(a.disabled)return!1;const r=function(e,t){const{xScale:a,yScale:r}=e;return a&&r?{left:Oc(a,t,"left"),right:Oc(a,t,"right"),top:Oc(r,t,"top"),bottom:Oc(r,t,"bottom")}:t}(t,e.chartArea);return{left:!1===a.left?0:r.left-(!0===a.left?0:a.left),right:!1===a.right?e.width:r.right+(!0===a.right?0:a.right),top:!1===a.top?0:r.top-(!0===a.top?0:a.top),bottom:!1===a.bottom?e.height:r.bottom+(!0===a.bottom?0:a.bottom)}}
/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Ac{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,a,r){const n=t.listeners[r],i=t.duration;n.forEach(r=>r({chart:e,initial:t.initial,numSteps:i,currentStep:Math.min(a-t.start,i)}))}_refresh(){this._request||(this._running=!0,this._request=dl.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((a,r)=>{if(!a.running||!a.items.length)return;const n=a.items;let i,s=n.length-1,o=!1;for(;s>=0;--s)i=n[s],i._active?(i._total>a.duration&&(a.duration=i._total),i.tick(e),o=!0):(n[s]=n[n.length-1],n.pop());o&&(r.draw(),this._notify(r,a,e,"progress")),n.length||(a.running=!1,this._notify(r,a,e,"complete"),a.initial=!1),t+=n.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let a=t.get(e);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,a)),a}listen(e,t,a){this._getAnims(e).listeners[t].push(a)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const a=t.items;let r=a.length-1;for(;r>=0;--r)a[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Dc=new Ac;const Ic="transparent",Tc={boolean:(e,t,a)=>a>.5?t:e,color(e,t,a){const r=bl(e||Ic),n=r.valid&&bl(t||Ic);return n&&n.valid?n.mix(r,a).hexString():t},number:(e,t,a)=>e+(t-e)*a};class zc{constructor(e,t,a,r){const n=t[a];r=ec([e.to,r,n,e.from]);const i=ec([e.from,n,r]);this._active=!0,this._fn=e.fn||Tc[e.type||typeof i],this._easing=xl[e.easing]||xl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=a,this._from=i,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,a){if(this._active){this._notify(!1);const r=this._target[this._prop],n=a-this._start,i=this._duration-n;this._start=a,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=n,this._loop=!!e.loop,this._to=ec([e.to,t,r,e.from]),this._from=ec([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,a=this._duration,r=this._prop,n=this._from,i=this._loop,s=this._to;let o;if(this._active=n!==s&&(i||t<a),!this._active)return this._target[r]=s,void this._notify(!0);t<0?this._target[r]=n:(o=t/a%2,o=i&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[r]=this._fn(n,s,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,a)=>{e.push({res:t,rej:a})})}_notify(e){const t=e?"res":"rej",a=this._promises||[];for(let r=0;r<a.length;r++)a[r][t]()}}class Rc{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!vo(e))return;const t=Object.keys(Al.animation),a=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const n=e[r];if(!vo(n))return;const i={};for(const e of t)i[e]=n[e];(xo(n.properties)&&n.properties||[r]).forEach(e=>{e!==r&&a.has(e)||a.set(e,i)})})}_animateOptions(e,t){const a=t.options,r=function(e,t){if(!t)return;let a=e.options;if(!a)return void(e.options=t);a.$shared&&(e.options=a=Object.assign({},a,{$shared:!1,$animations:{}}));return a}(e,a);if(!r)return[];const n=this._createAnimations(r,a);return a.$shared&&function(e,t){const a=[],r=Object.keys(t);for(let n=0;n<r.length;n++){const t=e[r[n]];t&&t.active()&&a.push(t.wait())}return Promise.all(a)}(e.options.$animations,a).then(()=>{e.options=a},()=>{}),n}_createAnimations(e,t){const a=this._properties,r=[],n=e.$animations||(e.$animations={}),i=Object.keys(t),s=Date.now();let o;for(o=i.length-1;o>=0;--o){const l=i[o];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let d=n[l];const u=a.get(l);if(d){if(u&&d.active()){d.update(u,c,s);continue}d.cancel()}u&&u.duration?(n[l]=d=new zc(u,e,l,c),r.push(d)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const a=this._createAnimations(e,t);return a.length?(Dc.add(this._chart,a),!0):void 0}}function Lc(e,t){const a=e&&e.options||{},r=a.reverse,n=void 0===a.min?t:0,i=void 0===a.max?t:0;return{start:r?i:n,end:r?n:i}}function $c(e,t){const a=[],r=e._getSortedDatasetMetas(t);let n,i;for(n=0,i=r.length;n<i;++n)a.push(r[n].index);return a}function Bc(e,t,a,r={}){const n=e.keys,i="single"===r.mode;let s,o,l,c;if(null===t)return;let d=!1;for(s=0,o=n.length;s<o;++s){if(l=+n[s],l===a){if(d=!0,r.all)continue;break}c=e.values[l],bo(c)&&(i||0===t||Vo(t)===Vo(c))&&(t+=c)}return d||r.all?t:0}function qc(e,t){const a=e&&e.options.stacked;return a||void 0===a&&void 0!==t.stack}function Fc(e,t,a){const r=e[t]||(e[t]={});return r[a]||(r[a]={})}function Wc(e,t,a,r){for(const n of t.getMatchingVisibleMetas(r).reverse()){const t=e[n.index];if(a&&t>0||!a&&t<0)return n.index}return null}function Gc(e,t){const{chart:a,_cachedMeta:r}=e,n=a._stacks||(a._stacks={}),{iScale:i,vScale:s,index:o}=r,l=i.axis,c=s.axis,d=function(e,t,a){return`${e.id}.${t.id}.${a.stack||a.type}`}(i,s,r),u=t.length;let h;for(let m=0;m<u;++m){const e=t[m],{[l]:a,[c]:i}=e;h=(e._stacks||(e._stacks={}))[c]=Fc(n,d,a),h[o]=i,h._top=Wc(h,s,!0,r.type),h._bottom=Wc(h,s,!1,r.type);(h._visualValues||(h._visualValues={}))[o]=i}}function Hc(e,t){const a=e.scales;return Object.keys(a).filter(e=>a[e].axis===t).shift()}function Vc(e,t){const a=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][a])return;delete t[r][a],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[a]&&delete t[r]._visualValues[a]}}}const Uc=e=>"reset"===e||"none"===e,Kc=(e,t)=>t?e:Object.assign({},e);class Yc{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=qc(e.vScale,e),this.addElements(),this.options.fill&&this.chart.isPluginEnabled("filler")}updateIndex(e){this.index!==e&&Vc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,a=this.getDataset(),r=(e,t,a,r)=>"x"===e?t:"r"===e?r:a,n=t.xAxisID=_o(a.xAxisID,Hc(e,"x")),i=t.yAxisID=_o(a.yAxisID,Hc(e,"y")),s=t.rAxisID=_o(a.rAxisID,Hc(e,"r")),o=t.indexAxis,l=t.iAxisID=r(o,n,i,s),c=t.vAxisID=r(o,i,n,s);t.xScale=this.getScaleForId(n),t.yScale=this.getScaleForId(i),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ll(this._data,this),e._stacked&&Vc(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),a=this._data;if(vo(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:a,vScale:r}=t,n="x"===a.axis?"x":"y",i="x"===r.axis?"x":"y",s=Object.keys(e),o=new Array(s.length);let l,c,d;for(l=0,c=s.length;l<c;++l)d=s[l],o[l]={[n]:d,[i]:e[d]};return o}(t,e)}else if(a!==t){if(a){ll(a,this);const e=this._cachedMeta;Vc(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),ol.forEach(t=>{const a="_onData"+Io(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...t){const n=r.apply(this,t);return e._chartjs.listeners.forEach(e=>{"function"==typeof e[a]&&e[a](...t)}),n}})}))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,a=this.getDataset();let r=!1;this._dataCheck();const n=t._stacked;t._stacked=qc(t.vScale,t),t.stack!==a.stack&&(r=!0,Vc(t),t.stack=a.stack),this._resyncElements(e),(r||n!==t._stacked)&&(Gc(this,t._parsed),t._stacked=qc(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:a,_data:r}=this,{iScale:n,_stacked:i}=a,s=n.axis;let o,l,c,d=0===e&&t===r.length||a._sorted,u=e>0&&a._parsed[e-1];if(!1===this._parsing)a._parsed=r,a._sorted=!0,c=r;else{c=xo(r[e])?this.parseArrayData(a,r,e,t):vo(r[e])?this.parseObjectData(a,r,e,t):this.parsePrimitiveData(a,r,e,t);const n=()=>null===l[s]||u&&l[s]<u[s];for(o=0;o<t;++o)a._parsed[o+e]=l=c[o],d&&(n()&&(d=!1),u=l);a._sorted=d}i&&Gc(this,c)}parsePrimitiveData(e,t,a,r){const{iScale:n,vScale:i}=e,s=n.axis,o=i.axis,l=n.getLabels(),c=n===i,d=new Array(r);let u,h,m;for(u=0,h=r;u<h;++u)m=u+a,d[u]={[s]:c||n.parse(l[m],m),[o]:i.parse(t[m],m)};return d}parseArrayData(e,t,a,r){const{xScale:n,yScale:i}=e,s=new Array(r);let o,l,c,d;for(o=0,l=r;o<l;++o)c=o+a,d=t[c],s[o]={x:n.parse(d[0],c),y:i.parse(d[1],c)};return s}parseObjectData(e,t,a,r){const{xScale:n,yScale:i}=e,{xAxisKey:s="x",yAxisKey:o="y"}=this._parsing,l=new Array(r);let c,d,u,h;for(c=0,d=r;c<d;++c)u=c+a,h=t[u],l[c]={x:n.parse(Do(h,s),u),y:i.parse(Do(h,o),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,a){const r=this.chart,n=this._cachedMeta,i=t[e.axis];return Bc({keys:$c(r,!0),values:t._stacks[e.axis]._visualValues},i,n.index,{mode:a})}updateRangeFromParsed(e,t,a,r){const n=a[t.axis];let i=null===n?NaN:n;const s=r&&a._stacks[t.axis];r&&s&&(r.values=s,i=Bc(r,n,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,t){const a=this._cachedMeta,r=a._parsed,n=a._sorted&&e===a.iScale,i=r.length,s=this._getOtherScale(e),o=((e,t,a)=>e&&!t.hidden&&t._stacked&&{keys:$c(a,!0),values:null})(t,a,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:a,minDefined:r,maxDefined:n}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:n?a:Number.POSITIVE_INFINITY}}(s);let u,h;function m(){h=r[u];const t=h[s.axis];return!bo(h[e.axis])||c>t||d<t}for(u=0;u<i&&(m()||(this.updateRangeFromParsed(l,e,h,o),!n));++u);if(n)for(u=i-1;u>=0;--u)if(!m()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,a=[];let r,n,i;for(r=0,n=t.length;r<n;++r)i=t[r][e.axis],bo(i)&&a.push(i);return a}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,a=t.iScale,r=t.vScale,n=this.getParsed(e);return{label:a?""+a.getLabelForValue(n[a.axis]):"",value:r?""+r.getLabelForValue(n[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,a,r,n;return vo(e)?(t=e.top,a=e.right,r=e.bottom,n=e.left):t=a=r=n=e,{top:t,right:a,bottom:r,left:n,disabled:!1===e}}(_o(this.options.clip,function(e,t,a){if(!1===a)return!1;const r=Lc(e,a),n=Lc(t,a);return{top:n.end,right:r.end,bottom:n.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,a=this._cachedMeta,r=a.data||[],n=t.chartArea,i=[],s=this._drawStart||0,o=this._drawCount||r.length-s,l=this.options.drawActiveElementsOnTop;let c;for(a.dataset&&a.dataset.draw(e,n,s,o),c=s;c<s+o;++c){const t=r[c];t.hidden||(t.active&&l?i.push(t):t.draw(e,n))}for(c=0;c<i.length;++c)i[c].draw(e,n)}getStyle(e,t){const a=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,t,a){const r=this.getDataset();let n;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];n=t.$context||(t.$context=function(e,t,a){return tc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:a,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),n.parsed=this.getParsed(e),n.raw=r.data[e],n.index=n.dataIndex=e}else n=this.$context||(this.$context=function(e,t){return tc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),n.dataset=r,n.index=n.datasetIndex=this.index;return n.active=!!t,n.mode=a,n}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",a){const r="active"===t,n=this._cachedDataOpts,i=e+"-"+t,s=n[i],o=this.enableOptionSharing&&To(a);if(s)return Kc(s,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),h=Object.keys(Al.elements[e]),m=l.resolveNamedOptions(u,h,()=>this.getContext(a,r,t),d);return m.$shared&&(m.$shared=o,n[i]=Object.freeze(Kc(m,o))),m}_resolveAnimations(e,t,a){const r=this.chart,n=this._cachedDataOpts,i=`animation-${t}`,s=n[i];if(s)return s;let o;if(!1!==r.options.animation){const r=this.chart.config,n=r.datasetAnimationScopeKeys(this._type,t),i=r.getOptionScopes(this.getDataset(),n);o=r.createResolver(i,this.getContext(e,a,t))}const l=new Rc(r,o&&o.animations);return o&&o._cacheable&&(n[i]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Uc(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const a=this.resolveDataElementOptions(e,t),r=this._sharedOptions,n=this.getSharedOptions(a),i=this.includeOptions(t,n)||n!==r;return this.updateSharedOptions(n,t,a),{sharedOptions:n,includeOptions:i}}updateElement(e,t,a,r){Uc(r)?Object.assign(e,a):this._resolveAnimations(t,r).update(e,a)}updateSharedOptions(e,t,a){e&&!Uc(t)&&this._resolveAnimations(void 0,t).update(e,a)}_setStyle(e,t,a,r){e.active=r;const n=this.getStyle(t,r);this._resolveAnimations(t,a,r).update(e,{options:!r&&this.getSharedOptions(n)||n})}removeHoverStyle(e,t,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,t,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,a=this._cachedMeta.data;for(const[s,o,l]of this._syncList)this[s](o,l);this._syncList=[];const r=a.length,n=t.length,i=Math.min(n,r);i&&this.parse(0,i),n>r?this._insertElements(r,n-r,e):n<r&&this._removeElements(n,r-n)}_insertElements(e,t,a=!0){const r=this._cachedMeta,n=r.data,i=e+t;let s;const o=e=>{for(e.length+=t,s=e.length-1;s>=i;s--)e[s]=e[s-t]};for(o(n),s=e;s<i;++s)n[s]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(e,t),a&&this.updateElements(n,e,t,"reset")}updateElements(e,t,a,r){}_removeElements(e,t){const a=this._cachedMeta;if(this._parsing){const r=a._parsed.splice(e,t);a._stacked&&Vc(a,r)}a.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,a,r]=e;this[t](a,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Xc(e){const t=e.iScale,a=function(e,t){if(!e._cache.$bar){const a=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,n=a.length;t<n;t++)r=r.concat(a[t].controller.getAllParsedValues(e));e._cache.$bar=cl(r.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let r,n,i,s,o=t._length;const l=()=>{32767!==i&&-32768!==i&&(To(s)&&(o=Math.min(o,Math.abs(i-s)||o)),s=i)};for(r=0,n=a.length;r<n;++r)i=t.getPixelForValue(a[r]),l();for(s=void 0,r=0,n=t.ticks.length;r<n;++r)i=t.getPixelForTick(r),l();return o}function Jc(e,t,a,r){return xo(e)?function(e,t,a,r){const n=a.parse(e[0],r),i=a.parse(e[1],r),s=Math.min(n,i),o=Math.max(n,i);let l=s,c=o;Math.abs(s)>Math.abs(o)&&(l=o,c=s),t[a.axis]=c,t._custom={barStart:l,barEnd:c,start:n,end:i,min:s,max:o}}(e,t,a,r):t[a.axis]=a.parse(e,r),t}function Zc(e,t,a,r){const n=e.iScale,i=e.vScale,s=n.getLabels(),o=n===i,l=[];let c,d,u,h;for(c=a,d=a+r;c<d;++c)h=t[c],u={},u[n.axis]=o||n.parse(s[c],c),l.push(Jc(h,u,i,c));return l}function Qc(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function ed(e,t,a,r){let n=t.borderSkipped;const i={};if(!n)return void(e.borderSkipped=i);if(!0===n)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:o,reverse:l,top:c,bottom:d}=function(e){let t,a,r,n,i;return e.horizontal?(t=e.base>e.x,a="left",r="right"):(t=e.base<e.y,a="bottom",r="top"),t?(n="end",i="start"):(n="start",i="end"),{start:a,end:r,reverse:t,top:n,bottom:i}}(e);"middle"===n&&a&&(e.enableBorderRadius=!0,(a._top||0)===r?n=c:(a._bottom||0)===r?n=d:(i[td(d,s,o,l)]=!0,n=c)),i[td(n,s,o,l)]=!0,e.borderSkipped=i}function td(e,t,a,r){var n,i,s;return r?(s=a,e=ad(e=(n=e)===(i=t)?s:n===s?i:n,a,t)):e=ad(e,t,a),e}function ad(e,t,a){return"start"===e?t:"end"===e?a:e}function rd(e,{inflateAmount:t},a){e.inflateAmount="auto"===t?1===a?.33:0:t}class nd extends Yc{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,a,r){return Zc(e,t,a,r)}parseArrayData(e,t,a,r){return Zc(e,t,a,r)}parseObjectData(e,t,a,r){const{iScale:n,vScale:i}=e,{xAxisKey:s="x",yAxisKey:o="y"}=this._parsing,l="x"===n.axis?s:o,c="x"===i.axis?s:o,d=[];let u,h,m,p;for(u=a,h=a+r;u<h;++u)p=t[u],m={},m[n.axis]=n.parse(Do(p,l),u),d.push(Jc(Do(p,c),m,i,u));return d}updateRangeFromParsed(e,t,a,r){super.updateRangeFromParsed(e,t,a,r);const n=a._custom;n&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,n.min),e.max=Math.max(e.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:a,vScale:r}=t,n=this.getParsed(e),i=n._custom,s=Qc(i)?"["+i.start+", "+i.end+"]":""+r.getLabelForValue(n[r.axis]);return{label:""+a.getLabelForValue(n[a.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,a,r){const n="reset"===r,{index:i,_cachedMeta:{vScale:s}}=this,o=s.getBasePixel(),l=s.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,r);for(let h=t;h<t+a;h++){const t=this.getParsed(h),a=n||go(t[s.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),m=this._calculateBarIndexPixels(h,c),p=(t._stacks||{})[s.axis],f={horizontal:l,base:a.base,enableBorderRadius:!p||Qc(t._custom)||i===p._top||i===p._bottom,x:l?a.head:m.center,y:l?m.center:a.head,height:l?m.size:Math.abs(a.size),width:l?Math.abs(a.size):m.size};u&&(f.options=d||this.resolveDataElementOptions(h,e[h].active?"active":r));const g=f.options||e[h].options;ed(f,g,p,i),rd(f,g,c.ratio),this.updateElement(e[h],h,f,r)}}_getStacks(e,t){const{iScale:a}=this._cachedMeta,r=a.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),n=a.options.stacked,i=[],s=this._cachedMeta.controller.getParsed(t),o=s&&s[a.axis],l=e=>{const t=e._parsed.find(e=>e[a.axis]===o),r=t&&t[e.vScale.axis];if(go(r)||isNaN(r))return!0};for(const c of r)if((void 0===t||!l(c))&&((!1===n||-1===i.indexOf(c.stack)||void 0===n&&void 0===c.stack)&&i.push(c.stack),c.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(a=>e[a].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const a of this.chart.data.datasets)e[_o("x"===this.chart.options.indexAxis?a.xAxisID:a.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,a){const r=this._getStacks(e,a),n=void 0!==t?r.indexOf(t):-1;return-1===n?r.length-1:n}_getRuler(){const e=this.options,t=this._cachedMeta,a=t.iScale,r=[];let n,i;for(n=0,i=t.data.length;n<i;++n)r.push(a.getPixelForValue(this.getParsed(n)[a.axis],n));const s=e.barThickness;return{min:s||Xc(t),pixels:r,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:s?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:a,index:r},options:{base:n,minBarLength:i}}=this,s=n||0,o=this.getParsed(e),l=o._custom,c=Qc(l);let d,u,h=o[t.axis],m=0,p=a?this.applyStack(t,o,a):h;p!==h&&(m=p-h,p=h),c&&(h=l.barStart,p=l.barEnd-l.barStart,0!==h&&Vo(h)!==Vo(l.barEnd)&&(m=0),m+=h);const f=go(n)||c?m:n;let g=t.getPixelForValue(f);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(m+p):g,u=d-g,Math.abs(u)<i){u=function(e,t,a){return 0!==e?Vo(e):(t.isHorizontal()?1:-1)*(t.min>=a?1:-1)}(u,t,s)*i,h===s&&(g-=u/2);const e=t.getPixelForDecimal(0),n=t.getPixelForDecimal(1),l=Math.min(e,n),m=Math.max(e,n);g=Math.max(Math.min(g,m),l),d=g+u,a&&!c&&(o._stacks[t.axis]._visualValues[r]=t.getValueForPixel(d)-t.getValueForPixel(g))}if(g===t.getPixelForValue(s)){const e=Vo(u)*t.getLineWidthForValue(s)/2;g+=e,u-=e}return{size:u,base:g,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const a=t.scale,r=this.options,n=r.skipNull,i=_o(r.maxBarThickness,1/0);let s,o;const l=this._getAxisCount();if(t.grouped){const a=n?this._getStackCount(e):t.stackCount,c="flex"===r.barThickness?function(e,t,a,r){const n=t.pixels,i=n[e];let s=e>0?n[e-1]:null,o=e<n.length-1?n[e+1]:null;const l=a.categoryPercentage;null===s&&(s=i-(null===o?t.end-t.start:o-i)),null===o&&(o=i+i-s);const c=i-(i-Math.min(s,o))/2*l;return{chunk:Math.abs(o-s)/2*l/r,ratio:a.barPercentage,start:c}}(e,t,r,a*l):function(e,t,a,r){const n=a.barThickness;let i,s;return go(n)?(i=t.min*a.categoryPercentage,s=a.barPercentage):(i=n*r,s=1),{chunk:i/r,ratio:s,start:t.pixels[e]-i/2}}(e,t,r,a*l),d="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,u=this._getAxis().indexOf(_o(d,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,n?e:void 0)+u;s=c.start+c.chunk*h+c.chunk/2,o=Math.min(i,c.chunk*c.ratio)}else s=a.getPixelForValue(this.getParsed(e)[a.axis],e),o=Math.min(i,t.min*t.ratio);return{base:s-o/2,head:s+o/2,center:s,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,a=e.data,r=a.length;let n=0;for(;n<r;++n)null===this.getParsed(n)[t.axis]||a[n].hidden||a[n].draw(this._ctx)}}class id extends Yc{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:a,color:r}}=e.legend.options;return t.labels.map((t,n)=>{const i=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:r,lineWidth:i.borderWidth,pointStyle:a,hidden:!e.getDataVisibility(n),index:n}})}return[]}},onClick(e,t,a){a.chart.toggleDataVisibility(t.index),a.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const a=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=a;else{let n,i,s=e=>+a[e];if(vo(a[e])){const{key:e="value"}=this._parsing;s=t=>+Do(a[t],e)}for(n=e,i=e+t;n<i;++n)r._parsed[n]=s(n)}}_getRotation(){return Xo(this.options.rotation-90)}_getCircumference(){return Xo(this.options.circumference)}_getRotationExtents(){let e=$o,t=-$o;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type){const r=this.chart.getDatasetMeta(a).controller,n=r._getRotation(),i=r._getCircumference();e=Math.min(e,n),t=Math.max(t,n+i)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:a}=t,r=this._cachedMeta,n=r.data,i=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,s=Math.max((Math.min(a.width,a.height)-i)/2,0),o=Math.min((l=this.options.cutout,c=s,"string"==typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:p,offsetX:f,offsetY:g}=function(e,t,a){let r=1,n=1,i=0,s=0;if(t<$o){const o=e,l=o+t,c=Math.cos(o),d=Math.sin(o),u=Math.cos(l),h=Math.sin(l),m=(e,t,r)=>tl(e,o,l,!0)?1:Math.max(t,t*a,r,r*a),p=(e,t,r)=>tl(e,o,l,!0)?-1:Math.min(t,t*a,r,r*a),f=m(0,c,u),g=m(Fo,d,h),x=p(Lo,c,u),v=p(Lo+Fo,d,h);r=(f-x)/2,n=(g-v)/2,i=-(f+x)/2,s=-(g+v)/2}return{ratioX:r,ratioY:n,offsetX:i,offsetY:s}}(h,u,o),x=(a.width-i)/m,v=(a.height-i)/p,b=Math.max(Math.min(x,v)/2,0),y=jo(this.options.radius,b),_=(y-Math.max(y*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*y,this.offsetY=g*y,r.total=this.calculateTotal(),this.outerRadius=y-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*d,0),this.updateElements(n,0,n.length,e)}_circumference(e,t){const a=this.options,r=this._cachedMeta,n=this._getCircumference();return t&&a.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*n/$o)}updateElements(e,t,a,r){const n="reset"===r,i=this.chart,s=i.chartArea,o=i.options.animation,l=(s.left+s.right)/2,c=(s.top+s.bottom)/2,d=n&&o.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:m,includeOptions:p}=this._getSharedOptions(t,r);let f,g=this._getRotation();for(f=0;f<t;++f)g+=this._circumference(f,n);for(f=t;f<t+a;++f){const t=this._circumference(f,n),a=e[f],i={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:u};p&&(i.options=m||this.resolveDataElementOptions(f,a.active?"active":r)),g+=t,this.updateElement(a,f,i,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let a,r=0;for(a=0;a<t.length;a++){const n=e._parsed[a];null===n||isNaN(n)||!this.chart.getDataVisibility(a)||t[a].hidden||(r+=Math.abs(n))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?$o*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,a=this.chart,r=a.data.labels||[],n=Nl(t._parsed[e],a.options.locale);return{label:r[e]||"",value:n}}getMaxBorderWidth(e){let t=0;const a=this.chart;let r,n,i,s,o;if(!e)for(r=0,n=a.data.datasets.length;r<n;++r)if(a.isDatasetVisible(r)){i=a.getDatasetMeta(r),e=i.data,s=i.controller;break}if(!e)return 0;for(r=0,n=e.length;r<n;++r)o=s.resolveDataElementOptions(r),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let a=0,r=e.length;a<r;++a){const e=this.resolveDataElementOptions(a);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let a=0;a<e;++a)this.chart.isDatasetVisible(a)&&(t+=this._getRingWeight(a));return t}_getRingWeight(e){return Math.max(_o(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}function sd(e,t,a,r){const{controller:n,data:i,_sorted:s}=e,o=n._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&s&&i.length){const s=o._reversePixels?sl:il;if(!r){const r=s(i,t,a);if(l){const{vScale:t}=n._cachedMeta,{_parsed:a}=e,i=a.slice(0,r.lo+1).reverse().findIndex(e=>!go(e[t.axis]));r.lo-=Math.max(0,i);const s=a.slice(r.hi).findIndex(e=>!go(e[t.axis]));r.hi+=Math.max(0,s)}return r}if(n._sharedOptions){const e=i[0],r="function"==typeof e.getRange&&e.getRange(t);if(r){const e=s(i,t,a-r),n=s(i,t,a+r);return{lo:e.lo,hi:n.hi}}}}return{lo:0,hi:i.length-1}}function od(e,t,a,r,n){const i=e.getSortedVisibleDatasetMetas(),s=a[t];for(let o=0,l=i.length;o<l;++o){const{index:e,data:a}=i[o],{lo:l,hi:c}=sd(i[o],t,s,n);for(let t=l;t<=c;++t){const n=a[t];n.skip||r(n,e,t)}}}function ld(e,t,a,r,n){const i=[];if(!n&&!e.isPointInArea(t))return i;return od(e,a,t,function(a,s,o){(n||Ll(a,e.chartArea,0))&&a.inRange(t.x,t.y,r)&&i.push({element:a,datasetIndex:s,index:o})},!0),i}function cd(e,t,a,r,n,i){let s=[];const o=function(e){const t=-1!==e.indexOf("x"),a=-1!==e.indexOf("y");return function(e,r){const n=t?Math.abs(e.x-r.x):0,i=a?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(i,2))}}(a);let l=Number.POSITIVE_INFINITY;return od(e,a,t,function(a,c,d){const u=a.inRange(t.x,t.y,n);if(r&&!u)return;const h=a.getCenterPoint(n);if(!(!!i||e.isPointInArea(h))&&!u)return;const m=o(t,h);m<l?(s=[{element:a,datasetIndex:c,index:d}],l=m):m===l&&s.push({element:a,datasetIndex:c,index:d})}),s}function dd(e,t,a,r,n,i){return i||e.isPointInArea(t)?"r"!==a||r?cd(e,t,a,r,n,i):function(e,t,a,r){let n=[];return od(e,a,t,function(e,a,i){const{startAngle:s,endAngle:o}=e.getProps(["startAngle","endAngle"],r),{angle:l}=Zo(e,{x:t.x,y:t.y});tl(l,s,o)&&n.push({element:e,datasetIndex:a,index:i})}),n}(e,t,a,n):[]}function ud(e,t,a,r,n){const i=[],s="x"===a?"inXRange":"inYRange";let o=!1;return od(e,a,t,(e,r,l)=>{e[s]&&e[s](t[a],n)&&(i.push({element:e,datasetIndex:r,index:l}),o=o||e.inRange(t.x,t.y,n))}),r&&!o?[]:i}var hd={modes:{index(e,t,a,r){const n=_c(t,e),i=a.axis||"x",s=a.includeInvisible||!1,o=a.intersect?ld(e,n,i,r,s):dd(e,n,i,!1,r,s),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=o[0].index,a=e.data[t];a&&!a.skip&&l.push({element:a,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,a,r){const n=_c(t,e),i=a.axis||"xy",s=a.includeInvisible||!1;let o=a.intersect?ld(e,n,i,r,s):dd(e,n,i,!1,r,s);if(o.length>0){const t=o[0].datasetIndex,a=e.getDatasetMeta(t).data;o=[];for(let e=0;e<a.length;++e)o.push({element:a[e],datasetIndex:t,index:e})}return o},point:(e,t,a,r)=>ld(e,_c(t,e),a.axis||"xy",r,a.includeInvisible||!1),nearest(e,t,a,r){const n=_c(t,e),i=a.axis||"xy",s=a.includeInvisible||!1;return dd(e,n,i,a.intersect,r,s)},x:(e,t,a,r)=>ud(e,_c(t,e),"x",a.intersect,r),y:(e,t,a,r)=>ud(e,_c(t,e),"y",a.intersect,r)}};const md=["left","top","right","bottom"];function pd(e,t){return e.filter(e=>e.pos===t)}function fd(e,t){return e.filter(e=>-1===md.indexOf(e.pos)&&e.box.axis===t)}function gd(e,t){return e.sort((e,a)=>{const r=t?a:e,n=t?e:a;return r.weight===n.weight?r.index-n.index:r.weight-n.weight})}function xd(e,t){const a=function(e){const t={};for(const a of e){const{stack:e,pos:r,stackWeight:n}=a;if(!e||!md.includes(r))continue;const i=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=n}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:n}=t;let i,s,o;for(i=0,s=e.length;i<s;++i){o=e[i];const{fullSize:s}=o.box,l=a[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*r:s&&t.availableWidth,o.height=n):(o.width=r,o.height=c?c*n:s&&t.availableHeight)}return a}function vd(e,t,a,r){return Math.max(e[a],t[a])+Math.max(e[r],t[r])}function bd(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function yd(e,t,a,r){const{pos:n,box:i}=a,s=e.maxPadding;if(!vo(n)){a.size&&(e[n]-=a.size);const t=r[a.stack]||{size:0,count:1};t.size=Math.max(t.size,a.horizontal?i.height:i.width),a.size=t.size/t.count,e[n]+=a.size}i.getPadding&&bd(s,i.getPadding());const o=Math.max(0,t.outerWidth-vd(s,e,"left","right")),l=Math.max(0,t.outerHeight-vd(s,e,"top","bottom")),c=o!==e.w,d=l!==e.h;return e.w=o,e.h=l,a.horizontal?{same:c,other:d}:{same:d,other:c}}function _d(e,t){const a=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{r[e]=Math.max(t[e],a[e])}),r}return r(e?["left","right"]:["top","bottom"])}function jd(e,t,a,r){const n=[];let i,s,o,l,c,d;for(i=0,s=e.length,c=0;i<s;++i){o=e[i],l=o.box,l.update(o.width||t.w,o.height||t.h,_d(o.horizontal,t));const{same:s,other:u}=yd(t,a,o,r);c|=s&&n.length,d=d||u,l.fullSize||n.push(o)}return c&&jd(n,t,a,r)||d}function wd(e,t,a,r,n){e.top=a,e.left=t,e.right=t+r,e.bottom=a+n,e.width=r,e.height=n}function Nd(e,t,a,r){const n=a.padding;let{x:i,y:s}=t;for(const o of e){const e=o.box,l=r[o.stack]||{placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const r=t.w*c,i=l.size||e.height;To(l.start)&&(s=l.start),e.fullSize?wd(e,n.left,s,a.outerWidth-n.right-n.left,i):wd(e,t.left+l.placed,s,r,i),l.start=s,l.placed+=r,s=e.bottom}else{const r=t.h*c,s=l.size||e.width;To(l.start)&&(i=l.start),e.fullSize?wd(e,i,n.top,s,a.outerHeight-n.bottom-n.top):wd(e,i,t.top+l.placed,s,r),l.start=i,l.placed+=r,i=e.right}}t.x=i,t.y=s}var Cd={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const a=e.boxes?e.boxes.indexOf(t):-1;-1!==a&&e.boxes.splice(a,1)},configure(e,t,a){t.fullSize=a.fullSize,t.position=a.position,t.weight=a.weight},update(e,t,a,r){if(!e)return;const n=Zl(e.options.layout.padding),i=Math.max(t-n.width,0),s=Math.max(a-n.height,0),o=function(e){const t=function(e){const t=[];let a,r,n,i,s,o;for(a=0,r=(e||[]).length;a<r;++a)n=e[a],({position:i,options:{stack:s,stackWeight:o=1}}=n),t.push({index:a,box:n,pos:i,horizontal:n.isHorizontal(),weight:n.weight,stack:s&&i+s,stackWeight:o});return t}(e),a=gd(t.filter(e=>e.box.fullSize),!0),r=gd(pd(t,"left"),!0),n=gd(pd(t,"right")),i=gd(pd(t,"top"),!0),s=gd(pd(t,"bottom")),o=fd(t,"x"),l=fd(t,"y");return{fullSize:a,leftAndTop:r.concat(i),rightAndBottom:n.concat(l).concat(s).concat(o),chartArea:pd(t,"chartArea"),vertical:r.concat(n).concat(l),horizontal:i.concat(s).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;No(e.boxes,e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()});const d=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:a,padding:n,availableWidth:i,availableHeight:s,vBoxMaxWidth:i/2/d,hBoxMaxHeight:s/2}),h=Object.assign({},n);bd(h,Zl(r));const m=Object.assign({maxPadding:h,w:i,h:s,x:n.left,y:n.top},n),p=xd(l.concat(c),u);jd(o.fullSize,m,u,p),jd(l,m,u,p),jd(c,m,u,p)&&jd(l,m,u,p),function(e){const t=e.maxPadding;function a(a){const r=Math.max(t[a]-e[a],0);return e[a]+=r,r}e.y+=a("top"),e.x+=a("left"),a("right"),a("bottom")}(m),Nd(o.leftAndTop,m,u,p),m.x+=m.w,m.y+=m.h,Nd(o.rightAndBottom,m,u,p),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},No(o.chartArea,t=>{const a=t.box;Object.assign(a,e.chartArea),a.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class kd{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,a){}removeEventListener(e,t,a){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,a,r){return t=Math.max(0,t||e.width),a=a||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):a)}}isAttached(e){return!0}updateConfig(e){}}class Sd extends kd{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Md="$chartjs",Ed={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Od=e=>null===e||""===e;const Pd=!!Cc&&{passive:!0};function Ad(e,t,a){e&&e.canvas&&e.canvas.removeEventListener(t,a,Pd)}function Dd(e,t){for(const a of e)if(a===t||a.contains(t))return!0}function Id(e,t,a){const r=e.canvas,n=new MutationObserver(e=>{let t=!1;for(const a of e)t=t||Dd(a.addedNodes,r),t=t&&!Dd(a.removedNodes,r);t&&a()});return n.observe(document,{childList:!0,subtree:!0}),n}function Td(e,t,a){const r=e.canvas,n=new MutationObserver(e=>{let t=!1;for(const a of e)t=t||Dd(a.removedNodes,r),t=t&&!Dd(a.addedNodes,r);t&&a()});return n.observe(document,{childList:!0,subtree:!0}),n}const zd=new Map;let Rd=0;function Ld(){const e=window.devicePixelRatio;e!==Rd&&(Rd=e,zd.forEach((t,a)=>{a.currentDevicePixelRatio!==e&&t()}))}function $d(e,t,a){const r=e.canvas,n=r&&gc(r);if(!n)return;const i=ul((e,t)=>{const r=n.clientWidth;a(e,t),r<n.clientWidth&&a()},window),s=new ResizeObserver(e=>{const t=e[0],a=t.contentRect.width,r=t.contentRect.height;0===a&&0===r||i(a,r)});return s.observe(n),function(e,t){zd.size||window.addEventListener("resize",Ld),zd.set(e,t)}(e,i),s}function Bd(e,t,a){a&&a.disconnect(),"resize"===t&&function(e){zd.delete(e),zd.size||window.removeEventListener("resize",Ld)}(e)}function qd(e,t,a){const r=e.canvas,n=ul(t=>{null!==e.ctx&&a(function(e,t){const a=Ed[e.type]||e.type,{x:r,y:n}=_c(e,t);return{type:a,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==n?n:null}}(t,e))},e);return function(e,t,a){e&&e.addEventListener(t,a,Pd)}(r,t,n),n}class Fd extends kd{acquireContext(e,t){const a=e&&e.getContext&&e.getContext("2d");return a&&a.canvas===e?(function(e,t){const a=e.style,r=e.getAttribute("height"),n=e.getAttribute("width");if(e[Md]={initial:{height:r,width:n,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",Od(n)){const t=kc(e,"width");void 0!==t&&(e.width=t)}if(Od(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=kc(e,"height");void 0!==t&&(e.height=t)}}(e,t),a):null}releaseContext(e){const t=e.canvas;if(!t[Md])return!1;const a=t[Md].initial;["height","width"].forEach(e=>{const r=a[e];go(r)?t.removeAttribute(e):t.setAttribute(e,r)});const r=a.style||{};return Object.keys(r).forEach(e=>{t.style[e]=r[e]}),t.width=t.width,delete t[Md],!0}addEventListener(e,t,a){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),n={attach:Id,detach:Td,resize:$d}[t]||qd;r[t]=n(e,t,a)}removeEventListener(e,t){const a=e.$proxies||(e.$proxies={}),r=a[t];if(!r)return;({attach:Bd,detach:Bd,resize:Bd}[t]||Ad)(e,t,r),a[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,a,r){return wc(e,t,a,r)}isAttached(e){const t=e&&gc(e);return!(!t||!t.isConnected)}}let Wd=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:a}=this.getProps(["x","y"],e);return{x:t,y:a}}hasValue(){return Yo(this.x)&&Yo(this.y)}getProps(e,t){const a=this.$animations;if(!t||!a)return this;const r={};return e.forEach(e=>{r[e]=a[e]&&a[e].active()?a[e]._to:this[e]}),r}};function Gd(e,t){const a=e.options.ticks,r=function(e){const t=e.options.offset,a=e._tickSize(),r=e._length/a+(t?0:1),n=e._maxLength/a;return Math.floor(Math.min(r,n))}(e),n=Math.min(a.maxTicksLimit||r,r),i=a.major.enabled?function(e){const t=[];let a,r;for(a=0,r=e.length;a<r;a++)e[a].major&&t.push(a);return t}(t):[],s=i.length,o=i[0],l=i[s-1],c=[];if(s>n)return function(e,t,a,r){let n,i=0,s=a[0];for(r=Math.ceil(r),n=0;n<e.length;n++)n===s&&(t.push(e[n]),i++,s=a[i*r])}(t,c,i,s/n),c;const d=function(e,t,a){const r=function(e){const t=e.length;let a,r;if(t<2)return!1;for(r=e[0],a=1;a<t;++a)if(e[a]-e[a-1]!==r)return!1;return r}(e),n=t.length/a;if(!r)return Math.max(n,1);const i=function(e){const t=[],a=Math.sqrt(e);let r;for(r=1;r<a;r++)e%r===0&&(t.push(r),t.push(e/r));return a===(0|a)&&t.push(a),t.sort((e,t)=>e-t).pop(),t}(r);for(let s=0,o=i.length-1;s<o;s++){const e=i[s];if(e>n)return e}return Math.max(n,1)}(i,t,n);if(s>0){let e,a;const r=s>1?Math.round((l-o)/(s-1)):null;for(Hd(t,c,d,go(r)?0:o-r,o),e=0,a=s-1;e<a;e++)Hd(t,c,d,i[e],i[e+1]);return Hd(t,c,d,l,go(r)?t.length:l+r),c}return Hd(t,c,d),c}function Hd(e,t,a,r,n){const i=_o(r,0),s=Math.min(_o(n,e.length),e.length);let o,l,c,d=0;for(a=Math.ceil(a),n&&(o=n-r,a=o/Math.floor(o/a)),c=i;c<0;)d++,c=Math.round(i+d*a);for(l=Math.max(i,0);l<s;l++)l===c&&(t.push(e[l]),d++,c=Math.round(i+d*a))}const Vd=(e,t,a)=>"top"===t||"left"===t?e[t]+a:e[t]-a,Ud=(e,t)=>Math.min(t||e,e);function Kd(e,t){const a=[],r=e.length/t,n=e.length;let i=0;for(;i<n;i+=r)a.push(e[Math.floor(i)]);return a}function Yd(e,t,a){const r=e.ticks.length,n=Math.min(t,r-1),i=e._startPixel,s=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(n);if(!(a&&(l=1===r?Math.max(c-i,s-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(n-1))/2,c+=n<t?l:-l,c<i-o||c>s+o)))return c}function Xd(e){return e.drawTicks?e.tickLength:0}function Jd(e,t){if(!e.display)return 0;const a=Ql(e.font,t),r=Zl(e.padding);return(xo(e.text)?e.text.length:1)*a.lineHeight+r.height}function Zd(e,t,a){let r=hl(e);return(a&&"right"!==t||!a&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class Qd extends Wd{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:a,_suggestedMax:r}=this;return e=yo(e,Number.POSITIVE_INFINITY),t=yo(t,Number.NEGATIVE_INFINITY),a=yo(a,Number.POSITIVE_INFINITY),r=yo(r,Number.NEGATIVE_INFINITY),{min:yo(e,a),max:yo(t,r),minDefined:bo(e),maxDefined:bo(t)}}getMinMax(e){let t,{min:a,max:r,minDefined:n,maxDefined:i}=this.getUserBounds();if(n&&i)return{min:a,max:r};const s=this.getMatchingVisibleMetas();for(let o=0,l=s.length;o<l;++o)t=s[o].controller.getMinMax(this,e),n||(a=Math.min(a,t.min)),i||(r=Math.max(r,t.max));return a=i&&a>r?r:a,r=n&&a>r?a:r,{min:yo(a,yo(r,a)),max:yo(r,yo(a,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){wo(this.options.beforeUpdate,[this])}update(e,t,a){const{beginAtZero:r,grace:n,ticks:i}=this.options,s=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,a){const{min:r,max:n}=e,i=jo(t,(n-r)/2),s=(e,t)=>a&&0===e?0:e+t;return{min:s(r,-Math.abs(i)),max:s(n,i)}}(this,n,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=s<this.ticks.length;this._convertTicksToLabels(o?Kd(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||"auto"===i.source)&&(this.ticks=Gd(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,a=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,a=!a),this._startPixel=e,this._endPixel=t,this._reversePixels=a,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){wo(this.options.afterUpdate,[this])}beforeSetDimensions(){wo(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){wo(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),wo(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){wo(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let a,r,n;for(a=0,r=e.length;a<r;a++)n=e[a],n.label=wo(t.callback,[n.value,a,e],this)}afterTickToLabelConversion(){wo(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){wo(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,a=Ud(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,n=t.maxRotation;let i,s,o,l=r;if(!this._isVisible()||!t.display||r>=n||a<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=al(this.chart.width-d,0,this.maxWidth);i=e.offset?this.maxWidth/a:h/(a-1),d+6>i&&(i=h/(a-(e.offset?.5:1)),s=this.maxHeight-Xd(e.grid)-t.padding-Jd(e.title,this.chart.options.font),o=Math.sqrt(d*d+u*u),l=Math.min(Math.asin(al((c.highest.height+6)/i,-1,1)),Math.asin(al(s/o,-1,1))-Math.asin(al(u/o,-1,1)))*(180/Lo),l=Math.max(r,Math.min(n,l))),this.labelRotation=l}afterCalculateLabelRotation(){wo(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){wo(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:a,title:r,grid:n}}=this,i=this._isVisible(),s=this.isHorizontal();if(i){const i=Jd(r,t.options.font);if(s?(e.width=this.maxWidth,e.height=Xd(n)+i):(e.height=this.maxHeight,e.width=Xd(n)+i),a.display&&this.ticks.length){const{first:t,last:r,widest:n,highest:i}=this._getLabelSizes(),o=2*a.padding,l=Xo(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(s){const t=a.mirror?0:d*n.width+c*i.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=a.mirror?0:c*n.width+d*i.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,r,d,c)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,a,r){const{ticks:{align:n,padding:i},position:s}=this.options,o=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;o?l?(d=r*e.width,u=a*t.height):(d=a*e.height,u=r*t.width):"start"===n?u=t.width:"end"===n?d=e.width:"inner"!==n&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-s+i)*this.width/(this.width-s),0),this.paddingRight=Math.max((u-c+i)*this.width/(this.width-c),0)}else{let a=t.height/2,r=e.height/2;"start"===n?(a=0,r=e.height):"end"===n&&(a=t.height,r=0),this.paddingTop=a+i,this.paddingBottom=r+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){wo(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,a;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,a=e.length;t<a;t++)go(e[t].label)&&(e.splice(t,1),a--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let a=this.ticks;t<a.length&&(a=Kd(a,t)),this._labelSizes=e=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,a){const{ctx:r,_longestTextCache:n}=this,i=[],s=[],o=Math.floor(t/Ud(t,a));let l,c,d,u,h,m,p,f,g,x,v,b=0,y=0;for(l=0;l<t;l+=o){if(u=e[l].label,h=this._resolveTickFontOptions(l),r.font=m=h.string,p=n[m]=n[m]||{data:{},gc:[]},f=h.lineHeight,g=x=0,go(u)||xo(u)){if(xo(u))for(c=0,d=u.length;c<d;++c)v=u[c],go(v)||xo(v)||(g=Dl(r,p.data,p.gc,g,v),x+=f)}else g=Dl(r,p.data,p.gc,g,u),x=f;i.push(g),s.push(x),b=Math.max(g,b),y=Math.max(x,y)}!function(e,t){No(e,e=>{const a=e.gc,r=a.length/2;let n;if(r>t){for(n=0;n<r;++n)delete e.data[a[n]];a.splice(0,r)}})}(n,t);const _=i.indexOf(b),j=s.indexOf(y),w=e=>({width:i[e]||0,height:s[e]||0});return{first:w(0),last:w(t-1),widest:w(_),highest:w(j),widths:i,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return al(this._alignToPixels?Il(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const a=t[e];return a.$context||(a.$context=function(e,t,a){return tc(e,{tick:a,index:t,type:"tick"})}(this.getContext(),e,a))}return this.$context||(this.$context=tc(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Xo(this.labelRotation),a=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),n=this._getLabelSizes(),i=e.autoSkipPadding||0,s=n?n.widest.width+i:0,o=n?n.highest.height+i:0;return this.isHorizontal()?o*a>s*r?s/a:o/r:o*r<s*a?o/a:s/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,a=this.chart,r=this.options,{grid:n,position:i,border:s}=r,o=n.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),d=Xd(n),u=[],h=s.setContext(this.getContext()),m=h.display?h.width:0,p=m/2,f=function(e){return Il(a,e,m)};let g,x,v,b,y,_,j,w,N,C,k,S;if("top"===i)g=f(this.bottom),_=this.bottom-d,w=g-p,C=f(e.top)+p,S=e.bottom;else if("bottom"===i)g=f(this.top),C=e.top,S=f(e.bottom)-p,_=g+p,w=this.top+d;else if("left"===i)g=f(this.right),y=this.right-d,j=g-p,N=f(e.left)+p,k=e.right;else if("right"===i)g=f(this.left),N=e.left,k=f(e.right)-p,y=g+p,j=this.left+d;else if("x"===t){if("center"===i)g=f((e.top+e.bottom)/2+.5);else if(vo(i)){const e=Object.keys(i)[0],t=i[e];g=f(this.chart.scales[e].getPixelForValue(t))}C=e.top,S=e.bottom,_=g+p,w=_+d}else if("y"===t){if("center"===i)g=f((e.left+e.right)/2);else if(vo(i)){const e=Object.keys(i)[0],t=i[e];g=f(this.chart.scales[e].getPixelForValue(t))}y=g-p,j=y-d,N=e.left,k=e.right}const M=_o(r.ticks.maxTicksLimit,c),E=Math.max(1,Math.ceil(c/M));for(x=0;x<c;x+=E){const e=this.getContext(x),t=n.setContext(e),r=s.setContext(e),i=t.lineWidth,c=t.color,d=r.dash||[],h=r.dashOffset,m=t.tickWidth,p=t.tickColor,f=t.tickBorderDash||[],g=t.tickBorderDashOffset;v=Yd(this,x,o),void 0!==v&&(b=Il(a,v,i),l?y=j=N=k=b:_=w=C=S=b,u.push({tx1:y,ty1:_,tx2:j,ty2:w,x1:N,y1:C,x2:k,y2:S,width:i,color:c,borderDash:d,borderDashOffset:h,tickWidth:m,tickColor:p,tickBorderDash:f,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,u}_computeLabelItems(e){const t=this.axis,a=this.options,{position:r,ticks:n}=a,i=this.isHorizontal(),s=this.ticks,{align:o,crossAlign:l,padding:c,mirror:d}=n,u=Xd(a.grid),h=u+c,m=d?-c:h,p=-Xo(this.labelRotation),f=[];let g,x,v,b,y,_,j,w,N,C,k,S,M="middle";if("top"===r)_=this.bottom-m,j=this._getXAxisLabelAlignment();else if("bottom"===r)_=this.top+m,j=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,y=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,y=e.x}else if("x"===t){if("center"===r)_=(e.top+e.bottom)/2+h;else if(vo(r)){const e=Object.keys(r)[0],t=r[e];_=this.chart.scales[e].getPixelForValue(t)+h}j=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)y=(e.left+e.right)/2-h;else if(vo(r)){const e=Object.keys(r)[0],t=r[e];y=this.chart.scales[e].getPixelForValue(t)}j=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===o?M="top":"end"===o&&(M="bottom"));const E=this._getLabelSizes();for(g=0,x=s.length;g<x;++g){v=s[g],b=v.label;const e=n.setContext(this.getContext(g));w=this.getPixelForTick(g)+n.labelOffset,N=this._resolveTickFontOptions(g),C=N.lineHeight,k=xo(b)?b.length:1;const t=k/2,a=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let u,h=j;if(i?(y=w,"inner"===j&&(h=g===x-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),S="top"===r?"near"===l||0!==p?-k*C+C/2:"center"===l?-E.highest.height/2-t*C+C:-E.highest.height+C/2:"near"===l||0!==p?C/2:"center"===l?E.highest.height/2-t*C:E.highest.height-k*C,d&&(S*=-1),0===p||e.showLabelBackdrop||(y+=C/2*Math.sin(p))):(_=w,S=(1-k)*C/2),e.showLabelBackdrop){const t=Zl(e.backdropPadding),a=E.heights[g],r=E.widths[g];let n=S-t.top,i=0-t.left;switch(M){case"middle":n-=a/2;break;case"bottom":n-=a}switch(j){case"center":i-=r/2;break;case"right":i-=r;break;case"inner":g===x-1?i-=r:g>0&&(i-=r/2)}u={left:i,top:n,width:r+t.width,height:a+t.height,color:e.backdropColor}}f.push({label:b,font:N,textOffset:S,options:{rotation:p,color:a,strokeColor:o,strokeWidth:c,textAlign:h,textBaseline:M,translation:[y,_],backdrop:u}})}return f}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Xo(this.labelRotation))return"top"===e?"left":"right";let a="center";return"start"===t.align?a="left":"end"===t.align?a="right":"inner"===t.align&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:a,mirror:r,padding:n}}=this.options,i=e+n,s=this._getLabelSizes().widest.width;let o,l;return"left"===t?r?(l=this.right+n,"near"===a?o="left":"center"===a?(o="center",l+=s/2):(o="right",l+=s)):(l=this.right-i,"near"===a?o="right":"center"===a?(o="center",l-=s/2):(o="left",l=this.left)):"right"===t?r?(l=this.left+n,"near"===a?o="right":"center"===a?(o="center",l-=s/2):(o="left",l-=s)):(l=this.left+i,"near"===a?o="left":"center"===a?(o="center",l+=s/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:a,top:r,width:n,height:i}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(a,r,n,i),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const a=this.ticks.findIndex(t=>t.value===e);if(a>=0){return t.setContext(this.getContext(a)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,a=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let n,i;const s=(e,t,r)=>{r.width&&r.color&&(a.save(),a.lineWidth=r.width,a.strokeStyle=r.color,a.setLineDash(r.borderDash||[]),a.lineDashOffset=r.borderDashOffset,a.beginPath(),a.moveTo(e.x,e.y),a.lineTo(t.x,t.y),a.stroke(),a.restore())};if(t.display)for(n=0,i=r.length;n<i;++n){const e=r[n];t.drawOnChartArea&&s({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&s({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:a,grid:r}}=this,n=a.setContext(this.getContext()),i=a.display?n.width:0;if(!i)return;const s=r.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=Il(e,this.left,i)-i/2,c=Il(e,this.right,s)+s/2,d=u=o):(d=Il(e,this.top,i)-i/2,u=Il(e,this.bottom,s)+s/2,l=c=o),t.save(),t.lineWidth=n.width,t.strokeStyle=n.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,a=this._computeLabelArea();a&&$l(t,a);const r=this.getLabelItems(e);for(const n of r){const e=n.options,a=n.font;Wl(t,n.label,0,n.textOffset,a,e)}a&&Bl(t)}drawTitle(){const{ctx:e,options:{position:t,title:a,reverse:r}}=this;if(!a.display)return;const n=Ql(a.font),i=Zl(a.padding),s=a.align;let o=n.lineHeight/2;"bottom"===t||"center"===t||vo(t)?(o+=i.bottom,xo(a.text)&&(o+=n.lineHeight*(a.text.length-1))):o+=i.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,a,r){const{top:n,left:i,bottom:s,right:o,chart:l}=e,{chartArea:c,scales:d}=l;let u,h,m,p=0;const f=s-n,g=o-i;if(e.isHorizontal()){if(h=ml(r,i,o),vo(a)){const e=Object.keys(a)[0],r=a[e];m=d[e].getPixelForValue(r)+f-t}else m="center"===a?(c.bottom+c.top)/2+f-t:Vd(e,a,t);u=o-i}else{if(vo(a)){const e=Object.keys(a)[0],r=a[e];h=d[e].getPixelForValue(r)-g+t}else h="center"===a?(c.left+c.right)/2-g+t:Vd(e,a,t);m=ml(r,s,n),p="left"===a?-Fo:Fo}return{titleX:h,titleY:m,maxWidth:u,rotation:p}}(this,o,t,s);Wl(e,a.text,0,0,n,{color:a.color,maxWidth:d,rotation:u,textAlign:Zd(s,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,a=_o(e.grid&&e.grid.z,-1),r=_o(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Qd.prototype.draw?[{z:a,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",r=[];let n,i;for(n=0,i=t.length;n<i;++n){const i=t[n];i[a]!==this.id||e&&i.type!==e||r.push(i)}return r}_resolveTickFontOptions(e){return Ql(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class eu{constructor(e,t,a){this.type=e,this.scope=t,this.override=a,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let a;(function(e){return"id"in e&&"defaults"in e})(t)&&(a=this.register(t));const r=this.items,n=e.id,i=this.scope+"."+n;if(!n)throw new Error("class does not have id: "+e);return n in r||(r[n]=e,function(e,t,a){const r=Eo(Object.create(null),[a?Al.get(a):{},Al.get(t),e.defaults]);Al.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(a=>{const r=a.split("."),n=r.pop(),i=[e].concat(r).join("."),s=t[a].split("."),o=s.pop(),l=s.join(".");Al.route(i,n,l,o)})}(t,e.defaultRoutes);e.descriptors&&Al.describe(t,e.descriptors)}(e,i,a),this.override&&Al.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const t=this.items,a=e.id,r=this.scope;a in t&&delete t[a],r&&a in Al[r]&&(delete Al[r][a],this.override&&delete Sl[a])}}class tu{constructor(){this.controllers=new eu(Yc,"datasets",!0),this.elements=new eu(Wd,"elements"),this.plugins=new eu(Object,"plugins"),this.scales=new eu(Qd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,a){[...t].forEach(t=>{const r=a||this._getRegistryForType(t);a||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):No(t,t=>{const r=a||this._getRegistryForType(t);this._exec(e,r,t)})})}_exec(e,t,a){const r=Io(e);wo(a["before"+r],[],a),t[e](a),wo(a["after"+r],[],a)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const a=this._typedRegistries[t];if(a.isForType(e))return a}return this.plugins}_get(e,t,a){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+a+".");return r}}var au=new tu;class ru{constructor(){this._init=[]}notify(e,t,a,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const n=r?this._descriptors(e).filter(r):this._descriptors(e),i=this._notify(n,e,t,a);return"afterDestroy"===t&&(this._notify(n,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,t,a,r){r=r||{};for(const n of e){const e=n.plugin;if(!1===wo(e[a],[t,r,n.options],e)&&r.cancelable)return!1}return!0}invalidate(){go(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const a=e&&e.config,r=_o(a.options&&a.options.plugins,{}),n=function(e){const t={},a=[],r=Object.keys(au.plugins.items);for(let i=0;i<r.length;i++)a.push(au.getPlugin(r[i]));const n=e.plugins||[];for(let i=0;i<n.length;i++){const e=n[i];-1===a.indexOf(e)&&(a.push(e),t[e.id]=!0)}return{plugins:a,localIds:t}}(a);return!1!==r||t?function(e,{plugins:t,localIds:a},r,n){const i=[],s=e.getContext();for(const o of t){const t=o.id,l=nu(r[t],n);null!==l&&i.push({plugin:o,options:iu(e.config,{plugin:o,local:a[t]},l,s)})}return i}(e,n,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],a=this._cache,r=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(r(t,a),e,"stop"),this._notify(r(a,t),e,"start")}}function nu(e,t){return t||!1!==e?!0===e?{}:e:null}function iu(e,{plugin:t,local:a},r,n){const i=e.pluginScopeKeys(t),s=e.getOptionScopes(r,i);return a&&t.defaults&&s.push(t.defaults),e.createResolver(s,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function su(e,t){const a=Al.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||a.indexAxis||"x"}function ou(e){if("x"===e||"y"===e||"r"===e)return e}function lu(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function cu(e,...t){if(ou(e))return e;for(const a of t){const t=a.axis||lu(a.position)||e.length>1&&ou(e[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function du(e,t,a){if(a[t+"AxisID"]===e)return{axis:t}}function uu(e,t){const a=Sl[e.type]||{scales:{}},r=t.scales||{},n=su(e.type,t),i=Object.create(null);return Object.keys(r).forEach(t=>{const s=r[t];if(!vo(s))return;if(s._proxy)return;const o=cu(t,s,function(e,t){if(t.data&&t.data.datasets){const a=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(a.length)return du(e,"x",a[0])||du(e,"y",a[0])}return{}}(t,e),Al.scales[s.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,n),c=a.scales||{};i[t]=Oo(Object.create(null),[{axis:o},s,c[o],c[l]])}),e.data.datasets.forEach(a=>{const n=a.type||e.type,s=a.indexAxis||su(n,t),o=(Sl[n]||{}).scales||{};Object.keys(o).forEach(e=>{const t=function(e,t){let a=e;return"_index_"===e?a=t:"_value_"===e&&(a="x"===t?"y":"x"),a}(e,s),n=a[t+"AxisID"]||t;i[n]=i[n]||Object.create(null),Oo(i[n],[{axis:t},r[n],o[e]])})}),Object.keys(i).forEach(e=>{const t=i[e];Oo(t,[Al.scales[t.type],Al.scale])}),i}function hu(e){const t=e.options||(e.options={});t.plugins=_o(t.plugins,{}),t.scales=uu(e,t)}function mu(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const pu=new Map,fu=new Set;function gu(e,t){let a=pu.get(e);return a||(a=t(),pu.set(e,a),fu.add(a)),a}const xu=(e,t,a)=>{const r=Do(t,a);void 0!==r&&e.add(r)};class vu{constructor(e){this._config=function(e){return(e=e||{}).data=mu(e.data),hu(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=mu(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),hu(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return gu(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return gu(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return gu(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return gu(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const a=this._scopeCache;let r=a.get(e);return r&&!t||(r=new Map,a.set(e,r)),r}getOptionScopes(e,t,a){const{options:r,type:n}=this,i=this._cachedScopes(e,a),s=i.get(t);if(s)return s;const o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>xu(o,e,t))),t.forEach(e=>xu(o,r,e)),t.forEach(e=>xu(o,Sl[n]||{},e)),t.forEach(e=>xu(o,Al,e)),t.forEach(e=>xu(o,Ml,e))});const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),fu.has(t)&&i.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Sl[t]||{},Al.datasets[t]||{},{type:t},Al,Ml]}resolveNamedOptions(e,t,a,r=[""]){const n={$shared:!0},{resolver:i,subPrefixes:s}=bu(this._resolverCache,e,r);let o=i;if(function(e,t){const{isScriptable:a,isIndexable:r}=nc(e);for(const n of t){const t=a(n),i=r(n),s=(i||t)&&e[n];if(t&&(zo(s)||yu(s))||i&&xo(s))return!0}return!1}(i,t)){n.$shared=!1;o=rc(i,a=zo(a)?a():a,this.createResolver(e,a,s))}for(const l of t)n[l]=o[l];return n}createResolver(e,t,a=[""],r){const{resolver:n}=bu(this._resolverCache,e,a);return vo(t)?rc(n,t,void 0,r):n}}function bu(e,t,a){let r=e.get(t);r||(r=new Map,e.set(t,r));const n=a.join();let i=r.get(n);if(!i){i={resolver:ac(t,a),subPrefixes:a.filter(e=>!e.toLowerCase().includes("hover"))},r.set(n,i)}return i}const yu=e=>vo(e)&&Object.getOwnPropertyNames(e).some(t=>zo(e[t]));const _u=["top","bottom","left","right","chartArea"];function ju(e,t){return"top"===e||"bottom"===e||-1===_u.indexOf(e)&&"x"===t}function wu(e,t){return function(a,r){return a[e]===r[e]?a[t]-r[t]:a[e]-r[e]}}function Nu(e){const t=e.chart,a=t.options.animation;t.notifyPlugins("afterRender"),wo(a&&a.onComplete,[e],t)}function Cu(e){const t=e.chart,a=t.options.animation;wo(a&&a.onProgress,[e],t)}function ku(e){return fc()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Su={},Mu=e=>{const t=ku(e);return Object.values(Su).filter(e=>e.canvas===t).pop()};function Eu(e,t,a){const r=Object.keys(e);for(const n of r){const r=+n;if(r>=t){const i=e[n];delete e[n],(a>0||r>t)&&(e[r+a]=i)}}}let Ou=class{static defaults=Al;static instances=Su;static overrides=Sl;static registry=au;static version="4.5.0";static getChart=Mu;static register(...e){au.add(...e),Pu()}static unregister(...e){au.remove(...e),Pu()}constructor(e,t){const a=this.config=new vu(t),r=ku(e),n=Mu(r);if(n)throw new Error("Canvas is already in use. Chart with ID '"+n.id+"' must be destroyed before the canvas with ID '"+n.canvas.id+"' can be reused.");const i=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||function(e){return!fc()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Sd:Fd}(r)),this.platform.updateConfig(a);const s=this.platform.acquireContext(r,i.aspectRatio),o=s&&s.canvas,l=o&&o.height,c=o&&o.width;this.id=fo(),this.ctx=s,this.canvas=o,this.width=c,this.height=l,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ru,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let a;return function(...r){return t?(clearTimeout(a),a=setTimeout(e,t,r)):e.apply(this,r),t}}(e=>this.update(e),i.resizeDelay||0),this._dataChanges=[],Su[this.id]=this,s&&o&&(Dc.listen(this,"complete",Nu),Dc.listen(this,"progress",Cu),this._initialize(),this.attached&&this.update())}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:a,height:r,_aspectRatio:n}=this;return go(e)?t&&n?n:r?a/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return au}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Nc(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Tl(this.canvas,this.ctx),this}stop(){return Dc.stop(this),this}resize(e,t){Dc.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const a=this.options,r=this.canvas,n=a.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(r,e,t,n),s=a.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,Nc(this,s,!0)&&(this.notifyPlugins("resize",{size:i}),wo(a.onResize,[this,i],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){No(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,a=this.scales,r=Object.keys(a).reduce((e,t)=>(e[t]=!1,e),{});let n=[];t&&(n=n.concat(Object.keys(t).map(e=>{const a=t[e],r=cu(e,a),n="r"===r,i="x"===r;return{options:a,dposition:n?"chartArea":i?"bottom":"left",dtype:n?"radialLinear":i?"category":"linear"}}))),No(n,t=>{const n=t.options,i=n.id,s=cu(i,n),o=_o(n.type,t.dtype);void 0!==n.position&&ju(n.position,s)===ju(t.dposition)||(n.position=t.dposition),r[i]=!0;let l=null;if(i in a&&a[i].type===o)l=a[i];else{l=new(au.getScale(o))({id:i,type:o,ctx:this.ctx,chart:this}),a[l.id]=l}l.init(n,e)}),No(r,(e,t)=>{e||delete a[t]}),No(a,e=>{Cd.configure(this,e,e.options),Cd.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,a=e.length;if(e.sort((e,t)=>e.index-t.index),a>t){for(let e=t;e<a;++e)this._destroyDatasetMeta(e);e.splice(t,a-t)}this._sortedMetasets=e.slice(0).sort(wu("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,a)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let a,r;for(this._removeUnreferencedMetasets(),a=0,r=t.length;a<r;a++){const r=t[a];let n=this.getDatasetMeta(a);const i=r.type||this.config.type;if(n.type&&n.type!==i&&(this._destroyDatasetMeta(a),n=this.getDatasetMeta(a)),n.type=i,n.indexAxis=r.indexAxis||su(i,this.options),n.order=r.order||0,n.index=a,n.label=""+r.label,n.visible=this.isDatasetVisible(a),n.controller)n.controller.updateIndex(a),n.controller.linkScales();else{const t=au.getController(i),{datasetElementType:r,dataElementType:s}=Al.datasets[i];Object.assign(t,{dataElementType:au.getElement(s),datasetElementType:r&&au.getElement(r)}),n.controller=new t(this,a),e.push(n.controller)}}return this._updateMetasets(),e}_resetElements(){No(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const a=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const n=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===n.indexOf(e);e.buildOrUpdateElements(t),i=Math.max(+e.getMaxOverflow(),i)}i=this._minPadding=a.layout.autoPadding?i:0,this._updateLayout(i),r||No(n,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(wu("z","_idx"));const{_active:s,_lastEvent:o}=this;o?this._eventHandler(o,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){No(this.scales,e=>{Cd.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),a=new Set(e.events);Ro(t,a)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:a,start:r,count:n}of t){Eu(e,r,"_removeElements"===a?-n:n)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,a=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),r=a(0);for(let n=1;n<t;n++)if(!Ro(r,a(n)))return;return Array.from(r).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Cd.update(this,this.width,this.height,e);const t=this.chartArea,a=t.width<=0||t.height<=0;this._layers=[],No(this.boxes,e=>{a&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,a=this.data.datasets.length;t<a;++t)this._updateDataset(t,zo(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const a=this.getDatasetMeta(e),r={meta:a,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(a.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Dc.has(this)?this.attached&&!Dc.running(this)&&Dc.start(this):(this.draw(),Nu({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,a=[];let r,n;for(r=0,n=t.length;r<n;++r){const n=t[r];e&&!n.visible||a.push(n)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,a={meta:e,index:e.index,cancelable:!0},r=Pc(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(r&&$l(t,r),e.controller.draw(),r&&Bl(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return Ll(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,a,r){const n=hd.modes[t];return"function"==typeof n?n(this,e,a,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],a=this._metasets;let r=a.filter(e=>e&&e._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},a.push(r)),r}getContext(){return this.$context||(this.$context=tc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const a=this.getDatasetMeta(e);return"boolean"==typeof a.hidden?!a.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,a){const r=a?"show":"hide",n=this.getDatasetMeta(e),i=n.controller._resolveAnimations(void 0,r);To(t)?(n.data[t].hidden=!a,this.update()):(this.setDatasetVisibility(e,a),i.update(n,{visible:a}),this.update(t=>t.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Dc.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Tl(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Su[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,a=(a,r)=>{t.addEventListener(this,a,r),e[a]=r},r=(e,t,a)=>{e.offsetX=t,e.offsetY=a,this._eventHandler(e)};No(this.options.events,e=>a(e,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,a=(a,r)=>{t.addEventListener(this,a,r),e[a]=r},r=(a,r)=>{e[a]&&(t.removeEventListener(this,a,r),delete e[a])},n=(e,t)=>{this.canvas&&this.resize(e,t)};let i;const s=()=>{r("attach",s),this.attached=!0,this.resize(),a("resize",n),a("detach",i)};i=()=>{this.attached=!1,r("resize",n),this._stop(),this._resize(0,0),a("attach",s)},t.isAttached(this.canvas)?s():i()}unbindEvents(){No(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},No(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,a){const r=a?"set":"remove";let n,i,s,o;for("dataset"===t&&(n=this.getDatasetMeta(e[0].datasetIndex),n.controller["_"+r+"DatasetHoverStyle"]()),s=0,o=e.length;s<o;++s){i=e[s];const t=i&&this.getDatasetMeta(i.datasetIndex).controller;t&&t[r+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],a=e.map(({datasetIndex:e,index:t})=>{const a=this.getDatasetMeta(e);if(!a)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:a.data[t],index:t}});!Co(a,t)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,t))}notifyPlugins(e,t,a){return this._plugins.notify(this,e,t,a)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,a){const r=this.options.hover,n=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),i=n(t,e),s=a?e:n(e,t);i.length&&this.updateHoverStyle(i,r.mode,!1),s.length&&r.mode&&this.updateHoverStyle(s,r.mode,!0)}_eventHandler(e,t){const a={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",a,r))return;const n=this._handleEvent(e,t,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,r),(n||a.changed)&&this.render(),this}_handleEvent(e,t,a){const{_active:r=[],options:n}=this,i=t,s=this._getActiveElements(e,r,a,i),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,a,r){return a&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,a,o);a&&(this._lastEvent=null,wo(n.onHover,[e,s,this],this),o&&wo(n.onClick,[e,s,this],this));const c=!Co(s,r);return(c||t)&&(this._active=s,this._updateHoverStyles(s,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,a,r){if("mouseout"===e.type)return[];if(!a)return t;const n=this.options.hover;return this.getElementsAtEventForMode(e,n.mode,n,r)}};function Pu(){return No(Ou.instances,e=>e._plugins.invalidate())}function Au(e,t,a,r){const n=Yl(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const i=(a-t)/2,s=Math.min(i,r*t/2),o=e=>{const t=(a-Math.min(i,e))*r/2;return al(e,0,Math.min(i,t))};return{outerStart:o(n.outerStart),outerEnd:o(n.outerEnd),innerStart:al(n.innerStart,0,s),innerEnd:al(n.innerEnd,0,s)}}function Du(e,t,a,r){return{x:a+e*Math.cos(t),y:r+e*Math.sin(t)}}function Iu(e,t,a,r,n,i){const{x:s,y:o,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+r+a-c,0),h=d>0?d+r+a+c:0;let m=0;const p=n-l;if(r){const e=((d>0?d-r:0)+(u>0?u-r:0))/2;m=(p-(0!==e?p*e/(e+r):p))/2}const f=(p-Math.max(.001,p*u-a/Lo)/u)/2,g=l+f+m,x=n-f-m,{outerStart:v,outerEnd:b,innerStart:y,innerEnd:_}=Au(t,h,u,x-g),j=u-v,w=u-b,N=g+v/j,C=x-b/w,k=h+y,S=h+_,M=g+y/k,E=x-_/S;if(e.beginPath(),i){const t=(N+C)/2;if(e.arc(s,o,u,N,t),e.arc(s,o,u,t,C),b>0){const t=Du(w,C,s,o);e.arc(t.x,t.y,b,C,x+Fo)}const a=Du(S,x,s,o);if(e.lineTo(a.x,a.y),_>0){const t=Du(S,E,s,o);e.arc(t.x,t.y,_,x+Fo,E+Math.PI)}const r=(x-_/h+(g+y/h))/2;if(e.arc(s,o,h,x-_/h,r,!0),e.arc(s,o,h,r,g+y/h,!0),y>0){const t=Du(k,M,s,o);e.arc(t.x,t.y,y,M+Math.PI,g-Fo)}const n=Du(j,g,s,o);if(e.lineTo(n.x,n.y),v>0){const t=Du(j,N,s,o);e.arc(t.x,t.y,v,g-Fo,N)}}else{e.moveTo(s,o);const t=Math.cos(N)*u+s,a=Math.sin(N)*u+o;e.lineTo(t,a);const r=Math.cos(C)*u+s,n=Math.sin(C)*u+o;e.lineTo(r,n)}e.closePath()}function Tu(e,t,a,r,n){const{fullCircles:i,startAngle:s,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h,borderRadius:m}=l,p="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,p?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let f=t.endAngle;if(i){Iu(e,t,a,r,f,n);for(let t=0;t<i;++t)e.stroke();isNaN(o)||(f=s+(o%$o||$o))}p&&function(e,t,a){const{startAngle:r,pixelMargin:n,x:i,y:s,outerRadius:o,innerRadius:l}=t;let c=n/o;e.beginPath(),e.arc(i,s,o,r-c,a+c),l>n?(c=n/l,e.arc(i,s,l,a+c,r-c,!0)):e.arc(i,s,n,a+Fo,r-Fo),e.closePath(),e.clip()}(e,t,f),l.selfJoin&&f-s>=Lo&&0===m&&"miter"!==d&&function(e,t,a){const{startAngle:r,x:n,y:i,outerRadius:s,innerRadius:o,options:l}=t,{borderWidth:c,borderJoinStyle:d}=l,u=Math.min(c/s,el(r-a));if(e.beginPath(),e.arc(n,i,s-c/2,r+u/2,a-u/2),o>0){const t=Math.min(c/o,el(r-a));e.arc(n,i,o+c/2,a-t/2,r+t/2,!0)}else{const t=Math.min(c/2,s*el(r-a));if("round"===d)e.arc(n,i,t,a-Lo/2,r+Lo/2,!0);else if("bevel"===d){const s=2*t*t,o=-s*Math.cos(a+Lo/2)+n,l=-s*Math.sin(a+Lo/2)+i,c=s*Math.cos(r+Lo/2)+n,d=s*Math.sin(r+Lo/2)+i;e.lineTo(o,l),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,f),i||(Iu(e,t,a,r,f,n),e.stroke())}function zu(e,t){const{x:a,y:r,base:n,width:i,height:s}=e.getProps(["x","y","base","width","height"],t);let o,l,c,d,u;return e.horizontal?(u=s/2,o=Math.min(a,n),l=Math.max(a,n),c=r-u,d=r+u):(u=i/2,o=a-u,l=a+u,c=Math.min(r,n),d=Math.max(r,n)),{left:o,top:c,right:l,bottom:d}}function Ru(e,t,a,r){return e?0:al(t,a,r)}function Lu(e){const t=zu(e),a=t.right-t.left,r=t.bottom-t.top,n=function(e,t,a){const r=e.options.borderWidth,n=e.borderSkipped,i=Xl(r);return{t:Ru(n.top,i.top,0,a),r:Ru(n.right,i.right,0,t),b:Ru(n.bottom,i.bottom,0,a),l:Ru(n.left,i.left,0,t)}}(e,a/2,r/2),i=function(e,t,a){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),n=e.options.borderRadius,i=Jl(n),s=Math.min(t,a),o=e.borderSkipped,l=r||vo(n);return{topLeft:Ru(!l||o.top||o.left,i.topLeft,0,s),topRight:Ru(!l||o.top||o.right,i.topRight,0,s),bottomLeft:Ru(!l||o.bottom||o.left,i.bottomLeft,0,s),bottomRight:Ru(!l||o.bottom||o.right,i.bottomRight,0,s)}}(e,a/2,r/2);return{outer:{x:t.left,y:t.top,w:a,h:r,radius:i},inner:{x:t.left+n.l,y:t.top+n.t,w:a-n.l-n.r,h:r-n.t-n.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,i.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(n.b,n.r))}}}}function $u(e,t,a,r){const n=null===t,i=null===a,s=e&&!(n&&i)&&zu(e,r);return s&&(n||rl(t,s.left,s.right))&&(i||rl(a,s.top,s.bottom))}function Bu(e,t){e.rect(t.x,t.y,t.w,t.h)}function qu(e,t,a={}){const r=e.x!==a.x?-t:0,n=e.y!==a.y?-t:0,i=(e.x+e.w!==a.x+a.w?t:0)-r,s=(e.y+e.h!==a.y+a.h?t:0)-n;return{x:e.x+r,y:e.y+n,w:e.w+i,h:e.h+s,radius:e.radius}}const Fu=(e,t)=>{let{boxHeight:a=t,boxWidth:r=t}=e;return e.usePointStyle&&(a=Math.min(a,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:a,itemHeight:Math.max(t,a)}};let Wu=class extends Wd{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,a){this.maxWidth=e,this.maxHeight=t,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=wo(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,a)=>e.sort(t,a,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const a=e.labels,r=Ql(a.font),n=r.size,i=this._computeTitleHeight(),{boxWidth:s,itemHeight:o}=Fu(a,n);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(i,n,s,o)+10):(c=this.maxHeight,l=this._fitCols(i,r,s,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,a,r){const{ctx:n,maxWidth:i,options:{labels:{padding:s}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+s;let d=e;n.textAlign="left",n.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach((e,m)=>{const p=a+t/2+n.measureText(e.text).width;(0===m||l[l.length-1]+p+2*s>i)&&(d+=c,l[l.length-(m>0?0:1)]=0,h+=c,u++),o[m]={left:0,top:h,row:u,width:p,height:r},l[l.length-1]+=p+s}),d}_fitCols(e,t,a,r){const{ctx:n,maxHeight:i,options:{labels:{padding:s}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=i-e;let d=s,u=0,h=0,m=0,p=0;return this.legendItems.forEach((e,i)=>{const{itemWidth:f,itemHeight:g}=function(e,t,a,r,n){const i=function(e,t,a,r){let n=e.text;n&&"string"!=typeof n&&(n=n.reduce((e,t)=>e.length>t.length?e:t));return t+a.size/2+r.measureText(n).width}(r,e,t,a),s=function(e,t,a){let r=e;"string"!=typeof t.text&&(r=Gu(t,a));return r}(n,r,t.lineHeight);return{itemWidth:i,itemHeight:s}}(a,t,n,e,r);i>0&&h+g+2*s>c&&(d+=u+s,l.push({width:u,height:h}),m+=u+s,p++,u=h=0),o[i]={left:m,top:h,col:p,width:f,height:g},u=Math.max(u,f),h+=g+s}),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:a,labels:{padding:r},rtl:n}}=this,i=Sc(n,this.left,this.width);if(this.isHorizontal()){let n=0,s=ml(a,this.left+r,this.right-this.lineWidths[n]);for(const o of t)n!==o.row&&(n=o.row,s=ml(a,this.left+r,this.right-this.lineWidths[n])),o.top+=this.top+e+r,o.left=i.leftForLtr(i.x(s),o.width),s+=o.width+r}else{let n=0,s=ml(a,this.top+e+r,this.bottom-this.columnSizes[n].height);for(const o of t)o.col!==n&&(n=o.col,s=ml(a,this.top+e+r,this.bottom-this.columnSizes[n].height)),o.top=s,o.left+=this.left+r,o.left=i.leftForLtr(i.x(o.left),o.width),s+=o.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;$l(e,this),this._draw(),Bl(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:a,ctx:r}=this,{align:n,labels:i}=e,s=Al.color,o=Sc(e.rtl,this.left,this.width),l=Ql(i.font),{padding:c}=i,d=l.size,u=d/2;let h;this.drawTitle(),r.textAlign=o.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:m,boxHeight:p,itemHeight:f}=Fu(i,d),g=this.isHorizontal(),x=this._computeTitleHeight();h=g?{x:ml(n,this.left+c,this.right-a[0]),y:this.top+c+x,line:0}:{x:this.left+c,y:ml(n,this.top+x+c,this.bottom-t[0].height),line:0},Mc(this.ctx,e.textDirection);const v=f+c;this.legendItems.forEach((b,y)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const _=r.measureText(b.text).width,j=o.textAlign(b.textAlign||(b.textAlign=i.textAlign)),w=m+u+_;let N=h.x,C=h.y;o.setWidth(this.width),g?y>0&&N+w+c>this.right&&(C=h.y+=v,h.line++,N=h.x=ml(n,this.left+c,this.right-a[h.line])):y>0&&C+v>this.bottom&&(N=h.x=N+t[h.line].width+c,h.line++,C=h.y=ml(n,this.top+x+c,this.bottom-t[h.line].height));if(function(e,t,a){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;r.save();const n=_o(a.lineWidth,1);if(r.fillStyle=_o(a.fillStyle,s),r.lineCap=_o(a.lineCap,"butt"),r.lineDashOffset=_o(a.lineDashOffset,0),r.lineJoin=_o(a.lineJoin,"miter"),r.lineWidth=n,r.strokeStyle=_o(a.strokeStyle,s),r.setLineDash(_o(a.lineDash,[])),i.usePointStyle){const s={radius:p*Math.SQRT2/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:n},l=o.xPlus(e,m/2);Rl(r,s,l,t+u,i.pointStyleWidth&&m)}else{const i=t+Math.max((d-p)/2,0),s=o.leftForLtr(e,m),l=Jl(a.borderRadius);r.beginPath(),Object.values(l).some(e=>0!==e)?Gl(r,{x:s,y:i,w:m,h:p,radius:l}):r.rect(s,i,m,p),r.fill(),0!==n&&r.stroke()}r.restore()}(o.x(N),C,b),N=((e,t,a,r)=>e===(r?"left":"right")?a:"center"===e?(t+a)/2:t)(j,N+m+u,g?N+w:this.right,e.rtl),function(e,t,a){Wl(r,a.text,e,t+f/2,l,{strikethrough:a.hidden,textAlign:o.textAlign(a.textAlign)})}(o.x(N),C,b),g)h.x+=w+c;else if("string"!=typeof b.text){const e=l.lineHeight;h.y+=Gu(b,e)+c}else h.y+=v}),Ec(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,a=Ql(t.font),r=Zl(t.padding);if(!t.display)return;const n=Sc(e.rtl,this.left,this.width),i=this.ctx,s=t.position,o=a.size/2,l=r.top+o;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=ml(e.align,d,this.right-u);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+ml(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=ml(s,d,d+u);i.textAlign=n.textAlign(hl(s)),i.textBaseline="middle",i.strokeStyle=t.color,i.fillStyle=t.color,i.font=a.string,Wl(i,t.text,h,c,a)}_computeTitleHeight(){const e=this.options.title,t=Ql(e.font),a=Zl(e.padding);return e.display?t.lineHeight+a.height:0}_getLegendItemAt(e,t){let a,r,n;if(rl(e,this.left,this.right)&&rl(t,this.top,this.bottom))for(n=this.legendHitBoxes,a=0;a<n.length;++a)if(r=n[a],rl(e,r.left,r.left+r.width)&&rl(t,r.top,r.top+r.height))return this.legendItems[a];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const a=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,n=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(r,a);r&&!n&&wo(t.onLeave,[e,r,this],this),this._hoveredItem=a,a&&!n&&wo(t.onHover,[e,a,this],this)}else a&&wo(t.onClick,[e,a,this],this)}};function Gu(e,t){return t*(e.text?e.text.length:0)}var Hu={id:"legend",_element:Wu,start(e,t,a){const r=e.legend=new Wu({ctx:e.ctx,options:a,chart:e});Cd.configure(e,r,a),Cd.addBox(e,r)},stop(e){Cd.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,a){const r=e.legend;Cd.configure(e,r,a),r.options=a},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,a){const r=t.datasetIndex,n=a.chart;n.isDatasetVisible(r)?(n.hide(r),t.hidden=!0):(n.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:a,pointStyle:r,textAlign:n,color:i,useBorderRadius:s,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(a?0:void 0),c=Zl(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:i,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:n||l.textAlign,borderRadius:s&&(o||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Vu extends Wd{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const a=this.options;if(this.left=0,this.top=0,!a.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=xo(a.text)?a.text.length:1;this._padding=Zl(a.padding);const n=r*Ql(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=n:this.width=n}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:a,bottom:r,right:n,options:i}=this,s=i.align;let o,l,c,d=0;return this.isHorizontal()?(l=ml(s,a,n),c=t+e,o=n-a):("left"===i.position?(l=a+e,c=ml(s,r,t),d=-.5*Lo):(l=n-e,c=ml(s,t,r),d=.5*Lo),o=r-t),{titleX:l,titleY:c,maxWidth:o,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const a=Ql(t.font),r=a.lineHeight/2+this._padding.top,{titleX:n,titleY:i,maxWidth:s,rotation:o}=this._drawArgs(r);Wl(e,t.text,0,0,a,{color:t.color,maxWidth:s,rotation:o,textAlign:hl(t.align),textBaseline:"middle",translation:[n,i]})}}var Uu={id:"title",_element:Vu,start(e,t,a){!function(e,t){const a=new Vu({ctx:e.ctx,options:t,chart:e});Cd.configure(e,a,t),Cd.addBox(e,a),e.titleBlock=a}(e,a)},stop(e){const t=e.titleBlock;Cd.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,a){const r=e.titleBlock;Cd.configure(e,r,a),r.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ku={average(e){if(!e.length)return!1;let t,a,r=new Set,n=0,i=0;for(t=0,a=e.length;t<a;++t){const a=e[t].element;if(a&&a.hasValue()){const e=a.tooltipPosition();r.add(e.x),n+=e.y,++i}}if(0===i||0===r.size)return!1;const s=[...r].reduce((e,t)=>e+t)/r.size;return{x:s,y:n/i}},nearest(e,t){if(!e.length)return!1;let a,r,n,i=t.x,s=t.y,o=Number.POSITIVE_INFINITY;for(a=0,r=e.length;a<r;++a){const r=e[a].element;if(r&&r.hasValue()){const e=Qo(t,r.getCenterPoint());e<o&&(o=e,n=r)}}if(n){const e=n.tooltipPosition();i=e.x,s=e.y}return{x:i,y:s}}};function Yu(e,t){return t&&(xo(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Xu(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Ju(e,t){const{element:a,datasetIndex:r,index:n}=t,i=e.getDatasetMeta(r).controller,{label:s,value:o}=i.getLabelAndValue(n);return{chart:e,label:s,parsed:i.getParsed(n),raw:e.data.datasets[r].data[n],formattedValue:o,dataset:i.getDataset(),dataIndex:n,datasetIndex:r,element:a}}function Zu(e,t){const a=e.chart.ctx,{body:r,footer:n,title:i}=e,{boxWidth:s,boxHeight:o}=t,l=Ql(t.bodyFont),c=Ql(t.titleFont),d=Ql(t.footerFont),u=i.length,h=n.length,m=r.length,p=Zl(t.padding);let f=p.height,g=0,x=r.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(x+=e.beforeBody.length+e.afterBody.length,u&&(f+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),x){f+=m*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(x-m)*l.lineHeight+(x-1)*t.bodySpacing}h&&(f+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let v=0;const b=function(e){g=Math.max(g,a.measureText(e).width+v)};return a.save(),a.font=c.string,No(e.title,b),a.font=l.string,No(e.beforeBody.concat(e.afterBody),b),v=t.displayColors?s+2+t.boxPadding:0,No(r,e=>{No(e.before,b),No(e.lines,b),No(e.after,b)}),v=0,a.font=d.string,No(e.footer,b),a.restore(),g+=p.width,{width:g,height:f}}function Qu(e,t,a,r){const{x:n,width:i}=a,{width:s,chartArea:{left:o,right:l}}=e;let c="center";return"center"===r?c=n<=(o+l)/2?"left":"right":n<=i/2?c="left":n>=s-i/2&&(c="right"),function(e,t,a,r){const{x:n,width:i}=r,s=a.caretSize+a.caretPadding;return"left"===e&&n+i+s>t.width||"right"===e&&n-i-s<0||void 0}(c,e,t,a)&&(c="center"),c}function eh(e,t,a){const r=a.yAlign||t.yAlign||function(e,t){const{y:a,height:r}=t;return a<r/2?"top":a>e.height-r/2?"bottom":"center"}(e,a);return{xAlign:a.xAlign||t.xAlign||Qu(e,t,a,r),yAlign:r}}function th(e,t,a,r){const{caretSize:n,caretPadding:i,cornerRadius:s}=e,{xAlign:o,yAlign:l}=a,c=n+i,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Jl(s);let p=function(e,t){let{x:a,width:r}=e;return"right"===t?a-=r:"center"===t&&(a-=r/2),a}(t,o);const f=function(e,t,a){let{y:r,height:n}=e;return"top"===t?r+=a:r-="bottom"===t?n+a:n/2,r}(t,l,c);return"center"===l?"left"===o?p+=c:"right"===o&&(p-=c):"left"===o?p-=Math.max(d,h)+n:"right"===o&&(p+=Math.max(u,m)+n),{x:al(p,0,r.width-t.width),y:al(f,0,r.height-t.height)}}function ah(e,t,a){const r=Zl(a.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function rh(e){return Yu([],Xu(e))}function nh(e,t){const a=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return a?e.override(a):e}const ih={beforeTitle:po,title(e){if(e.length>0){const t=e[0],a=t.chart.data.labels,r=a?a.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return a[t.dataIndex]}return""},afterTitle:po,beforeBody:po,beforeLabel:po,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const a=e.formattedValue;return go(a)||(t+=a),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:po,afterBody:po,beforeFooter:po,footer:po,afterFooter:po};function sh(e,t,a,r){const n=e[t].call(a,r);return void 0===n?ih[t].call(a,r):n}let oh=class extends Wd{static positioners=Ku;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,a=this.options.setContext(this.getContext()),r=a.enabled&&t.options.animation&&a.animations,n=new Rc(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,a=this._tooltipItems,tc(e,{tooltip:t,tooltipItems:a,type:"tooltip"})));var e,t,a}getTitle(e,t){const{callbacks:a}=t,r=sh(a,"beforeTitle",this,e),n=sh(a,"title",this,e),i=sh(a,"afterTitle",this,e);let s=[];return s=Yu(s,Xu(r)),s=Yu(s,Xu(n)),s=Yu(s,Xu(i)),s}getBeforeBody(e,t){return rh(sh(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:a}=t,r=[];return No(e,e=>{const t={before:[],lines:[],after:[]},n=nh(a,e);Yu(t.before,Xu(sh(n,"beforeLabel",this,e))),Yu(t.lines,sh(n,"label",this,e)),Yu(t.after,Xu(sh(n,"afterLabel",this,e))),r.push(t)}),r}getAfterBody(e,t){return rh(sh(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:a}=t,r=sh(a,"beforeFooter",this,e),n=sh(a,"footer",this,e),i=sh(a,"afterFooter",this,e);let s=[];return s=Yu(s,Xu(r)),s=Yu(s,Xu(n)),s=Yu(s,Xu(i)),s}_createItems(e){const t=this._active,a=this.chart.data,r=[],n=[],i=[];let s,o,l=[];for(s=0,o=t.length;s<o;++s)l.push(Ju(this.chart,t[s]));return e.filter&&(l=l.filter((t,r,n)=>e.filter(t,r,n,a))),e.itemSort&&(l=l.sort((t,r)=>e.itemSort(t,r,a))),No(l,t=>{const a=nh(e.callbacks,t);r.push(sh(a,"labelColor",this,t)),n.push(sh(a,"labelPointStyle",this,t)),i.push(sh(a,"labelTextColor",this,t))}),this.labelColors=r,this.labelPointStyles=n,this.labelTextColors=i,this.dataPoints=l,l}update(e,t){const a=this.options.setContext(this.getContext()),r=this._active;let n,i=[];if(r.length){const e=Ku[a.position].call(this,r,this._eventPosition);i=this._createItems(a),this.title=this.getTitle(i,a),this.beforeBody=this.getBeforeBody(i,a),this.body=this.getBody(i,a),this.afterBody=this.getAfterBody(i,a),this.footer=this.getFooter(i,a);const t=this._size=Zu(this,a),s=Object.assign({},e,t),o=eh(this.chart,a,s),l=th(a,s,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,n={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(n={opacity:0});this._tooltipItems=i,this.$context=void 0,n&&this._resolveAnimations().update(this,n),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,a,r){const n=this.getCaretPosition(e,a,r);t.lineTo(n.x1,n.y1),t.lineTo(n.x2,n.y2),t.lineTo(n.x3,n.y3)}getCaretPosition(e,t,a){const{xAlign:r,yAlign:n}=this,{caretSize:i,cornerRadius:s}=a,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:d}=Jl(s),{x:u,y:h}=e,{width:m,height:p}=t;let f,g,x,v,b,y;return"center"===n?(b=h+p/2,"left"===r?(f=u,g=f-i,v=b+i,y=b-i):(f=u+m,g=f+i,v=b-i,y=b+i),x=f):(g="left"===r?u+Math.max(o,c)+i:"right"===r?u+m-Math.max(l,d)-i:this.caretX,"top"===n?(v=h,b=v-i,f=g-i,x=g+i):(v=h+p,b=v+i,f=g+i,x=g-i),y=v),{x1:f,x2:g,x3:x,y1:v,y2:b,y3:y}}drawTitle(e,t,a){const r=this.title,n=r.length;let i,s,o;if(n){const l=Sc(a.rtl,this.x,this.width);for(e.x=ah(this,a.titleAlign,a),t.textAlign=l.textAlign(a.titleAlign),t.textBaseline="middle",i=Ql(a.titleFont),s=a.titleSpacing,t.fillStyle=a.titleColor,t.font=i.string,o=0;o<n;++o)t.fillText(r[o],l.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+s,o+1===n&&(e.y+=a.titleMarginBottom-s)}}_drawColorBox(e,t,a,r,n){const i=this.labelColors[a],s=this.labelPointStyles[a],{boxHeight:o,boxWidth:l}=n,c=Ql(n.bodyFont),d=ah(this,"left",n),u=r.x(d),h=o<c.lineHeight?(c.lineHeight-o)/2:0,m=t.y+h;if(n.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},a=r.leftForLtr(u,l)+l/2,c=m+o/2;e.strokeStyle=n.multiKeyBackground,e.fillStyle=n.multiKeyBackground,zl(e,t,a,c),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,zl(e,t,a,c)}else{e.lineWidth=vo(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const t=r.leftForLtr(u,l),a=r.leftForLtr(r.xPlus(u,1),l-2),s=Jl(i.borderRadius);Object.values(s).some(e=>0!==e)?(e.beginPath(),e.fillStyle=n.multiKeyBackground,Gl(e,{x:t,y:m,w:l,h:o,radius:s}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),Gl(e,{x:a,y:m+1,w:l-2,h:o-2,radius:s}),e.fill()):(e.fillStyle=n.multiKeyBackground,e.fillRect(t,m,l,o),e.strokeRect(t,m,l,o),e.fillStyle=i.backgroundColor,e.fillRect(a,m+1,l-2,o-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,t,a){const{body:r}=this,{bodySpacing:n,bodyAlign:i,displayColors:s,boxHeight:o,boxWidth:l,boxPadding:c}=a,d=Ql(a.bodyFont);let u=d.lineHeight,h=0;const m=Sc(a.rtl,this.x,this.width),p=function(a){t.fillText(a,m.x(e.x+h),e.y+u/2),e.y+=u+n},f=m.textAlign(i);let g,x,v,b,y,_,j;for(t.textAlign=i,t.textBaseline="middle",t.font=d.string,e.x=ah(this,f,a),t.fillStyle=a.bodyColor,No(this.beforeBody,p),h=s&&"right"!==f?"center"===i?l/2+c:l+2+c:0,b=0,_=r.length;b<_;++b){for(g=r[b],x=this.labelTextColors[b],t.fillStyle=x,No(g.before,p),v=g.lines,s&&v.length&&(this._drawColorBox(t,e,b,m,a),u=Math.max(d.lineHeight,o)),y=0,j=v.length;y<j;++y)p(v[y]),u=d.lineHeight;No(g.after,p)}h=0,u=d.lineHeight,No(this.afterBody,p),e.y-=n}drawFooter(e,t,a){const r=this.footer,n=r.length;let i,s;if(n){const o=Sc(a.rtl,this.x,this.width);for(e.x=ah(this,a.footerAlign,a),e.y+=a.footerMarginTop,t.textAlign=o.textAlign(a.footerAlign),t.textBaseline="middle",i=Ql(a.footerFont),t.fillStyle=a.footerColor,t.font=i.string,s=0;s<n;++s)t.fillText(r[s],o.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+a.footerSpacing}}drawBackground(e,t,a,r){const{xAlign:n,yAlign:i}=this,{x:s,y:o}=e,{width:l,height:c}=a,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Jl(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(s+d,o),"top"===i&&this.drawCaret(e,t,a,r),t.lineTo(s+l-u,o),t.quadraticCurveTo(s+l,o,s+l,o+u),"center"===i&&"right"===n&&this.drawCaret(e,t,a,r),t.lineTo(s+l,o+c-m),t.quadraticCurveTo(s+l,o+c,s+l-m,o+c),"bottom"===i&&this.drawCaret(e,t,a,r),t.lineTo(s+h,o+c),t.quadraticCurveTo(s,o+c,s,o+c-h),"center"===i&&"left"===n&&this.drawCaret(e,t,a,r),t.lineTo(s,o+d),t.quadraticCurveTo(s,o,s+d,o),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,a=this.$animations,r=a&&a.x,n=a&&a.y;if(r||n){const a=Ku[e.position].call(this,this._active,this._eventPosition);if(!a)return;const i=this._size=Zu(this,e),s=Object.assign({},a,this._size),o=eh(t,e,s),l=th(e,s,o,t);r._to===l.x&&n._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=i.width,this.height=i.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},n={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const i=Zl(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(e.save(),e.globalAlpha=a,this.drawBackground(n,e,r,t),Mc(e,t.textDirection),n.y+=i.top,this.drawTitle(n,e,t),this.drawBody(n,e,t),this.drawFooter(n,e,t),Ec(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const a=this._active,r=e.map(({datasetIndex:e,index:t})=>{const a=this.chart.getDatasetMeta(e);if(!a)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:a.data[t],index:t}}),n=!Co(a,r),i=this._positionChanged(r,t);(n||i)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,a=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,n=this._active||[],i=this._getActiveElements(e,n,t,a),s=this._positionChanged(i,e),o=t||!Co(i,n)||s;return o&&(this._active=i,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,a,r){const n=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const i=this.chart.getElementsAtEventForMode(e,n.mode,n,a);return n.reverse&&i.reverse(),i}_positionChanged(e,t){const{caretX:a,caretY:r,options:n}=this,i=Ku[n.position].call(this,e,t);return!1!==i&&(a!==i.x||r!==i.y)}};var lh={id:"tooltip",_element:oh,positioners:Ku,afterInit(e,t,a){a&&(e.tooltip=new oh({chart:e,options:a}))},beforeUpdate(e,t,a){e.tooltip&&e.tooltip.initialize(a)},reset(e,t,a){e.tooltip&&e.tooltip.initialize(a)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const a={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",a)}},afterEvent(e,t){if(e.tooltip){const a=t.replay;e.tooltip.handleEvent(t.event,a,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ih},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function ch(e,t,a,r){const n=e.indexOf(t);if(-1===n)return((e,t,a,r)=>("string"==typeof t?(a=e.push(t)-1,r.unshift({index:a,label:t})):isNaN(t)&&(a=null),a))(e,t,a,r);return n!==e.lastIndexOf(t)?a:n}function dh(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}function uh(e,t){const a=[],{bounds:r,step:n,min:i,max:s,precision:o,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=n||1,m=c-1,{min:p,max:f}=t,g=!go(i),x=!go(s),v=!go(l),b=(f-p)/(d+1);let y,_,j,w,N=Ko((f-p)/m/h)*h;if(N<1e-14&&!g&&!x)return[{value:p},{value:f}];w=Math.ceil(f/N)-Math.floor(p/N),w>m&&(N=Ko(w*N/m/h)*h),go(o)||(y=Math.pow(10,o),N=Math.ceil(N*y)/y),"ticks"===r?(_=Math.floor(p/N)*N,j=Math.ceil(f/N)*N):(_=p,j=f),g&&x&&n&&function(e,t){const a=Math.round(e);return a-t<=e&&a+t>=e}((s-i)/n,N/1e3)?(w=Math.round(Math.min((s-i)/N,c)),N=(s-i)/w,_=i,j=s):v?(_=g?i:_,j=x?s:j,w=l-1,N=(j-_)/w):(w=(j-_)/N,w=Uo(w,Math.round(w),N/1e3)?Math.round(w):Math.ceil(w));const C=Math.max(Jo(N),Jo(_));y=Math.pow(10,go(o)?C:o),_=Math.round(_*y)/y,j=Math.round(j*y)/y;let k=0;for(g&&(u&&_!==i?(a.push({value:i}),_<i&&k++,Uo(Math.round((_+k*N)*y)/y,i,hh(i,b,e))&&k++):_<i&&k++);k<w;++k){const e=Math.round((_+k*N)*y)/y;if(x&&e>s)break;a.push({value:e})}return x&&u&&j!==s?a.length&&Uo(a[a.length-1].value,s,hh(s,b,e))?a[a.length-1].value=s:a.push({value:s}):x&&j!==s||a.push({value:j}),a}function hh(e,t,{horizontal:a,minRotation:r}){const n=Xo(r),i=(a?Math.sin(n):Math.cos(n))||.001,s=.75*t*(""+e).length;return Math.min(t/i,s)}class mh extends Qd{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return go(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:a}=this.getUserBounds();let{min:r,max:n}=this;const i=e=>r=t?r:e,s=e=>n=a?n:e;if(e){const e=Vo(r),t=Vo(n);e<0&&t<0?s(0):e>0&&t>0&&i(0)}if(r===n){let t=0===n?1:Math.abs(.05*n);s(n+t),e||i(r-t)}this.min=r,this.max=n}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:a,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(t=1e3)):(t=this.computeTickLimit(),a=a||11),a&&(t=Math.min(a,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let a=this.getTickLimit();a=Math.max(2,a);const r=uh({maxTicks:a,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&function(e,t,a){let r,n,i;for(r=0,n=e.length;r<n;r++)i=e[r][a],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,a=this.max;if(super.configure(),this.options.offset&&e.length){const r=(a-t)/Math.max(e.length-1,1)/2;t-=r,a+=r}this._startValue=t,this._endValue=a,this._valueRange=a-t}getLabelForValue(e){return Nl(e,this.chart.options.locale,this.options.ticks.format)}}class ph extends mh{static id="linear";static defaults={ticks:{callback:kl.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=bo(e)?e:0,this.max=bo(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,a=Xo(this.options.ticks.minRotation),r=(e?Math.sin(a):Math.cos(a))||.001,n=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,n.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const fh="label";function gh(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function xh(e,t){e.labels=t}function vh(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fh;const r=[];e.datasets=t.map(t=>{const n=e.datasets.find(e=>e[a]===t[a]);return n&&t.data&&!r.includes(n)?(r.push(n),Object.assign(n,t),n):{...t}})}function bh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fh;const a={labels:[],datasets:[]};return xh(a,e.labels),vh(a,e.datasets,t),a}function yh(e,t){const{height:a=150,width:r=300,redraw:n=!1,datasetIdKey:i,type:s,data:o,options:l,plugins:c=[],fallbackContent:d,updateMode:u,...h}=e,m=f.useRef(null),p=f.useRef(null),x=()=>{m.current&&(p.current=new Ou(m.current,{type:s,data:bh(o,i),options:l&&{...l},plugins:c}),gh(t,p.current))},v=()=>{gh(t,null),p.current&&(p.current.destroy(),p.current=null)};return f.useEffect(()=>{!n&&p.current&&l&&function(e,t){const a=e.options;a&&t&&Object.assign(a,t)}(p.current,l)},[n,l]),f.useEffect(()=>{!n&&p.current&&xh(p.current.config.data,o.labels)},[n,o.labels]),f.useEffect(()=>{!n&&p.current&&o.datasets&&vh(p.current.config.data,o.datasets,i)},[n,o.datasets]),f.useEffect(()=>{p.current&&(n?(v(),setTimeout(x)):p.current.update(u))},[n,l,o.labels,o.datasets,u]),f.useEffect(()=>{p.current&&(v(),setTimeout(x))},[s]),f.useEffect(()=>(x(),()=>v()),[]),g.createElement("canvas",{ref:m,role:"img",height:a,width:r,...h},d)}const _h=f.forwardRef(yh);function jh(e,t){return Ou.register(t),f.forwardRef((t,a)=>g.createElement(_h,{...t,ref:a,type:e}))}const wh=jh("bar",nd),Nh=jh("doughnut",id);Ou.register(class extends Wd{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,a){const r=this.getProps(["x","y"],a),{angle:n,distance:i}=Zo(r,{x:e,y:t}),{startAngle:s,endAngle:o,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),u=(this.options.spacing+this.options.borderWidth)/2,h=_o(d,o-s),m=tl(n,s,o)&&s!==o,p=h>=$o||m,f=rl(i,l+u,c+u);return p&&f}getCenterPoint(e){const{x:t,y:a,startAngle:r,endAngle:n,innerRadius:i,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(r+n)/2,d=(i+s+l+o)/2;return{x:t+Math.cos(c)*d,y:a+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:a}=this,r=(t.offset||0)/4,n=(t.spacing||0)/2,i=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=a>$o?Math.floor(a/$o):0,0===a||this.innerRadius<0||this.outerRadius<0)return;e.save();const s=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(s)*r,Math.sin(s)*r);const o=r*(1-Math.sin(Math.min(Lo,a||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,a,r,n){const{fullCircles:i,startAngle:s,circumference:o}=t;let l=t.endAngle;if(i){Iu(e,t,a,r,l,n);for(let t=0;t<i;++t)e.fill();isNaN(o)||(l=s+(o%$o||$o))}Iu(e,t,a,r,l,n),e.fill()}(e,this,o,n,i),Tu(e,this,o,n,i),e.restore()}},lh,Hu,class extends Qd{static id="category";static defaults={ticks:{callback:dh}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:a,label:r}of t)e[a]===r&&e.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(go(e))return null;const a=this.getLabels();return((e,t)=>null===e?null:al(Math.round(e),0,t))(t=isFinite(t)&&a[t]===e?t:ch(a,e,_o(t,e),this._addedLabels),a.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:a,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(a=0),t||(r=this.getLabels().length-1)),this.min=a,this.max=r}buildTicks(){const e=this.min,t=this.max,a=this.options.offset,r=[];let n=this.getLabels();n=0===e&&t===n.length-1?n:n.slice(e,t+1),this._valueRange=Math.max(n.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let i=e;i<=t;i++)r.push({value:i});return r}getLabelForValue(e){return dh.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}},ph,class extends Wd{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:a,backgroundColor:r}}=this,{inner:n,outer:i}=Lu(this),s=(o=i.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?Gl:Bu;var o;e.save(),i.w===n.w&&i.h===n.h||(e.beginPath(),s(e,qu(i,t,n)),e.clip(),s(e,qu(n,-t,i)),e.fillStyle=a,e.fill("evenodd")),e.beginPath(),s(e,qu(n,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,a){return $u(this,e,t,a)}inXRange(e,t){return $u(this,e,null,t)}inYRange(e,t){return $u(this,null,e,t)}getCenterPoint(e){const{x:t,y:a,base:r,horizontal:n}=this.getProps(["x","y","base","horizontal"],e);return{x:n?(t+r)/2:t,y:n?a:(a+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}},Uu);const Ch="http://127.0.0.1:8082",kh="https://placehold.co/50x50/d1d5db/4b5563?text=User",Sh=(e,t)=>{const[a,r]=f.useState(e);return f.useEffect(()=>{const a=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(a)}},[e,t]),a},Mh=[{title:"Sessões Ativas",value:"124",icon:p.jsx(Mr,{size:24,color:"#3b82f6"}),gradient:"linear-gradient(135deg, #e0f2fe 0%, #bfdbfe 100%)",borderColor:"#93c5fd",textColor:"#1d4ed8"},{title:"Uso de Disco",value:"75%",icon:p.jsx(qn,{size:24,color:"#6b7280"}),gradient:"linear-gradient(135deg, #e5e7eb 0%, #d1d5db 100%)",borderColor:"#9ca3af",textColor:"#4b5563"},{title:"Tickets Abertos",value:"8",icon:p.jsx(ri,{size:24,color:"#f59e0b"}),gradient:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",borderColor:"#facc15",textColor:"#b45309"},{title:"Usuários Bloqueados",value:"3",icon:p.jsx(es,{size:24,color:"#dc2626"}),gradient:"linear-gradient(135deg, #fecaca 0%, #fca5a5 100%)",borderColor:"#ef4444",textColor:"#b91c1c"}],Eh={labels:["Ativos","Inativos","Bloqueados"],datasets:[{data:[300,50,20],backgroundColor:["#22c55e","#f97316","#ef4444"],hoverOffset:4}]},Oh={labels:["MB","FQ","Financeiro","Qualidade","Coleta","Atendimento"],datasets:[{label:"Acessos por Tela",data:[150,90,70,50,30,20],backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(168, 85, 247, 0.8)","rgba(16, 185, 129, 0.8)","rgba(249, 115, 22, 0.8)","rgba(244, 63, 94, 0.8)","rgba(239, 68, 68, 0.8)"],borderColor:["rgba(59, 130, 246, 1)","rgba(168, 85, 247, 1)","rgba(16, 185, 129, 1)","rgba(249, 115, 22, 1)","rgba(244, 63, 94, 1)","rgba(239, 68, 68, 1)"],borderWidth:1}]},Ph={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:"#334155"}},title:{display:!0,text:"Status de Usuários",color:"#1f2937",font:{size:16,weight:"bold"}}}},Ah={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#334155"}},title:{display:!0,text:"Visualizações por Tela",color:"#1f2937",font:{size:16,weight:"bold"}}},scales:{x:{ticks:{color:"#64748b"},grid:{color:"rgba(226,232,240,0.5)"}},y:{ticks:{color:"#64748b"},grid:{color:"rgba(226,232,240,0.5)"}}}},Dh=[],Ih=[{id:"1",title:"Baixa",color:"#60a5fa",cards:[]},{id:"2",title:"Media",color:"#10b981",cards:[]},{id:"3",title:"Alta",color:"#f97316",cards:[]},{id:"4",title:"Muito Alta",color:"#ef4444",cards:[]}],Th=["Todos","MB","FQ","FINANCEIRO","QUALIDADE","COLETA","ATENDIMENTO"],zh={background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px",padding:"2rem",boxShadow:"0 0 25px rgba(0,0,0,0.08), 0 4px 10px rgba(0,0,0,0.03)",border:"1px solid rgba(255,255,255,0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"},Rh={display:"flex",alignItems:"center",padding:"1rem 0",borderBottom:"1px solid #e5e7eb",gap:"1rem",cursor:"pointer",position:"relative"},Lh={flexGrow:1,display:"flex",flexDirection:"column"},$h={fontSize:"1.1rem",fontWeight:"600",color:"#334155",margin:0},Bh={fontSize:"0.9rem",color:"#64748b",display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.25rem"},qh={display:"inline-block",backgroundColor:"#e0f2fe",color:"#0c4a6e",padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"500",marginRight:"0.5rem",marginBottom:"0.5rem",whiteSpace:"nowrap"},Fh={display:"flex",alignItems:"center",gap:"0.75rem",backgroundColor:"#f1f5f9",borderRadius:"12px",padding:"0.75rem 1rem",flexGrow:1,boxShadow:"inset 0 1px 3px rgba(0,0,0,0.06)"},Wh={flexGrow:1,border:"none",outline:"none",background:"transparent",fontSize:"1rem",color:"#334155"},Gh={background:"none",border:"none",cursor:"pointer",padding:"0.5rem",borderRadius:"8px",transition:"background-color 0.2s ease-in-out",display:"flex",alignItems:"center",justifyContent:"center",color:"#3b82f6"},Hh={display:"flex",flexWrap:"wrap",gap:"2rem",marginBottom:"2rem",alignItems:"flex-start"},Vh={flex:"1 1 40%",minWidth:"300px",display:"flex",flexDirection:"column",gap:"1.5rem"},Uh={...zh,padding:"1rem",flex:"0 0 auto",height:"auto",display:"flex",justifyContent:"center",alignItems:"center"},Kh={width:"100%",height:"auto",borderRadius:"12px",objectFit:"cover"},Yh={flex:"1 1 55%",minWidth:"350px",display:"flex",flexDirection:"column",gap:"1.5rem"},Xh={...zh,padding:"1.5rem",flex:"1 1 auto",height:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},Jh={...zh,padding:"1.5rem",flex:"1 1 auto",minHeight:"200px",display:"flex",flexDirection:"column",gap:"1rem"},Zh={display:"flex",alignItems:"flex-start",gap:"0.75rem",padding:"0.75rem 0",borderBottom:"1px solid #f1f5f9",fontSize:"0.9rem",color:"#475569"},Qh={flexShrink:0,marginTop:"2px"},em={flexGrow:1,color:"#334155",fontWeight:"500"},tm={fontSize:"0.8rem",color:"#94a3b8",whiteSpace:"nowrap"},am={display:"inline-block",backgroundColor:"#e0f2fe",color:"#0c4a6e",padding:"0.2rem 0.5rem",borderRadius:"8px",fontSize:"0.7rem",fontWeight:"500",marginRight:"0.5rem",marginTop:"0.5rem",whiteSpace:"nowrap"},rm={background:"linear-gradient(45deg, #3b82f6 0%, #2563eb 100%)",color:"#fff",border:"none",borderRadius:"12px",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 10px rgba(0,0,0,0.1)",opacity:.8},nm={opacity:1,boxShadow:"0 6px 15px rgba(0,0,0,0.15)",transform:"translateY(-2px)"},im={position:"absolute",top:"0.75rem",left:"0.75rem",color:"#3b82f6",zIndex:2},sm={display:"flex",alignItems:"center",gap:"0.75rem",backgroundColor:"#f1f5f9",borderRadius:"12px",padding:"0.75rem 1rem",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.06)",flexShrink:0},om={flexGrow:1,border:"none",outline:"none",background:"transparent",fontSize:"1rem",color:"#334155",cursor:"pointer",appearance:"none",paddingRight:"1rem"},lm={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(3px)"},cm={backgroundColor:"#ffffff",borderRadius:"16px",padding:"2rem",boxShadow:"0 10px 30px rgba(0,0,0,0.2), 0 4px 10px rgba(0,0,0,0.05)",width:"90%",maxWidth:"600px",maxHeight:"80vh",overflowY:"auto",position:"relative",display:"flex",flexDirection:"column",gap:"1.5rem",flex:"1 1 auto"},dm={display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #e2e8f0",paddingBottom:"1rem",marginBottom:"1rem"},um={fontSize:"1.5rem",fontWeight:"700",color:"#1f2937",margin:0},hm={background:"none",border:"none",cursor:"pointer",padding:"0.5rem",borderRadius:"8px",color:"#64748b",transition:"background-color 0.2s ease-in-out"},mm={flex:"1 1 auto",minHeight:"80px",maxHeight:"200px",overflowY:"auto",border:"1px solid #e2e8f0",borderRadius:"8px",flexShrink:1,padding:"0.5rem"},pm={display:"flex",alignItems:"center",padding:"0.75rem 1rem",borderBottom:"1px solid #f1f5f9",cursor:"pointer",transition:"background-color 0.2s ease-in-out",backgroundColor:"#fff"},fm="#f8fafc",gm={backgroundColor:"#e0f2fe",borderLeft:"4px solid #3b82f6"},xm={width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover",border:"1px solid #d1d5db",marginRight:"1rem"},vm={fontSize:"1rem",fontWeight:"600",color:"#334155",flexGrow:1},bm={width:"100%",minHeight:"100px",padding:"1rem",borderRadius:"8px",border:"1px solid #cbd5e1",fontSize:"1rem",color:"#334155",resize:"vertical",outline:"none",transition:"border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out"},ym={background:"linear-gradient(45deg, #22c55e 0%, #16a34a 100%)",color:"#fff",border:"none",borderRadius:"12px",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},_m={opacity:.9,boxShadow:"0 6px 15px rgba(0,0,0,0.15)",transform:"translateY(-2px)"},jm={display:"flex",alignItems:"center",gap:"0.5rem",border:"1px solid #cbd5e1",borderRadius:"8px",padding:"0.5rem 1rem",flexWrap:"wrap",backgroundColor:"#fff"},wm={flexGrow:1,border:"none",outline:"none",background:"transparent",fontSize:"1rem",color:"#334155",minWidth:"100px"},Nm={display:"flex",alignItems:"center",backgroundColor:"#e0f2fe",color:"#0c4a6e",padding:"0.3rem 0.75rem",borderRadius:"16px",fontSize:"0.85rem",fontWeight:"500",whiteSpace:"nowrap",gap:"0.4rem"},Cm={background:"none",border:"none",cursor:"pointer",color:"#0c4a6e",padding:0,display:"flex",alignItems:"center",justifyContent:"center",transition:"color 0.2s ease-in-out"},km={background:"#3b82f6",color:"#fff",border:"none",borderRadius:"8px",padding:"0.4rem 0.8rem",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",display:"flex",alignItems:"center",gap:"0.25rem",transition:"background-color 0.2s ease-in-out"},Sm={display:"flex",gap:"1.5rem",alignItems:"flex-start",paddingBottom:"1rem"},Mm={overflowX:"auto",marginBottom:"2rem",width:"100%",boxSizing:"border-box"},Em={...zh,minWidth:"300px",maxWidth:"350px",flexShrink:0,padding:"1.5rem",backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",display:"flex",flexDirection:"column",gap:"1rem",height:"fit-content",maxHeight:"calc(100vh - 200px)",overflowY:"auto"},Om={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",paddingBottom:"0.75rem",borderBottom:"2px solid",color:"#334155"},Pm={fontSize:"1.25rem",fontWeight:"700",margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},Am={background:"#ffffff",borderRadius:"12px",padding:"1rem",boxShadow:"0 4px 12px rgba(0,0,0,0.06)",border:"1px solid #e2e8f0",cursor:"grab",transition:"all 0.2s ease-in-out",display:"flex",flexDirection:"column",gap:"0.5rem"},Dm={opacity:.6,border:"2px dashed #3b82f6",transform:"rotate(2deg)"},Im={fontSize:"1rem",fontWeight:"600",color:"#334155",margin:0},Tm={fontSize:"0.9rem",color:"#64748b",margin:"0.25rem 0",lineHeight:"1.4"},zm={width:"30px",height:"30px",borderRadius:"50%",objectFit:"cover",border:"1px solid #93c5fd",marginRight:"0.5rem"},Rm={display:"inline-block",backgroundColor:"#e0f2fe",color:"#0c4a6e",padding:"0.2rem 0.5rem",borderRadius:"8px",fontSize:"0.7rem",fontWeight:"500",marginRight:"0.5rem",marginTop:"0.5rem",whiteSpace:"nowrap"},Lm=(e,t,a)=>{let r=e;if(t){const e=t.toLowerCase();r=r.filter(t=>t.nome_completo?.toLowerCase().includes(e)||t.nome?.toLowerCase().includes(e)||t.cargo?.toLowerCase().includes(e)||t.privilegio?.toLowerCase().includes(e))}return"Todos"!==a&&(r=r.filter(e=>e.telas_acesso.some(e=>e.nome===a))),r},$m=f.memo(({x9:e})=>{const[t,a]=f.useState(""),[n,i]=f.useState("Todos"),[s,o]=f.useState(new Set),[l,c]=f.useState(Ih),[d,u]=f.useState(null),[h,m]=f.useState(!1),[g,x]=f.useState(null),[v,b]=f.useState(""),[y,_]=f.useState(""),[j,w]=f.useState(""),[N,C]=f.useState([]),[k,S]=f.useState(1),[M,E]=f.useState(!1),[O,P]=f.useState(""),[A,D]=f.useState(!1),I=Sh(t,300),T=Sh(y,300),z=f.useRef([]);f.useEffect(()=>{if(JSON.stringify(e.kanban_cards)===JSON.stringify(z.current))return;if(z.current=e.kanban_cards||[],!e.kanban_cards||0===e.kanban_cards.length)return void c(Ih);const t=new Map;Ih.forEach(e=>{t.set(e.id,[])}),e.kanban_cards.forEach((e,a)=>{try{void 0!==e.id&&null!==e.id||(e.id=Date.now()+Math.floor(1e5*Math.random()));const r=String(e.urgencia),n=t.get(r);n&&n.push(((e,t=0)=>({id:e.id?String(e.id):`temp-${Date.now()}-${Math.random()}`,column_id:String(e.urgencia),type:e.user_id?"user":"task",title:e.title,description:e.description,userId:e.user_id,userPhoto:e.user_photo_url?`${Ch}${e.user_photo_url}`:kh,nivel_preocupacao:e.urgencia,tags:e.tags?JSON.parse(e.tags):[],card_color:e.card_color||(4===e.urgencia?"#ef4444":3===e.urgencia?"#f97316":2===e.urgencia?"#10b981":"#60a5fa"),index:t}))(e,a))}catch(r){}});const a=Ih.map(e=>({...e,cards:t.get(e.id)||[]}));c(a)},[e.kanban_cards]);const R=f.useMemo(()=>Lm(e.usuarios_ativos_com_telas,I,n),[e.usuarios_ativos_com_telas,I,n]),L=f.useMemo(()=>T?Lm(e.usuarios_ativos_com_telas,T,"Todos"):e.usuarios_ativos_com_telas,[e.usuarios_ativos_com_telas,T]),$=f.useCallback(e=>{o(t=>{const a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a})},[]),B=f.useCallback(e=>{P(e),E(!0)},[]),q=f.useCallback(()=>{E(!1),P("")},[]),F=f.useCallback((e,t)=>{alert(`Enviando um "cutucão" para ${t}!`)},[]),W=f.useCallback((e,t)=>{alert(`Abrindo chat/envio de notificação para ${t}.`)},[]),G=f.useCallback(()=>{if(0===s.size)return void alert("Selecione pelo menos um usuário para enviar a notificação.");const e=R.filter(e=>s.has(e.id)).map(e=>e.nome_completo||e.nome).join(", ");alert(`Enviando notificação em massa para: ${e}. (A implementar envio real)`),o(new Set)},[s,R]),H=f.useCallback(()=>{m(!0),x(null),b(""),_(""),w(""),C([]),S(1)},[]),V=f.useCallback(()=>{m(!1)},[]),U=f.useCallback(()=>{const e=j.trim();e&&!N.includes(e)&&(C(t=>[...t,e]),w(""))},[j,N]),K=f.useCallback(e=>{C(t=>t.filter(t=>t!==e))},[]),Y=f.useCallback(async()=>{if(!g&&!v.trim())return void alert("Selecione um usuário ou escreva uma atividade.");const e={id:`task-${Date.now()}`,column_id:String(k),type:g?"user":"task",title:g?g.nome_completo||g.nome:"Nova Atividade",description:v.trim()||void 0,userId:g?.id,userPhoto:g?.profile_photo_path||kh,nivel_preocupacao:k,tags:N.length>0?N:void 0,card_color:4===k?"#ef4444":3===k?"#f97316":2===k?"#10b981":"#60a5fa",index:0},t={id:0,column_id:e.column_id,urgencia:e.nivel_preocupacao,type:e.type,title:e.title,description:e.description,user_id:e.userId,user_photo_url:e.userPhoto!==kh?e.userPhoto:void 0,tags:JSON.stringify(e.tags||[]),card_color:e.card_color};try{await r("salvar_ticket",{cardData:t}),c(t=>{const a=t.findIndex(t=>t.id===e.column_id);if(-1===a)return t;const r=[...t],n={...r[a]};return n.cards=[e,...n.cards],r[a]=n,r}),D(!0),setTimeout(()=>D(!1),3e3),V()}catch(a){alert(`Falha ao salvar a atividade: ${a}`)}},[g,v,N,k,V]),X=f.useCallback((e,t)=>{u(t),e.dataTransfer.setData("cardId",t)},[]),J=f.useCallback(e=>{e.preventDefault()},[]),Z=f.useCallback(async(e,t,a)=>{e.preventDefault();const n=e.dataTransfer.getData("cardId");if(!n)return;const i=l.find(e=>e.cards.some(e=>e.id===n)),s=i?.id,o=s===t;if(!o){if((parseInt(n.replace(/\D/g,""))||0)>2147483647)return B("Você ainda não pode alterar a urgência deste item, pois ele ainda não foi processado pelo sistema."),void u(null)}if(c(e=>{const r=e.map(e=>({...e,cards:[...e.cards]}));let i,s,o=-1;for(const t of r){const e=t.cards.findIndex(e=>e.id===n);if(e>-1){i=t.cards[e],s=t,o=e;break}}if(!i||!s)return e;s.cards.splice(o,1);const l=r.find(e=>e.id===t);if(!l)return e;const c={...i,column_id:t,nivel_preocupacao:parseInt(t),card_color:4===parseInt(t)?"#ef4444":3===parseInt(t)?"#f97316":2===parseInt(t)?"#10b981":"#60a5fa"};let d=l.cards.length;if(a){const e=l.cards.findIndex(e=>e.id===a);-1!==e&&(d=e)}return d=Math.max(0,Math.min(d,l.cards.length)),l.cards.splice(d,0,{...c,index:d}),r}),!o){const e={id:parseInt(n.replace(/\D/g,""))||0,new_urgencia:parseInt(t)};try{await r("update_kanban_card_urgency_and_index",{updateData:e})}catch(d){alert(`Erro ao atualizar posição do card: ${d}`)}}u(null)},[l,B]),Q=f.useCallback(()=>{u(null)},[]),ee=f.useMemo(()=>l.reduce((e,t)=>e+t.cards.length,0),[l]);return p.jsxs(p.Fragment,{children:[h&&p.jsx("div",{style:lm,onClick:V,children:p.jsxs("div",{style:cm,onClick:e=>e.stopPropagation(),children:[p.jsxs("div",{style:dm,children:[p.jsx("h3",{style:um,children:"Adicionar Nova Atividade"}),p.jsx("button",{style:hm,onClick:V,children:p.jsx(ss,{size:24})})]}),p.jsxs("div",{style:Fh,children:[p.jsx(Mi,{size:20,color:"#64748b"}),p.jsx("input",{type:"text",placeholder:"Buscar usuário para associar...",style:Wh,value:y,onChange:e=>_(e.target.value)})]}),p.jsx("div",{style:{fontSize:"0.9rem",color:"#64748b"},children:"Selecione um usuário ou adicione uma atividade geral:"}),p.jsx("div",{style:mm,children:L.length>0?L.map(e=>p.jsxs("div",{style:{...pm,...g?.id===e.id?gm:{}},onMouseEnter:e=>e.currentTarget.style.backgroundColor=fm,onMouseLeave:e=>e.currentTarget.style.backgroundColor=pm.backgroundColor,onClick:()=>x(e),children:[p.jsx("img",{src:e.profile_photo_path?`${Ch}${e.profile_photo_path}`:kh,alt:e.nome_completo||e.nome,style:xm}),p.jsx("span",{style:vm,children:e.nome_completo||e.nome})]},e.id)):p.jsx("div",{style:{textAlign:"center",color:"#9ca3af",padding:"1rem"},children:"Nenhum usuário encontrado."})}),p.jsx("textarea",{placeholder:g?`Descreva a atividade para ${g.nome_completo||g.nome}...`:"Descreva a nova atividade...",style:bm,value:v,onChange:e=>b(e.target.value)}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[p.jsx("label",{style:{fontSize:"0.9rem",fontWeight:"600",color:"#334155"},children:"Nível de Preocupação:"}),p.jsxs("select",{style:om,value:k,onChange:e=>S(Number(e.target.value)),children:[p.jsx("option",{value:1,children:"1 - Baixa"}),p.jsx("option",{value:2,children:"2 - Média"}),p.jsx("option",{value:3,children:"3 - Alta"}),p.jsx("option",{value:4,children:"4 - Muito Alta"})]})]}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[p.jsx("label",{style:{fontSize:"0.9rem",fontWeight:"600",color:"#334155"},children:"Tags:"}),p.jsxs("div",{style:jm,children:[N.map((e,t)=>p.jsxs("span",{style:Nm,children:[e,p.jsx("button",{type:"button",onClick:()=>K(e),style:Cm,children:p.jsx(ss,{size:14})})]},t)),p.jsx("input",{type:"text",placeholder:"Adicionar tags (ex: Financeiro, Urgente)",style:wm,value:j,onChange:e=>w(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),U())}}),p.jsxs("button",{type:"button",onClick:U,style:km,children:[p.jsx(vi,{size:16})," Adicionar"]})]})]}),p.jsxs("button",{style:ym,onClick:Y,onMouseEnter:e=>Object.assign(e.currentTarget.style,_m),onMouseLeave:e=>Object.assign(e.currentTarget.style,ym),children:[p.jsx(Ei,{size:20})," Salvar Atividade"]})]})}),M&&p.jsx("div",{style:lm,onClick:q,children:p.jsxs("div",{style:cm,onClick:e=>e.stopPropagation(),children:[p.jsxs("div",{style:dm,children:[p.jsxs("h3",{style:{...um,color:"#dc2626"},children:[p.jsx(Ki,{size:24,color:"#dc2626",style:{marginRight:"0.5rem"}}),"Atenção!"]}),p.jsx("button",{style:hm,onClick:q,children:p.jsx(ss,{size:24})})]}),p.jsx("p",{style:{fontSize:"1.1rem",color:"#334155",lineHeight:"1.5"},children:O}),p.jsx("button",{style:{...ym,background:"linear-gradient(45deg, #ef4444 0%, #b91c1c 100%)"},onClick:q,onMouseEnter:e=>Object.assign(e.currentTarget.style,_m),onMouseLeave:e=>Object.assign(e.currentTarget.style,{background:"linear-gradient(45deg, #ef4444 0%, #b91c1c 100%)",opacity:1,boxShadow:"0 4px 10px rgba(0,0,0,0.1)",transform:"translateY(0)"}),children:"Entendi"})]})}),A&&p.jsx("div",{style:lm,onClick:()=>D(!1),children:p.jsxs("div",{style:{...cm,maxWidth:"400px",textAlign:"center",padding:"2rem"},onClick:e=>e.stopPropagation(),children:[p.jsx(Ti,{size:48,color:"#22c55e",style:{marginBottom:"1rem"}}),p.jsx("h3",{style:um,children:"Sucesso!"}),p.jsx("p",{style:{fontSize:"1.1rem",color:"#475569",marginBottom:"1.5rem"},children:"Atividade adicionada ao Kanban com sucesso!"}),p.jsx("button",{style:ym,onClick:()=>D(!1),onMouseEnter:e=>Object.assign(e.currentTarget.style,_m),onMouseLeave:e=>Object.assign(e.currentTarget.style,ym),children:"Fechar"})]})}),p.jsxs("div",{style:Hh,children:[p.jsxs("div",{style:Vh,children:[p.jsx("div",{style:Uh,children:p.jsx("img",{src:"/assets/x9-CLV1U0dh.jpg",alt:"Visão Geral X9",style:Kh})}),p.jsxs("div",{style:Jh,children:[p.jsxs("h3",{style:{fontSize:"1.4rem",fontWeight:"700",color:"#1f2937",marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[p.jsx(Vr,{size:22,color:"#4f46e5"})," Acontecimentos Recentes"]}),Dh.length>0?p.jsx("div",{children:Dh.map(e=>p.jsxs("div",{style:Zh,children:[p.jsxs("span",{style:Qh,children:["alert"===e.type&&p.jsx(Ki,{size:18,color:"#ef4444"}),"activity"===e.type&&p.jsx(Mr,{size:18,color:"#3b82f6"}),"info"===e.type&&p.jsx(Vn,{size:18,color:"#10b981"})]}),p.jsxs("div",{style:{flexGrow:1},children:[p.jsx("p",{style:em,children:e.description}),p.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",marginTop:"0.25rem"},children:[e.tags&&e.tags.map((e,t)=>p.jsxs("span",{style:am,children:[p.jsx(qi,{size:12,style:{marginRight:"0.25rem"}}),e]},t)),p.jsx("span",{style:tm,children:e.timestamp})]})]})]},e.id))}):p.jsx("div",{style:{textAlign:"center",color:"#9ca3af",padding:"1rem",fontSize:"0.9rem"},children:"Nenhum acontecimento recente."})]})]}),p.jsxs("div",{style:Yh,children:[p.jsx("div",{style:Xh,children:p.jsx(Nh,{data:Eh,options:Ph})}),p.jsx("div",{style:Xh,children:p.jsx(wh,{data:Oh,options:Ah})})]})]}),p.jsxs("h2",{style:{fontSize:"1.8rem",fontWeight:"700",color:"#1f2937",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[p.jsx(Jr,{size:28,color:"#4f46e5"}),"Dashboard de Resultados"]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[p.jsx(Um,{icon:p.jsx(as,{size:24,color:"#3b82f6"}),title:"Total de Usuários Ativos",value:e.total_usuarios_ativos,gradient:"linear-gradient(135deg, #e0f2fe 0%, #bfdbfe 100%)",borderColor:"#93c5fd",textColor:"#1d4ed8"}),p.jsx(Um,{icon:p.jsx(xi,{size:24,color:"#64748b"}),title:"Pins no Kanban",value:ee,gradient:"linear-gradient(135deg, #f1f5f9 0%, #cbd5e1 100%)",borderColor:"#94a3b8",textColor:"#475569"}),p.jsx(Um,{icon:p.jsx(fn,{size:24,color:"#0d9488"}),title:"Setores no Kanban",value:l.length,gradient:"linear-gradient(135deg, #ccfbf1 0%, #5eead4 100%)",borderColor:"#14b8a6",textColor:"#0f766e"}),Mh.map((e,t)=>p.jsx(Um,{icon:e.icon,title:e.title,value:"string"==typeof e.value?Number(e.value):e.value,gradient:e.gradient,borderColor:e.borderColor,textColor:e.textColor},t))]}),p.jsxs("h2",{style:{fontSize:"1.8rem",fontWeight:"700",color:"#1f2937",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[p.jsx(fn,{size:28,color:"#4f46e5"}),"Kanban de Gestão",p.jsxs("button",{style:{...Gh,color:"#22c55e",marginLeft:"1rem",background:"#dcfce7",padding:"0.5rem 1rem",borderRadius:"10px"},onClick:H,title:"Adicionar nova atividade",onMouseEnter:e=>e.currentTarget.style.backgroundColor="#86efac",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#dcfce7",children:[p.jsx(dn,{size:20,style:{marginRight:"0.5rem"}})," Adicionar"]})]}),p.jsx("div",{style:Mm,children:p.jsx("div",{style:Sm,children:l.map(e=>p.jsxs("div",{style:Em,onDragOver:J,onDrop:t=>Z(t,e.id),children:[p.jsx("div",{style:{...Om,borderBottomColor:e.color||"#e2e8f0"},children:p.jsxs("h3",{style:{...Pm,color:e.color||"#334155"},children:[p.jsx(xi,{size:20})," ",e.title," (",e.cards.length,")"]})}),e.cards.length>0?e.cards.map(t=>p.jsxs("div",{draggable:!0,onDragStart:e=>X(e,t.id),onDragEnd:Q,onDragOver:J,onDrop:a=>Z(a,e.id,t.id),style:{...Am,...d===t.id?Dm:{},borderLeft:t.card_color?`5px solid ${t.card_color}`:"1px solid #e2e8f0"},onMouseEnter:e=>e.currentTarget.style.transform="translateY(-3px)",onMouseLeave:e=>e.currentTarget.style.transform="translateY(0)",onClick:()=>alert(`Clicado no pin: ${t.title} (Detalhes a implementar)`),children:[p.jsxs("div",{style:{display:"flex",alignItems:"center"},children:["user"===t.type&&t.userPhoto&&p.jsx("img",{src:t.userPhoto.startsWith("http")?t.userPhoto:`${Ch}${t.userPhoto}`,alt:t.title,style:zm}),p.jsx("p",{style:Im,children:t.title})]}),t.description&&p.jsx("p",{style:Tm,children:t.description}),t.tags&&t.tags.length>0&&p.jsx("div",{style:{display:"flex",flexWrap:"wrap",marginTop:"0.25rem"},children:t.tags.map((e,t)=>p.jsx("span",{style:Rm,children:e},t))})]},t.id)):p.jsx("div",{style:{textAlign:"center",color:"#9ca3af",padding:"1rem",fontSize:"0.9rem",border:"1px dashed #e5e7eb",borderRadius:"8px"},children:"Arraste cards para cá ou adicione um novo."})]},e.id))})}),p.jsxs("h2",{style:{fontSize:"1.8rem",fontWeight:"700",color:"#1f2937",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[p.jsx(es,{size:28,color:"#3b82f6"}),"Gestão de Usuários Ativos"]}),p.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",alignItems:"center",flexWrap:"wrap"},children:[p.jsxs("div",{style:Fh,children:[p.jsx(Mi,{size:20,color:"#64748b"}),p.jsx("input",{type:"text",placeholder:"Pesquisar usuários...",style:Wh,value:t,onChange:e=>a(e.target.value)})]}),p.jsxs("div",{style:sm,children:[p.jsx(si,{size:20,color:"#64748b"}),p.jsx("select",{style:om,value:n,onChange:e=>i(e.target.value),children:Th.map(e=>p.jsx("option",{value:e,children:"Todos"===e?"Todas as Telas":e},e))})]}),s.size>0&&p.jsxs("button",{style:rm,onClick:G,onMouseEnter:e=>Object.assign(e.currentTarget.style,nm),onMouseLeave:e=>Object.assign(e.currentTarget.style,rm),children:[p.jsx(Ei,{size:20}),"Notificar (",s.size,")"]})]}),p.jsx("div",{style:zh,children:R.length>0?p.jsx("div",{children:R.map(e=>p.jsxs("div",{style:{...Rh,background:s.has(e.id)?"rgba(59, 130, 246, 0.05)":"transparent",borderRadius:s.has(e.id)?"12px":"0",paddingLeft:s.has(e.id)?"3rem":"1rem"},onClick:()=>$(e.id),onMouseEnter:t=>t.currentTarget.style.backgroundColor=s.has(e.id)?"rgba(59, 130, 246, 0.1)":"#f8fafc",onMouseLeave:t=>t.currentTarget.style.backgroundColor=s.has(e.id)?"rgba(59, 130, 246, 0.05)":"transparent",children:[s.has(e.id)&&p.jsx("div",{style:im,children:p.jsx(Ti,{size:20,color:"#3b82f6"})}),!s.has(e.id)&&p.jsx("div",{style:im,children:p.jsx(Ri,{size:20,color:"#e5e7eb"})}),p.jsx("img",{src:e.profile_photo_path?`${Ch}${e.profile_photo_path}`:kh,alt:e.nome_completo||e.nome,style:xm}),p.jsxs("div",{style:Lh,children:[p.jsx("p",{style:$h,children:e.nome_completo||e.nome}),e.cargo&&p.jsxs("div",{style:Bh,children:[p.jsx(qr,{size:16,color:"#64748b"}),p.jsx("span",{children:e.cargo})]}),e.privilegio&&p.jsxs("div",{style:Bh,children:[p.jsx(es,{size:16,color:"#64748b"}),p.jsx("span",{children:e.privilegio})]}),p.jsx("div",{style:{marginTop:"0.5rem"},children:e.telas_acesso.map((e,t)=>p.jsx("span",{style:qh,children:e.nome},e.id||t))})]}),p.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexShrink:0},children:[p.jsx("button",{style:{...Gh,color:"#f59e0b"},onClick:t=>{t.stopPropagation(),F(e.id,e.nome_completo||e.nome)},title:`Cutucar ${e.nome_completo||e.nome}`,onMouseEnter:e=>e.currentTarget.style.backgroundColor="#fef3c7",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:p.jsx(zr,{size:20})}),p.jsx("button",{style:{...Gh,color:"#2563eb"},onClick:t=>{t.stopPropagation(),W(e.id,e.nome_completo||e.nome)},title:`Notificar ${e.nome_completo||e.nome}`,onMouseEnter:e=>e.currentTarget.style.backgroundColor="#e0f2fe",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:p.jsx(ri,{size:20})})]})]},e.id))}):p.jsx("div",{style:{textAlign:"center",color:"#6b748b",padding:"2rem",fontSize:"1rem"},children:t||"Todos"!==n?"Nenhum usuário encontrado com os filtros aplicados.":"Nenhum usuário ativo encontrado."})})]})});$m.displayName="X9Screen";const Bm={background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"16px",padding:"2rem",boxShadow:"0 0 25px rgba(0,0,0,0.08), 0 4px 10px rgba(0,0,0,0.03)",border:"1px solid rgba(255,255,255,0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"},qm={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},Fm={background:"#ffffff",borderRadius:"12px",padding:"2rem",width:"90%",maxWidth:"800px",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.15)",position:"relative",animation:"fadeInUp 0.3s ease-out"},Wm={position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#6b7280"},Gm={marginTop:"1.5rem",padding:"0.75rem 1.5rem",backgroundColor:"#3b82f6",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",transition:"background-color 0.2s ease-in-out",width:"100%"},Hm=f.memo(({financeiro:e})=>{const[t,a]=f.useState(!1),r=e.boletos_vencidos.length+e.boletos_vencem_hoje.length+e.boletos_vencem_este_mes.length>9,n=()=>{a(!t)},i=e=>{let t=(new Date).toISOString().split("T")[0];if(e.data_vencimento_boleto)try{const a=new Date(e.data_vencimento_boleto);isNaN(a.getTime())||(t=a.toISOString().split("T")[0])}catch(o){}const a=new Date;a.setHours(0,0,0,0);const r=e.data_vencimento_boleto?new Date(e.data_vencimento_boleto):a;r.setHours(0,0,0,0);let n="andamento",i="media",s=0;return r<a?(n="planejamento",i="alta",s=1):r.getTime()===a.getTime()?(n="andamento",i="alta",s=1):(n="andamento",i="baixa"),{id:e.id_boleto,nome:`Boleto da NF  ${e.nf_numero}`||"",responsavel:e.nome_cliente||"Cliente Desconhecido",status:!0===e.nf_pago?"concluido":n,prioridade:!0===e.nf_pago?"baixa":i,dataEntrega:t,progresso:!0===e.nf_pago?100:0,atencoes:!0===e.nf_pago?0:s}};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[p.jsx(Um,{icon:p.jsx(bn,{size:24,color:"#ef4444"}),title:"Boletos Vencidos",value:e.boletos_vencidos.length,gradient:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)",borderColor:"#fca5a5",textColor:"#b91c1c"}),p.jsx(Um,{icon:p.jsx(pn,{size:24,color:"#f59e0b"}),title:"Vencem Hoje",value:e.boletos_vencem_hoje.length,gradient:"linear-gradient(135deg, #fefce8 0%, #fef3c7 100%)",borderColor:"#fde68a",textColor:"#92400e"}),p.jsx(Um,{icon:p.jsx(Ur,{size:24,color:"#0ea5e9"}),title:"Vencem Este Mês",value:e.boletos_vencem_este_mes.length,gradient:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderColor:"#7dd3fc",textColor:"#0c4a6e"}),p.jsx(Um,{icon:p.jsx(ns,{size:24,color:"#166534"}),title:"Total Não Pagos",value:e.total_itens_nao_pagos,gradient:"linear-gradient(135deg, #dcfce7 0%, #a7f3d0 100%)",borderColor:"#34d399",textColor:"#065f46"})]}),p.jsxs("div",{style:Bm,children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1.5rem"},children:[p.jsx(bn,{size:24,color:"#166534",style:{marginRight:"0.75rem"}}),p.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#166534",margin:0},children:"Situação Financeira"})]}),e.total_itens_nao_pagos>0?p.jsxs(p.Fragment,{children:[e.boletos_vencidos.length>0&&p.jsxs(p.Fragment,{children:[p.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"#dc2626",marginBottom:"1rem"},children:"Boletos Vencidos"}),e.boletos_vencidos.slice(0,3).map((e,t)=>p.jsx(Km,{projeto:i(e)},`vencido-${e.id_boleto||t}`))]}),e.boletos_vencem_hoje.length>0&&p.jsxs(p.Fragment,{children:[e.boletos_vencidos.length>0&&p.jsx("hr",{style:{borderTop:"1px solid #e5e7eb",margin:"2rem 0"}}),p.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"#f59e0b",marginBottom:"1rem"},children:"Vencem Hoje"}),e.boletos_vencem_hoje.slice(0,3).map((e,t)=>p.jsx(Km,{projeto:i(e)},`hoje-${e.id_boleto||t}`))]}),e.boletos_vencem_este_mes.length>0&&p.jsxs(p.Fragment,{children:[(e.boletos_vencidos.length>0||e.boletos_vencem_hoje.length>0)&&p.jsx("hr",{style:{borderTop:"1px solid #e5e7eb",margin:"2rem 0"}}),p.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"#2563eb",marginBottom:"1rem"},children:"Vencem Este Mês"}),e.boletos_vencem_este_mes.slice(0,3).map((e,t)=>p.jsx(Km,{projeto:i(e)},`este-mes-${e.id_boleto||t}`))]}),r&&p.jsxs("button",{style:Gm,onClick:n,onMouseEnter:e=>e.currentTarget.style.backgroundColor="#2563eb",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#3b82f6",children:["Ver Todos os Boletos (",e.total_itens_nao_pagos," itens)"]})]}):p.jsx("div",{style:{textAlign:"center",color:"#6b7280",padding:"2rem",fontSize:"1rem"},children:"Nenhum boleto pendente encontrado para este mês."})]}),t&&p.jsx("div",{style:qm,onClick:n,children:p.jsxs("div",{style:Fm,onClick:e=>e.stopPropagation(),children:[p.jsx("button",{style:Wm,onClick:n,children:"×"}),p.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"600",color:"#166534",marginBottom:"1.5rem"},children:"Todos os Boletos Não Pagos"}),e.boletos_vencidos.length>0&&p.jsxs(p.Fragment,{children:[p.jsx("h3",{style:{fontSize:"1.4rem",fontWeight:"600",color:"#dc2626",marginBottom:"1rem"},children:"Boletos Vencidos"}),e.boletos_vencidos.map((e,t)=>p.jsx(Km,{projeto:i(e)},`modal-vencido-${e.id_boleto||t}`))]}),e.boletos_vencem_hoje.length>0&&p.jsxs(p.Fragment,{children:[e.boletos_vencidos.length>0&&p.jsx("hr",{style:{borderTop:"1px solid #e5e7eb",margin:"2rem 0"}}),p.jsx("h3",{style:{fontSize:"1.4rem",fontWeight:"600",color:"#f59e0b",marginBottom:"1rem"},children:"Vencem Hoje"}),e.boletos_vencem_hoje.map((e,t)=>p.jsx(Km,{projeto:i(e)},`modal-hoje-${e.id_boleto||t}`))]}),e.boletos_vencem_este_mes.length>0&&p.jsxs(p.Fragment,{children:[(e.boletos_vencidos.length>0||e.boletos_vencem_hoje.length>0)&&p.jsx("hr",{style:{borderTop:"1px solid #e5e7eb",margin:"2rem 0"}}),p.jsx("h3",{style:{fontSize:"1.4rem",fontWeight:"600",color:"#2563eb",marginBottom:"1rem"},children:"Vencem Este Mês"}),e.boletos_vencem_este_mes.map((e,t)=>p.jsx(Km,{projeto:i(e)},`modal-este-mes-${e.id_boleto||t}`))]})]})})]})});Hm.displayName="FinanceiroScreen";const Vm={prioridade:{alta:"#ef4444",media:"#f59e0b",baixa:"#22c55e"},status:{concluido:{bg:"#dcfce7",color:"#166534",text:"Concluído"},andamento:{bg:"#dbeafe",color:"#1e40af",text:"Em Andamento"},planejamento:{bg:"#f3f4f6",color:"#374151",text:"Planejamento"}}},Um=f.memo(({icon:e,title:t,value:a,gradient:r,borderColor:n,textColor:i})=>p.jsxs("div",{className:"stat-card",style:{background:r,borderRadius:"16px",padding:"1.5rem",textAlign:"center",cursor:"pointer",boxShadow:"0 10px 25px rgba(0,0,0,0.08), 0 4px 10px rgba(0,0,0,0.03)",border:`1px solid ${n}`,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:[p.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"},children:e}),p.jsx("h4",{style:{color:i,marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:"600"},children:t}),p.jsx("p",{style:{fontSize:"2.2rem",fontWeight:"700",color:i,margin:0},children:a})]}));Um.displayName="StatCard";const Km=f.memo(({projeto:e})=>{const t=f.useCallback(e=>new Date(e).toLocaleDateString("pt-BR"),[]),a=f.useCallback(e=>{switch(e){case"concluido":return p.jsx(cn,{size:16,color:"#22c55e"});case"andamento":return p.jsx(pn,{size:16,color:"#3b82f6"});default:return p.jsx(On,{size:16,color:"#6b7280"})}},[]),r=f.useCallback(e=>{const t=Vm.status[e];return p.jsx("span",{style:{backgroundColor:t.bg,color:t.color,padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"500"},children:t.text})},[]);return p.jsx("div",{className:"project-item",style:{marginBottom:"1rem"},children:p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[p.jsxs("div",{style:{flex:1},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[p.jsx("strong",{style:{color:"#111827",fontSize:"1.1rem"},children:e.nome}),r(e.status)]}),p.jsxs("div",{style:{fontSize:"0.9rem",color:"#6b7280",display:"flex",alignItems:"center",gap:"0.5rem"},children:[p.jsx(as,{size:14}),e.responsavel]}),p.jsx("div",{className:"progress-bar",children:p.jsx("div",{className:"progress-fill",style:{width:`${e.progresso}%`}})}),p.jsxs("div",{style:{fontSize:"0.8rem",color:"#22c55e",fontWeight:"500",marginTop:"0.25rem"},children:[e.progresso,"% concluído"]})]}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"0.5rem",marginLeft:"1rem"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a(e.status),p.jsx("span",{style:{fontSize:"0.875rem",color:"#4b5563",fontWeight:"500"},children:t(e.dataEntrega)})]}),e.atencoes>0&&p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",backgroundColor:"#fef3c7",padding:"0.25rem 0.5rem",borderRadius:"6px",fontSize:"0.75rem",color:"#92400e"},children:[p.jsx(Ki,{size:12}),e.atencoes," atenção",e.atencoes>1?"ões":""]})]})]})})});Km.displayName="ProjectItem";const Ym=f.memo(({date:e,datasEntrega:t})=>t.includes(e.toDateString())?p.jsx("div",{style:{position:"absolute",bottom:"2px",left:"50%",transform:"translateX(-50%)",width:"6px",height:"6px",backgroundColor:"#22c55e",borderRadius:"50%",boxShadow:"0 0 0 2px rgba(255, 255, 255, 0.8)"}}):null);Ym.displayName="CalendarTileContent";const Xm=f.memo(({projetos:e})=>{const t=f.useMemo(()=>{const t=new Date;return t.setHours(0,0,0,0),e.filter(e=>{const a=new Date(e.dataEntrega);return a.setHours(0,0,0,0),a>=t}).sort((e,t)=>new Date(e.dataEntrega).getTime()-new Date(t.dataEntrega).getTime()).slice(0,3)},[e]),a=f.useCallback(e=>Vm.prioridade[e],[]),r=f.useCallback(e=>new Date(e).toLocaleDateString("pt-BR"),[]);return 0===t.length?p.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"rgba(255, 255, 255, 0.8)",borderRadius:"12px",border:"1px solid rgba(34, 197, 94, 0.2)",textAlign:"center"},children:[p.jsxs("h4",{style:{marginBottom:"1rem",color:"#166534",fontSize:"1.1rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:"center"},children:[p.jsx(pn,{size:18}),"Próximas Entregas"]}),p.jsx("p",{style:{color:"#6b7280",fontSize:"0.9rem"},children:"Nenhuma entrega programada"})]}):p.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"rgba(255, 255, 255, 0.8)",borderRadius:"12px",border:"1px solid rgba(34, 197, 94, 0.2)"},children:[p.jsxs("h4",{style:{marginBottom:"1rem",color:"#166534",fontSize:"1.1rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.5rem"},children:[p.jsx(pn,{size:18}),"Próximas Entregas"]}),t.map(e=>p.jsxs("div",{style:{fontSize:"0.9rem",color:"#374151",marginBottom:"0.75rem",padding:"0.75rem",background:"rgba(34, 197, 94, 0.05)",borderRadius:"8px",border:"1px solid rgba(34, 197, 94, 0.1)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[p.jsx("div",{style:{width:"8px",height:"8px",backgroundColor:a(e.prioridade),borderRadius:"50%",flexShrink:0}}),p.jsxs("div",{children:[p.jsx("div",{style:{fontWeight:"600",color:"#166534"},children:r(e.dataEntrega)}),p.jsx("div",{style:{fontSize:"0.8rem",color:"#6b7280"},children:e.nome})]})]},e.id))]})});Xm.displayName="ProximasEntregas";const Jm=()=>{const[e]=f.useState(new Date),[t,a]=f.useState(null),[n,i]=f.useState(!0),[s,o]=f.useState(null),[l,c]=f.useState(null),[,d]=f.useState(null),u=f.useMemo(()=>[{id:1,nome:"Sistema de Gestão",responsavel:"Ana Silva",status:"andamento",prioridade:"alta",dataEntrega:"2025-07-15",progresso:75,atencoes:2},{id:2,nome:"App Mobile",responsavel:"João Santos",status:"concluido",prioridade:"media",dataEntrega:"2025-06-20",progresso:100,atencoes:0},{id:3,nome:"Website Corporativo",responsavel:"Maria Costa",status:"andamento",prioridade:"alta",dataEntrega:"2025-08-01",progresso:45,atencoes:1},{id:4,nome:"API de Integração",responsavel:"Pedro Oliveira",status:"planejamento",prioridade:"baixa",dataEntrega:"2025-09-15",progresso:15,atencoes:0}],[]),h=f.useMemo(()=>u.map(e=>new Date(e.dataEntrega).toDateString()),[u]),m=f.useMemo(()=>t?.telas||[],[t]),g=f.useMemo(()=>m.map(e=>({id:e.id,label:e.nome})),[m]);f.useEffect(()=>{let e=!0;return(async()=>{try{i(!0),o(null);const t=await r("get_data_inicio");if(e){const e={...t};if(a(e),e.firstScreenName){c(e.firstScreenName);const t=e.telas.find(t=>t.nome===e.firstScreenName);t&&d({id:t.id,label:t.nome})}else e.telas.length>0&&(c(e.telas[0].nome),d({id:e.telas[0].id,label:e.telas[0].nome}))}}catch(t){e&&(a(null),o(`Falha ao carregar dados: ${t.message||String(t)}`))}finally{e&&i(!1)}})(),()=>{e=!1}},[]);const x=f.useCallback(async e=>{c(e.label),d(e);try{i(!0),o(null);const t=await r("get_data_for_screen",{screenName:e.label});a(a=>a?{...a,dados:t.dados,firstScreenName:e.label}:t)}catch(t){o(`Failed to load data for ${e.label}: ${t.message||String(t)}`),a(e=>e?{...e,dados:"Erro ao carregar dados."}:null)}finally{i(!1)}},[]),v=f.useCallback(({date:e})=>p.jsx(Ym,{date:e,datasEntrega:h}),[h]),b=f.useMemo(()=>({display:"grid",gridTemplateColumns:"2fr 1fr",gap:"2rem",maxWidth:"1400px",margin:"0 auto",paddingBottom:"2rem"}),[]);return p.jsxs("div",{style:b,children:[p.jsxs("div",{children:[p.jsxs("div",{style:{marginBottom:"2rem"},children:[p.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:"700",background:"linear-gradient(135deg, #166534 0%, #22c55e 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"0.5rem"},children:"Dashboard Geral"}),p.jsx("p",{style:{color:"#6b7280",fontSize:"1.1rem"},children:"Gerencie seus dados e operações"})]}),p.jsx("div",{className:"custom-select-wrapper",style:{marginBottom:"2rem"},children:n&&!t?p.jsx("div",{children:"Carregando opções..."}):s&&!t?p.jsxs("div",{style:{color:"red"},children:["Erro: ",s]}):m.length>0?p.jsx(yr,{options:g,onSelect:x,placeholder:"Selecione uma tela"}):p.jsx("div",{children:"Nenhuma tela disponível."})}),(()=>{const e=t?.dados;if(n&&void 0===e)return p.jsx("p",{children:"Carregando dados do módulo..."});if(s)return p.jsxs("p",{style:{color:"red"},children:["Erro ao carregar dados: ",s]});switch(l){case"COLETA":return"string"==typeof e||Array.isArray(e)||void 0===e?p.jsx("p",{children:"Dados de Coleta indisponíveis ou no formato incorreto."}):p.jsx(fs,{coleta:e});case"ATENDIMENTO":return Array.isArray(e)?p.jsx(_s,{atendimentos:e}):p.jsx("p",{children:"Dados de Atendimento indisponíveis ou no formato incorreto."});case"MB":return"object"==typeof e&&e&&"total_pendencias_prazo"in e?p.jsx(Ss,{mb:e}):p.jsx("p",{children:"Dados de MB indisponíveis ou no formato incorreto."});case"FQ":return"object"==typeof e&&e&&"total_pendencias_prazo"in e?p.jsx(Ds,{fq:e}):p.jsx("p",{children:"Dados de Físico-Químico indisponíveis ou no formato incorreto."});case"FINANCEIRO":return"object"==typeof e&&e&&"boletos_vencidos"in e&&"total_itens_nao_pagos"in e?p.jsx(Hm,{financeiro:e}):p.jsx("p",{children:"Dados Financeiros indisponíveis ou no formato incorreto."});case"X9":return"object"==typeof e&&e&&"usuarios_ativos_com_telas"in e&&"total_usuarios_ativos"in e?p.jsx($m,{x9:e}):p.jsx("p",{children:"Dados de X9 indisponíveis ou no formato incorreto."});default:return e&&"string"==typeof e?p.jsx("p",{children:e}):p.jsx("div",{children:p.jsx("p",{children:"Selecione uma opção no menu suspenso para exibir o conteúdo."})})}})()]}),p.jsx("div",{children:p.jsxs("div",{className:"calendar-container",children:[p.jsxs("div",{className:"calendar-header",children:[p.jsx(Kr,{size:24,color:"#166534",style:{marginRight:"0.75rem"}}),p.jsx("h2",{children:"Calendário"})]}),p.jsx(br,{value:e,locale:"pt-BR",calendarType:"gregory",tileContent:v,formatMonthYear:(e,t)=>t.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),formatShortWeekday:(e,t)=>t.toLocaleDateString("pt-BR",{weekday:"short"}).replace(".",""),showNeighboringMonth:!1,prev2Label:null,next2Label:null,navigationLabel:({date:e})=>e.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})}),p.jsx(Xm,{projetos:u})]})})]})},Zm=()=>p.jsxs("div",{children:[p.jsx("h1",{style:{margin:"0 0 2rem 0",fontSize:"2rem",fontWeight:"bold",color:"#111827"},children:"Relatórios"}),p.jsx("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:p.jsx("p",{style:{color:"#6b7280",margin:0},children:"Área de relatórios em desenvolvimento..."})})]}),Qm=()=>{const[e,t]=f.useState(null),[a,n]=f.useState(!0),[i,s]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(null),[u,h]=f.useState(()=>localStorage.getItem("appBackgroundColor")||"#f8fafc"),[m,g]=f.useState(()=>{const e=localStorage.getItem("appDarkMode");return!!e&&JSON.parse(e)}),x=f.useRef(null),[v,b]=f.useState(null);f.useEffect(()=>{(async()=>{try{const e=await r("usuario_logado");if(e){t(e);const a="http://127.0.0.1:8082",r=e.profile_photo?`${a}${e.profile_photo}`:"https://placehold.co/150x150/065f46/ffffff?text=User";d(r),g(e.dark_mode)}else s("Usuário não autenticado.")}catch(e){s(`Erro ao carregar dados do usuário: ${e}`)}finally{n(!1)}})()},[]),f.useEffect(()=>(document.body.style.backgroundColor=u,localStorage.setItem("appBackgroundColor",u),m?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"),localStorage.setItem("appDarkMode",JSON.stringify(m)),()=>{document.body.style.backgroundColor="",document.body.classList.remove("dark-mode")}),[u,m]);const y={background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.08)",marginBottom:"1.5rem",border:"1px solid #e0e7e9"},_={fontSize:"1.4rem",fontWeight:"600",color:"#166534",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.75rem"},j={position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:m?"#22c55e":"#ccc",transition:".4s",borderRadius:"34px"},w={position:"absolute",content:'""',height:"26px",width:"26px",left:m?"29px":"4px",bottom:"4px",backgroundColor:"white",transition:".4s",borderRadius:"50%"},N={display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",backgroundColor:"#166534",color:"white",padding:"1rem 2rem",borderRadius:"10px",border:"none",cursor:"pointer",fontSize:"1.1rem",fontWeight:"600",transition:"background-color 0.2s ease-in-out, transform 0.1s ease-in-out",width:"100%",marginTop:"2rem"},C={backgroundColor:"#104e2a",transform:"translateY(-2px)"};return p.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"2rem"},children:[p.jsx("h1",{style:{margin:"0 0 2rem 0",fontSize:"2.5rem",fontWeight:"700",color:"#166534"},children:"Configurações do Usuário"}),a&&p.jsx("p",{children:"Carregando informações do usuário..."}),i&&p.jsx("p",{style:{color:"red"},children:i}),o&&p.jsx("div",{style:{padding:"1rem",marginBottom:"1.5rem",borderRadius:"8px",backgroundColor:o.includes("sucesso")?"#dcfce7":"#fee2e2",color:o.includes("sucesso")?"#166534":"#b91c1c",fontWeight:"500",textAlign:"center"},children:o}),e&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:y,children:[p.jsxs("h2",{style:_,children:[p.jsx(ts,{size:24}),"Informações do Perfil"]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2rem",marginBottom:"1.5rem"},children:[p.jsx("div",{style:{width:"120px",height:"120px",borderRadius:"50%",overflow:"hidden",border:"3px solid #22c55e",flexShrink:0},children:p.jsx("img",{src:c||"https://placehold.co/120x120/d1d5db/4b5563?text=User",alt:"Foto de Perfil",style:{width:"100%",height:"100%",objectFit:"cover"}})}),p.jsxs("div",{children:[p.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#111827",margin:"0 0 0.5rem 0"},children:e.nome_completo}),p.jsxs("p",{style:{color:"#4b5563",margin:"0.0rem 0"},children:["**Cargo:** ",e.cargo]}),p.jsxs("p",{style:{color:"#4b5563",margin:"0.0rem 0"},children:["**Privilégio:** ",e.privilegio]}),e.empresa&&p.jsxs("p",{style:{color:"#4b5563",margin:"0.0rem 0"},children:["**Empresa:** ",e.empresa]})]})]}),p.jsx("label",{htmlFor:"profile-upload",style:{display:"block",backgroundColor:"#22c55e",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",textAlign:"center",fontWeight:"600",transition:"background-color 0.2s ease-in-out",marginTop:"1rem"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#16a34a",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#22c55e",children:"Alterar Foto de Perfil"}),p.jsx("input",{id:"profile-upload",type:"file",accept:"image/*",onChange:e=>{const t=e.target.files?.[0];if(t){b(t);const e=new FileReader;e.onloadend=()=>{d(e.result)},e.readAsDataURL(t)}},style:{display:"none"},ref:x})]}),p.jsxs("div",{style:y,children:[p.jsxs("h2",{style:_,children:[p.jsx(mi,{size:24}),"Aparência"]}),p.jsxs("div",{style:{marginBottom:"1.5rem"},children:[p.jsx("label",{htmlFor:"background-color",style:{display:"block",color:"#374151",marginBottom:"0.5rem",fontWeight:"500"},children:"Cor de Fundo:"}),p.jsx("input",{type:"color",id:"background-color",value:u,onChange:e=>{h(e.target.value)},style:{width:"100%",height:"40px",border:"none",borderRadius:"8px",cursor:"pointer"}})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[p.jsx(oi,{size:20,color:m?"#166534":"#6b7280"}),p.jsx("span",{style:{color:"#374151",fontWeight:"500"},children:"Modo Escuro:"}),p.jsxs("label",{style:{position:"relative",display:"inline-block",width:"60px",height:"34px"},children:[p.jsx("input",{type:"checkbox",checked:m,onChange:()=>{g(e=>!e)},style:{opacity:0,width:0,height:0}}),p.jsx("span",{style:j,children:p.jsx("span",{style:w})})]})]})]}),p.jsxs("div",{style:y,children:[p.jsxs("h2",{style:_,children:[p.jsx(Oi,{size:24}),"Outras Configurações"]}),p.jsx("p",{style:{color:"#6b7280",margin:0},children:"Esta seção pode ser expandida com mais opções no futuro, como notificações ou privacidade."})]}),p.jsx("button",{onClick:async()=>{if(!e)return void l("Erro: Usuário não carregado.");let a;if(n(!0),l(null),v){const e=new FileReader;if(e.readAsDataURL(v),a=await new Promise(t=>{e.onloadend=()=>t(e.result),e.onerror=()=>t(null)}),null===a)return l("Erro ao ler o arquivo de imagem."),void n(!1)}else"https://placehold.co/150x150/065f46/ffffff?text=User"===c&&e.profile_photo?a=null:c&&!c.startsWith("data:")&&e.profile_photo&&c===`http://127.0.0.1:8082${e.profile_photo}`&&(a=void 0);try{if(await r("update_user_settings",{userId:e.id,profilePhotoBase64:a,backgroundColor:u,isDarkMode:m})){l("Configurações salvas com sucesso!");const e=await r("usuario_logado");if(e){t(e);const a="http://127.0.0.1:8082",r=e.profile_photo?`${a}${e.profile_photo}`:"https://placehold.co/150x150/065f46/ffffff?text=User";d(r),g(e.dark_mode)}b(null),x.current&&(x.current.value="")}else l("Falha ao salvar as configurações.")}catch(i){l(`Erro ao salvar: ${i}`)}finally{n(!1),setTimeout(()=>l(null),5e3)}},style:N,onMouseEnter:e=>{Object.assign(e.currentTarget.style,C)},onMouseLeave:e=>{Object.assign(e.currentTarget.style,N)},disabled:a,children:a?"Salvando...":p.jsxs(p.Fragment,{children:[p.jsx(Si,{size:20}),"Salvar Alterações"]})})]})]})},ep={"qualidade-container":"_qualidade-container_ss7f7_1","qualidade-header":"_qualidade-header_ss7f7_15","qualidade-header-content":"_qualidade-header-content_ss7f7_29","qualidade-header-flex":"_qualidade-header-flex_ss7f7_41","qualidade-header-left":"_qualidade-header-left_ss7f7_53","qualidade-icon-container":"_qualidade-icon-container_ss7f7_65","qualidade-icon":"_qualidade-icon_ss7f7_65","qualidade-title":"_qualidade-title_ss7f7_91","qualidade-subtitle":"_qualidade-subtitle_ss7f7_105","qualidade-header-actions":"_qualidade-header-actions_ss7f7_119","qualidade-search-toggle":"_qualidade-search-toggle_ss7f7_129","qualidade-search-bar":"_qualidade-search-bar_ss7f7_163","qualidade-search-container":"_qualidade-search-container_ss7f7_177","qualidade-search-input-wrapper":"_qualidade-search-input-wrapper_ss7f7_189","qualidade-search-icon":"_qualidade-search-icon_ss7f7_199","qualidade-search-input":"_qualidade-search-input_ss7f7_189","qualidade-search-clear":"_qualidade-search-clear_ss7f7_253","qualidade-search-info":"_qualidade-search-info_ss7f7_291","qualidade-filter-icon":"_qualidade-filter-icon_ss7f7_307","qualidade-main":"_qualidade-main_ss7f7_319","qualidade-section-headers":"_qualidade-section-headers_ss7f7_333","qualidade-section-headers-title":"_qualidade-section-headers-title_ss7f7_341","qualidade-section-headers-grid":"_qualidade-section-headers-grid_ss7f7_355","qualidade-section-header-item":"_qualidade-section-header-item_ss7f7_367","qualidade-section-header-icon":"_qualidade-section-header-icon_ss7f7_399","qualidade-section-header-content":"_qualidade-section-header-content_ss7f7_411","qualidade-section-header-title":"_qualidade-section-header-title_ss7f7_419","qualidade-section-header-count":"_qualidade-section-header-count_ss7f7_431","qualidade-cards-grid":"_qualidade-cards-grid_ss7f7_445","qualidade-card":"_qualidade-card_ss7f7_445","qualidade-card-header":"_qualidade-card-header_ss7f7_491","qualidade-card-icon":"_qualidade-card-icon_ss7f7_505","qualidade-card-change":"_qualidade-card-change_ss7f7_531","qualidade-card-value":"_qualidade-card-value_ss7f7_545","qualidade-card-title":"_qualidade-card-title_ss7f7_561","qualidade-card-trend":"_qualidade-card-trend_ss7f7_575","trend-positive":"_trend-positive_ss7f7_589","trend-negative":"_trend-negative_ss7f7_597","trend-warning":"_trend-warning_ss7f7_605","qualidade-menu-grid":"_qualidade-menu-grid_ss7f7_615","qualidade-section-card":"_qualidade-section-card_ss7f7_629","qualidade-section-header":"_qualidade-section-header_ss7f7_333","qualidade-section-title":"_qualidade-section-title_ss7f7_711","qualidade-section-subtitle":"_qualidade-section-subtitle_ss7f7_725","qualidade-section-category":"_qualidade-section-category_ss7f7_739","qualidade-section-icon":"_qualidade-section-icon_ss7f7_759","qualidade-section-body":"_qualidade-section-body_ss7f7_771","qualidade-section-items":"_qualidade-section-items_ss7f7_779","qualidade-section-item":"_qualidade-section-item_ss7f7_779","qualidade-section-item-icon":"_qualidade-section-item-icon_ss7f7_829","qualidade-section-item-content":"_qualidade-section-item-content_ss7f7_861","qualidade-section-item-text":"_qualidade-section-item-text_ss7f7_869","qualidade-section-item-description":"_qualidade-section-item-description_ss7f7_885","qualidade-status":"_qualidade-status_ss7f7_901","qualidade-status-header":"_qualidade-status-header_ss7f7_917","qualidade-status-title":"_qualidade-status-title_ss7f7_931","qualidade-status-trend":"_qualidade-status-trend_ss7f7_945","qualidade-status-grid":"_qualidade-status-grid_ss7f7_971","qualidade-status-item":"_qualidade-status-item_ss7f7_983","qualidade-status-item-icon":"_qualidade-status-item-icon_ss7f7_991","qualidade-status-item-title":"_qualidade-status-item-title_ss7f7_1021","qualidade-status-item-value":"_qualidade-status-item-value_ss7f7_1039","qualidade-status-progress":"_qualidade-status-progress_ss7f7_1053","qualidade-status-progress-bar":"_qualidade-status-progress-bar_ss7f7_1067","progress-green":"_progress-green_ss7f7_1079","progress-blue":"_progress-blue_ss7f7_1087","progress-orange":"_progress-orange_ss7f7_1095","qualidade-search-results":"_qualidade-search-results_ss7f7_1105","qualidade-search-results-title":"_qualidade-search-results-title_ss7f7_1113","qualidade-no-results":"_qualidade-no-results_ss7f7_1127","qualidade-no-results-icon":"_qualidade-no-results-icon_ss7f7_1139","qualidade-clear-search-btn":"_qualidade-clear-search-btn_ss7f7_1153","bg-blue-100":"_bg-blue-100_ss7f7_1189","bg-blue-500":"_bg-blue-500_ss7f7_1191","bg-green-100":"_bg-green-100_ss7f7_1193","bg-green-500":"_bg-green-500_ss7f7_1195","bg-green-600":"_bg-green-600_ss7f7_1197","bg-purple-100":"_bg-purple-100_ss7f7_1199","bg-purple-500":"_bg-purple-500_ss7f7_1201","bg-orange-100":"_bg-orange-100_ss7f7_1203","bg-orange-500":"_bg-orange-500_ss7f7_1205","bg-red-100":"_bg-red-100_ss7f7_1207","bg-red-500":"_bg-red-500_ss7f7_1209","bg-yellow-100":"_bg-yellow-100_ss7f7_1211","bg-gray-100":"_bg-gray-100_ss7f7_1213","text-blue-600":"_text-blue-600_ss7f7_1219","text-blue-800":"_text-blue-800_ss7f7_1221","text-green-600":"_text-green-600_ss7f7_1223","text-green-800":"_text-green-800_ss7f7_1225","text-purple-800":"_text-purple-800_ss7f7_1227","text-orange-600":"_text-orange-600_ss7f7_1229","text-orange-800":"_text-orange-800_ss7f7_1231","text-red-800":"_text-red-800_ss7f7_1233","text-yellow-800":"_text-yellow-800_ss7f7_1235","text-gray-800":"_text-gray-800_ss7f7_1237","modal-overlay":"_modal-overlay_ss7f7_1341","modal-content":"_modal-content_ss7f7_1371","modal-header":"_modal-header_ss7f7_1395","modal-title":"_modal-title_ss7f7_1413","modal-close":"_modal-close_ss7f7_1427","modal-body":"_modal-body_ss7f7_1465","empty-state":"_empty-state_ss7f7_1487","item-card":"_item-card_ss7f7_1509","item-header":"_item-header_ss7f7_1539","item-icon":"_item-icon_ss7f7_1553","item-info":"_item-info_ss7f7_1573","item-details":"_item-details_ss7f7_1607","status-icon":"_status-icon_ss7f7_1645","status-success":"_status-success_ss7f7_1657","status-error":"_status-error_ss7f7_1665","reload-button":"_reload-button_ss7f7_1671"};class tp{static windows=new Map;static windowCounters=new Map;static generateUniqueId(e){const t=this.windowCounters.get(e)||0;return this.windowCounters.set(e,t+1),`${e}-${t+1}`}static async openWindow(e){try{let t=e.label;if(!1!==e.allowMultiple)t=this.generateUniqueId(e.label);else if(this.windows.has(e.label)){const t=this.windows.get(e.label);if(t)return await t.setFocus(),e.data&&await t.emit("window-data",e.data),t}const a=new n(t,{url:e.url,title:e.title,width:e.width||1200,height:e.height||800,x:e.x,y:e.y,resizable:!1!==e.resizable,maximized:e.maximized||!1,center:!1!==e.center,decorations:!0,alwaysOnTop:!1,skipTaskbar:!1});return await new Promise((e,t)=>{a.once("tauri://created",()=>e()),a.once("tauri://error",e=>t(e)),setTimeout(()=>t(new Error("Timeout ao criar janela")),1e4)}),this.windows.set(e.label,a),e.data&&a.once("window-ready",async()=>{try{await a.emit("window-data",e.data)}catch(t){}}),a.once("tauri://destroyed",()=>{this.windows.delete(e.label)}),a}catch(t){throw t}}static async closeWindow(e){const t=this.windows.get(e);t&&(await t.close(),this.windows.delete(e))}static isWindowOpen(e){return this.windows.has(e)}static getWindow(e){return this.windows.get(e)}static async closeAllWindows(){const e=Array.from(this.windows.values()).map(e=>e.close());await Promise.all(e),this.windows.clear(),this.windowCounters.clear()}static async openCadastroClientes(e){return this.openWindow({label:"cadastro-clientes",title:"Cadastro de Clientes",url:"/#/cadastrar-clientes",width:900,height:700,data:e,allowMultiple:!0})}static async openVisualizarCliente(e){return this.openWindow({label:"visualizar-clientes",title:"Visualizar Clientes",url:"/#/visualizar-clientes",width:1200,height:800,data:e,allowMultiple:!0})}static async openCadastrarCategoria(){try{const e=await i();if(!e||0===e.length)throw new Error("Não foi possível obter informações dos monitores");const t=e[0],a=t.size.width,r=t.size.height,n=500,s=r-70,o=a-n,l=0;return this.openWindow({label:"gerenciar-categoria",title:"Gerenciar Categoria",url:"/#/gerenciar-categoria",width:n,height:s,allowMultiple:!0,x:o,y:l,center:!1,resizable:!0,data:{openedBy:"cadastrar-cliente"}})}catch(e){return this.openWindow({label:"gerenciar-categoria",title:"Gerenciar Categoria",url:"/#/gerenciar-categoria",width:500,height:800,allowMultiple:!0,data:{openedBy:"cadastrar-cliente"}})}}static async openGerenciarSetor(){try{const e=await i();if(!e||0===e.length)throw new Error("Não foi possível obter informações dos monitores");const t=e[0],a=t.size.width,r=t.size.height,n=500,s=r-70,o=a-n,l=0;return this.openWindow({label:"gerenciar-setor",title:"Gerenciar Setor",url:"/#/gerenciar-setor",width:n,height:s,allowMultiple:!0,x:o,y:l,center:!1,resizable:!0,data:{openedBy:"cadastro-usuario-portal"}})}catch(e){return this.openWindow({label:"gerenciar-setor",title:"Gerenciar Setor",url:"/#/gerenciar-setor",width:500,height:800,allowMultiple:!0,data:{openedBy:"cadastro-usuario-portal"}})}}static async openUsuarioPortal(){return this.openWindow({label:"cadastro-usuario-portal",title:"Gerenciar Usuários do Portal",url:"/#/cadastro-usuario-portal",width:900,height:700,allowMultiple:!0})}static async openCadastrarConsultor(){return this.openWindow({label:"cadastrar-consultor",title:"Cadastrar Consultor",url:"/#/cadastrar-consultor",width:1200,height:900,allowMultiple:!0})}static async openChat(){return this.openWindow({label:"chat",title:"Chat",url:"/#/chat",width:1200,height:600,allowMultiple:!0})}static async openCreatePlanilha(){return this.openWindow({label:"criar-planilha",title:"Criar Planilha",url:"/#/criar-planilha",width:1200,height:600,allowMultiple:!0})}static async openCadastrarPlanilha(e){return this.openWindow({label:"cadastrar-planilha",title:"Cadastrar Planilha",url:"/#/cadastrar-planilha",width:1200,height:600,allowMultiple:!0,data:e})}static async openPlanilha(){return this.openWindow({label:"planilha-laboratorio",title:"Planilha",url:"/#/planilha-laboratorio",width:1200,height:600,allowMultiple:!0})}static async openHistoricoUsuario(e){return this.openWindow({label:"historico-usuario",title:"Histórico do Usuário",url:"/#/historico-usuario",width:900,height:700,data:e,allowMultiple:!0})}static async openCadastrarAmostra(){return this.openWindow({label:"cadastrar-amostra",title:"Cadastrar Amostra",url:"/#/cadastrar-amostra",width:1200,height:600,allowMultiple:!0})}static async openVisualizarAmostas(){return this.openWindow({label:"visualizar-amostras",title:"Visulizar Amostras",url:"/#/visualizar-amostras",width:1200,height:600,allowMultiple:!0})}static async openCadastrarLabTerceirizado(){return this.openWindow({label:"cadastrar-laboratorio-terceirizado",title:"Gerir Laboratórios Terceirizados",url:"/#/cadastrar-laboratorio-terceirizado",width:1200,height:800,allowMultiple:!0})}static async openGerenciarTipos(){return this.openWindow({label:"estrutura-tipo",title:"Gerir Tipos",url:"/#/estrutura-tipo",width:900,height:700,allowMultiple:!1})}static async openGerenciarGrupos(){return this.openWindow({label:"estrutura-grupo",title:"Gerir Grupos",url:"/#/estrutura-grupo",width:900,height:700,allowMultiple:!1})}static async openCastrarCondutor(){return this.openWindow({label:"cadastrar-motorista",title:"Cadastrar Motorista",url:"/#/cadastrar-motorista",width:900,height:700,allowMultiple:!1})}static async openGerenciarMatrizes(){return this.openWindow({label:"estrutura-matriz",title:"Gerir Matrizes",url:"/#/estrutura-matriz",width:900,height:700,allowMultiple:!1})}static async openGerenciarUnidades(){return this.openWindow({label:"estrutura-unidade",title:"Gerir Unidades",url:"/#/estrutura-unidade",width:900,height:700,allowMultiple:!1})}static async openGerenciarParametros(){return this.openWindow({label:"estrutura-parametro",title:"Gerir Parâmetros",url:"/#/estrutura-parametro",width:1200,height:800,allowMultiple:!1})}static async openGerenciarPGColeta(){return this.openWindow({label:"estrutura-pg-coleta",title:"Gerir PG de Coleta",url:"/#/estrutura-pg-coleta",width:900,height:700,allowMultiple:!1})}static async openGerenciarPops(){return this.openWindow({label:"estrutura-pop",title:"Gerir POPs",url:"/#/estrutura-pop",width:1200,height:800,allowMultiple:!1})}static async openGerenciarTecnicas(){return this.openWindow({label:"estrutura-tecnica",title:"Gerir Técnicas",url:"/#/estrutura-tecnica",width:900,height:700,allowMultiple:!1})}static async openGerenciarIdentificacoes(){return this.openWindow({label:"estrutura-identificacao",title:"Gerir Identificações",url:"/#/estrutura-identificacao",width:900,height:700,allowMultiple:!1})}static async openGerenciarMetodologias(){return this.openWindow({label:"estrutura-metodologia",title:"Gerir Metodologias",url:"/#/estrutura-metodologia",width:900,height:700,allowMultiple:!1})}static async openGerenciarLegislacoes(){return this.openWindow({label:"estrutura-legislacao",title:"Gerir Legislações",url:"/#/estrutura-legislacao",width:900,height:700,allowMultiple:!1})}static async openGerenciarCategorias(){return this.openWindow({label:"estrutura-categoria",title:"Gerir Categorias",url:"/#/estrutura-categoria",width:900,height:700,allowMultiple:!1})}static async openGerenciarFormasContato(){return this.openWindow({label:"estrutura-forma-contato",title:"Gerir Formas de Contato",url:"/#/estrutura-forma-contato",width:900,height:700,allowMultiple:!1})}static async openGerenciarVeiculos(){return this.openWindow({label:"cadastrar-veiculo",title:"Cadastrar Veículo",url:"/#/cadastrar-veiculo",width:900,height:700,allowMultiple:!1})}static async openGerenciarObservacoes(){return this.openWindow({label:"estrutura-observacao",title:"Gerir Observações",url:"/#/estrutura-observacao",width:900,height:700,allowMultiple:!1})}static async openCadastrarPosto(){return this.openWindow({label:"cadastrar-posto",title:"Cadastrar posto",url:"/#/cadastrar-posto",width:1400,height:900,allowMultiple:!1})}static async openGerenciarSubMatrizes(){return this.openWindow({label:"estrutura-submatriz",title:"Gerir Submatrizes",url:"/#/estrutura-submatriz",width:900,height:700,allowMultiple:!1})}static async openCadastrarViagem(){return this.openWindow({label:"cadastrar-viagem",title:"Cadastrar viagem",url:"/#/cadastrar-viagem",width:900,height:700})}static async openGerenciarParametroPop(){return this.openWindow({label:"rel-parametro-pop",title:"Gerir Parâmetro x POP",url:"/#/rel-parametro-pop",width:1300,height:800,allowMultiple:!1})}static async openVisualizarViagem(){return this.openWindow({label:"visualizar-viagem",title:"Visualizar viagem",url:"/#/visualizar-viagem",width:900,height:700,allowMultiple:!1})}static async openVisualizarAbastecimento(){return this.openWindow({label:"visualizar-abastecimento",title:"Visualizar abastecimento",url:"/#/visualizar-abastecimento",width:900,height:700,allowMultiple:!1})}static async openCadastrarAbastecimento(){return this.openWindow({label:"cadastrar_abastecimento",title:"Cadastrar Abastecimento",url:"/#/cadastrar_abastecimento",width:1400,height:900,allowMultiple:!1})}static async openGerenciarLegislacaoParametro(){return this.openWindow({label:"rel-legislacao-parametro",title:"Gerir Legislação x Parâmetro",url:"/#/rel-legislacao-parametro",width:1400,height:900,center:!0,allowMultiple:!1})}static async openCadastrarManutencao(){return this.openWindow({label:"cadastrar-manutencao",title:"Cadastrar Manutenção",url:"/#/cadastrar-manutencao",width:1e3,height:900,allowMultiple:!1})}static async openVisualizarManutencao(){return this.openWindow({label:"visualizar-manutencao",title:"Visualizar Manutenção",url:"/#/visualizar-manutencao",width:1200,height:900,allowMultiple:!1})}static async openLocalizacao(){return this.openWindow({label:"localizacao-temporeal",title:"Localização em Tempo Real",url:"/#/localizacao-temporeal",width:1200,height:900,allowMultiple:!1})}static async openGerenciarLqIncerteza(){return this.openWindow({label:"rel-limite-quantificacao",title:"Gerir Limite de Quantificação e Incerteza",url:"/#/rel-limite-quantificacao",width:1280,height:800,center:!0,allowMultiple:!1})}static async openGerenciarPacotes(){return this.openWindow({label:"rel-pacote-parametro",title:"Gerir Pacotes de Parâmetros",url:"/#/rel-pacote-parametro",width:1024,height:768,center:!0,allowMultiple:!1})}static async openCadastrarPacote(e){const t=e?`/#/cadastrar-pacote?id=${e}`:"/#/cadastrar-pacote";return this.openWindow({label:`cadastrar-pacote-${e||"novo"}`,title:e?"Editar Pacote de Parâmetros":"Novo Pacote de Parâmetros",url:t,width:1280,height:800,center:!0,allowMultiple:!0})}static async openGerenciarTecnicaEtapa(){const e=new n("rel-tecnica-etapa",{url:"/#/rel-tecnica-etapa",title:"Gerenciar Técnicas e Etapas",width:1400,height:900,minWidth:900,minHeight:600});return e.once("tauri://created",function(){}),e.once("tauri://error",function(e){}),e}}const ap=f.memo(({card:e,onClick:t})=>p.jsxs("div",{className:`${ep["qualidade-card"]} ${ep[`card-${e.trend}`]} ${ep["clickable-card"]}`,onClick:t,style:{cursor:"pointer"},children:[p.jsxs("div",{className:ep["qualidade-card-header"],children:[p.jsx("div",{className:`${ep["qualidade-card-icon"]} ${e.color}`,children:p.jsx(e.icon,{})}),p.jsx("span",{className:`${ep["qualidade-card-change"]} ${e.change.startsWith("+")?`${ep["bg-green-100"]} ${ep["text-green-800"]}`:e.change.startsWith("-")?`${ep["bg-red-100"]} ${ep["text-red-800"]}`:`${ep["bg-gray-100"]} ${ep["text-gray-800"]}`}`,children:e.change})]}),p.jsx("h3",{className:ep["qualidade-card-value"],children:e.value}),p.jsx("p",{className:ep["qualidade-card-title"],children:e.title}),p.jsx("div",{className:ep["qualidade-card-trend"],children:p.jsx(Ui,{className:ep[`trend-${e.trend}`]})})]})),rp=f.memo(({isOpen:e,onClose:t,title:a,children:r})=>e?p.jsx("div",{className:ep["modal-overlay"],onClick:t,children:p.jsxs("div",{className:ep["modal-content"],onClick:e=>e.stopPropagation(),children:[p.jsxs("div",{className:ep["modal-header"],children:[p.jsx("h2",{className:ep["modal-title"],children:a}),p.jsx("button",{className:ep["modal-close"],onClick:t,"aria-label":"Fechar modal",children:p.jsx(ss,{})})]}),p.jsx("div",{className:ep["modal-body"],children:r})]})}):null),np=f.memo(({items:e,renderItem:t,emptyMessage:a})=>p.jsx("div",{className:ep["item-list"],children:0===e.length?p.jsx("div",{className:ep["empty-state"],children:p.jsx("p",{children:a})}):e.map((e,a)=>t(e,a))})),ip=f.memo(({item:e,onItemClick:t})=>{const a=f.useCallback(()=>{t(e.name)},[e.name,t]);return p.jsxs("button",{className:ep["qualidade-section-item"],onClick:a,title:e.description,children:[p.jsx("div",{className:ep["qualidade-section-item-icon"],children:p.jsx(e.icon,{})}),p.jsxs("div",{className:ep["qualidade-section-item-content"],children:[p.jsx("span",{className:ep["qualidade-section-item-text"],children:e.name}),p.jsx("span",{className:ep["qualidade-section-item-description"],children:e.description})]})]})}),sp=f.memo(({section:e,searchTerm:t,onItemClick:a})=>p.jsxs("div",{className:`${ep["qualidade-section-card"]} ${t?ep["search-highlight"]:""}`,children:[p.jsx("div",{className:`${ep["qualidade-section-header"]} ${e.color}`,children:p.jsxs("div",{className:ep["qualidade-section-header-content"],children:[p.jsxs("div",{children:[p.jsx("h3",{className:ep["qualidade-section-title"],children:e.title}),p.jsxs("p",{className:ep["qualidade-section-subtitle"],children:[e.items.length," opções disponíveis"]}),p.jsx("span",{className:ep["qualidade-section-category"],children:e.category})]}),p.jsx(e.icon,{className:ep["qualidade-section-icon"]})]})}),p.jsx("div",{className:ep["qualidade-section-body"],children:p.jsx("div",{className:ep["qualidade-section-items"],children:e.items.map((t,r)=>p.jsx(ip,{item:t,onItemClick:a},`${e.id}-${r}`))})})]})),op=f.memo(()=>{const[e,t]=f.useState(""),[a,n]=f.useState(!1),[i,s]=f.useState([]),[o,l]=f.useState([]),[c,d]=f.useState([]),[u,h]=f.useState([]),[m,g]=f.useState([]),[x,v]=f.useState([]),[b,y]=f.useState([]),[_,j]=f.useState({checagem:!1,naoIniciadas:!1,emAnalise:!1,temperatura:!1,finalizadas:!1,bloqueadas:!1,insumos:!1}),[w,N]=f.useState({checagem:!1,amostras:!1,analises:!1,temperatura:!1,finalizada:!1,bloqueadas:!1,insumo:!1}),C=(e,t)=>{N(a=>({...a,[e]:t}))},k=e=>{j(t=>({...t,[e]:!0}))},S=e=>{j(t=>({...t,[e]:!1}))},M=()=>{(async()=>{C("checagem",!0);try{const e=await r("buscar_checagem");e.success&&e.data&&s(e.data)}catch(e){}finally{C("checagem",!1)}})(),(async()=>{C("amostras",!0);try{const e=await r("buscar_nao_iniciada");e.success&&e.data&&l(e.data)}catch(e){}finally{C("amostras",!1)}})(),(async()=>{C("analises",!0);try{const e=await r("buscar_em_analise");e.success&&e.data&&d(e.data)}catch(e){}finally{C("analises",!1)}})(),(async()=>{C("temperatura",!0);try{const e=await r("buscar_temperatura");e.success&&e.data&&h(e.data)}catch(e){}finally{C("temperatura",!1)}})(),(async()=>{C("finalizada",!0);try{const e=await r("buscar_amostras_finalizadas");e.success&&e.data&&g(e.data)}catch(e){}finally{C("finalizada",!1)}})(),(async()=>{C("bloqueadas",!0);try{const e=await r("buscar_amostras_bloqueadas");e.success&&e.data&&v(e.data)}catch(e){}finally{C("bloqueadas",!1)}})(),(async()=>{C("insumo",!0);try{const e=await r("buscar_registro_insumo");e.success&&e.data&&y(e.data)}catch(e){}finally{C("insumo",!1)}})()};f.useEffect(()=>{M()},[]);const E=f.useMemo(()=>[{id:"amostra",title:"Amostra",icon:Gi,color:ep["bg-blue-500"],category:"amostras",items:[{name:"Planilha",icon:Sn,description:"Gerenciar planilhas de amostras"},{name:"Cadastrar",icon:vi,description:"Cadastrar nova amostra"},{name:"Personalizar",icon:Oi,description:"Personalizar configurações de amostra"},{name:"Alterar categoria",icon:zi,description:"Alterar categoria da amostra"},{name:"Gerar coleta",icon:An,description:"Gerar processo de coleta"},{name:"Coleta",icon:hi,description:"Gerenciar coletas"},{name:"Checagem",icon:cn,description:"Checagem de amostras"},{name:"Visualizar",icon:Nn,description:"Visualizar amostras cadastradas"}]},{id:"ensaio",title:"Ensaio",icon:Pn,color:ep["bg-green-500"],category:"ensaios",items:[{name:"Parâmetros",icon:Oi,description:"Configurar parâmetros de ensaio"},{name:"Amostras",icon:Gi,description:"Gerenciar amostras para ensaio"},{name:"Resultados",icon:Xr,description:"Visualizar resultados de ensaios"}]},{id:"relatorio",title:"Relatório de ensaios",icon:Cn,color:ep["bg-purple-500"],category:"relatórios",items:[{name:"Observação de resultado",icon:ri,description:"Adicionar observações aos resultados"},{name:"Observação de resultado em grupo",icon:as,description:"Observações em grupo de resultados"},{name:"Gerar",icon:Mn,description:"Gerar relatório de ensaios"},{name:"Imprimir",icon:bi,description:"Imprimir relatórios"},{name:"Enviar para internet",icon:$n,description:"Enviar relatórios via internet"}]},{id:"insumo",title:"Insumo",icon:Br,color:ep["bg-orange-500"],category:"insumos",items:[{name:"Cadastrar matéria-prima",icon:vi,description:"Cadastrar nova matéria-prima"},{name:"Registros matéria-prima",icon:vn,description:"Visualizar registros de matéria-prima"},{name:"Cadastrar insumo",icon:Di,description:"Cadastrar novo insumo"},{name:"Registros insumo",icon:mn,description:"Visualizar registros de insumos"},{name:"Meio de cultura",icon:Tr,description:"Gerenciar meios de cultura"},{name:"Reagente para limpeza",icon:hi,description:"Gerenciar reagentes de limpeza"},{name:"Parâmetros",icon:Oi,description:"Configurar parâmetros de insumos"}]},{id:"intercorrencias",title:"Intercorrências",icon:Ki,color:ep["bg-red-500"],category:"intercorrências",items:[{name:"Registrar",icon:Qn,description:"Registrar nova intercorrência"}]}],[]),O=f.useMemo(()=>[{title:"Checagem de amostras",value:w.checagem?"...":i.length.toString(),change:"0%",icon:cn,color:`${ep["bg-blue-100"]} ${ep["text-blue-800"]}`,trend:"neutral",onClick:()=>k("checagem")},{title:"Amostras não iniciadas",value:w.amostras?"...":o.length.toString(),change:"+3%",icon:Gi,color:`${ep["bg-gray-100"]} ${ep["text-gray-800"]}`,trend:"positive",onClick:()=>k("naoIniciadas")},{title:"Amostras em análise",value:w.analises?"...":c.length.toString(),change:"-5%",icon:Pn,color:`${ep["bg-yellow-100"]} ${ep["text-yellow-800"]}`,trend:"negative",onClick:()=>k("emAnalise")},{title:"Temperatura",value:w.temperatura?"...":u.length.toString(),change:"+1.2%",icon:Hi,color:`${ep["bg-orange-100"]} ${ep["text-orange-800"]}`,trend:"positive",onClick:()=>k("temperatura")},{title:"Amostras finalizadas",value:w.finalizada?"...":m.length.toString(),change:"0%",icon:cn,color:`${ep["bg-green-100"]} ${ep["text-green-800"]}`,trend:"neutral",onClick:()=>k("finalizadas")},{title:"Amostras bloqueadas",value:w.bloqueadas?"...":x.length.toString(),change:"+10%",icon:Qn,color:`${ep["bg-red-100"]} ${ep["text-red-800"]}`,trend:"warning",onClick:()=>k("bloqueadas")},{title:"Registro de insumo",value:w.insumo?"...":b.length.toString(),change:"+2.5%",icon:hi,color:`${ep["bg-purple-100"]} ${ep["text-purple-800"]}`,trend:"positive",onClick:()=>k("insumos")}],[w,i.length,o.length,c.length,u.length,m.length,x.length,b.length]),P=f.useMemo(()=>{if(!e.trim())return E;const t=e.toLowerCase();return E.filter(e=>{const a=e.title.toLowerCase().includes(t),r=e.category.toLowerCase().includes(t),n=e.items.some(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t));return a||r||n})},[e,E]),A=f.useCallback(()=>{t(""),n(!1)},[]),D=f.useCallback(()=>{n(e=>!e),a&&t("")},[a]),I=f.useCallback(e=>{t(e.target.value)},[]),T=f.useCallback(e=>{switch(e){case"Planilha":tp.openPlanilha();break;case"Cadastrar":tp.openCadastrarAmostra();break;case"Personalizar":case"Alterar categoria":case"Gerar coleta":case"Coleta":default:break;case"Checagem":k("checagem");break;case"Visualizar":tp.openVisualizarAmostas()}},[]);return p.jsxs("div",{className:ep["qualidade-container"],children:[p.jsx("header",{className:ep["qualidade-header"],children:p.jsx("div",{className:ep["qualidade-header-content"],children:p.jsxs("div",{className:ep["qualidade-header-flex"],children:[p.jsxs("div",{className:ep["qualidade-header-left"],children:[p.jsx("div",{className:ep["qualidade-icon-container"],children:p.jsx(Pn,{className:ep["qualidade-icon"]})}),p.jsxs("div",{children:[p.jsx("h1",{className:ep["qualidade-title"],children:"Laboratório"}),p.jsx("p",{className:ep["qualidade-subtitle"],children:"Sistema de Gestão Laboratorial"})]})]}),p.jsxs("div",{className:ep["qualidade-header-actions"],children:[p.jsx("button",{className:ep["qualidade-search-toggle"],onClick:D,title:"Pesquisar","aria-label":"Alternar pesquisa",children:p.jsx(Mi,{})}),p.jsxs("button",{className:ep["reload-button"],onClick:M,title:"Recarregar dados",children:["  ",p.jsx(ji,{})," "]})]})]})})}),a&&p.jsx("div",{className:ep["qualidade-search-bar"],children:p.jsxs("div",{className:ep["qualidade-search-container"],children:[p.jsxs("div",{className:ep["qualidade-search-input-wrapper"],children:[p.jsx(Mi,{className:ep["qualidade-search-icon"]}),p.jsx("input",{type:"text",placeholder:"Pesquisar por módulos, funcionalidades ou categorias...",value:e,onChange:I,className:ep["qualidade-search-input"],autoFocus:!0,"aria-label":"Campo de pesquisa"}),e&&p.jsx("button",{onClick:A,className:ep["qualidade-search-clear"],title:"Limpar pesquisa","aria-label":"Limpar pesquisa",children:p.jsx(ss,{})})]}),p.jsxs("div",{className:ep["qualidade-search-info"],children:[p.jsx(zn,{className:ep["qualidade-filter-icon"]}),p.jsxs("span",{children:[P.length," de ",E.length," módulos encontrados"]})]})]})}),p.jsxs("div",{className:ep["qualidade-main"],children:[p.jsx("div",{className:ep["qualidade-cards-grid"],children:O.map((e,t)=>p.jsx(ap,{card:e,onClick:e.onClick},`card-${t}`))}),e&&p.jsxs("div",{className:ep["qualidade-search-results"],children:[p.jsxs("h3",{className:ep["qualidade-search-results-title"],children:['Resultados da pesquisa para "',e,'"']}),0===P.length&&p.jsxs("div",{className:ep["qualidade-no-results"],children:[p.jsx(Mi,{className:ep["qualidade-no-results-icon"]}),p.jsx("p",{children:"Nenhum módulo encontrado para sua pesquisa."}),p.jsx("button",{onClick:A,className:ep["qualidade-clear-search-btn"],children:"Limpar pesquisa"})]})]}),p.jsx("div",{className:ep["qualidade-menu-grid"],children:P.map(t=>p.jsx(sp,{section:t,searchTerm:e,onItemClick:T},t.id))}),p.jsxs("div",{className:ep["qualidade-status"],children:[p.jsxs("div",{className:ep["qualidade-status-header"],children:[p.jsx("h3",{className:ep["qualidade-status-title"],children:"Status Geral do Laboratório"}),p.jsxs("div",{className:ep["qualidade-status-trend"],children:[p.jsx(Ui,{}),p.jsx("span",{className:ep["qualidade-status-trend-text"],children:"Operação Normal"})]})]}),p.jsxs("div",{className:ep["qualidade-status-grid"],children:[p.jsxs("div",{className:ep["qualidade-status-item"],children:[p.jsx("div",{className:`${ep["qualidade-status-item-icon"]} ${ep["bg-green-100"]}`,children:p.jsx(Xr,{className:ep["text-green-600"]})}),p.jsx("h4",{className:ep["qualidade-status-item-title"],children:"Eficiência"}),p.jsx("p",{className:`${ep["qualidade-status-item-value"]} ${ep["text-green-600"]}`,children:"92%"}),p.jsx("div",{className:ep["qualidade-status-progress"],children:p.jsx("div",{className:`${ep["qualidade-status-progress-bar"]} ${ep["progress-green"]}`,style:{width:"92%"}})})]}),p.jsxs("div",{className:ep["qualidade-status-item"],children:[p.jsx("div",{className:`${ep["qualidade-status-item-icon"]} ${ep["bg-blue-100"]}`,children:p.jsx(Gi,{className:ep["text-blue-600"]})}),p.jsx("h4",{className:ep["qualidade-status-item-title"],children:"Amostras Processadas"}),p.jsx("p",{className:`${ep["qualidade-status-item-value"]} ${ep["text-blue-600"]}`,children:"85%"}),p.jsx("div",{className:ep["qualidade-status-progress"],children:p.jsx("div",{className:`${ep["qualidade-status-progress-bar"]} ${ep["progress-blue"]}`,style:{width:"85%"}})})]}),p.jsxs("div",{className:ep["qualidade-status-item"],children:[p.jsx("div",{className:`${ep["qualidade-status-item-icon"]} ${ep["bg-orange-100"]}`,children:p.jsx(Ki,{className:ep["text-orange-600"]})}),p.jsx("h4",{className:ep["qualidade-status-item-title"],children:"Alertas Ativos"}),p.jsx("p",{className:`${ep["qualidade-status-item-value"]} ${ep["text-orange-600"]}`,children:"3"}),p.jsx("div",{className:ep["qualidade-status-progress"],children:p.jsx("div",{className:`${ep["qualidade-status-progress-bar"]} ${ep["progress-orange"]}`,style:{width:"15%"}})})]})]})]})]}),p.jsx(rp,{isOpen:_.checagem,onClose:()=>S("checagem"),title:"Checagem de Amostras",children:p.jsx(np,{items:i,renderItem:(e,t)=>p.jsxs("div",{className:ep["item-card"],children:[p.jsxs("div",{className:ep["item-header"],children:[p.jsx(Gr,{className:ep["item-icon"]}),p.jsxs("div",{className:ep["item-info"],children:[p.jsx("h4",{children:e.fantasia||"N/A"}),p.jsx("p",{children:e.razao||"N/A"})]})]}),p.jsxs("div",{className:ep["item-details"],children:[p.jsxs("span",{children:["Min: ",e.min_numero]}),p.jsxs("span",{children:["Max: ",e.max_numero]})]})]},t),emptyMessage:"Nenhuma checagem encontrada"})}),p.jsx(rp,{isOpen:_.naoIniciadas,onClose:()=>S("naoIniciadas"),title:"Amostras Não Iniciadas",children:p.jsx(np,{items:o,renderItem:e=>p.jsxs("div",{className:ep["item-card"],children:[p.jsxs("div",{className:ep["item-header"],children:[p.jsx(Gi,{className:ep["item-icon"]}),p.jsxs("div",{className:ep["item-info"],children:[p.jsxs("h4",{children:["#",e.numero||"N/A"]}),p.jsx("p",{children:e.identificacao||"Sem identificação"})]})]}),p.jsx("div",{className:ep["item-details"],children:p.jsx("span",{children:e.fantasia||e.razao||"N/A"})})]},e.id),emptyMessage:"Nenhuma amostra não iniciada encontrada"})}),p.jsx(rp,{isOpen:_.emAnalise,onClose:()=>S("emAnalise"),title:"Amostras em Análise",children:p.jsx(np,{items:c,renderItem:e=>p.jsxs("div",{className:ep["item-card"],children:[p.jsxs("div",{className:ep["item-header"],children:[p.jsx(Pn,{className:ep["item-icon"]}),p.jsxs("div",{className:ep["item-info"],children:[p.jsxs("h4",{children:["#",e.numero||"N/A"]}),p.jsx("p",{children:e.identificacao||"Sem identificação"})]}),e.passou?p.jsx(cn,{className:`${ep["status-icon"]} ${ep["status-success"]}`}):p.jsx(un,{className:`${ep["status-icon"]} ${ep["status-error"]}`})]}),p.jsxs("div",{className:ep["item-details"],children:[p.jsxs("span",{children:[p.jsx(pn,{})," ",e.tempo||"N/A"]}),p.jsx("span",{children:e.fantasia||e.razao||"N/A"})]})]},e.id),emptyMessage:"Nenhuma amostra em análise encontrada"})}),p.jsx(rp,{isOpen:_.temperatura,onClose:()=>S("temperatura"),title:"Controle de Temperatura",children:p.jsx(np,{items:u,renderItem:e=>p.jsxs("div",{className:ep["item-card"],children:[p.jsxs("div",{className:ep["item-header"],children:[p.jsx(Hi,{className:ep["item-icon"]}),p.jsxs("div",{className:ep["item-info"],children:[p.jsx("h4",{children:e.fantasia||"N/A"}),p.jsx("p",{children:e.razao||"N/A"})]})]}),p.jsxs("div",{className:ep["item-details"],children:[p.jsxs("span",{children:["Min: ",e.min_numero||"N/A"]}),p.jsxs("span",{children:["Max: ",e.max_numero||"N/A"]})]})]},e.id),emptyMessage:"Nenhum registro de temperatura encontrado"})}),p.jsx(rp,{isOpen:_.finalizadas,onClose:()=>S("finalizadas"),title:"Amostras Finalizadas",children:p.jsx(np,{items:m,renderItem:e=>p.jsxs("div",{className:ep["item-card"],children:[p.jsxs("div",{className:ep["item-header"],children:[p.jsx(cn,{className:ep["item-icon"]}),p.jsxs("div",{className:ep["item-info"],children:[p.jsxs("h4",{children:["#",e.numero||"N/A"]}),p.jsx("p",{children:e.identificacao||"Sem identificação"})]})]}),p.jsx("div",{className:ep["item-details"],children:p.jsx("span",{children:e.fantasia||e.razao||"N/A"})})]},e.id),emptyMessage:"Nenhuma amostra finalizada encontrada"})}),p.jsx(rp,{isOpen:_.bloqueadas,onClose:()=>S("bloqueadas"),title:"Amostras Bloqueadas",children:p.jsx(np,{items:x,renderItem:e=>p.jsxs("div",{className:ep["item-card"],children:[p.jsxs("div",{className:ep["item-header"],children:[p.jsx(Qn,{className:ep["item-icon"]}),p.jsxs("div",{className:ep["item-info"],children:[p.jsxs("h4",{children:["#",e.numero||"N/A"]}),p.jsx("p",{children:e.identificacao||"Sem identificação"})]})]}),p.jsxs("div",{className:ep["item-details"],children:[p.jsx("span",{children:e.fantasia||e.razao||"N/A"}),e.usuario_bloqueio&&p.jsxs("span",{children:[p.jsx(ts,{})," ",e.usuario_bloqueio]})]})]},e.id),emptyMessage:"Nenhuma amostra bloqueada encontrada"})}),p.jsx(rp,{isOpen:_.insumos,onClose:()=>S("insumos"),title:"Registro de Insumos",children:p.jsx(np,{items:b,renderItem:e=>p.jsxs("div",{className:ep["item-card"],children:[p.jsxs("div",{className:ep["item-header"],children:[p.jsx(hi,{className:ep["item-icon"]}),p.jsxs("div",{className:ep["item-info"],children:[p.jsx("h4",{children:e.nome||"N/A"}),p.jsxs("p",{children:["ID: ",e.id]})]})]}),p.jsxs("div",{className:ep["item-details"],children:[e.data_registro&&p.jsxs("span",{children:[p.jsx(Kr,{})," ",e.data_registro]}),e.usuario_registro&&p.jsxs("span",{children:[p.jsx(ts,{})," ",e.usuario_registro]})]})]},e.id),emptyMessage:"Nenhum registro de insumo encontrado"})})]})});ap.displayName="StatusCard",ip.displayName="SectionItem",sp.displayName="SectionCard",rp.displayName="Modal",np.displayName="ItemList",op.displayName="Laboratorio";const lp=()=>p.jsxs("div",{children:[p.jsx("h1",{style:{margin:"0 0 2rem 0",fontSize:"2rem",fontWeight:"bold",color:"#111827"},children:"Administração"}),p.jsx("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:p.jsx("p",{style:{color:"#6b7280",margin:0},children:"Área de Administracao em desenvolvimento..."})})]});function cp(e){return O({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7.94 5.12 6.49 3.66A9.91 9.91 0 0 1 12 2c5.52 0 10 4.48 10 10 0 2.04-.61 3.93-1.66 5.51l-1.46-1.46A7.869 7.869 0 0 0 20 12c0-4.41-3.59-8-8-8-1.48 0-2.86.41-4.06 1.12zm9.72 4.41-1.41-1.41-2.65 2.65 1.41 1.41 2.65-2.65zm2.12 13.08-2.27-2.27A9.91 9.91 0 0 1 12 22C6.48 22 2 17.52 2 12c0-2.04.61-3.93 1.66-5.51L1.39 4.22 2.8 2.81l18.38 18.38-1.4 1.42zm-3.72-3.73L12.18 15l-1.59 1.59-4.24-4.24 1.41-1.41 2.83 2.83.18-.18-5.65-5.65A7.932 7.932 0 0 0 4 12c0 4.41 3.59 8 8 8 1.48 0 2.86-.41 4.06-1.12z"},child:[]}]})(e)}function dp(e){return O({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 10h11v2H3zM3 6h11v2H3zM3 14h7v2H3zM20.59 11.93l-4.25 4.24-2.12-2.12-1.41 1.41L16.34 19 22 13.34z"},child:[]}]})(e)}const up="_geral-container_1f412_1",hp="_geral-title_1f412_9",mp="_top-cards-grid_1f412_23",pp="_bottom-cards-container_1f412_37",fp="_card-base_1f412_49",gp="_expanded_1f412_91",xp="_card-clickable_1f412_107",vp="_card-icon_1f412_125",bp="_card-title_1f412_147",yp="_card-subtitles-container_1f412_171",_p="_card-subtitle-item_1f412_247",jp="_card-subtitle-separator_1f412_283",wp="_text-dark_1f412_305",Np="_modal-overlay_1f412_341",Cp="_modal-content2_1f412_367",kp="_modal-close-button_1f412_439",Sp="_modal-title_1f412_471",Mp="_modal-list_1f412_489",Ep="_modal-list-item_1f412_507",Op="_modal-item-content_1f412_543",Pp="_modal-item-row_1f412_559",Ap="_modal-item-text_1f412_573",Dp="_modal-label_1f412_585",Ip="_modal-date-header_1f412_597",Tp="_modal-identificacao_1f412_615",zp="_modal-button_1f412_629",Rp="_modal-fade-in_1f412_669",Lp="_spin_1f412_711",$p="_geral-header_1f412_817",Bp="_reload-button_1f412_835",qp="_reload-icon_1f412_905",Fp="_spinning_1f412_915",Wp="_text-light_1f412_947",Gp="_subtitle-clickable_1f412_963",Hp="_modal-item-card_1f412_1015",Vp=g.memo(({title:e,icon:t,bgColor:a,textColor:r="#fff",onClick:n,subtitles:i,loading:s,onSubtitleClick:o})=>{const[l,c]=f.useState(!1),d=!!n,u="#111827"===r?`${wp}`:`${Wp}`;return p.jsxs("div",{className:`${fp} ${d?`${xp}`:""} ${u} ${l?`${gp}`:""}`,onClick:n,onMouseEnter:()=>{i&&i.length>0&&c(!0)},onMouseLeave:()=>{c(!1)},style:{background:a,color:r},children:[p.jsx("div",{className:vp,children:s?p.jsx(de,{className:Lp}):t}),p.jsx("h3",{className:bp,children:e}),i&&p.jsx("div",{className:yp,children:i.map((e,t)=>p.jsxs(g.Fragment,{children:[p.jsx("span",{className:`${_p} ${Gp}`,onClick:e=>((e,t)=>{e.stopPropagation(),o?.(t)})(e,t),style:{cursor:"pointer"},children:e}),t<i.length-1&&p.jsx("span",{className:jp,style:{background:r}})]},t))})]})});Vp.displayName="Card";const Up=g.memo(({isOpen:e,onClose:t,title:a,content:r,isAmostraModal:n,modalTitle:i,clientesSemCadastro:s,openClienteModal:o})=>{const l=f.useCallback(e=>{e.stopPropagation(),t()},[t]),c=f.useCallback(e=>{e.stopPropagation()},[]),d=f.useCallback((e,t)=>{if("string"==typeof e){if(i.includes("Clientes não Cadastrados")&&void 0!==t){const e=s[t];if(e)return void o(e)}alert(`Detalhes de: ${e}`)}else alert(`Detalhes das amostras da data: ${e.date}`)},[i,s,o]);return e?p.jsx("div",{className:`${Np} ${Rp}`,onClick:l,children:p.jsxs("div",{className:Cp,onClick:c,children:[p.jsx("button",{onClick:t,className:kp,"aria-label":"Fechar Modal",children:"×"}),p.jsx("h2",{className:Sp,children:a}),p.jsx("ul",{className:Mp,children:n?r.map((e,t)=>p.jsxs("li",{className:`${Ep} ${Hp}`,children:[p.jsxs("div",{className:Op,children:[p.jsx("div",{className:Ip,children:e.date}),e.samples.map((e,t)=>p.jsxs("div",{className:Pp,children:[p.jsx("span",{className:Dp,children:"Identificação:"}),p.jsx("span",{className:Ap,children:e.identificacao||"N/A"}),p.jsx("span",{className:Tp,children:e.horacoleta?`(${e.horacoleta})`:""})]},`sample-${t}`))]}),p.jsx("button",{className:zp,onClick:()=>d(e),children:"Abrir"})]},`group-${t}`)):r.map((e,t)=>p.jsxs("li",{className:`${Ep} ${Hp}`,children:[p.jsx("div",{className:Op,children:e.split("\n").map((e,t)=>p.jsx("p",{className:Ap,children:e},`line-${t}`))}),p.jsx("button",{className:zp,onClick:()=>d(e,t),children:"Abrir"})]},`item-${t}`))})]})}):null});Up.displayName="Modal";const Kp=g.memo(({isOpen:e,onClose:t,cliente:a,onNovoCadastro:r,onCadastroExistente:n})=>{const i=f.useCallback(e=>{e.stopPropagation(),t()},[t]),s=f.useCallback(e=>{e.stopPropagation()},[]);return e&&a?p.jsx("div",{className:`${Np} ${Rp}`,onClick:i,children:p.jsxs("div",{className:Cp,onClick:s,style:{maxWidth:"500px"},children:[p.jsx("button",{onClick:t,className:kp,"aria-label":"Fechar Modal",children:"×"}),p.jsx("h2",{className:Sp,children:"Cliente Não Cadastrado"}),p.jsxs("div",{style:{padding:"20px 0"},children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Nome:"})," ",a.nome_cliente||"Não informado"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Documento:"})," ",a.documento||"Não informado"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Telefone:"})," ",a.telefone||"Não informado"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Email:"})," ",a.email||"Não informado"]})]}),p.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center",flexWrap:"wrap"},children:[p.jsx("button",{className:zp,onClick:()=>r(a),style:{backgroundColor:"#10B981",color:"white"},children:"Novo Cadastro"}),p.jsx("button",{className:zp,onClick:n,style:{backgroundColor:"#3B82F6",color:"white"},children:"Cadastro Existente"}),p.jsx("button",{className:zp,onClick:t,style:{backgroundColor:"#6B7280",color:"white"},children:"Cancelar"})]})]})}):null});Kp.displayName="ClienteModal";const Yp=()=>{const{navigate:e}=q6(),[t,a]=f.useState(!1),[n,i]=f.useState(""),[s,o]=f.useState([]),[l,c]=f.useState(!1),[d,u]=f.useState(!1),[h,m]=f.useState(null),[g,x]=f.useState([]),[v,b]=f.useState([]),[y,_]=f.useState([]),[j,w]=f.useState([]),[N,C]=f.useState([]),[k,S]=f.useState({clientes:!1,amostras:!1,coletas:!1,solicitacoes:!1,portal:!1}),[M,E]=f.useState(!1),O={clientes:["cadastrar-clientes","visualizar-clientes","gerenciar-categoria","cadastro-usuario-portal","gerenciar-setor","cadastrar-consultor","cadastrar-laboratorio-terceirizado"],estruturas:["estrutura-tipo","estrutura-grupo","estrutura-matriz","estrutura-unidade","estrutura-parametro","estrutura-pg-coleta","estrutura-pop","estrutura-tecnica","estrutura-identificacao","estrutura-metodologia","estrutura-legislacao","estrutura-categoria","estrutura-forma-contato","estrutura-observacao","estrutura-submatriz"],relacionamentos:["rel-parametro-pop","rel-limite-quantificacao","rel-legislacao-parametro","rel-pacote-parametro","rel-tecnica-etapa"],contas:["cadastrar-calculo","visualizar-calculo"]};f.useEffect(()=>{A()},[]);const P=(e,t)=>{S(a=>({...a,[e]:t}))},A=()=>{D(),T(),z(),R(),L()},D=async()=>{P("clientes",!0);try{const e=await r("buscar_clientes_sem_cadastro");e.success&&e.data&&x(e.data)}catch(e){}finally{P("clientes",!1)}},T=async()=>{P("amostras",!0);try{const e=await r("buscar_amostras_pre_cadastradas");e.success&&e.data&&b(e.data)}catch(e){}finally{P("amostras",!1)}},z=async()=>{P("coletas",!0);try{const e=await r("buscar_coletas");e.success&&e.data&&_(e.data)}catch(e){}finally{P("coletas",!1)}},R=async()=>{P("solicitacoes",!0);try{const e=await r("buscar_solicitacoes_usuarios");e.success&&e.data&&w(e.data)}catch(e){}finally{P("solicitacoes",!1)}},L=async()=>{P("portal",!0);try{const e=await r("buscar_coletas_portal");e.success&&e.data&&C(e.data)}catch(e){}finally{P("portal",!1)}},$=f.useCallback((e,t,r=!1)=>{i(e),o(t),c(r),a(!0)},[]),B=f.useCallback(()=>{a(!1),i(""),o([]),c(!1)},[]),q=f.useCallback(e=>{const t={id:e.id,nome_cliente:e.nome_cliente,documento:e.documento,telefone:e.telefone,email:e.email,origem:e.origem};m(t),u(!0)},[]),F=f.useCallback(()=>{u(!1),m(null)},[]),W=f.useCallback(async t=>{try{const e={id:t.id,nome_cliente:t.nome_cliente,documento:t.documento,telefone:t.telefone,email:t.email,origem:t.origem};await tp.openHistoricoUsuario(e),F()}catch(a){e("cadastrar-clientes"),localStorage.setItem("clientePreenchimento",JSON.stringify(t)),F()}},[F,e]),G=f.useCallback(async()=>{try{await tp.openVisualizarCliente(),F()}catch(t){e("visualizar-clientes"),F()}},[F,e]),H=e=>{const t={};return e.forEach(e=>{const a=e.dtcoleta_formatada||"Data Desconhecida";t[a]||(t[a]=[]),t[a].push(e)}),Object.keys(t).map(e=>({date:e,samples:t[e]}))},U=e=>e.map(e=>`Protocolo: ${e.protocolo||e.num_protocolo||"Sem protocolo"}\nCliente: ${e.fantasia||"Cliente não informado"}${e.urgencia?" (URGENTE)":""}`),K=f.useMemo(()=>{return[{title:"Clientes não Cadastrados "+(g.length>0?`(${g.length})`:""),icon:p.jsx(cp,{}),bgColor:"#EF4444",modalContent:(a=g,a.map(e=>{const t=e.nome_cliente||"Nome não informado",a=e.documento?`Doc: ${e.documento}`:"Documento não informado",r=e.telefone?`Tel: ${e.telefone}`:"Telefone não informado",n=e.email?`Email: ${e.email}`:"Email não informado";return`${t}\n${a}\n${r}\n${e.contato?`Contato: ${e.contato}`:"Contato não informado"}\n${n}`})),loading:k.clientes,isAmostra:!1},{title:"Amostras Pré-Cadastradas "+(v.length>0?`(${v.length})`:""),icon:p.jsx(dp,{}),bgColor:"#F97316",modalContent:H(v),loading:k.amostras,isAmostra:!0},{title:"Coletas para Cadastrar "+(y.length>0?`(${y.length})`:""),icon:p.jsx(ve,{}),bgColor:"#06B6D4",modalContent:(t=y,t.map(e=>{const t=e.numero||"S/N";return`${e.prefixo||""}${t}\nCliente: ${e.cliente||"Cliente não informado"}\nData: ${e.data_coleta||""}`})),loading:k.coletas,isAmostra:!1},{title:"Solicitação de Cadastro de Usuários "+(j.length>0?`(${j.length})`:""),icon:p.jsx(V,{}),bgColor:"#8B5CF6",modalContent:(e=j,e.map(e=>`${e.nome_completo||"Nome não informado"}\n${e.email||"Email não informado"}\n${e.fantasia?`Empresa: ${e.fantasia}`:"Empresa não informada"}`)),loading:k.solicitacoes,isAmostra:!1},{title:"Solicitações do Portal "+(N.length>0?`(${N.length})`:""),icon:p.jsx(X,{}),bgColor:"#10B981",modalContent:U(N),loading:k.portal,isAmostra:!1}];var e,t,a},[g,v,y,j,N,k]),Y=f.useMemo(()=>[{title:"Clientes",icon:p.jsx(je,{}),subtitles:["Cadastrar Clientes","Visualizar Clientes","Gerenciar Categorias","Cadastro de Usuário no Portal","Gerenciar Setores","Gerenciar Consultores","Cadastrar Laboratório Terceirizado"],category:"clientes"},{title:"Estruturas",icon:p.jsx(I,{}),subtitles:["Tipo","Grupo","Matriz","Unidade","Parâmetro","PG de Coleta","POP","Técnica","Identificação","Metodologia","Legislação","Categoria","Forma de Contato","Observação","Submatriz"],category:"estruturas"},{title:"Relacionamentos",icon:p.jsx(J,{}),subtitles:["Parâmetro e POP","Limite de Quantificação e Incerteza","Legislação e Parâmetro","Pacote de Parâmetro","Técnica e Etapa"],category:"relacionamentos"},{title:"Contas",icon:p.jsx(we,{}),subtitles:["Cadastrar Cálculo","Visualizar Cálculo"],category:"contas"}],[]),Z=Object.values(k).some(e=>e);return p.jsxs(p.Fragment,{children:[" ",p.jsxs("div",{className:up,children:[p.jsxs("div",{className:$p,children:[p.jsxs("h1",{className:hp,children:["Geral ",Z&&p.jsx("span",{style:{fontSize:"14px",color:"#666"},children:"(Carregando...)"})]}),p.jsxs("button",{className:Bp,onClick:async()=>{E(!0);try{await Promise.all([D(),T(),z(),R(),L()])}catch(e){}finally{E(!1)}},disabled:M,title:"Recarregar dados",children:[p.jsx(ue,{className:`${qp} ${M?`${Fp}`:""}`}),M?"Recarregando...":"Recarregar"]})]}),p.jsx("div",{className:mp,children:K.map((e,t)=>p.jsx(Vp,{title:e.title,icon:e.icon,bgColor:e.bgColor,loading:e.loading,onClick:()=>!e.loading&&$(e.title,e.modalContent,e.isAmostra)},`top-${t}`))}),p.jsx("div",{className:pp,children:Y.map((t,a)=>p.jsx(Vp,{title:t.title,icon:t.icon,bgColor:"#F3F4F6",textColor:"#111827",subtitles:t.subtitles,onSubtitleClick:a=>(async(t,a)=>{const r=O[t][a];if(r)try{switch(r){case"cadastrar-clientes":await tp.openCadastroClientes();break;case"visualizar-clientes":await tp.openVisualizarCliente();break;case"gerenciar-categoria":await tp.openCadastrarCategoria();break;case"cadastro-usuario-portal":await tp.openUsuarioPortal();break;case"gerenciar-setor":await tp.openGerenciarSetor();break;case"cadastrar-consultor":await tp.openCadastrarConsultor();break;case"cadastrar-laboratorio-terceirizado":await tp.openCadastrarLabTerceirizado();break;case"rel-tecnica-etapa":await tp.openGerenciarTecnicaEtapa();break;case"estrutura-tipo":await tp.openGerenciarTipos();break;case"estrutura-grupo":await tp.openGerenciarGrupos();break;case"estrutura-matriz":await tp.openGerenciarMatrizes();break;case"estrutura-unidade":await tp.openGerenciarUnidades();break;case"estrutura-parametro":await tp.openGerenciarParametros();break;case"estrutura-pg-coleta":case"estrutura-pg-coleta":await tp.openGerenciarPGColeta();break;case"estrutura-pop":await tp.openGerenciarPops();break;case"estrutura-tecnica":case"estrutura-tecnica":await tp.openGerenciarTecnicas();break;case"estrutura-identificacao":await tp.openGerenciarIdentificacoes();break;case"estrutura-metodologia":await tp.openGerenciarMetodologias();break;case"estrutura-legislacao":await tp.openGerenciarLegislacoes();break;case"estrutura-categoria":await tp.openGerenciarCategorias();break;case"estrutura-forma-contato":await tp.openGerenciarFormasContato();break;case"estrutura-observacao":await tp.openGerenciarObservacoes();break;case"estrutura-submatriz":await tp.openGerenciarSubMatrizes();break;case"rel-parametro-pop":await tp.openGerenciarParametroPop();break;case"rel-legislacao-parametro":await tp.openGerenciarLegislacaoParametro();break;case"rel-limite-quantificacao":await tp.openGerenciarLqIncerteza();break;case"rel-pacote-parametro":await tp.openGerenciarPacotes();break;default:e(r)}}catch(n){}})(t.category,a)},`bottom-${a}`))})]}),p.jsx(Up,{isOpen:t,onClose:B,title:n,content:s,isAmostraModal:l,modalTitle:n,clientesSemCadastro:g,openClienteModal:q}),p.jsx(Kp,{isOpen:d,onClose:F,cliente:h,onNovoCadastro:W,onCadastroExistente:G})]})},Xp=()=>p.jsxs("div",{children:[p.jsx("h1",{style:{margin:"0 0 2rem 0",fontSize:"2rem",fontWeight:"bold",color:"#111827"},children:"Agenda"}),p.jsx("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:p.jsx("p",{style:{color:"#6b7280",margin:0},children:"Área de Agenda em desenvolvimento..."})})]}),Jp="_container_1ym7k_119",Zp="_header_1ym7k_171",Qp="_header-title_1ym7k_203",ef="_header-icon-wrapper_1ym7k_215",tf="_header-icon_1ym7k_215",af="_title_1ym7k_253",rf="_header-subtitle_1ym7k_277",nf="_header-actions_1ym7k_291",sf="_header-button_1ym7k_301",of="_header-button-secondary_1ym7k_385",lf="_tabs-container_1ym7k_413",cf="_tabs-scroll-wrapper_1ym7k_435",df="_tabs-list_1ym7k_445",uf="_tab-item_1ym7k_473",hf="_tab-icon-wrapper_1ym7k_557",mf="_tab-icon_1ym7k_557",pf="_tab-content_1ym7k_597",ff="_tab-title_1ym7k_613",gf="_tab-description_1ym7k_623",xf="_tab-count_1ym7k_635",vf="_active_1ym7k_715",bf="_scroll-button_1ym7k_777",yf="_scroll-button-left_1ym7k_827",_f="_scroll-button-right_1ym7k_835",jf="_scroll-button-icon_1ym7k_843",wf="_content-area_1ym7k_857",Nf="_content-header_1ym7k_887",Cf="_content-header-info_1ym7k_905",kf="_content-icon-wrapper_1ym7k_917",Sf="_content-title_1ym7k_951",Mf="_content-subtitle_1ym7k_967",Ef="_content-actions_1ym7k_981",Of="_action-button_1ym7k_991",Pf="_action-button-primary_1ym7k_1037",Af="_stats-grid_1ym7k_1063",Df="_stats-card_1ym7k_1077",If="_stats-icon_1ym7k_1153",Tf="_stats-content_1ym7k_1199",zf="_stats-value_1ym7k_1207",Rf="_stats-label_1ym7k_1223",Lf="_stats-trend_1ym7k_1237",$f="_quick-actions-grid_1ym7k_1303",Bf="_quick-action-card_1ym7k_1315",qf="_quick-action-icon_1ym7k_1395",Ff="_quick-action-title_1ym7k_1445",Wf="_main-content_1ym7k_1465",Gf="_content-placeholder_1ym7k_1487",Hf="_placeholder-icon_1ym7k_1507",Vf="_placeholder-title_1ym7k_1545",Uf="_placeholder-description_1ym7k_1559",Kf="_placeholder-button_1ym7k_1575",Yf="_financial-screens-grid_1ym7k_1745",Xf="_screen-category_1ym7k_1759",Jf="_category-title_1ym7k_1795",Zf="_category-icon_1ym7k_1819",Qf="_screen-items_1ym7k_1833",eg="_screen-item_1ym7k_1833",tg="_screen-icon_1ym7k_1929",ag="_collapsible-section_1ym7k_2071",rg="_section-header_1ym7k_2107",ng="_section-header-content_1ym7k_2173",ig="_section-header-icon_1ym7k_2187",sg="_section-header-title_1ym7k_2213",og="_section-header-count_1ym7k_2237",lg="_section-toggle-button_1ym7k_2267",cg="_section-toggle-icon_1ym7k_2301",dg=()=>{const[e,t]=f.useState("pedidos-internos"),[a,r]=f.useState({stats:!1,financialScreens:!0,quickActions:!1}),n=f.useRef(null),i=e=>{r(t=>({...t,[e]:!t[e]}))},s=[{id:"pedidos-internos",title:"Pedidos Internos",count:67,icon:p.jsx(Mn,{className:mf}),color:"#22c55e",description:"Gerencie pedidos internos para cotação"},{id:"pedidos-cadastrar",title:"Cadastrar Pedidos",count:5,icon:p.jsx(vi,{className:mf}),color:"#3b82f6",description:"Cadastre novos pedidos no sistema"},{id:"pedidos-aprovar",title:"Aprovar Pedidos",count:0,icon:p.jsx(cn,{className:mf}),color:"#10b981",description:"Aprove pedidos pendentes"},{id:"recebimento-materiais",title:"Recebimento",count:15,icon:p.jsx(hi,{className:mf}),color:"#8b5cf6",description:"Controle recebimento de materiais"},{id:"contas-pagar",title:"Contas a Pagar",count:517,icon:p.jsx(xn,{className:mf}),color:"#f59e0b",description:"Gerencie contas a pagar"},{id:"gerar-remessa",title:"Remessa Boletos",count:551,icon:p.jsx(Ei,{className:mf}),color:"#06b6d4",description:"Gere remessas de boletos"},{id:"faturas-aberto",title:"Faturas Abertas",count:1287,icon:p.jsx(yi,{className:mf}),color:"#ef4444",description:"Acompanhe faturas em aberto"},{id:"faturas-nao-enviadas",title:"Faturas Pendentes",count:30,icon:p.jsx(ln,{className:mf}),color:"#f97316",description:"Faturas não enviadas"},{id:"faturas-vencidas",title:"Faturas Vencidas",count:0,icon:p.jsx(pn,{className:mf}),color:"#dc2626",description:"Faturas com vencimento"},{id:"faturas-protestadas",title:"Protestadas",count:0,icon:p.jsx(ln,{className:mf}),color:"#991b1b",description:"Faturas protestadas"},{id:"orcamentos-sac",title:"Orçamentos SAC",count:0,icon:p.jsx(Cn,{className:mf}),color:"#7c3aed",description:"Orçamentos do SAC"},{id:"atualizacoes-orcamentos",title:"Atualizações",count:0,icon:p.jsx(Zi,{className:mf}),color:"#059669",description:"Atualizações de orçamentos"}],o=e=>{if(n.current){const t=300,a=n.current.scrollLeft,r="left"===e?a-t:a+t;n.current.scrollTo({left:r,behavior:"smooth"})}},l=s.find(t=>t.id===e),c=(()=>{switch(e){case"pedidos-internos":return{stats:[{value:"67",label:"Pedidos Pendentes",icon:p.jsx(Mn,{}),trend:"+12%"},{value:"12",label:"Urgentes",icon:p.jsx(os,{}),trend:"+5%"},{value:"8",label:"Em Análise",icon:p.jsx(Mr,{}),trend:"-3%"},{value:"47",label:"Aguardando",icon:p.jsx(pn,{}),trend:"+8%"}],quickActions:[{title:"Novo Pedido Interno",icon:p.jsx(vi,{}),color:"#22c55e"},{title:"Buscar Pedidos",icon:p.jsx(Mi,{}),color:"#3b82f6"},{title:"Relatório Geral",icon:p.jsx(Xr,{}),color:"#8b5cf6"},{title:"Exportar Dados",icon:p.jsx(yn,{}),color:"#f59e0b"}]};case"pedidos-cadastrar":return{stats:[{value:"5",label:"Para Cadastrar",icon:p.jsx(vi,{}),trend:"+2"},{value:"2",label:"Em Processo",icon:p.jsx(Mr,{}),trend:"0%"},{value:"3",label:"Pendentes",icon:p.jsx(pn,{}),trend:"+1"},{value:"0",label:"Rejeitados",icon:p.jsx(ln,{}),trend:"0%"}],quickActions:[{title:"Cadastrar Fornecedor",icon:p.jsx(Wr,{}),color:"#22c55e"},{title:"Cadastrar Produto",icon:p.jsx(ui,{}),color:"#3b82f6"},{title:"Importar Dados",icon:p.jsx(Zi,{}),color:"#8b5cf6"},{title:"Validar Cadastros",icon:p.jsx(cn,{}),color:"#10b981"}]};case"contas-pagar":return{stats:[{value:"517",label:"Total Contas",icon:p.jsx(xn,{}),trend:"+23"},{value:"89",label:"Vencendo Hoje",icon:p.jsx(Kr,{}),trend:"+12"},{value:"156",label:"Vencidas",icon:p.jsx(ln,{}),trend:"-8"},{value:"272",label:"Em Dia",icon:p.jsx(cn,{}),trend:"+15"}],quickActions:[{title:"Nova Conta",icon:p.jsx(vi,{}),color:"#22c55e"},{title:"Pagar Contas",icon:p.jsx(xn,{}),color:"#3b82f6"},{title:"Relatório Vencimentos",icon:p.jsx(Kr,{}),color:"#f59e0b"},{title:"Negociar Fornecedor",icon:p.jsx(Wr,{}),color:"#8b5cf6"}]};case"faturas-aberto":return{stats:[{value:"1287",label:"Faturas Abertas",icon:p.jsx(yi,{}),trend:"+45"},{value:"234",label:"Vencendo 7 dias",icon:p.jsx(pn,{}),trend:"+12"},{value:"89",label:"Vencidas",icon:p.jsx(ln,{}),trend:"-5"},{value:"964",label:"Em Dia",icon:p.jsx(cn,{}),trend:"+38"}],quickActions:[{title:"Enviar Boletos",icon:p.jsx(Ei,{}),color:"#22c55e"},{title:"Gerar Relatório",icon:p.jsx(Xr,{}),color:"#3b82f6"},{title:"Notificar Clientes",icon:p.jsx(Rr,{}),color:"#f59e0b"},{title:"Análise Inadimplência",icon:p.jsx(Ui,{}),color:"#ef4444"}]};case"recebimento-materiais":return{stats:[{value:"15",label:"Materiais Pendentes",icon:p.jsx(hi,{}),trend:"+3"},{value:"8",label:"Recebidos Hoje",icon:p.jsx(cn,{}),trend:"+8"},{value:"3",label:"Com Divergência",icon:p.jsx(ln,{}),trend:"-2"},{value:"4",label:"Aguardando",icon:p.jsx(pn,{}),trend:"+1"}],quickActions:[{title:"Registrar Recebimento",icon:p.jsx(hi,{}),color:"#22c55e"},{title:"Conferir Materiais",icon:p.jsx(Nn,{}),color:"#3b82f6"},{title:"Relatório Estoque",icon:p.jsx(Xr,{}),color:"#8b5cf6"},{title:"Gerenciar Divergências",icon:p.jsx(ln,{}),color:"#f59e0b"}]};default:return{stats:[{value:"0",label:"Itens",icon:p.jsx(hi,{}),trend:"0%"},{value:"0",label:"Pendentes",icon:p.jsx(pn,{}),trend:"0%"},{value:"0",label:"Concluídos",icon:p.jsx(cn,{}),trend:"0%"},{value:"0",label:"Total",icon:p.jsx(Fi,{}),trend:"0%"}],quickActions:[{title:"Ação Principal",icon:p.jsx(Li,{}),color:"#22c55e"},{title:"Buscar",icon:p.jsx(Mi,{}),color:"#3b82f6"},{title:"Relatório",icon:p.jsx(Xr,{}),color:"#8b5cf6"},{title:"Configurar",icon:p.jsx(Oi,{}),color:"#6b7280"}]}}})();return p.jsxs("div",{className:Jp,children:[p.jsxs("div",{className:Zp,children:[p.jsxs("div",{className:Qp,children:[p.jsx("div",{className:ef,children:p.jsx(bn,{className:tf})}),p.jsxs("div",{children:[p.jsx("h1",{className:af,children:"Sistema Financeiro"}),p.jsx("p",{className:rf,children:"Gestão completa e inteligente"})]})]}),p.jsxs("div",{className:nf,children:[p.jsxs("button",{className:of,children:[p.jsx(wi,{size:16}),"Atualizar"]}),p.jsxs("button",{className:sf,children:[p.jsx(vi,{size:16}),"Novo Item"]})]})]}),p.jsx("div",{className:lf,children:p.jsxs("div",{className:cf,children:[p.jsx("button",{className:`${bf} ${yf}`,onClick:()=>o("left"),children:p.jsx(an,{className:jf})}),p.jsx("div",{className:df,ref:n,children:s.map(a=>p.jsxs("button",{className:`${uf} ${e===a.id?vf:""}`,onClick:()=>{return e=a.id,void t(e);var e},style:{"--tab-color":a.color},children:[p.jsx("div",{className:hf,children:a.icon}),p.jsxs("div",{className:pf,children:[p.jsx("span",{className:ff,children:a.title}),p.jsx("span",{className:gf,children:a.description})]}),p.jsx("span",{className:xf,children:a.count})]},a.id))}),p.jsx("button",{className:`${bf} ${_f}`,onClick:()=>o("right"),children:p.jsx(rn,{className:jf})})]})}),p.jsx("div",{className:wf,children:p.jsxs("div",{className:pf,children:[p.jsxs("div",{className:Nf,children:[p.jsxs("div",{className:Cf,children:[p.jsx("div",{className:kf,children:l?.icon}),p.jsxs("div",{children:[p.jsx("h2",{className:Sf,children:l?.title||"Selecione uma opção"}),p.jsx("p",{className:Mf,children:l?.description||"Gerencie e acompanhe suas atividades financeiras"})]})]}),p.jsxs("div",{className:Ef,children:[p.jsxs("button",{className:Of,children:[p.jsx(zn,{size:16}),"Filtrar"]}),p.jsxs("button",{className:Of,children:[p.jsx(Dr,{size:16}),"Ordenar"]}),p.jsxs("button",{className:Pf,children:[p.jsx(yn,{size:16}),"Exportar"]})]})]}),p.jsxs("div",{className:ag,children:[p.jsxs("div",{className:rg,onClick:()=>i("stats"),children:[p.jsxs("div",{className:ng,children:[p.jsx(Xr,{className:ig}),p.jsx("h3",{className:sg,children:"Estatísticas"}),p.jsxs("span",{className:og,children:[c.stats.length," itens"]})]}),p.jsx("button",{className:lg,children:a.stats?p.jsx(nn,{className:cg}):p.jsx(tn,{className:cg})})]}),a.stats&&p.jsx("div",{className:Af,children:c.stats.map((e,t)=>p.jsxs("div",{className:Df,children:[p.jsx("div",{className:If,children:e.icon}),p.jsxs("div",{className:Tf,children:[p.jsx("div",{className:zf,children:e.value}),p.jsx("div",{className:Rf,children:e.label}),p.jsx("div",{className:Lf,children:e.trend})]})]},t))})]}),p.jsxs("div",{className:ag,children:[p.jsxs("div",{className:rg,onClick:()=>i("financialScreens"),children:[p.jsxs("div",{className:ng,children:[p.jsx(Oi,{className:ig}),p.jsx("h3",{className:sg,children:"Telas do Financeiro"}),p.jsx("span",{className:og,children:"10 categorias"})]}),p.jsx("button",{className:lg,children:a.financialScreens?p.jsx(nn,{className:cg}):p.jsx(tn,{className:cg})})]}),a.financialScreens&&p.jsxs("div",{className:Yf,children:[p.jsxs("div",{className:Xf,children:[p.jsxs("h4",{className:Jf,children:[p.jsx(Xr,{className:Zf}),"Orçamento"]}),p.jsxs("div",{className:Qf,children:[p.jsxs("button",{className:eg,children:[p.jsx(Ui,{className:tg}),p.jsx("span",{children:"Análises"})]}),p.jsxs("button",{className:eg,children:[p.jsx(hi,{className:tg}),p.jsx("span",{children:"Produtos"})]}),p.jsxs("button",{className:eg,children:[p.jsx(Nn,{className:tg}),p.jsx("span",{children:"Visualizar"})]})]})]}),p.jsxs("div",{className:Xf,children:[p.jsxs("h4",{className:Jf,children:[p.jsx(Wr,{className:Zf}),"Fornecedor"]}),p.jsxs("div",{className:Qf,children:[p.jsxs("button",{className:eg,children:[p.jsx(vi,{className:tg}),p.jsx("span",{children:"Cadastrar fornecedor"})]}),p.jsxs("button",{className:eg,children:[p.jsx(Nn,{className:tg}),p.jsx("span",{children:"Visualizar fornecedor"})]})]})]}),p.jsxs("div",{className:Xf,children:[p.jsxs("h4",{className:Jf,children:[p.jsx(ui,{className:Zf}),"Estoque"]}),p.jsxs("div",{className:Qf,children:[p.jsxs("button",{className:eg,children:[p.jsx(vi,{className:tg}),p.jsx("span",{children:"Cadastrar"})]}),p.jsxs("button",{className:eg,children:[p.jsx(Oi,{className:tg}),p.jsx("span",{children:"Gerenciar"})]})]})]}),p.jsxs("div",{className:Xf,children:[p.jsxs("h4",{className:Jf,children:[p.jsx(Ai,{className:Zf}),"Produtos"]}),p.jsxs("div",{className:Qf,children:[p.jsxs("button",{className:eg,children:[p.jsx(vi,{className:tg}),p.jsx("span",{children:"Cadastro de produto"})]}),p.jsxs("button",{className:eg,children:[p.jsx(Mn,{className:tg}),p.jsx("span",{children:"Categoria"})]}),p.jsxs("button",{className:eg,children:[p.jsx(Wr,{className:tg}),p.jsx("span",{children:"Fabricante"})]})]})]}),p.jsxs("div",{className:Xf,children:[p.jsxs("h4",{className:Jf,children:[p.jsx(Cn,{className:Zf}),"Tabela de preços"]}),p.jsxs("div",{className:Qf,children:[p.jsxs("button",{className:eg,children:[p.jsx(as,{className:tg}),p.jsx("span",{children:"Grupo"})]}),p.jsxs("button",{className:eg,children:[p.jsx(vi,{className:tg}),p.jsx("span",{children:"Cadastrar"})]}),p.jsxs("button",{className:eg,children:[p.jsx(Nn,{className:tg}),p.jsx("span",{children:"Visualizar"})]})]})]}),p.jsxs("div",{className:Xf,children:[p.jsxs("h4",{className:Jf,children:[p.jsx(Di,{className:Zf}),"Pedido de compra"]}),p.jsxs("div",{className:Qf,children:[p.jsxs("button",{className:eg,children:[p.jsx(vi,{className:tg}),p.jsx("span",{children:"Cadastrar pedido interno"})]}),p.jsxs("button",{className:eg,children:[p.jsx(Nn,{className:tg}),p.jsx("span",{children:"Visualizar pedidos internos"})]}),p.jsxs("button",{className:eg,children:[p.jsx(vi,{className:tg}),p.jsx("span",{children:"Cadastrar pedido de compra"})]}),p.jsxs("button",{className:eg,children:[p.jsx(Nn,{className:tg}),p.jsx("span",{children:"Visualizar pedidos de compra"})]})]})]}),p.jsxs("div",{className:Xf,children:[p.jsxs("h4",{className:Jf,children:[p.jsx(yi,{className:Zf}),"Faturamento"]}),p.jsxs("div",{className:Qf,children:[p.jsxs("button",{className:eg,children:[p.jsx(Mi,{className:tg}),p.jsx("span",{children:"Buscar"})]}),p.jsxs("button",{className:eg,children:[p.jsx(vi,{className:tg}),p.jsx("span",{children:"Cadastrar conta a receber"})]}),p.jsxs("button",{className:eg,children:[p.jsx(xn,{className:tg}),p.jsx("span",{children:"Cadastrar conta a pagar"})]}),p.jsxs("button",{className:eg,children:[p.jsx(Nn,{className:tg}),p.jsx("span",{children:"Visualizar"})]}),p.jsxs("button",{className:eg,children:[p.jsx(Oi,{className:tg}),p.jsx("span",{children:"Gerenciar"})]})]})]}),p.jsxs("div",{className:Xf,children:[p.jsxs("h4",{className:Jf,children:[p.jsx(Ei,{className:Zf}),"Enviar Boletos / NF's Para o Portal"]}),p.jsxs("div",{className:Qf,children:[p.jsxs("button",{className:eg,children:[p.jsx(Zi,{className:tg}),p.jsx("span",{children:"Enviar Automaticamente para o Portal"})]}),p.jsxs("button",{className:eg,children:[p.jsx(yi,{className:tg}),p.jsx("span",{children:"Boletos e/ou Notas (mês atual)"})]}),p.jsxs("button",{className:eg,children:[p.jsx(Mn,{className:tg}),p.jsx("span",{children:"Boletos e/ou Notas Fiscais"})]})]})]}),p.jsxs("div",{className:Xf,children:[p.jsxs("h4",{className:Jf,children:[p.jsx(Mn,{className:Zf}),"Boletos / NF's no Portal"]}),p.jsxs("div",{className:Qf,children:[p.jsxs("button",{className:eg,children:[p.jsx(cn,{className:tg}),p.jsx("span",{children:"Finalizar Boletos"})]}),p.jsxs("button",{className:eg,children:[p.jsx(zi,{className:tg}),p.jsx("span",{children:"Editar Boletos e/ou NF's"})]}),p.jsxs("button",{className:eg,children:[p.jsx(xn,{className:tg}),p.jsx("span",{children:"Editar Boletos Pagos"})]}),p.jsxs("button",{className:eg,children:[p.jsx(Rr,{className:tg}),p.jsx("span",{children:"Enviar Notificação ao Cliente"})]})]})]}),p.jsxs("div",{className:Xf,children:[p.jsxs("h4",{className:Jf,children:[p.jsx(Xr,{className:Zf}),"Relatórios"]}),p.jsx("div",{className:Qf,children:p.jsxs("button",{className:eg,children:[p.jsx(Nn,{className:tg}),p.jsx("span",{children:"Visualizar Relatórios"})]})})]})]})]}),p.jsxs("div",{className:ag,children:[p.jsxs("div",{className:rg,onClick:()=>i("quickActions"),children:[p.jsxs("div",{className:ng,children:[p.jsx(os,{className:ig}),p.jsx("h3",{className:sg,children:"Ações Rápidas"}),p.jsxs("span",{className:og,children:[c.quickActions.length," ações"]})]}),p.jsx("button",{className:lg,children:a.quickActions?p.jsx(nn,{className:cg}):p.jsx(tn,{className:cg})})]}),a.quickActions&&p.jsx("div",{className:$f,children:c.quickActions.map((e,t)=>p.jsxs("button",{className:Bf,style:{"--action-color":e.color},children:[p.jsx("div",{className:qf,children:e.icon}),p.jsx("span",{className:Ff,children:e.title})]},t))})]}),p.jsx("div",{className:Wf,children:p.jsxs("div",{className:Gf,children:[p.jsx("div",{className:Hf,children:l?.icon}),p.jsx("h3",{className:Vf,children:l?.title}),p.jsx("p",{className:Uf,children:"O conteúdo específico desta seção será carregado aqui. Esta área está preparada para receber os dados e funcionalidades específicas de cada módulo."}),p.jsxs("button",{className:Kf,children:[p.jsx(Nn,{size:20}),"Visualizar Detalhes"]})]})})]})})]})},ug=f.memo(({card:e})=>p.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"24px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #f3f4f6",transition:"all 0.2s ease",position:"relative",cursor:"pointer"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[p.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",...e.iconBg},children:p.jsx(e.icon,{size:20})}),p.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"500",...e.changeBg},children:e.change})]}),p.jsx("h3",{style:{fontSize:"24px",fontWeight:"bold",color:"#111827",marginBottom:"4px"},children:e.value}),p.jsx("p",{style:{color:"#6b7280",fontSize:"14px",margin:0},children:e.title}),p.jsx("div",{style:{position:"absolute",top:"16px",right:"16px",opacity:.2},children:p.jsx(Ui,{size:20,color:e.trendColor})})]})),hg=f.memo(({agendamento:e})=>p.jsxs("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"8px",padding:"16px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)"},children:[p.jsxs("div",{style:{color:"rgba(191, 219, 254, 1)",fontSize:"14px",marginBottom:"8px",display:"flex",alignItems:"center"},children:[p.jsx(pn,{size:16,style:{marginRight:"4px"}}),e.time]}),p.jsx("div",{style:{fontWeight:"600",marginBottom:"4px",color:"white"},children:e.title}),p.jsxs("div",{style:{color:"rgba(191, 219, 254, 1)",fontSize:"14px",display:"flex",alignItems:"center"},children:[p.jsx(ti,{size:12,style:{marginRight:"4px"}}),e.location]})]})),mg=f.memo(({item:e,onItemClick:t})=>{const a=f.useCallback(()=>{t(e.name)},[e.name,t]);return p.jsxs("button",{style:{width:"100%",display:"flex",alignItems:"center",padding:"12px",borderRadius:"8px",border:"1px solid transparent",backgroundColor:"transparent",cursor:"pointer",textAlign:"left",transition:"all 0.2s ease"},onClick:a,onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f9fafb",e.currentTarget.style.borderColor="#e5e7eb"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.borderColor="transparent"},title:e.description,children:[p.jsx("div",{style:{width:"20px",height:"20px",color:"#6b7280",flexShrink:0,marginRight:"12px"},children:p.jsx(e.icon,{size:16})}),p.jsxs("div",{style:{flex:1,minWidth:0},children:[p.jsx("div",{style:{fontWeight:"500",color:"#111827",fontSize:"14px",marginBottom:"2px"},children:e.name}),p.jsx("div",{style:{color:"#6b7280",fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.description})]})]})}),pg=f.memo(({section:e,searchTerm:t,onItemClick:a})=>p.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:t?"2px solid rgba(59, 130, 246, 0.2)":"1px solid #f3f4f6",overflow:"hidden",transition:"all 0.2s ease"},children:[p.jsx("div",{style:{padding:"24px",color:"white",background:e.gradient,position:"relative",overflow:"hidden"},children:p.jsxs("div",{style:{position:"relative",zIndex:10,display:"flex",alignItems:"start",justifyContent:"space-between"},children:[p.jsxs("div",{children:[p.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"8px",margin:0},children:e.title}),p.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"14px",marginBottom:"4px",margin:0},children:[e.items.length," opções disponíveis"]}),p.jsx("span",{style:{display:"inline-block",backgroundColor:"rgba(255, 255, 255, 0.2)",padding:"4px 12px",borderRadius:"16px",fontSize:"12px",fontWeight:"500"},children:e.category})]}),p.jsx(e.icon,{size:32,style:{opacity:.8}})]})}),p.jsx("div",{style:{padding:"24px"},children:p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.items.map((t,r)=>p.jsx(mg,{item:t,onItemClick:a},`${e.id}-${r}`))})})]})),fg=f.memo(()=>{const[e,t]=f.useState(""),[a,n]=f.useState(!1),[i,s]=f.useState([]);f.useEffect(()=>{(async()=>{try{const e=await r("buscar_agendamentos_hoje");s(e)}catch(e){}})()},[]);const o=f.useMemo(()=>[{id:"veiculos",title:"Gestão de Veículos",icon:Yr,gradient:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",category:"veículos",items:[{name:"Cadastrar motorista",icon:Qi,description:"Cadastrar novo motorista"},{name:"Cadastrar veículo",icon:Yi,description:"Adicionar veículo à frota"},{name:"Cadastrar posto",icon:ti,description:"Cadastrar posto de combustível"}]},{id:"viagens",title:"Controle de Viagens",icon:ki,gradient:"linear-gradient(135deg, #10b981 0%, #059669 100%)",category:"viagens",items:[{name:"Cadastrar viagem",icon:vi,description:"Programar nova viagem"},{name:"Visualizar viagem",icon:Nn,description:"Consultar viagens programadas"},{name:"Visualizar viagem por dia",icon:Kr,description:"Ver agenda diária de viagens"}]},{id:"abastecimento",title:"Abastecimento",icon:Tn,gradient:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",category:"combustível",items:[{name:"Cadastrar abastecimento",icon:vi,description:"Registrar abastecimento"},{name:"Visualizar abastecimento",icon:Nn,description:"Consultar histórico de abastecimentos"}]},{id:"manutencao",title:"Manutenção",icon:is,gradient:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",category:"manutenção",items:[{name:"Cadastrar manutenção",icon:vi,description:"Agendar manutenção"},{name:"Visualizar manutenção",icon:Nn,description:"Consultar manutenções programadas"}]},{id:"rastreamento",title:"Rastreamento",icon:di,gradient:"linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)",category:"monitoramento",items:[{name:"Localização em Tempo Real",icon:ti,description:"Ver localização atual dos veículos"},{name:"Histórico de Rotas",icon:ki,description:"Consultar rotas percorridas"},{name:"Alertas de Segurança",icon:Pi,description:"Gerenciar alertas de segurança"}]},{id:"relatorios",title:"Relatórios e Análises",icon:Xr,gradient:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",category:"relatórios",items:[{name:"Consumo de Combustível",icon:Tn,description:"Análise de consumo por veículo"},{name:"Quilometragem",icon:Ln,description:"Relatório de quilometragem rodada"},{name:"Custos Operacionais",icon:Mn,description:"Análise de custos da frota"}]}],[]),l=f.useMemo(()=>[{title:"Veículos Ativos",value:"45",change:"+3",icon:Yi,iconBg:{backgroundColor:"#3b82f6"},changeBg:{backgroundColor:"#dcfce7",color:"#166534"},trendColor:"#10b981"},{title:"Viagens Hoje",value:"12",change:"+8%",icon:ki,iconBg:{backgroundColor:"#10b981"},changeBg:{backgroundColor:"#dcfce7",color:"#166534"},trendColor:"#10b981"},{title:"Manutenções Pendentes",value:"7",change:"-2",icon:is,iconBg:{backgroundColor:"#f59e0b"},changeBg:{backgroundColor:"#fed7aa",color:"#9a3412"},trendColor:"#f59e0b"},{title:"Consumo Mensal",value:"2.8k L",change:"-5%",icon:Tn,iconBg:{backgroundColor:"#8b5cf6"},changeBg:{backgroundColor:"#dcfce7",color:"#166534"},trendColor:"#10b981"},{title:"Alertas Ativos",value:"3",change:"-1",icon:Ki,iconBg:{backgroundColor:"#ef4444"},changeBg:{backgroundColor:"#fecaca",color:"#991b1b"},trendColor:"#ef4444"}],[]),c=f.useMemo(()=>{if(!e.trim())return o;const t=e.toLowerCase();return o.filter(e=>{const a=e.title.toLowerCase().includes(t),r=e.category.toLowerCase().includes(t),n=e.items.some(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t));return a||r||n})},[e,o]),d=f.useCallback(()=>{t(""),n(!1)},[]),u=f.useCallback(()=>{n(e=>!e),a&&t("")},[a]),h=f.useCallback(e=>{t(e.target.value)},[]),m=f.useCallback(e=>{switch(e){case"Cadastrar motorista":tp.openCastrarCondutor();break;case"Cadastrar veículo":tp.openGerenciarVeiculos();break;case"Cadastrar posto":tp.openCadastrarPosto();break;case"Cadastrar viagem":tp.openCadastrarViagem();break;case"Visualizar viagem":tp.openVisualizarViagem();break;case"Cadastrar abastecimento":tp.openCadastrarAbastecimento();break;case"Visualizar abastecimento":tp.openVisualizarAbastecimento();break;case"Cadastrar manutenção":tp.openCadastrarManutencao();break;case"Visualizar manutenção":tp.openVisualizarManutencao();break;case"Localização em Tempo Real":tp.openLocalizacao()}},[]);return p.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",paddingBottom:"32px"},children:[p.jsx("header",{style:{backgroundColor:"white",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",borderBottom:"1px solid #e5e7eb",top:0,zIndex:10},children:p.jsx("div",{style:{maxWidth:"1280px",margin:"0 auto",padding:"16px 24px"},children:p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[p.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#3b82f6",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:p.jsx(Yi,{size:24})}),p.jsxs("div",{children:[p.jsx("h1",{style:{fontSize:"24px",fontWeight:"bold",color:"#111827",margin:0},children:"Frota"}),p.jsx("p",{style:{color:"#6b7280",marginTop:"4px",margin:0},children:"Gestão e Controle da Frota"})]})]}),p.jsx("div",{children:p.jsx("button",{style:{padding:"8px",color:"#6b7280",backgroundColor:"transparent",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease"},onClick:u,onMouseEnter:e=>{e.currentTarget.style.color="#3b82f6",e.currentTarget.style.backgroundColor="#eff6ff"},onMouseLeave:e=>{e.currentTarget.style.color="#6b7280",e.currentTarget.style.backgroundColor="transparent"},title:"Pesquisar",children:p.jsx(Mi,{size:20})})})]})})}),a&&p.jsx("div",{style:{backgroundColor:"white",borderBottom:"1px solid #e5e7eb",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:p.jsxs("div",{style:{maxWidth:"1280px",margin:"0 auto",padding:"16px 24px"},children:[p.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[p.jsx(Mi,{size:20,style:{position:"absolute",left:"12px",color:"#9ca3af",zIndex:1}}),p.jsx("input",{type:"text",placeholder:"Pesquisar por módulos, funcionalidades ou categorias...",value:e,onChange:h,style:{width:"100%",paddingLeft:"40px",paddingRight:e?"40px":"12px",paddingTop:"12px",paddingBottom:"12px",border:"1px solid #d1d5db",borderRadius:"8px",outline:"none",fontSize:"16px",transition:"all 0.2s ease"},onFocus:e=>{e.currentTarget.style.borderColor="#3b82f6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#d1d5db",e.currentTarget.style.boxShadow="none"},autoFocus:!0}),e&&p.jsx("button",{onClick:d,style:{position:"absolute",right:"12px",padding:"4px",color:"#9ca3af",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.color="#6b7280"},onMouseLeave:e=>{e.currentTarget.style.color="#9ca3af"},title:"Limpar pesquisa",children:p.jsx(ss,{size:16})})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"12px",fontSize:"14px",color:"#6b7280"},children:[p.jsx(zn,{size:16,style:{marginRight:"8px"}}),p.jsxs("span",{children:[c.length," de ",o.length," módulos encontrados"]})]})]})}),p.jsxs("div",{style:{maxWidth:"1280px",margin:"0 auto",padding:"24px",display:"flex",flexDirection:"column",gap:"32px"},children:[p.jsxs("div",{style:{background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",borderRadius:"12px",padding:"24px",color:"white",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[p.jsxs("h2",{style:{fontSize:"20px",fontWeight:"bold",margin:0,display:"flex",alignItems:"center"},children:[p.jsx(Kr,{size:24,style:{marginRight:"8px"}}),"Agendamentos do Dia"]}),p.jsxs("span",{style:{backgroundColor:"rgba(255, 255, 255, 0.2)",padding:"4px 12px",borderRadius:"16px",fontSize:"14px",fontWeight:"500"},children:[i.length," agendados"]})]}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px"},children:i.length>0?i.map((e,t)=>p.jsx(hg,{agendamento:{time:e.hora,title:e.descricao,location:e.nome}},t)):p.jsx("div",{style:{padding:"16px",textAlign:"center",color:"rgba(255, 255, 255, 0.8)"},children:"Nenhum agendamento para hoje."})})]}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"24px"},children:l.map((e,t)=>p.jsx(ug,{card:e},`card-${t}`))}),e&&p.jsxs("div",{children:[p.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#111827",marginBottom:"16px"},children:['Resultados da pesquisa para "',e,'"']}),0===c.length&&p.jsxs("div",{style:{textAlign:"center",padding:"48px",backgroundColor:"white",borderRadius:"12px"},children:[p.jsx(Mi,{size:48,style:{color:"#9ca3af",marginBottom:"16px"}}),p.jsx("p",{style:{color:"#6b7280",marginBottom:"16px"},children:"Nenhum módulo encontrado para sua pesquisa."}),p.jsx("button",{onClick:d,style:{padding:"8px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#2563eb"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#3b82f6"},children:"Limpar pesquisa"})]})]}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"24px"},children:c.map(t=>p.jsx(pg,{section:t,searchTerm:e,onItemClick:m},t.id))})]})]})});fg.displayName="Frota";const gg={"qualidade-container":"_qualidade-container_md6hu_7",qualidade:"_qualidade_md6hu_7","qualidade-header":"_qualidade-header_md6hu_59","qualidade-header-content":"_qualidade-header-content_md6hu_71","qualidade-header-flex":"_qualidade-header-flex_md6hu_83","qualidade-header-left":"_qualidade-header-left_md6hu_95","qualidade-icon-container":"_qualidade-icon-container_md6hu_107","qualidade-icon":"_qualidade-icon_md6hu_107","qualidade-title":"_qualidade-title_md6hu_137","qualidade-subtitle":"_qualidade-subtitle_md6hu_151","qualidade-badge":"_qualidade-badge_md6hu_163","qualidade-main":"_qualidade-main_md6hu_193","qualidade-cards-grid":"_qualidade-cards-grid_md6hu_207","qualidade-card":"_qualidade-card_md6hu_207","qualidade-card-header":"_qualidade-card-header_md6hu_245","qualidade-card-icon":"_qualidade-card-icon_md6hu_259","qualidade-card-change":"_qualidade-card-change_md6hu_285","qualidade-card-value":"_qualidade-card-value_md6hu_299","qualidade-card-title":"_qualidade-card-title_md6hu_313","bg-green-100":"_bg-green-100_md6hu_327","text-green-800":"_text-green-800_md6hu_329","bg-orange-100":"_bg-orange-100_md6hu_331","text-orange-800":"_text-orange-800_md6hu_333","bg-blue-100":"_bg-blue-100_md6hu_335","text-blue-800":"_text-blue-800_md6hu_337","bg-red-100":"_bg-red-100_md6hu_339","text-red-800":"_text-red-800_md6hu_341","bg-gray-100":"_bg-gray-100_md6hu_343","text-gray-800":"_text-gray-800_md6hu_345","qualidade-menu-grid":"_qualidade-menu-grid_md6hu_351","qualidade-section-card":"_qualidade-section-card_md6hu_363","qualidade-section-header":"_qualidade-section-header_md6hu_389","qualidade-section-header-content":"_qualidade-section-header-content_md6hu_429","qualidade-section-title":"_qualidade-section-title_md6hu_445","qualidade-section-subtitle":"_qualidade-section-subtitle_md6hu_457","qualidade-section-icon":"_qualidade-section-icon_md6hu_471","bg-green-500":"_bg-green-500_md6hu_483","bg-green-600":"_bg-green-600_md6hu_485","qualidade-section-body":"_qualidade-section-body_md6hu_491","qualidade-section-items":"_qualidade-section-items_md6hu_499","qualidade-section-item":"_qualidade-section-item_md6hu_499","qualidade-section-item-icon":"_qualidade-section-item-icon_md6hu_547","qualidade-section-item-text":"_qualidade-section-item-text_md6hu_597","qualidade-status":"_qualidade-status_md6hu_619","qualidade-status-header":"_qualidade-status-header_md6hu_635","qualidade-status-title":"_qualidade-status-title_md6hu_649","qualidade-status-trend":"_qualidade-status-trend_md6hu_663","qualidade-status-trend-text":"_qualidade-status-trend-text_md6hu_687","qualidade-status-grid":"_qualidade-status-grid_md6hu_697","qualidade-status-item":"_qualidade-status-item_md6hu_709","qualidade-status-item-icon":"_qualidade-status-item-icon_md6hu_717","qualidade-status-item-title":"_qualidade-status-item-title_md6hu_741","qualidade-status-item-value":"_qualidade-status-item-value_md6hu_753","text-green-600":"_text-green-600_md6hu_767","text-blue-600":"_text-blue-600_md6hu_769","text-orange-600":"_text-orange-600_md6hu_771","text-purple-600":"_text-purple-600_md6hu_773","qualidade-search-toggle":"_qualidade-search-toggle_md6hu_899","qualidade-search-input":"_qualidade-search-input_md6hu_957","qualidade-header-actions":"_qualidade-header-actions_md6hu_977","qualidade-search-bar":"_qualidade-search-bar_md6hu_1027","search-highlight":"_search-highlight_md6hu_1035",highlightPulse:"_highlightPulse_md6hu_1","qualidade-clear-search-btn":"_qualidade-clear-search-btn_md6hu_1039","qualidade-search-results-title":"_qualidade-search-results-title_md6hu_1065","qualidade-search-clear":"_qualidade-search-clear_md6hu_1075","qualidade-search-info":"_qualidade-search-info_md6hu_1095","qualidade-search-icon":"_qualidade-search-icon_md6hu_1151","qualidade-search-container":"_qualidade-search-container_md6hu_1167","qualidade-filter-icon":"_qualidade-filter-icon_md6hu_1177","qualidade-search-input-wrapper":"_qualidade-search-input-wrapper_md6hu_1185","qualidade-search-results":"_qualidade-search-results_md6hu_1065",slideDown:"_slideDown_md6hu_1"},xg=f.memo(({card:e})=>p.jsxs("div",{className:`${gg["qualidade-card"]} ${gg[`card-${e.trend}`]}`,children:[p.jsxs("div",{className:gg["qualidade-card-header"],children:[p.jsx("div",{className:`${gg["qualidade-card-icon"]} ${e.color}`,children:p.jsx(e.icon,{})}),p.jsx("span",{className:`${gg["qualidade-card-change"]} ${e.change.startsWith("+")?`${gg["bg-green-100"]} ${gg["text-green-800"]}`:e.change.startsWith("-")?`${gg["bg-red-100"]} ${gg["text-red-800"]}`:`${gg["bg-gray-100"]} ${gg["text-gray-800"]}`}`,children:e.change})]}),p.jsx("h3",{className:gg["qualidade-card-value"],children:e.value}),p.jsx("p",{className:gg["qualidade-card-title"],children:e.title}),p.jsx("div",{className:gg["qualidade-card-trend"],children:p.jsx(Ui,{className:gg[`trend-${e.trend}`]})})]})),vg=f.memo(({item:e,onItemClick:t})=>{const a=f.useCallback(()=>{t(e.name)},[e.name,t]);return p.jsxs("button",{className:gg["qualidade-section-item"],onClick:a,title:e.description,children:[p.jsx("div",{className:gg["qualidade-section-item-icon"],children:p.jsx(e.icon,{})}),p.jsxs("div",{className:gg["qualidade-section-item-content"],children:[p.jsx("span",{className:gg["qualidade-section-item-text"],children:e.name}),p.jsx("span",{className:gg["qualidade-section-item-description"],children:e.description})]})]})}),bg=f.memo(({section:e,searchTerm:t,onItemClick:a})=>p.jsxs("div",{className:`${gg["qualidade-section-card"]} ${t?gg["search-highlight"]:""}`,children:[p.jsx("div",{className:`${gg["qualidade-section-header"]} ${e.color}`,children:p.jsxs("div",{className:gg["qualidade-section-header-content"],children:[p.jsxs("div",{children:[p.jsx("h3",{className:gg["qualidade-section-title"],children:e.title}),p.jsxs("p",{className:gg["qualidade-section-subtitle"],children:[e.items.length," opções disponíveis"]}),p.jsx("span",{className:gg["qualidade-section-category"],children:e.category})]}),p.jsx(e.icon,{className:gg["qualidade-section-icon"]})]})}),p.jsx("div",{className:gg["qualidade-section-body"],children:p.jsx("div",{className:gg["qualidade-section-items"],children:e.items.map((t,r)=>p.jsx(vg,{item:t,onItemClick:a},`${e.id}-${r}`))})})]})),yg=f.memo(()=>{const[e,t]=f.useState(""),[a,r]=f.useState(!1),n=f.useMemo(()=>[{id:"planilhas",title:"Planilhas Certificadas",icon:Sn,color:gg["bg-green-500"],category:"documentos",items:[{name:"Criar Planilha",icon:Mn,description:" Criar Planilha Certificada"},{name:"Visualizar ou Preencher",icon:Nn,description:"Consultar Dados das Planilhas"}]},{id:"pesquisa",title:"Pesquisa de Satisfação",icon:ri,color:gg["bg-green-600"],category:"pesquisas",items:[{name:"Cadastrar Pesquisa",icon:vi,description:"Criar nova pesquisa de satisfação"},{name:"Visualizar Pesquisa",icon:Nn,description:"Ver resultados das pesquisas"}]},{id:"copias",title:"Cópias Controladas",icon:kn,color:gg["bg-green-500"],category:"documentos",items:[{name:"Registro",icon:$r,description:"Registrar cópias controladas"},{name:"Manifestação",icon:ri,description:"Gerenciar manifestações"},{name:"Visualizar",icon:Nn,description:"Consultar cópias registradas"}]},{id:"acreditacao",title:"Acreditação",icon:Ir,color:gg["bg-green-600"],category:"certificações",items:[{name:"Cadastro",icon:vi,description:"Cadastrar nova acreditação"},{name:"Escopo",icon:Mn,description:"Definir escopo de acreditação"}]},{id:"fornecedor",title:"Fornecedor",icon:Yi,color:gg["bg-green-500"],category:"fornecedores",items:[{name:"Cadastrar Fornecedor",icon:vi,description:"Adicionar novo fornecedor"},{name:"Visualizar Fornecedor",icon:Nn,description:"Consultar dados dos fornecedores"},{name:"Visualizar Qualificações",icon:Pi,description:"Ver qualificações dos fornecedores"}]},{id:"cabecalho",title:"Cabeçalho",icon:Oi,color:gg["bg-green-600"],category:"configurações",items:[{name:"Cadastro",icon:vi,description:"Configurar cabeçalhos"},{name:"Padrão",icon:Mn,description:"Definir padrões de cabeçalho"}]},{id:"estoque",title:"Estoque",icon:hi,color:gg["bg-green-500"],category:"estoque",items:[{name:"Cadastrar",icon:vi,description:"Adicionar itens ao estoque"},{name:"Gerenciar",icon:Oi,description:"Gerenciar estoque existente"}]},{id:"orcamento",title:"Orçamento",icon:bn,color:gg["bg-green-600"],category:"financeiro",items:[{name:"Criar Orçamento",icon:vi,description:"Elaborar novo orçamento"},{name:"Visualizar",icon:Nn,description:"Consultar orçamentos existentes"}]},{id:"rastreabilidade",title:"Rastreabilidade",icon:Mi,color:gg["bg-green-500"],category:"controle",items:[{name:"Rastrear Produtos",icon:Mi,description:"Rastrear produtos no sistema"},{name:"Histórico",icon:Mn,description:"Consultar histórico de rastreamento"}]},{id:"sac",title:"SAC",icon:gi,color:gg["bg-green-600"],category:"atendimento",items:[{name:"Fale Conosco",icon:ri,description:"Canal de comunicação"},{name:"Atendimentos",icon:as,description:"Gerenciar atendimentos"}]}],[]),i=f.useMemo(()=>[{title:"Pesquisas",value:"24",change:"+12%",icon:ri,color:`${gg["bg-green-100"]} ${gg["text-green-800"]}`,trend:"positive"},{title:"Manifestações",value:"8",change:"-3%",icon:Ki,color:`${gg["bg-orange-100"]} ${gg["text-orange-800"]}`,trend:"negative"},{title:"Qualificações de Fornecedores",value:"156",change:"+8%",icon:Pi,color:`${gg["bg-blue-100"]} ${gg["text-blue-800"]}`,trend:"positive"},{title:"Estoque Baixo",value:"12",change:"+2",icon:hi,color:`${gg["bg-red-100"]} ${gg["text-red-800"]}`,trend:"warning"},{title:"Controle de Insumos",value:"89%",change:"+5%",icon:Br,color:`${gg["bg-green-100"]} ${gg["text-green-800"]}`,trend:"positive"}],[]),s=f.useMemo(()=>{if(!e.trim())return n;const t=e.toLowerCase();return n.filter(e=>{const a=e.title.toLowerCase().includes(t),r=e.category.toLowerCase().includes(t),n=e.items.some(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t));return a||r||n})},[e,n]),o=f.useCallback(()=>{t(""),r(!1)},[]),l=f.useCallback(()=>{r(e=>!e),a&&t("")},[a]),c=f.useCallback(e=>{t(e.target.value)},[]),d=f.useCallback(e=>{switch(e){case"Visualizar ou Preencher":case"Cadastrar Fornecedor":case"Visualizar Pesquisa":default:break;case"Criar Planilha":tp.openCreatePlanilha()}},[]);return p.jsxs("div",{className:gg["qualidade-container"],children:[p.jsx("header",{className:gg["qualidade-header"],children:p.jsx("div",{className:gg["qualidade-header-content"],children:p.jsxs("div",{className:gg["qualidade-header-flex"],children:[p.jsxs("div",{className:gg["qualidade-header-left"],children:[p.jsx("div",{className:gg["qualidade-icon-container"],children:p.jsx(Pi,{className:gg["qualidade-icon"]})}),p.jsxs("div",{children:[p.jsx("h1",{className:gg["qualidade-title"],children:"Qualidade"}),p.jsx("p",{className:gg["qualidade-subtitle"],children:"Controle e Gestão da Qualidade"})]})]}),p.jsx("div",{className:gg["qualidade-header-actions"],children:p.jsx("button",{className:gg["qualidade-search-toggle"],onClick:l,title:"Pesquisar","aria-label":"Alternar pesquisa",children:p.jsx(Mi,{})})})]})})}),a&&p.jsx("div",{className:gg["qualidade-search-bar"],children:p.jsxs("div",{className:gg["qualidade-search-container"],children:[p.jsxs("div",{className:gg["qualidade-search-input-wrapper"],children:[p.jsx(Mi,{className:gg["qualidade-search-icon"]}),p.jsx("input",{type:"text",placeholder:"Pesquisar por módulos, funcionalidades ou categorias...",value:e,onChange:c,className:gg["qualidade-search-input"],autoFocus:!0,"aria-label":"Campo de pesquisa"}),e&&p.jsx("button",{onClick:o,className:gg["qualidade-search-clear"],title:"Limpar pesquisa","aria-label":"Limpar pesquisa",children:p.jsx(ss,{})})]}),p.jsxs("div",{className:gg["qualidade-search-info"],children:[p.jsx(zn,{className:gg["qualidade-filter-icon"]}),p.jsxs("span",{children:[s.length," de ",n.length," módulos encontrados"]})]})]})}),p.jsxs("div",{className:gg["qualidade-main"],children:[p.jsx("div",{className:gg["qualidade-cards-grid"],children:i.map((e,t)=>p.jsx(xg,{card:e},`card-${t}`))}),e&&p.jsxs("div",{className:gg["qualidade-search-results"],children:[p.jsxs("h3",{className:gg["qualidade-search-results-title"],children:['Resultados da pesquisa para "',e,'"']}),0===s.length&&p.jsxs("div",{className:gg["qualidade-no-results"],children:[p.jsx(Mi,{className:gg["qualidade-no-results-icon"]}),p.jsx("p",{children:"Nenhum módulo encontrado para sua pesquisa."}),p.jsx("button",{onClick:o,className:gg["qualidade-clear-search-btn"],children:"Limpar pesquisa"})]})]}),p.jsx("div",{className:gg["qualidade-menu-grid"],children:s.map(t=>p.jsx(bg,{section:t,searchTerm:e,onItemClick:d},t.id))}),p.jsxs("div",{className:gg["qualidade-status"],children:[p.jsxs("div",{className:gg["qualidade-status-header"],children:[p.jsx("h3",{className:gg["qualidade-status-title"],children:"Status Geral do Sistema"}),p.jsxs("div",{className:gg["qualidade-status-trend"],children:[p.jsx(Ui,{}),p.jsx("span",{className:gg["qualidade-status-trend-text"],children:"Tendência Positiva"})]})]}),p.jsxs("div",{className:gg["qualidade-status-grid"],children:[p.jsxs("div",{className:gg["qualidade-status-item"],children:[p.jsx("div",{className:`${gg["qualidade-status-item-icon"]} ${gg["bg-green-100"]}`,children:p.jsx(Xr,{className:gg["text-green-600"]})}),p.jsx("h4",{className:gg["qualidade-status-item-title"],children:"Conformidade"}),p.jsx("p",{className:`${gg["qualidade-status-item-value"]} ${gg["text-green-600"]}`,children:"94%"}),p.jsx("div",{className:gg["qualidade-status-progress"],children:p.jsx("div",{className:`${gg["qualidade-status-progress-bar"]} ${gg["progress-green"]}`,style:{width:"94%"}})})]}),p.jsxs("div",{className:gg["qualidade-status-item"],children:[p.jsx("div",{className:`${gg["qualidade-status-item-icon"]} ${gg["bg-blue-100"]}`,children:p.jsx(as,{className:gg["text-blue-600"]})}),p.jsx("h4",{className:gg["qualidade-status-item-title"],children:"Satisfação"}),p.jsx("p",{className:`${gg["qualidade-status-item-value"]} ${gg["text-blue-600"]}`,children:"87%"}),p.jsx("div",{className:gg["qualidade-status-progress"],children:p.jsx("div",{className:`${gg["qualidade-status-progress-bar"]} ${gg["progress-blue"]}`,style:{width:"87%"}})})]}),p.jsxs("div",{className:gg["qualidade-status-item"],children:[p.jsx("div",{className:`${gg["qualidade-status-item-icon"]} ${gg["bg-orange-100"]}`,children:p.jsx(Ki,{className:gg["text-orange-600"]})}),p.jsx("h4",{className:gg["qualidade-status-item-title"],children:"Pendências"}),p.jsx("p",{className:`${gg["qualidade-status-item-value"]} ${gg["text-orange-600"]}`,children:"6"}),p.jsx("div",{className:gg["qualidade-status-progress"],children:p.jsx("div",{className:`${gg["qualidade-status-progress-bar"]} ${gg["progress-orange"]}`,style:{width:"20%"}})})]}),p.jsxs("div",{className:gg["qualidade-status-item"],children:[p.jsx("div",{className:`${gg["qualidade-status-item-icon"]} ${gg["bg-purple-100"]}`,children:p.jsx(Ir,{className:gg["text-purple-600"]})}),p.jsx("h4",{className:gg["qualidade-status-item-title"],children:"Certificações"}),p.jsx("p",{className:`${gg["qualidade-status-item-value"]} ${gg["text-purple-600"]}`,children:"12"}),p.jsx("div",{className:gg["qualidade-status-progress"],children:p.jsx("div",{className:`${gg["qualidade-status-progress-bar"]} ${gg["progress-purple"]}`,style:{width:"100%"}})})]})]})]})]})]})});yg.displayName="Qualidade";const _g="_formulario-cliente-container_olzbs_9",jg="_formulario-titulo_olzbs_61",wg="_guias-container_olzbs_79",Ng="_guias-header_olzbs_95",Cg="_guia-btn_olzbs_107",kg="_ativa_olzbs_155",Sg="_guia-conteudo_olzbs_187",Mg="_formulario-conteudo_olzbs_199",Eg="_form-grid_olzbs_207",Og="_form-group_olzbs_221",Pg="_full-width_olzbs_233",Ag="_erro-texto_olzbs_313",Dg="_radio-group_olzbs_339",Ig="_radio-label_olzbs_351",Tg="_checkbox-grid_olzbs_383",zg="_checkbox-label_olzbs_397",Rg="_categoria-item_olzbs_457",Lg="_cobranca-header_olzbs_479",$g="_btn-copiar_olzbs_511",Bg="_contatos-header_olzbs_553",qg="_btn-adicionar_olzbs_581",Fg="_contatos-lista_olzbs_621",Wg="_contato-item_olzbs_633",Gg="_contato-header_olzbs_659",Hg="_btn-remover_olzbs_691",Vg="_sem-contatos_olzbs_729",Ug="_formulario-acoes_olzbs_753",Kg="_btn-cancelar_olzbs_773",Yg="_btn-salvar_olzbs_775",Xg="_mini-painel-setores-contato_olzbs_1067",Jg="_mini-painel-header-contato_olzbs_1097",Zg="_mini-painel-titulo_olzbs_1115",Qg="_contador-setores-contato_olzbs_1129",ex="_mini-painel-conteudo-contato_olzbs_1155",tx="_mini-setor-item-contato_olzbs_1169",ax="_mini-setor-nome-contato_olzbs_1287",rx=()=>{const[e,t]=f.useState({isOpen:!1,type:"success",title:"",message:""});return{modal:e,showSuccess:(e,a)=>{t({isOpen:!0,type:"success",title:e,message:a})},showError:(e,a)=>{t({isOpen:!0,type:"error",title:e,message:a})},showWarning:(e,a)=>{t({isOpen:!0,type:"warning",title:e,message:a})},showConfirm:(e,a,r)=>{t({isOpen:!0,type:"confirm",title:e,message:a,onConfirm:r})},closeModal:()=>{t(e=>({...e,isOpen:!1}))}}},nx={"modal-overlay":"_modal-overlay_1gnaa_1","modal-content":"_modal-content_1gnaa_27","modal-icon":"_modal-icon_1gnaa_47","modal-button":"_modal-button_1gnaa_79","modal-success":"_modal-success_1gnaa_109","modal-error":"_modal-error_1gnaa_125","modal-warning":"_modal-warning_1gnaa_141","modal-buttons":"_modal-buttons_1gnaa_161","modal-button-cancel":"_modal-button-cancel_1gnaa_173","modal-button-confirm":"_modal-button-confirm_1gnaa_203"},ix=({isOpen:e,onClose:t,type:a,title:r,message:n,onConfirm:i})=>{if(!e)return null;const s="success"===a?p.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#22c55e"}),p.jsx("path",{d:"M9 12l2 2 4-4",stroke:"white",strokeWidth:"2",fill:"none"})]}):"error"===a?p.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#ef4444"}),p.jsx("path",{d:"M15 9l-6 6M9 9l6 6",stroke:"white",strokeWidth:"2"})]}):"warning"===a?p.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#facc15"}),p.jsx("path",{d:"M12 7v5",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),p.jsx("circle",{cx:"12",cy:"16",r:"1",fill:"white"})]}):"confirm"===a?p.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#f50b0bff"}),p.jsx("path",{d:"M12 7v5",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),p.jsx("circle",{cx:"12",cy:"16",r:"1",fill:"white"})]}):null;return p.jsx("div",{className:nx["modal-overlay"],onClick:t,children:p.jsxs("div",{className:`${nx["modal-content"]} ${nx[`modal-${a}`]}`,onClick:e=>e.stopPropagation(),children:[p.jsx("div",{className:nx["modal-icon"],children:s}),p.jsx("h3",{children:r}),p.jsx("p",{children:n}),"confirm"===a?p.jsxs("div",{className:nx["modal-buttons"],children:[p.jsx("button",{onClick:t,className:nx["modal-button-cancel"],children:"Não"}),p.jsx("button",{onClick:i,className:nx["modal-button-confirm"],children:"Sim"})]}):p.jsx("button",{onClick:t,className:nx["modal-button"],children:"OK"})]})})},sx="_custom-select_8xsbk_1",ox="_select-arrow_8xsbk_9",lx="_select-trigger_8xsbk_21",cx="_open_8xsbk_59",dx="_placeholder_8xsbk_71",ux="_selected_8xsbk_81",hx="_select-option_8xsbk_99",mx="_select-dropdown_8xsbk_139",px=({value:e,onChange:t,options:a,placeholder:r})=>{const[n,i]=f.useState(!1),s=f.useRef(null);f.useEffect(()=>{const e=e=>{s.current&&!s.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const o=a.find(t=>t.value===e);return p.jsxs("div",{className:sx,ref:s,children:[p.jsxs("div",{className:`${lx} ${n?`${cx}`:""}`,onClick:()=>i(!n),children:[p.jsx("span",{className:o?`${ux}`:`${dx}`,children:o?o.label:r||"Selecione"}),p.jsx(L,{className:ox})]}),n&&p.jsxs("div",{className:mx,children:[r&&p.jsx("div",{className:`${hx} ${dx}`,onClick:()=>{t(""),i(!1)},children:r}),a.map(a=>p.jsx("div",{className:`${hx} ${e===a.value?`${ux} `:""}`,onClick:()=>{t(a.value),i(!1)},children:a.label},a.value))]})]})},fx=({value:e,onChange:t,id:a})=>{const r=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"].map(e=>({value:e,label:e}));return p.jsx(px,{id:a,value:e,onChange:t,options:r,placeholder:"Selecione..."})},gx=({value:e,onChange:t,consultores:a,id:r})=>{const n=a.filter(e=>e.ativo).map(e=>({value:e.id.toString(),label:`${e.nome} - ${e.documento}`}));return p.jsx(px,{id:r,value:e?.toString()||"",onChange:e=>t(e?Number(e):null),options:n,placeholder:"Selecione um consultor..."})},xx=({value:e,onChange:t,id:a})=>{const r=[],n=(new Date).getFullYear(),i=n-100;for(let s=n;s>=i;s--)r.push({value:String(s),label:String(s)});return p.jsx(px,{id:a,value:e,onChange:t,options:r})},vx="_datePickerContainer_cq3e7_3",bx="_inputContainer_cq3e7_17",yx="_dateInput_cq3e7_31",_x="_calendarIcon_cq3e7_95",jx="_calendarContainer_cq3e7_153",wx="_calendarBottom_cq3e7_181",Nx="_calendarTop_cq3e7_189",Cx="_calendarHeader_cq3e7_221",kx="_navButton_cq3e7_239",Sx="_monthYearContainer_cq3e7_281",Mx="_monthName_cq3e7_293",Ex="_calendarWeekdays_cq3e7_353",Ox="_weekday_cq3e7_367",Px="_calendarGrid_cq3e7_385",Ax="_calendarDay_cq3e7_397",Dx="_calendarDayClickable_cq3e7_421",Ix="_calendarDaySelected_cq3e7_443",Tx="_calendarDayToday_cq3e7_457",zx=({value:e,onChange:t,placeholder:a="dd/mm/aaaa",disabled:r=!1,className:n="",id:i})=>{const[s,o]=f.useState(!1),[l,c]=f.useState(""),[d,u]=f.useState((new Date).getMonth()),[h,m]=f.useState((new Date).getFullYear()),[g,x]=f.useState(null),[v,b]=f.useState("bottom"),y=f.useRef(null),_=f.useRef(null),j=f.useRef(null),w=e=>{if(!e)return"";const t=new Date(e+"T00:00:00");return isNaN(t.getTime())?"":t.toLocaleDateString("pt-BR")},N=e=>{if(!e)return"";const t=e.split("/");if(3!==t.length)return"";const a=parseInt(t[0]),r=parseInt(t[1]),n=parseInt(t[2]);if(C(a,r,n)){return new Date(n,r-1,a).toISOString().split("T")[0]}return""},C=(e,t,a)=>{if(e<1||e>31||t<1||t>12||a<1900||a>2100)return!1;const r=new Date(a,t-1,e);return r.getFullYear()===a&&r.getMonth()===t-1&&r.getDate()===e};f.useEffect(()=>{if(e){const t=w(e);c(t);const a=new Date(e+"T00:00:00");isNaN(a.getTime())||(x(a),u(a.getMonth()),m(a.getFullYear()))}else c(""),x(null)},[e]);f.useEffect(()=>{const e=e=>{y.current&&!y.current.contains(e.target)&&o(!1)};return s&&(document.addEventListener("mousedown",e),(()=>{if(!y.current)return;const e=y.current.getBoundingClientRect(),t=window.innerHeight;e.bottom+350>t&&e.top>350?b("top"):b("bottom")})()),()=>{document.removeEventListener("mousedown",e)}},[s]);const k=e=>{const a=new Date(h,d,e);x(a);const r=a.toISOString().split("T")[0];t(r),c(w(r)),o(!1)},S=e=>{"prev"===e?0===d?(u(11),m(h-1)):u(d-1):11===d?(u(0),m(h+1)):u(d+1)};return p.jsxs("div",{className:`${vx} ${n}`,ref:y,children:[p.jsxs("div",{className:bx,children:[p.jsx("input",{ref:j,id:i,type:"text",value:l,onChange:e=>{const a=(e=>{const t=e.replace(/\D/g,"");return t.length<=2?t:t.length<=4?`${t.slice(0,2)}/${t.slice(2)}`:`${t.slice(0,2)}/${t.slice(2,4)}/${t.slice(4,8)}`})(e.target.value);if(c(a),10===a.length){const e=N(a);if(e){t(e);const a=new Date(e+"T00:00:00");x(a),u(a.getMonth()),m(a.getFullYear())}}else""===a&&(t(""),x(null))},onBlur:()=>{if(l&&10===l.length){N(l)||(c(""),t(""),x(null))}},placeholder:a,disabled:r,className:yx,maxLength:10}),p.jsx("button",{type:"button",className:_x,onClick:()=>{r||o(!s)},disabled:r,children:p.jsx(T,{})})]}),s&&p.jsxs("div",{className:`${jx} ${"top"===v?Nx:wx}`,ref:_,children:[p.jsxs("div",{className:Cx,children:[p.jsx("button",{type:"button",className:kx,onClick:()=>S("prev"),children:p.jsx($,{})}),p.jsxs("div",{className:Sx,children:[p.jsx("span",{className:Mx,children:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][d]}),p.jsx(xx,{id:"year-select",value:String(h),onChange:e=>{return t=Number(e),void m(t);var t}})]}),p.jsx("button",{type:"button",className:kx,onClick:()=>S("next"),children:p.jsx(B,{})})]}),p.jsx("div",{className:Ex,children:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"].map(e=>p.jsx("div",{className:Ox,children:e},e))}),p.jsx("div",{className:Px,children:(()=>{const e=new Date(h,d+1,0).getDate();const t=((e,t)=>new Date(t,e,1).getDay())(d,h),a=[];for(let r=0;r<t;r++)a.push(p.jsx("div",{className:Ax},`empty-${r}`));for(let r=1;r<=e;r++){const e=g&&g.getDate()===r&&g.getMonth()===d&&g.getFullYear()===h,t=(new Date).getDate()===r&&(new Date).getMonth()===d&&(new Date).getFullYear()===h;a.push(p.jsx("div",{className:`${Ax} ${Dx} ${e?Ix:""} ${t?Tx:""}`,onClick:()=>k(r),children:r},r))}return a})()})]})]})},Rx=e=>{const t=e.replace(/\D/g,"");let a;return a=t.length<=10?t.replace(/(\d{2})(\d)/,"($1)$2").replace(/(\d{4})(\d)/,"$1-$2"):t.replace(/(\d{2})(\d)/,"($1)$2").replace(/(\d{5})(\d)/,"$1-$2"),a.slice(0,14)},Lx=e=>{const t=e.replace(/\D/g,"");return t.length<=11?"CPF":t.length>11?"CNPJ":"nenhum"},$x=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),Bx=()=>{const{modal:e,showError:t,showSuccess:a,showWarning:n,closeModal:i}=rx(),[c,d]=f.useState("geral"),[u,h]=f.useState(null),[m,g]=f.useState(null),[x,v]=f.useState(null),[b,y]=f.useState(!1),[_,j]=f.useState({tipoDocumento:"CPF",documento:"",fantasia:"",razao:"",tipoRegistro:"RG",registro:"",cep:"",endereco:"",numero:"",bairro:"",cidade:"",uf:"",telefone:"",celular:"",email:"",site:"",observacao:"",consultorId:null,setoresPortal:[],ativo:!0}),[w,N]=f.useState({tipoDocumento:"CPF",documento:"",fantasia:"",razao:"",tipoRegistro:"RG",registro:"",cep:"",endereco:"",numero:"",bairro:"",cidade:"",uf:"",telefone:"",celular:"",email:"",site:"",observacao:""}),[C,k]=f.useState([]),[S,M]=f.useState([]),[E,O]=f.useState([]),[P,D]=f.useState([]),[I,T]=f.useState([]),[z,R]=f.useState({}),L=()=>{N({tipoDocumento:_.tipoDocumento,documento:_.documento,fantasia:_.fantasia,razao:_.razao,tipoRegistro:_.tipoRegistro,registro:_.registro,cep:_.cep,endereco:_.endereco,numero:_.numero,bairro:_.bairro,cidade:_.cidade,uf:_.uf,telefone:_.telefone,celular:_.celular,email:_.email,site:_.site,observacao:_.observacao})},$=(e,t,a="geral")=>{const r=`${"cobranca"===a?"cobranca_":""}${e}`;let n="";switch(e){case"documento":const e="cobranca"===a?w.tipoDocumento:_.tipoDocumento;"nenhum"!==e&&t&&("CPF"!==e||(e=>{const t=e.replace(/\D/g,"");if(11!==t.length)return!1;if(/^(\d)\1{10}$/.test(t))return!1;let a=0;for(let n=0;n<9;n++)a+=parseInt(t.charAt(n))*(10-n);let r=11-a%11;if(10!==r&&11!==r||(r=0),r!==parseInt(t.charAt(9)))return!1;a=0;for(let n=0;n<10;n++)a+=parseInt(t.charAt(n))*(11-n);return r=11-a%11,10!==r&&11!==r||(r=0),r===parseInt(t.charAt(10))})(t)?"CNPJ"!==e||(e=>{const t=e.replace(/\D/g,"");if(14!==t.length)return!1;if(/^(\d)\1{13}$/.test(t))return!1;let a=t.length-2,r=t.substring(0,a),n=t.substring(a),i=0,s=a-7;for(let l=a;l>=1;l--)i+=parseInt(r.charAt(a-l))*s--,s<2&&(s=9);let o=i%11<2?0:11-i%11;if(o!==parseInt(n.charAt(0)))return!1;a+=1,r=t.substring(0,a),i=0,s=a-7;for(let l=a;l>=1;l--)i+=parseInt(r.charAt(a-l))*s--,s<2&&(s=9);return o=i%11<2?0:11-i%11,o===parseInt(n.charAt(1))})(t)||(n="CNPJ inválido"):n="CPF inválido");break;case"email":t&&!$x(t)&&(n="Email inválido");break;case"cep":t&&8!==t.replace(/\D/g,"").length&&(n="CEP deve ter 8 dígitos")}return R(e=>({...e,[r]:n})),n},B=(e,t="geral")=>{let a=e;const r=Lx(e);"CPF"===r?a=(e=>e.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"))(e):"CNPJ"===r&&(a=(e=>e.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"))(e)),"cobranca"===t?N({...w,documento:a,tipoDocumento:r}):j({..._,documento:a,tipoDocumento:r}),$("documento",a,t)},q=(e,t,a="geral")=>{const r=Rx(e);"cobranca"===a?N({...w,[t]:r}):j({..._,[t]:r})},F=(e,t="geral")=>{const a=(e=>e.replace(/\D/g,"").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{3})\d+?$/,"$1"))(e);"cobranca"===t?N({...w,cep:a}):j({..._,cep:a}),$("cep",a,t)};f.useEffect(()=>{(async()=>{try{const e=await r("cliente_categoria");e.success&&e.data&&O(e.data);const t=await r("consultor");t.success&&t.data&&D(t.data);const a=await r("setor_portal");a.success&&a.data&&T(a.data)}catch(e){}})();let e;return(async()=>{try{return await s("category-updated",async()=>{try{const e=await r("cliente_categoria");e.success&&e.data&&O(e.data)}catch(e){}})}catch(e){}})().then(t=>{e=t}),()=>{e&&e()}},[]),f.useEffect(()=>{let e;return(async()=>{try{e=await s("window-data",e=>{const t=e.payload;t&&G(t)}),await o("window-ready")}catch(t){}})(),()=>{e&&e()}},[]);const G=e=>{try{if("cliente_precadastro"===e.origem&&e.id){v(e.id),y(!0);const t=async e=>{try{const t=await r("get_cliente_data",{clientId:e});if(t.success&&t.data){const e=t.data;j({tipoDocumento:e.dados_gerais.tipo_documento||"CPF",documento:e.dados_gerais.documento||"",fantasia:e.dados_gerais.fantasia||"",razao:e.dados_gerais.razao||"",tipoRegistro:e.dados_gerais.tipo_registro||"RG",registro:e.dados_gerais.registro||"",cep:e.dados_gerais.cep||"",endereco:e.dados_gerais.endereco||"",numero:e.dados_gerais.numero||"",bairro:e.dados_gerais.bairro||"",cidade:e.dados_gerais.cidade||"",uf:e.dados_gerais.uf||"",telefone:e.dados_gerais.telefone||"",celular:e.dados_gerais.celular||"",email:e.dados_gerais.email||"",site:e.dados_gerais.site||"",observacao:e.dados_gerais.observacao||"",consultorId:e.dados_gerais.consultor_id||null,setoresPortal:e.dados_gerais.setores_portal||[],ativo:void 0===e.dados_gerais.ativo||e.dados_gerais.ativo}),N({tipoDocumento:e.dados_cobranca.tipo_documento||"CPF",documento:e.dados_cobranca.documento||"",fantasia:e.dados_cobranca.fantasia||"",razao:e.dados_cobranca.razao||"",tipoRegistro:e.dados_cobranca.tipo_registro||"RG",registro:e.dados_cobranca.registro||"",cep:e.dados_cobranca.cep||"",endereco:e.dados_cobranca.endereco||"",numero:e.dados_cobranca.numero||"",bairro:e.dados_cobranca.bairro||"",cidade:e.dados_cobranca.cidade||"",uf:e.dados_cobranca.uf||"",telefone:e.dados_cobranca.telefone||"",celular:e.dados_cobranca.celular||"",email:e.dados_cobranca.email||"",site:e.dados_cobranca.site||"",observacao:e.dados_cobranca.observacao||""}),k(e.categorias||[]),M(e.contatos_existentes.map(e=>({id:e.id.toString(),nome:e.nome||"",cargo:e.cargo||"",email:e.email||"",telefone:e.telefone||"",dataNascimento:e.data_nascimento?e.data_nascimento.split("T")[0]:"",setoresContato:e.setores_contato||[]})))}}catch(t){}};t(e.id)}else{const t=e.documento?Lx(e.documento):"CPF";j(a=>({...a,fantasia:e.nome_cliente||"",razao:e.nome_cliente||"",documento:e.documento||"",telefone:e.telefone||"",email:e.email||"",tipoDocumento:t})),h(e.origem),g(e.id)}}catch(t){}},H=()=>{const e={id:`new_${Date.now()}`,nome:"",cargo:"",email:"",telefone:"",dataNascimento:"",setoresContato:[]};M([...S,e])},V=(e,t,a)=>{let r=a;if("telefone"===t&&(r=Rx(a)),M(S.map(a=>a.id===e?{...a,[t]:r}:a)),"email"===t&&a){const t=`contato_${e}_email`,r=$x(a)?"":"Email inválido";R(e=>({...e,[t]:r}))}},U=f.useCallback(async()=>{try{await tp.openCadastrarCategoria()}catch(e){}},[]);return p.jsxs("div",{className:_g,children:[p.jsx("h1",{className:jg,children:"Cadastro de Cliente"}),p.jsxs("div",{className:wg,children:[p.jsxs("div",{className:Ng,children:[p.jsxs("button",{className:`${Cg} ${"geral"===c?kg:""}`,onClick:()=>d("geral"),children:[p.jsx(_e,{})," Dados Gerais"]}),p.jsxs("button",{className:`${Cg} ${"cobranca"===c?kg:""}`,onClick:()=>d("cobranca"),children:[p.jsx(ae,{})," Cobrança"]}),p.jsxs("button",{className:`${Cg} ${"categorias"===c?kg:""}`,onClick:()=>d("categorias"),children:[p.jsx(me,{})," Categorias"]}),p.jsxs("button",{className:`${Cg} ${"contatos"===c?kg:""}`,onClick:()=>d("contatos"),children:[p.jsx(A,{})," Contatos"]})]}),p.jsxs("div",{className:Sg,children:["geral"===c&&p.jsx("div",{className:Mg,children:p.jsxs("div",{className:Eg,children:[p.jsx("div",{className:Og,style:{gridColumn:"1 / -1",marginBottom:"1rem"},children:p.jsx("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",gap:"0.5rem"},children:p.jsxs("label",{style:{fontWeight:600,color:"#374151",fontSize:"0.95rem"},children:[p.jsx("input",{type:"checkbox",checked:_.ativo,onChange:e=>j({..._,ativo:e.target.checked}),style:{width:"18px",height:"18px",accentColor:"#4F46E5",marginRight:"0.5rem"}}),"Ativo"]})})}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Tipo de Documento"}),p.jsxs("div",{className:Dg,children:[p.jsxs("label",{className:Ig,children:[p.jsx("input",{type:"radio",name:"tipoDocumento",value:"CPF",checked:"CPF"===_.tipoDocumento,onChange:e=>j({..._,tipoDocumento:e.target.value})}),"CPF"]}),p.jsxs("label",{className:Ig,children:[p.jsx("input",{type:"radio",name:"tipoDocumento",value:"CNPJ",checked:"CNPJ"===_.tipoDocumento,onChange:e=>j({..._,tipoDocumento:e.target.value})}),"CNPJ"]}),p.jsxs("label",{className:Ig,children:[p.jsx("input",{type:"radio",name:"tipoDocumento",value:"nenhum",checked:"nenhum"===_.tipoDocumento,onChange:e=>j({..._,tipoDocumento:e.target.value})}),"Nenhum"]})]})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Documento"}),p.jsx("input",{type:"text",value:_.documento,onChange:e=>B(e.target.value,"geral"),disabled:"nenhum"===_.tipoDocumento,placeholder:"CPF"===_.tipoDocumento?"000.000.000-00":"CNPJ"===_.tipoDocumento?"00.000.000/0000-00":"",className:z.documento?"erro":""}),z.documento&&p.jsx("span",{className:Ag,children:z.documento})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Fantasia"}),p.jsx("input",{type:"text",value:_.fantasia,onChange:e=>j({..._,fantasia:e.target.value})})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Razão Social"}),p.jsx("input",{type:"text",value:_.razao,onChange:e=>j({..._,razao:e.target.value})})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Tipo de Registro"}),p.jsxs("div",{className:Dg,children:[p.jsxs("label",{className:Ig,children:[p.jsx("input",{type:"radio",name:"tipoRegistro",value:"IE",checked:"IE"===_.tipoRegistro,onChange:e=>j({..._,tipoRegistro:e.target.value})}),"IE"]}),p.jsxs("label",{className:Ig,children:[p.jsx("input",{type:"radio",name:"tipoRegistro",value:"RG",checked:"RG"===_.tipoRegistro,onChange:e=>j({..._,tipoRegistro:e.target.value})}),"RG"]})]})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Registro"}),p.jsx("input",{type:"text",value:_.registro,onChange:e=>j({..._,registro:e.target.value})})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"CEP"}),p.jsx("input",{type:"text",value:_.cep,onChange:e=>F(e.target.value,"geral"),placeholder:"00000-000",className:z.cep?"erro":""}),z.cep&&p.jsx("span",{className:Ag,children:z.cep})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Endereço"}),p.jsx("input",{type:"text",value:_.endereco,onChange:e=>j({..._,endereco:e.target.value})})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Número"}),p.jsx("input",{type:"text",value:_.numero,onChange:e=>j({..._,numero:e.target.value})})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Bairro"}),p.jsx("input",{type:"text",value:_.bairro,onChange:e=>j({..._,bairro:e.target.value})})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Cidade"}),p.jsx("input",{type:"text",value:_.cidade,onChange:e=>j({..._,cidade:e.target.value})})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"UF"}),p.jsx(fx,{id:"uf-gerais",value:_.uf,onChange:e=>j({..._,uf:e})})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Telefone"}),p.jsx("input",{type:"text",value:_.telefone,onChange:e=>q(e.target.value,"telefone","geral"),placeholder:"(00) 0000-0000"})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Celular"}),p.jsx("input",{type:"text",value:_.celular,onChange:e=>q(e.target.value,"celular","geral"),placeholder:"(00) 00000-0000"})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Email"}),p.jsx("input",{type:"email",value:_.email,onChange:e=>{j({..._,email:e.target.value}),$("email",e.target.value,"geral")},className:z.email?"erro":""}),z.email&&p.jsx("span",{className:Ag,children:z.email})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Site"}),p.jsx("input",{type:"url",value:_.site,onChange:e=>j({..._,site:e.target.value})})]}),p.jsxs("div",{className:`${Og} ${Pg}`,children:[p.jsx("label",{children:"Observação"}),p.jsx("textarea",{value:_.observacao,onChange:e=>j({..._,observacao:e.target.value}),rows:4})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Consultor"}),p.jsx(gx,{id:"consultor-gerais",value:_.consultorId,onChange:e=>j({..._,consultorId:e}),consultores:P})]}),p.jsxs("div",{className:`${Og} ${Pg}`,children:[p.jsx("label",{children:"Setores Portal"}),p.jsx("div",{className:Tg,children:I.map(e=>p.jsxs("label",{className:zg,children:[p.jsx("input",{type:"checkbox",checked:_.setoresPortal.includes(e.id),onChange:()=>{return t=e.id,void j(e=>({...e,setoresPortal:e.setoresPortal.includes(t)?e.setoresPortal.filter(e=>e!==t):[...e.setoresPortal,t]}));var t}}),e.nome]},e.id))})]})]})}),"cobranca"===c&&p.jsxs("div",{className:Mg,children:[p.jsxs("div",{className:Lg,children:[p.jsx("h3",{children:"Dados de Cobrança"}),p.jsxs("button",{type:"button",className:$g,onClick:L,title:"Copiar dados gerais para cobrança",children:[p.jsx(W,{})," Copiar Dados Gerais"]})]}),p.jsxs("div",{className:Eg,children:[p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Tipo de Documento"}),p.jsxs("div",{className:Dg,children:[p.jsxs("label",{className:Ig,children:[p.jsx("input",{type:"radio",name:"tipoDocumentoCobranca",value:"CPF",checked:"CPF"===w.tipoDocumento,onChange:e=>N({...w,tipoDocumento:e.target.value})}),"CPF"]}),p.jsxs("label",{className:Ig,children:[p.jsx("input",{type:"radio",name:"tipoDocumentoCobranca",value:"CNPJ",checked:"CNPJ"===w.tipoDocumento,onChange:e=>N({...w,tipoDocumento:e.target.value})}),"CNPJ"]}),p.jsxs("label",{className:Ig,children:[p.jsx("input",{type:"radio",name:"tipoDocumentoCobranca",value:"nenhum",checked:"nenhum"===w.tipoDocumento,onChange:e=>N({...w,tipoDocumento:e.target.value})}),"Nenhum"]})]})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Documento"}),p.jsx("input",{type:"text",value:w.documento,onChange:e=>B(e.target.value,"cobranca"),disabled:"nenhum"===w.tipoDocumento,placeholder:"CPF"===w.tipoDocumento?"000.000.000-00":"CNPJ"===w.tipoDocumento?"00.000.000/0000-00":"",className:z.cobranca_documento?"erro":""}),z.cobranca_documento&&p.jsx("span",{className:Ag,children:z.cobranca_documento})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Fantasia"}),p.jsx("input",{type:"text",value:w.fantasia,onChange:e=>N({...w,fantasia:e.target.value})})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Razão Social"}),p.jsx("input",{type:"text",value:w.razao,onChange:e=>N({...w,razao:e.target.value})})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Tipo de Registro"}),p.jsxs("div",{className:Dg,children:[p.jsxs("label",{className:Ig,children:[p.jsx("input",{type:"radio",name:"tipoRegistroCobranca",value:"IE",checked:"IE"===w.tipoRegistro,onChange:e=>N({...w,tipoRegistro:e.target.value})}),"IE"]}),p.jsxs("label",{className:Ig,children:[p.jsx("input",{type:"radio",name:"tipoRegistroCobranca",value:"RG",checked:"RG"===w.tipoRegistro,onChange:e=>N({...w,tipoRegistro:e.target.value})}),"RG"]})]})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Registro"}),p.jsx("input",{type:"text",value:w.registro,onChange:e=>N({...w,registro:e.target.value})})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"CEP"}),p.jsx("input",{type:"text",value:w.cep,onChange:e=>F(e.target.value,"cobranca"),placeholder:"00000-000",className:z.cobranca_cep?"erro":""}),z.cobranca_cep&&p.jsx("span",{className:Ag,children:z.cobranca_cep})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Endereço"}),p.jsx("input",{type:"text",value:w.endereco,onChange:e=>N({...w,endereco:e.target.value})})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Número"}),p.jsx("input",{type:"text",value:w.numero,onChange:e=>N({...w,numero:e.target.value})})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Bairro"}),p.jsx("input",{type:"text",value:w.bairro,onChange:e=>N({...w,bairro:e.target.value})})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Cidade"}),p.jsx("input",{type:"text",value:w.cidade,onChange:e=>N({...w,cidade:e.target.value})})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"UF"}),p.jsx(fx,{id:"uf-cobranca",value:w.uf,onChange:e=>N({...w,uf:e})})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Telefone"}),p.jsx("input",{type:"text",value:w.telefone,onChange:e=>q(e.target.value,"telefone","cobranca"),placeholder:"(00) 0000-0000"})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Celular"}),p.jsx("input",{type:"text",value:w.celular,onChange:e=>q(e.target.value,"celular","cobranca"),placeholder:"(00) 0000-0000"})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Email"}),p.jsx("input",{type:"email",value:w.email,onChange:e=>{N({...w,email:e.target.value}),$("email",e.target.value,"cobranca")},className:z.cobranca_email?"erro":""}),z.cobranca_email&&p.jsx("span",{className:Ag,children:z.cobranca_email})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Site"}),p.jsx("input",{type:"url",value:w.site,onChange:e=>N({...w,site:e.target.value})})]}),p.jsxs("div",{className:`${Og} ${Pg}`,children:[p.jsx("label",{children:"Observação"}),p.jsx("textarea",{value:w.observacao,onChange:e=>N({...w,observacao:e.target.value}),rows:4})]})]})]}),"categorias"===c&&p.jsxs("div",{className:Mg,children:[p.jsxs("div",{className:Bg,children:[p.jsx("h3",{children:"Selecione as Categorias"}),p.jsx("button",{className:qg,onClick:()=>U(),type:"button",children:p.jsx("span",{children:"+"})})]}),p.jsx("div",{className:Tg,children:E.map(e=>p.jsxs("label",{className:`${zg} ${Rg}`,children:[p.jsx("input",{type:"checkbox",checked:C.includes(e.id),onChange:()=>{return t=e.id,void k(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t}}),e.nome]},e.id))})]}),"contatos"===c&&p.jsxs("div",{className:Mg,children:[p.jsxs("div",{className:Bg,children:[p.jsx("h3",{children:"Contatos"}),p.jsxs("button",{type:"button",className:qg,onClick:H,children:[p.jsx(ie,{})," Adicionar Contato"]})]}),p.jsxs("div",{className:Fg,children:[S.map((e,t)=>p.jsxs("div",{className:Wg,children:[p.jsxs("div",{className:Gg,children:[p.jsxs("h4",{children:["Contato ",t+1]}),p.jsx("button",{type:"button",className:Hg,onClick:()=>{return t=e.id,void M(S.filter(e=>e.id!==t));var t},children:p.jsx(xe,{})})]}),p.jsxs("div",{className:Eg,children:[p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Nome"}),p.jsx("input",{type:"text",value:e.nome,onChange:t=>V(e.id,"nome",t.target.value)})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Cargo"}),p.jsx("input",{type:"text",value:e.cargo,onChange:t=>V(e.id,"cargo",t.target.value)})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Email"}),p.jsx("input",{type:"email",value:e.email,onChange:t=>V(e.id,"email",t.target.value),className:z[`contato_${e.id}_email`]?"erro":""}),z[`contato_${e.id}_email`]&&p.jsx("span",{className:Ag,children:z[`contato_${e.id}_email`]})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Telefone"}),p.jsx("input",{type:"text",value:e.telefone,onChange:t=>V(e.id,"telefone",t.target.value),placeholder:"(00) 00000-0000"})]}),p.jsxs("div",{className:Og,children:[p.jsx("label",{children:"Data de Nascimento"}),p.jsx(zx,{value:e.dataNascimento,onChange:t=>V(e.id,"dataNascimento",t),placeholder:"dd/mm/aaaa"})]}),_.setoresPortal.length>0&&p.jsxs("div",{className:`${Og} ${Pg}`,children:[p.jsx("label",{children:"Setores Portal para este Contato"}),p.jsxs("div",{className:Xg,children:[p.jsxs("div",{className:Jg,children:[p.jsx("span",{className:Zg,children:"Setores Disponíveis"}),p.jsxs("span",{className:Qg,children:[e.setoresContato.length,"/",_.setoresPortal.length]})]}),p.jsx("div",{className:ex,children:I.filter(e=>_.setoresPortal.includes(e.id)).map(t=>p.jsxs("label",{className:tx,children:[p.jsx("input",{type:"checkbox",checked:e.setoresContato.includes(t.id),onChange:()=>{return a=e.id,r=t.id,void M(e=>e.map(e=>e.id===a?{...e,setoresContato:e.setoresContato.includes(r)?e.setoresContato.filter(e=>e!==r):[...e.setoresContato,r]}:e));var a,r}}),p.jsx("span",{className:ax,children:t.nome})]},t.id))})]})]})]})]},e.id)),0===S.length&&p.jsx("div",{className:Vg,children:p.jsx("p",{children:'Nenhum contato adicionado. Clique em "Adicionar Contato" para começar.'})})]})]})]})]}),p.jsxs("div",{className:Ug,children:[p.jsx("button",{type:"button",className:Kg,onClick:async()=>{const e=l();await e.close()},children:"Cancelar"}),p.jsx("button",{type:"button",className:Yg,onClick:async()=>{try{if(!(()=>{const e={};return _.documento.trim()||(e.documento="Documento é obrigatório"),_.fantasia.trim()||(e.fantasia="Fantasia é obrigatória"),_.razao.trim()||(e.razao="Razão Social é obrigatória"),w.documento.trim()||(e.cobranca_documento="Documento de cobrança é obrigatório"),w.fantasia.trim()||(e.cobranca_fantasia="Fantasia de cobrança é obrigatória"),w.razao.trim()||(e.cobranca_razao="Razão Social de cobrança é obrigatória"),R(e),0===Object.keys(e).length})())return void n("Erro "+(b?"na Edição":"no Cadastro"),"Por favor, preencha todos os campos obrigatórios.");const e={dados:{cliente_id:x,dados_gerais:{tipo_documento:_.tipoDocumento,documento:_.documento,fantasia:_.fantasia,razao:_.razao,tipo_registro:_.tipoRegistro,registro:_.registro||null,cep:_.cep||null,endereco:_.endereco||null,numero:_.numero||null,bairro:_.bairro||null,cidade:_.cidade||null,uf:_.uf||null,telefone:_.telefone||null,celular:_.celular||null,email:_.email||null,site:_.site||null,observacao:_.observacao||null,consultor_id:_.consultorId||null,setores_portal:_.setoresPortal||null,origem:u||null,id_pre_cad:m||0,ativo:_.ativo},dados_cobranca:{tipo_documento:w.tipoDocumento,documento:w.documento,fantasia:w.fantasia,razao:w.razao,tipo_registro:w.tipoRegistro,registro:w.registro||null,cep:w.cep||null,endereco:w.endereco||null,numero:w.numero||null,bairro:w.bairro||null,cidade:w.cidade||null,uf:w.uf||null,telefone:w.telefone||null,celular:w.celular||null,email:w.email||null,site:w.site||null,observacao:w.observacao||null},categorias:C,contatos:S.map(e=>({id:e.id.startsWith("new_")?null:parseInt(e.id),nome:e.nome,cargo:e.cargo||null,email:e.email||null,telefone:e.telefone||null,data_nascimento:e.dataNascimento||null,setores_contato:e.setoresContato||[]}))}};(await r(b?"editar_cliente":"salvar_cliente",e)).success?(a("Sucesso "+(b?"na Edição":"no Cadastro"),`Cliente ${b?"editado":"salvo"} com sucesso!`),h(null),g(null),v(null),y(!1),j({tipoDocumento:"CPF",documento:"",fantasia:"",razao:"",tipoRegistro:"RG",registro:"",cep:"",endereco:"",numero:"",bairro:"",cidade:"",uf:"",telefone:"",celular:"",email:"",site:"",observacao:"",consultorId:null,setoresPortal:[],ativo:!0}),N({tipoDocumento:"CPF",documento:"",fantasia:"",razao:"",tipoRegistro:"RG",registro:"",cep:"",endereco:"",numero:"",bairro:"",cidade:"",uf:"",telefone:"",celular:"",email:"",site:"",observacao:""}),k([]),M([])):t("Erro "+(b?"na Edição":"no Cadastro"),`Erro ao ${b?"editar":"salvar"} cliente`)}catch(e){t("Erro "+(b?"na Edição":"no Cadastro"),`Erro ao ${b?"editar":"salvar"} cliente\n`+String(e))}},children:b?"Editar Cliente":"Salvar Cliente"})]}),p.jsx(ix,{...e,onClose:i})]})},qx="_search-layout_1kuof_1",Fx="_search-header_1kuof_17",Wx="_toggle-button_1kuof_29",Gx="_main-search-container_1kuof_81",Hx="_search-input-wrapper_1kuof_91",Vx="_search-icon_1kuof_103",Ux="_main-search-input_1kuof_119",Kx="_clear-button_1kuof_151",Yx="_search-dropdown_1kuof_185",Xx="_dropdown-item_1kuof_215",Jx="_loading_1kuof_245",Zx="_cliente-info_1kuof_265",Qx="_cliente-name_1kuof_277",ev="_cliente-details_1kuof_289",tv="_documento_1kuof_303",av="_location_1kuof_311",rv="_advanced-search-container_1kuof_321",nv="_search-fields-grid_1kuof_333",iv="_search-field_1kuof_333",sv="_field-label_1kuof_357",ov="_field-input_1kuof_369",lv="_custom-select_1kuof_409",cv="_select-trigger_1kuof_417",dv="_open_1kuof_451",uv="_placeholder_1kuof_461",hv="_selected_1kuof_469",mv="_select-arrow_1kuof_477",pv="_select-dropdown_1kuof_497",fv="_select-option_1kuof_529",gv="_search-actions_1kuof_571",xv="_search-button_1kuof_583",vv="_primary_1kuof_609",bv="_secondary_1kuof_631",yv=({value:e,onChange:t,options:a,placeholder:r})=>{const[n,i]=f.useState(!1),s=f.useRef(null);f.useEffect(()=>{const e=e=>{s.current&&!s.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const o=a.find(t=>t.value===e);return p.jsxs("div",{className:lv,ref:s,children:[p.jsxs("div",{className:`${cv} ${n?`${dv}`:""}`,onClick:()=>i(!n),children:[p.jsx("span",{className:o?`${hv}`:`${uv}`,children:o?o.label:r}),p.jsx(L,{className:mv})]}),n&&p.jsxs("div",{className:pv,children:[p.jsx("div",{className:`${fv} ${uv}`,onClick:()=>{t(""),i(!1)},children:r}),a.map(a=>p.jsx("div",{className:`${fv} ${e===a.value?`${hv}`:""}`,onClick:()=>{t(a.value),i(!1)},children:a.label},a.value))]})]})},_v=({fields:e=[],onSearch:t,onClear:a,dropdownSearch:r={enabled:!1}})=>{const[n,i]=f.useState(!1),[s,o]=f.useState(""),[l,c]=f.useState([]),[d,u]=f.useState(!1),[h,m]=f.useState(!1),[g,x]=f.useState({}),v=f.useRef(null),b=r.enabled&&e.length>0;f.useEffect(()=>{const e=e=>{v.current&&!v.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const y=(e,t)=>{x(a=>({...a,[e]:t}))},_=()=>{x({}),o(""),u(!1),c([]),a&&a()},j=e=>{if(!e)return"";const t=e.replace(/\D/g,"");return 11===t.length?t.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):14===t.length?t.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):e};return r.enabled||0!==e.length?p.jsxs("div",{className:qx,children:[b&&p.jsx("div",{className:Fx,children:p.jsx("div",{className:"search-toggle",children:p.jsxs("button",{className:Wx,onClick:()=>{i(!n),n?x({}):(o(""),u(!1))},title:n?"Busca simples":"Busca avançada",children:[n?p.jsx(ge,{}):p.jsx(fe,{}),p.jsx("span",{children:n?"Busca Avançada":"Busca Simples"})]})})}),r.enabled&&(!b||!n)&&p.jsxs("div",{className:Gx,ref:v,children:[p.jsxs("div",{className:Hx,children:[p.jsx(oe,{className:Vx}),p.jsx("input",{type:"text",className:Ux,placeholder:r.placeholder||"Buscar...",value:s,onChange:e=>(async e=>{if(o(e),e.trim().length>=2&&r.onSearch){m(!0);try{const t=await r.onSearch(e);c(t),u(t.length>0)}catch(t){c([]),u(!1)}finally{m(!1)}}else c([]),u(!1)})(e.target.value),onFocus:()=>{l.length>0&&u(!0)},autoComplete:"off"}),s&&p.jsx("button",{className:Kx,onClick:_,title:"Limpar busca",children:p.jsx(pe,{})})]}),d&&p.jsx("div",{className:Yx,children:h?p.jsx("div",{className:`${Xx} ${Jx}`,children:p.jsx("span",{children:"Buscando..."})}):l.map(e=>p.jsx("div",{className:Xx,onClick:()=>(e=>{let t="";t="usuario"===r.type?e.nome||e.usuario||"":e.fantasia||e.razao||"",o(t),u(!1),r.onSelect&&r.onSelect(e)})(e),children:p.jsxs("div",{className:Zx,children:[p.jsx("div",{className:Qx,children:"usuario"===r.type?e.nome||e.usuario||"Nome não informado":e.fantasia||e.razao||"Nome não informado"}),"cliente"===r.type&&p.jsxs("div",{className:ev,children:[e.documento&&p.jsx("span",{className:tv,children:j(e.documento)}),e.cidade&&e.uf&&p.jsxs("span",{className:av,children:[e.cidade," / ",e.uf]})]}),"usuario"===r.type&&p.jsx("div",{className:ev,children:p.jsx("span",{className:tv,children:e.usuario})})]})},e.id))})]}),e.length>0&&(!b||n)&&p.jsxs("div",{className:rv,children:[p.jsx("div",{className:nv,children:e.map(e=>p.jsxs("div",{className:iv,children:[p.jsx("label",{htmlFor:e.name,className:sv,children:e.label}),"select"===e.type?p.jsx(yv,{id:e.name,value:g[e.name]||"",onChange:t=>y(e.name,t),options:e.options||[],placeholder:"Selecione..."}):p.jsx("input",{id:e.name,type:"text",className:ov,placeholder:`Digite ${e.label.toLowerCase()}...`,value:g[e.name]||"",onChange:t=>y(e.name,t.target.value),autoComplete:"off"})]},e.name))}),p.jsxs("div",{className:gv,children:[p.jsxs("button",{className:`${xv} ${vv}`,onClick:()=>{t&&t(g)},children:[p.jsx(oe,{}),"Buscar"]}),p.jsxs("button",{className:`${xv} ${bv}`,onClick:_,children:[p.jsx(pe,{}),"Limpar"]})]})]})]}):null},jv="_visualizar-clientes-container_1kphl_1",wv="_page-header_1kphl_53",Nv="_page-title_1kphl_67",Cv="_page-stats_1kphl_81",kv="_stats-text_1kphl_91",Sv="_loading-container_1kphl_109",Mv="_loading-spinner_1kphl_127",Ev="_clientes-grid_1kphl_161",Ov="_cliente-card_1kphl_177",Pv="_card-header_1kphl_205",Av="_cliente-avatar_1kphl_223",Dv="_cliente-main-info_1kphl_249",Iv="_cliente-name_1kphl_259",Tv="_cliente-document_1kphl_277",zv="_card-body_1kphl_297",Rv="_info-item_1kphl_311",Lv="_info-icon_1kphl_327",$v="_info-label_1kphl_341",Bv="_card-actions_1kphl_353",qv="_action-button_1kphl_369",Fv="_view_1kphl_399",Wv="_edit_1kphl_419",Gv="_pagination-container_1kphl_441",Hv="_pagination_1kphl_441",Vv="_pagination-button_1kphl_475",Uv="_pagination-info_1kphl_525",Kv="_items-info_1kphl_551",Yv="_empty-state_1kphl_565",Xv="_empty-icon_1kphl_585",Jv="_page-input_1kphl_819",Zv="_page-group_1kphl_849",Qv=()=>{const[e,t]=f.useState([]),[a,n]=f.useState([]),[i,s]=f.useState([]),[o,l]=f.useState(!1),[c,d]=f.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:30}),[u,h]=f.useState({}),m=[{name:"fantasia",label:"Fantasia",type:"text"},{name:"razao",label:"Razão Social",type:"text"},{name:"cnpj",label:"CNPJ",type:"text"},{name:"cpf",label:"CPF",type:"text"},{name:"cidade",label:"Cidade",type:"text"},{name:"uf",label:"UF",type:"select",options:[{value:"AC",label:"Acre"},{value:"AL",label:"Alagoas"},{value:"AP",label:"Amapá"},{value:"AM",label:"Amazonas"},{value:"BA",label:"Bahia"},{value:"CE",label:"Ceará"},{value:"DF",label:"Distrito Federal"},{value:"ES",label:"Espírito Santo"},{value:"GO",label:"Goiás"},{value:"MA",label:"Maranhão"},{value:"MT",label:"Mato Grosso"},{value:"MS",label:"Mato Grosso do Sul"},{value:"MG",label:"Minas Gerais"},{value:"PA",label:"Pará"},{value:"PB",label:"Paraíba"},{value:"PR",label:"Paraná"},{value:"PE",label:"Pernambuco"},{value:"PI",label:"Piauí"},{value:"RJ",label:"Rio de Janeiro"},{value:"RN",label:"Rio Grande do Norte"},{value:"RS",label:"Rio Grande do Sul"},{value:"RO",label:"Rondônia"},{value:"RR",label:"Roraima"},{value:"SC",label:"Santa Catarina"},{value:"SP",label:"São Paulo"},{value:"SE",label:"Sergipe"},{value:"TO",label:"Tocantins"}]},{name:"categoria",label:"Categoria",type:"select",options:e.map(e=>({value:e.id.toString(),label:e.nome}))},{name:"consultor",label:"Consultor",type:"select",options:a.map(e=>({value:e.id.toString(),label:e.nome}))}],g={enabled:!0,type:"cliente",placeholder:"Buscar por fantasia, razão social ou documento...",onSearch:async function(e){try{const t=await r("buscar_clientes_dropdown",{query:e.trim()});return t.success&&t.data?t.data:[]}catch(t){return[]}},onSelect:function(e){s([e]),d(e=>({...e,currentPage:1,totalPages:1,totalItems:1})),h({})}};f.useEffect(()=>{b({},1),x(),v()},[]);const x=async()=>{try{const e=await r("buscar_categorias");e.success&&e.data&&t(e.data)}catch(e){}},v=async()=>{try{const e=await r("buscar_consultores");e.success&&e.data&&n(e.data)}catch(e){}},b=async(e,t=1)=>{l(!0);try{const a=await r("buscar_clientes_filtros",{filters:e,page:t,limit:c.itemsPerPage});a.success&&a.data?(s(a.data),d(e=>({...e,currentPage:t,totalItems:a.total||0,totalPages:Math.ceil((a.total||0)/e.itemsPerPage)})),h(e)):s([])}catch(a){s([])}finally{l(!1)}};const y=f.useCallback(e=>{const t={};Object.keys(e).forEach(a=>{e[a]?.trim()&&(t[a]=e[a].trim())}),b(t,1)},[]);const _=e=>{e>=1&&e<=c.totalPages&&b(u,e)},j=e=>{if(!e)return"";const t=e.replace(/\D/g,"");return 11===t.length?t.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):14===t.length?t.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):e},w=e=>{if(!e)return"";const t=e.replace(/\D/g,"");return 11===t.length?t.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):10===t.length?t.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):e},N=f.useCallback(async e=>{try{const t={id:e.id,origem:"cliente_precadastro"};await tp.openCadastroClientes(t)}catch(t){localStorage.setItem("clientePreenchimento",JSON.stringify(e))}},[]);return p.jsxs("div",{className:jv,children:[p.jsxs("div",{className:wv,children:[p.jsx("h1",{className:Nv,children:"Visualizar Clientes"}),p.jsx("div",{className:Cv,children:c.totalItems>0&&p.jsxs("span",{className:kv,children:[c.totalItems," cliente",1!==c.totalItems?"s":""," encontrado",1!==c.totalItems?"s":""]})})]}),p.jsx(_v,{fields:m,onSearch:y,onClear:()=>{b({},1)},dropdownSearch:g}),o?p.jsxs("div",{className:Sv,children:[p.jsx("div",{className:Mv}),p.jsx("span",{children:"Carregando clientes..."})]}):p.jsx(p.Fragment,{children:i.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:Ev,children:i.map(e=>p.jsxs("div",{className:Ov,children:[p.jsxs("div",{className:Pv,children:[p.jsx("div",{className:Av,children:p.jsx(_e,{})}),p.jsxs("div",{className:Dv,children:[p.jsx("h3",{className:Iv,children:e.fantasia||e.razao||"Nome não informado"}),e.documento&&p.jsx("span",{className:Tv,children:j(e.documento)})]})]}),p.jsxs("div",{className:zv,children:[e.telefone&&p.jsxs("div",{className:Rv,children:[p.jsx(re,{className:Lv}),p.jsx("span",{children:w(e.telefone)})]}),e.email&&p.jsxs("div",{className:Rv,children:[p.jsx(H,{className:Lv}),p.jsx("span",{children:e.email})]}),(e.cidade||e.uf)&&p.jsxs("div",{className:Rv,children:[p.jsx(ee,{className:Lv}),p.jsx("span",{children:e.cidade&&e.uf?`${e.cidade} / ${e.uf}`:e.cidade||e.uf})]}),e.categoria&&p.jsxs("div",{className:Rv,children:[p.jsx("span",{className:$v,children:"Categoria:"}),p.jsx("span",{children:e.categoria})]}),e.consultor&&p.jsxs("div",{className:Rv,children:[p.jsx("span",{className:$v,children:"Consultor:"}),p.jsx("span",{children:e.consultor})]})]}),p.jsxs("div",{className:Bv,children:[p.jsxs("button",{className:qv+" "+Fv,onClick:()=>{},title:"Visualizar detalhes",children:[p.jsx(V,{}),"Relatório"]}),p.jsxs("button",{className:qv+" "+Wv,onClick:()=>N(e),title:"Editar cliente",children:[p.jsx(G,{}),"Editar"]})]})]},e.id))}),c.totalPages>1&&p.jsx("div",{className:Gv,children:p.jsxs("div",{className:Hv,children:[p.jsxs("button",{className:Vv,onClick:()=>_(c.currentPage-1),disabled:1===c.currentPage,children:[p.jsx($,{}),"Anterior"]}),p.jsxs("div",{className:Uv,children:[p.jsxs("div",{className:Zv,children:[p.jsx("span",{children:"Página"}),p.jsx("input",{type:"text",className:Jv,defaultValue:c.currentPage,min:"1",max:c.totalPages,onKeyDown:e=>{if("Enter"===e.key){const t=Number(e.currentTarget.value);t>=1&&t<=c.totalPages&&_(t)}},onBlur:e=>{const t=Number(e.target.value);t>=1&&t<=c.totalPages?_(t):e.target.value=c.currentPage.toString()},onFocus:e=>e.target.select()}),p.jsxs("span",{children:[" de ",c.totalPages]})]}),p.jsxs("div",{className:Kv,children:["(",c.itemsPerPage," itens por página)"]})]}),p.jsxs("button",{className:Vv,onClick:()=>_(c.currentPage+1),disabled:c.currentPage===c.totalPages,children:["Próxima",p.jsx(B,{})]})]})})]}):p.jsxs("div",{className:Yv,children:[p.jsx(_e,{className:Xv}),p.jsx("h3",{children:"Nenhum cliente encontrado"}),p.jsx("p",{children:"Tente ajustar os filtros de busca ou verifique se há clientes cadastrados."})]})})]})},eb=()=>{const[e,t]=f.useState([]),[a,n]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState(null),[d,u]=f.useState(""),[h,m]=f.useState(""),[g,x]=f.useState(!0),[v,b]=f.useState(1),[y,_]=f.useState("Você"),[j,w]=f.useState([]),[N,C]=f.useState(!1),[k,S]=f.useState(!1),[M,E]=f.useState(!1),[O,P]=f.useState(new Set),[A,D]=f.useState(!1),[I,T]=f.useState(""),[z,R]=f.useState(""),[L,$]=f.useState(1),[B,q]=f.useState(0),[F,W]=f.useState(!1),[G,H]=f.useState(""),[V,U]=f.useState(""),K=f.useRef(null),Y=f.useRef(null),X=async e=>{try{const t=`user_id:${e}`;await r("send_ws_message",{message:t})}catch(t){}};f.useEffect(()=>{(async()=>{try{const e=await s("nova_mensagem_ws",e=>{try{const t=JSON.parse(e.payload);J(t)}catch(t){Z(e.payload)}});return()=>{e()}}catch(e){}})()},[l,v]);const J=e=>{if("OnlineUsersList"===e.type){const t=new Set(e.online_users.map(e=>e.user_id));P(t)}else if("UserOnlineStatusChanged"===e.type){const t=e;P(e=>{const a=new Set(e);return t.is_online?a.add(t.user_id):a.delete(t.user_id),a})}else if("chat_message_notification"===e.type){const t=e;l&&t.chat_id===l.chatId&&re(l.chatId),Q(t),te(t)}else if("chat_message"===e.type){const t=e;l&&t.chat_id===l.chatId&&n(e=>e.some(e=>e.id===t.message.id)?e:[...e,t.message]),ee(t)}},Z=e=>{e.includes("Conectado como usuário")&&e.includes("Bem-vindo ao sistema!")&&ae("Conectado ao sistema de chat em tempo real!")},Q=e=>{t(t=>t.map(t=>t.chatId===e.chat_id?{...t,lastMessage:e.content,lastMessageTime:new Date(e.timestamp),unreadCount:t.unreadCount+1}:t))},ee=e=>{t(t=>t.map(t=>t.chatId===e.chat_id?{...t,lastMessage:e.message.content,lastMessageTime:new Date(e.message.timestamp),unreadCount:e.message.user_id!==v?t.unreadCount+1:t.unreadCount}:t))},te=e=>{if(e.sender_id===v)return;const t=document.createElement("div");t.innerHTML=`\n            <div style="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                background: white;\n                border: 1px solid #e5e7eb;\n                border-radius: 8px;\n                padding: 12px 16px;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n                z-index: 1000;\n                max-width: 300px;\n                animation: slideIn 0.3s ease-out;\n            ">\n                <div style="font-weight: 600; color: #1f2937; margin-bottom: 4px;">\n                    ${e.sender_name}\n                </div>\n                <div style="color: #6b7280; font-size: 14px;">\n                    ${e.content}\n                </div>\n            </div>\n        `,document.body.appendChild(t),setTimeout(()=>{document.body.contains(t)&&document.body.removeChild(t)},5e3)},ae=e=>{const t=document.createElement("div");t.innerHTML=`\n            <div style="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                background: #10b981;\n                color: white;\n                border-radius: 8px;\n                padding: 12px 16px;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n                z-index: 1000;\n                animation: slideIn 0.3s ease-out;\n            ">\n                ${e}\n            </div>\n        `,document.body.appendChild(t),setTimeout(()=>{document.body.contains(t)&&document.body.removeChild(t)},3e3)},re=async e=>{try{if(l?.chatId===e){const t=await r("get_chat_messages",{chatId:e});n(t.messages)}}catch(t){}},ne=e=>{const t=[];e.forEach(e=>{const a=(e=>["image/jpeg","image/jpg","image/png","image/gif","image/webp","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain","text/csv"].includes(e.type)?e.size>52428800?"Arquivo muito grande. Tamanho máximo: 50MB":null:`Tipo de arquivo não permitido: ${e.type}`)(e);if(a)return;const r=e.type.startsWith("image/"),n={file:e,type:r?"image":"document",uploading:!1,uploadProgress:0,error:void 0};if(r){const t=new FileReader;t.onload=e=>{n.preview=e.target?.result,w(e=>[...e,n])},t.readAsDataURL(e)}else t.push(n)}),t.length>0&&w(e=>[...e,...t]),C(!0)},ie=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},se=e=>{const t=e.split(".").pop()?.toLowerCase();switch(t){case"pdf":return p.jsx(En,{className:"text-red-500",size:24});case"doc":case"docx":return p.jsx(En,{className:"text-blue-500",size:24});case"xls":case"xlsx":return p.jsx(En,{className:"text-green-500",size:24});default:return p.jsx(En,{className:"text-gray-500",size:24})}},oe=async(e,t)=>{try{const a=document.createElement("div");a.textContent="Baixando arquivo...",a.style.cssText="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                background: #3b82f6;\n                color: white;\n                padding: 12px 24px;\n                border-radius: 8px;\n                z-index: 1000;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n            ",document.body.appendChild(a);await r("download_file_to_downloads",{url:e,fileName:t});document.body.removeChild(a);const n=document.createElement("div");n.textContent="Arquivo baixado com sucesso!",n.style.cssText="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                background: #10b981;\n                color: white;\n                padding: 12px 24px;\n                border-radius: 8px;\n                z-index: 1000;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n            ",document.body.appendChild(n),setTimeout(()=>{document.body.contains(n)&&document.body.removeChild(n)},3e3)}catch(a){const e=document.querySelector('div[style*="Baixando arquivo"]');e&&document.body.removeChild(e);const t=document.createElement("div");t.textContent="Erro ao fazer download do arquivo",t.style.cssText="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                background: #ef4444;\n                color: white;\n                padding: 12px 24px;\n                border-radius: 8px;\n                z-index: 1000;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n            ",document.body.appendChild(t),setTimeout(()=>{document.body.contains(t)&&document.body.removeChild(t)},3e3)}},le=(e,t)=>{T(e),R(t),$(1),q(0),D(!0)},ce=()=>{D(!1),T(""),R(""),$(1),q(0)},de=()=>{W(!1),H(""),U("")},ue=async()=>{if(!l)return;const e=d.trim().length>0,a=j.length>0;if(!e&&!a)return;E(!0);const i=new Date;try{if(e){const e=d.trim(),t={id:Date.now(),user_id:v,content:e,timestamp:i.toISOString(),user_name:y,visualizado:!1,visualizado_cont:0,visualizado_hora:null,arquivo:!1};n(e=>[...e,t]),u("");try{const a=await r("send_message",{chatId:l.chatId,userId:v,content:e});n(e=>e.map(e=>e.id===t.id?a:e))}catch(s){n(e=>e.filter(e=>e.id!==t.id))}}if(a){const e=j.map(e=>(async e=>{try{w(t=>t.map(t=>t.file===e.file?{...t,uploading:!0,uploadProgress:0,error:void 0}:t));const t=new FileReader;return new Promise((a,n)=>{t.onload=async t=>{try{const n=t.target?.result,i=n.split(",")[1];for(let t=10;t<=90;t+=20)w(a=>a.map(a=>a.file===e.file?{...a,uploadProgress:t}:a)),await new Promise(e=>setTimeout(e,100));const s=await r("send_file_message",{chatId:l.chatId,userId:v,fileName:e.file.name,fileType:e.file.type,fileSize:e.file.size,fileContent:i});w(t=>t.map(t=>t.file===e.file?{...t,uploading:!1,uploadProgress:100}:t)),a(s)}catch(s){w(t=>t.map(t=>t.file===e.file?{...t,uploading:!1,error:"Erro ao enviar arquivo"}:t)),n(s)}},t.onerror=()=>{w(t=>t.map(t=>t.file===e.file?{...t,uploading:!1,error:"Erro ao ler arquivo"}:t)),n(new Error("Erro ao ler arquivo"))},t.readAsDataURL(e.file)})}catch(s){return null}})(e)),t=await Promise.allSettled(e),a=[];t.forEach(e=>{"fulfilled"===e.status&&e.value&&a.push(e.value)}),a.length>0&&n(e=>[...e,...a]),w([]),C(!1)}const o=a?"📎 Arquivo":e?d.trim():"";t(e=>{const t=e.map(e=>e.chatId===l.chatId?{...e,lastMessage:o,lastMessageTime:i}:e),a=t.find(e=>e.chatId===l.chatId),r=t.filter(e=>e.chatId!==l.chatId);return a?[a,...r]:t})}catch(s){}finally{E(!1)}};f.useEffect(()=>{(async()=>{try{const e=await r("usuario_logado");e&&(b(e.id),_(e.nome),await X(e.id))}catch(e){}})()},[]),f.useEffect(()=>{(async()=>{try{const e=await r("get_users");o(e.usuarios)}catch(e){}})(),(async()=>{try{const e=(await r("get_user_chats",{userId:v})).chats.map(e=>{let t=e.group_name,a=e.group_profile_photo;if(2===e.members.length){const r=e.members.find(e=>e.id!==v);r&&(t=r.nome,a=r.profile_photo_path)}return{id:e.id.toString(),chatId:e.id,name:t,avatar:a?`http://127.0.0.1:8082${a}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(t)}&background=random`,lastMessage:e.last_message?.content||"Nenhuma mensagem",lastMessageTime:e.last_message?new Date(e.last_message.timestamp):new Date(0),unreadCount:0,status:"online",members:e.members}});t(e)}catch(e){}})()},[v]),f.useEffect(()=>{K.current?.scrollIntoView({behavior:"smooth"})},[a]),f.useEffect(()=>{l&&re(l.chatId)},[l]),f.useEffect(()=>{const e=e=>{"Escape"===e.key&&(A?ce():F&&de())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[A,F]);const he=i.filter(e=>e.id!==v&&e.nome.toLowerCase().includes(h.toLowerCase())).sort((t,a)=>{const r=e.find(e=>2===e.members.length&&e.members.some(e=>e.id===t.id)),n=e.find(e=>2===e.members.length&&e.members.some(e=>e.id===a.id)),i=r?.lastMessageTime||new Date(0);return(n?.lastMessageTime||new Date(0)).getTime()-i.getTime()}),me=e=>{const t=new Date;if(!e||isNaN(e.getTime()))return"";const a=t.getTime()-e.getTime();return a<6e4?"agora":a<36e5?`${Math.floor(a/6e4)}m`:a<864e5?e.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):a<6048e5?e.toLocaleDateString("pt-BR",{weekday:"short"}):e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})},pe=e=>{if(!e)return null;return new Date(e).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})};return p.jsxs("div",{className:"chat-container",children:[p.jsxs("div",{className:"sidebar "+(g?"":"closed"),children:[p.jsxs("div",{className:"sidebar-header",children:[p.jsx("div",{className:"sidebar-header-top",children:p.jsx("h1",{className:"sidebar-title",children:"Contatos"})}),p.jsxs("div",{className:"search-container",children:[p.jsx(Mi,{className:"search-icon"}),p.jsx("input",{type:"text",placeholder:"Pesquisar contatos...",value:h,onChange:e=>m(e.target.value),className:"search-input"})]})]}),p.jsx("div",{className:"conversations-list",children:he.map(a=>{const i=e.find(e=>2===e.members.length&&e.members.some(e=>e.id===a.id)),s=l?.members.some(e=>e.id===a.id),o=O.has(a.id)||!0===a.logado;return p.jsx("div",{onClick:()=>(async a=>{const i=e.find(e=>2===e.members.length&&e.members.some(e=>e.id===a.id));if(i)c(i);else try{const e=await r("create_direct_chat",{currentUserId:v,targetUserId:a.id}),i={id:e.id.toString(),chatId:e.id,name:a.nome,avatar:a.profile_photo_path?`http://127.0.0.1:8082${a.profile_photo_path}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(a.nome)}&background=random`,lastMessage:"Nenhuma mensagem",lastMessageTime:new Date(0),unreadCount:0,status:"online",members:e.members};t(e=>[...e,i]),c(i),n([])}catch(s){}m("")})(a),className:"conversation-item "+(s?"selected":""),children:p.jsxs("div",{className:"conversation-content",children:[p.jsxs("div",{className:"avatar-container",children:[p.jsx("img",{src:a.profile_photo_path?`http://127.0.0.1:8082${a.profile_photo_path}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(a.nome)}&background=random`,alt:a.nome,className:"avatar"}),p.jsx("div",{className:"status-indicator "+(o?"status-online":"status-offline")})]}),p.jsxs("div",{className:"conversation-info",children:[p.jsxs("div",{className:"conversation-header",children:[p.jsx("h3",{className:"conversation-name",children:a.nome}),i&&p.jsx("span",{className:"conversation-time",children:me(i.lastMessageTime)})]}),p.jsxs("div",{className:"conversation-footer",children:[p.jsx("p",{className:"conversation-message",children:i?.lastMessage||a.cargo||(o?"Online":"Offline")}),i&&i.unreadCount>0&&p.jsx("span",{className:"unread-badge",children:i.unreadCount})]})]})]})},a.id)})})]}),p.jsx("div",{className:"chat-main",children:l?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"chat-header",children:[p.jsxs("div",{className:"chat-header-left",children:[p.jsx("button",{onClick:()=>x(!g),className:"menu-button",children:p.jsx(ai,{})}),p.jsxs("div",{className:"avatar-container",children:[p.jsx("img",{src:l.avatar,alt:l.name,className:"chat-header-avatar"}),2===l.members.length&&p.jsx("div",{className:`status-indicator ${(()=>{const e=l.members.find(e=>e.id!==v);if(!e)return"status-offline";return O.has(e.id)||!0===e.logado?"status-online":"status-offline"})()}`})]}),p.jsxs("div",{className:"chat-header-info",children:[p.jsx("h2",{children:l.name}),p.jsx("p",{children:2===l.members.length?(()=>{const e=l.members.find(e=>e.id!==v);if(!e)return"Offline";return O.has(e.id)||!0===e.logado?"Online":"Offline"})():`${l.members.length} membros`})]})]}),p.jsxs("div",{className:"chat-header-actions",children:[p.jsx("button",{className:"action-button",children:p.jsx(Mi,{})}),p.jsx("button",{className:"action-button",children:p.jsx(gi,{})}),p.jsx("button",{className:"action-button",children:p.jsx(rs,{})}),p.jsx("button",{className:"action-button",children:p.jsx(jn,{})})]})]}),p.jsxs("div",{className:"messages-area "+(k?"dragging":""),onDragOver:e=>{e.preventDefault(),S(!0)},onDragLeave:e=>{e.preventDefault(),S(!1)},onDrop:e=>{e.preventDefault(),S(!1);const t=Array.from(e.dataTransfer.files);ne(t)},children:[k&&p.jsx("div",{className:"drag-overlay",children:p.jsxs("div",{className:"drag-message",children:[p.jsx(pi,{size:48}),p.jsx("p",{children:"Solte os arquivos aqui para enviar"})]})}),a.map(e=>{return p.jsx("div",{className:"message-container "+(e.user_id===v?"user":"other"),children:p.jsxs("div",{className:"message "+(e.user_id===v?"user":"other"),children:[e.user_id!==v&&p.jsx("div",{className:"message-sender",children:e.user_name}),e.arquivo&&e.arquivo_tipo?.startsWith("image/")&&e.arquivo_url?p.jsxs("div",{className:"message-image",children:[p.jsx("img",{src:e.arquivo_url,alt:e.arquivo_nome,className:"message-image-content",onClick:()=>le(e.arquivo_url,e.arquivo_nome||"Imagem"),style:{cursor:"pointer"}}),p.jsxs("div",{className:"message-image-info",children:[p.jsx("span",{children:e.arquivo_nome}),p.jsx("span",{children:e.arquivo_tamanho?ie(e.arquivo_tamanho):""})]}),p.jsxs("div",{className:"message-image-actions",children:[p.jsx("button",{className:"image-action-button",onClick:()=>le(e.arquivo_url,e.arquivo_nome||"Imagem"),title:"Ver em tela cheia",children:p.jsx(ls,{size:16})}),p.jsx("button",{className:"image-action-button",onClick:()=>oe(e.arquivo_url,e.arquivo_nome||"imagem"),title:"Baixar arquivo",children:p.jsx(yn,{size:16})})]})]}):e.arquivo?p.jsxs("div",{className:"message-file",children:[p.jsx("div",{className:"message-file-icon",children:se(e.arquivo_nome||"")}),p.jsxs("div",{className:"message-file-info",children:[p.jsx("span",{className:"file-name",children:e.arquivo_nome}),p.jsx("span",{className:"file-size",children:e.arquivo_tamanho?ie(e.arquivo_tamanho):""})]}),p.jsxs("div",{className:"message-file-actions",children:["application/pdf"===e.arquivo_tipo&&e.arquivo_url&&p.jsx("button",{className:"file-action-button",onClick:()=>{return t=e.arquivo_url,a=e.arquivo_nome||"PDF",H(t),U(a),void W(!0);var t,a},title:"Visualizar PDF",children:p.jsx(Mi,{size:16})}),p.jsx("button",{className:"file-action-button",onClick:()=>oe(e.arquivo_url,e.arquivo_nome||"arquivo"),title:"Baixar arquivo",children:p.jsx(yn,{size:16})})]})]}):p.jsx("p",{className:"message-text",children:e.content}),p.jsxs("div",{className:"message-footer "+(e.user_id===v?"user":"other"),children:[p.jsx("span",{className:"message-time",children:(t=e.timestamp,new Date(t).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}))}),e.user_id===v&&p.jsx("div",{className:"status-checkmarks",children:e.visualizado?p.jsx(Qr,{size:16,color:"#3b82f6"}):p.jsx(en,{size:16,color:"#6b7280"})}),e.user_id===v&&e.visualizado_hora&&p.jsxs("span",{className:"read-time",children:["Lido às ",pe(e.visualizado_hora)]})]})]})},e.id);var t}),p.jsx("div",{ref:K})]}),N&&j.length>0&&p.jsxs("div",{className:"file-preview-container",children:[p.jsxs("div",{className:"file-preview-header",children:[p.jsxs("span",{children:["Arquivos selecionados (",j.length,")"]}),p.jsx("button",{onClick:()=>{w([]),C(!1)},className:"close-preview-button",disabled:M,children:p.jsx(ss,{size:16})})]}),p.jsx("div",{className:"file-preview-list",children:j.map((e,t)=>p.jsxs("div",{className:"file-preview-item",children:["image"===e.type&&e.preview?p.jsx("img",{src:e.preview,alt:e.file.name,className:"file-preview-image"}):p.jsx("div",{className:"file-preview-document",children:se(e.file.name)}),p.jsxs("div",{className:"file-preview-info",children:[p.jsx("span",{className:"file-preview-name",children:e.file.name}),p.jsx("span",{className:"file-preview-size",children:ie(e.file.size)}),e.uploading&&p.jsxs("div",{className:"upload-progress",children:[p.jsx("div",{className:"progress-bar",children:p.jsx("div",{className:"progress-fill",style:{width:`${e.uploadProgress||0}%`}})}),p.jsxs("span",{className:"progress-text",children:[e.uploadProgress||0,"%"]})]}),e.error&&p.jsxs("div",{className:"upload-error",children:[p.jsx(ln,{size:14}),p.jsx("span",{children:e.error})]})]}),!e.uploading&&p.jsx("button",{onClick:()=>(e=>{w(t=>t.filter((t,a)=>a!==e)),j.length<=1&&C(!1)})(t),className:"remove-file-button",disabled:M,children:p.jsx(ss,{size:16})})]},t))})]}),p.jsx("div",{className:"input-area",children:p.jsxs("div",{className:"input-container",children:[p.jsx("input",{ref:Y,type:"file",multiple:!0,accept:"image/*,application/pdf,.doc,.docx,.xls,.xlsx,.txt,.csv",onChange:e=>{const t=e.target.files;t&&ne(Array.from(t)),e.target.value=""},style:{display:"none"}}),p.jsx("button",{className:"attachment-button",onClick:()=>Y.current?.click(),disabled:M,children:M?p.jsx(Zi,{className:"animate-pulse"}):p.jsx(pi,{})}),p.jsxs("div",{className:"input-wrapper",children:[p.jsx("input",{type:"text",value:d,onChange:e=>u(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),ue())},placeholder:"Digite sua mensagem...",className:"message-input",disabled:M}),p.jsx("button",{className:"emoji-button",disabled:M,children:p.jsx(Ii,{})})]}),p.jsx("button",{onClick:ue,disabled:!d.trim()&&0===j.length||M,className:"send-button",children:M?p.jsx(Zi,{className:"animate-pulse"}):p.jsx(Ei,{})})]})})]}):p.jsx("div",{className:"no-conversation-selected",children:p.jsx("p",{children:"Selecione um contato na lista para iniciar uma conversa."})})}),A&&p.jsx("div",{className:"image-viewer-overlay",onClick:ce,children:p.jsxs("div",{className:"image-viewer-container",onClick:e=>e.stopPropagation(),children:[p.jsxs("div",{className:"image-viewer-header",children:[p.jsx("h3",{className:"image-viewer-title",children:z}),p.jsxs("div",{className:"image-viewer-controls",children:[p.jsx("button",{onClick:()=>{$(e=>Math.max(e-.25,.25))},className:"viewer-control-button",title:"Diminuir zoom",children:p.jsx(cs,{size:20})}),p.jsxs("span",{className:"zoom-level",children:[Math.round(100*L),"%"]}),p.jsx("button",{onClick:()=>{$(e=>Math.min(e+.25,3))},className:"viewer-control-button",title:"Aumentar zoom",children:p.jsx(ls,{size:20})}),p.jsx("button",{onClick:()=>{q(e=>(e+90)%360)},className:"viewer-control-button",title:"Girar",children:p.jsx(Ci,{size:20})}),p.jsx("button",{onClick:()=>{$(1),q(0)},className:"viewer-control-button",title:"Resetar",children:"Resetar"}),p.jsx("button",{onClick:()=>oe(I,z),className:"viewer-control-button",title:"Baixar",children:p.jsx(yn,{size:20})}),p.jsx("button",{onClick:ce,className:"viewer-close-button",title:"Fechar",children:p.jsx(ss,{size:24})})]})]}),p.jsx("div",{className:"image-viewer-content",children:p.jsx("img",{src:I,alt:z,className:"image-viewer-image",style:{transform:`scale(${L}) rotate(${B}deg)`,transition:"transform 0.3s ease"}})})]})}),F&&p.jsx("div",{className:"pdf-viewer-overlay",onClick:de,children:p.jsxs("div",{className:"pdf-viewer-container",onClick:e=>e.stopPropagation(),children:[p.jsxs("div",{className:"pdf-viewer-header",children:[p.jsx("h3",{className:"pdf-viewer-title",children:V}),p.jsxs("div",{className:"pdf-viewer-controls",children:[p.jsx("button",{onClick:()=>oe(G,V),className:"viewer-control-button",title:"Baixar",children:p.jsx(yn,{size:20})}),p.jsx("button",{onClick:de,className:"viewer-close-button",title:"Fechar",children:p.jsx(ss,{size:24})})]})]}),p.jsx("div",{className:"pdf-viewer-content",children:p.jsx("iframe",{src:G,className:"pdf-viewer-iframe",title:V})})]})})]})},tb={container:"_container_11rsp_1",header:"_header_11rsp_61",headerContent:"_headerContent_11rsp_105",headerIcon:"_headerIcon_11rsp_121",headerText:"_headerText_11rsp_149",title:"_title_11rsp_157",content:"_content_11rsp_187",formCard:"_formCard_11rsp_203",formHeader:"_formHeader_11rsp_231",formTitle:"_formTitle_11rsp_245",form:"_form_11rsp_203",inputGroup:"_inputGroup_11rsp_267",label:"_label_11rsp_275",input:"_input_11rsp_267",submitButton:"_submitButton_11rsp_329",listCard:"_listCard_11rsp_375",listHeader:"_listHeader_11rsp_391",listTitle:"_listTitle_11rsp_409",categoriasList:"_categoriasList_11rsp_425",categoriaItem:"_categoriaItem_11rsp_437",categoriaInfo:"_categoriaInfo_11rsp_463",categoriaIcon:"_categoriaIcon_11rsp_477",categoriaDetails:"_categoriaDetails_11rsp_501",categoriaNome:"_categoriaNome_11rsp_509",categoriaActions:"_categoriaActions_11rsp_541",actionButton:"_actionButton_11rsp_551",editButton:"_editButton_11rsp_577",deleteButton:"_deleteButton_11rsp_599"},ab=()=>{const{modal:e,showConfirm:t,closeModal:a}=rx(),[n,i]=f.useState([]),[s,o]=f.useState(""),[c,d]=f.useState(null),[u,h]=f.useState(!1),[m,g]=f.useState(!1),[x,v]=f.useState(null),[b,y]=f.useState(null);f.useEffect(()=>{_()},[]),f.useEffect(()=>{if(x||b){const e=setTimeout(()=>{v(null),y(null)},3e3);return()=>clearTimeout(e)}},[x,b]);const _=async()=>{h(!0),v(null);try{const e=await r("buscar_categorias_cadastro");e.success&&e.data&&i(e.data)}catch(e){v("Erro ao carregar categorias. Tente novamente.")}finally{h(!1)}},j=()=>{o(""),d(null),v(null)},w=null!==c;return p.jsxs("div",{className:tb.container,children:[p.jsx("div",{className:tb.header,children:p.jsxs("div",{className:tb.headerContent,children:[p.jsx("div",{className:tb.headerIcon,children:p.jsx(he,{})}),p.jsx("div",{className:tb.headerText,children:p.jsx("h1",{className:tb.title,children:"Gerenciar Categorias"})})]})}),x&&p.jsxs("div",{className:tb.alert+" "+tb.alertError,children:[p.jsx(pe,{className:tb.alertIcon}),x]}),b&&p.jsxs("div",{className:tb.alert+" "+tb.alertSuccess,children:[p.jsx(se,{className:tb.alertIcon}),b]}),p.jsxs("div",{className:tb.content,children:[p.jsxs("div",{className:tb.formCard,children:[p.jsxs("div",{className:tb.formHeader,children:[p.jsx("h2",{className:tb.formTitle,children:w?"Editar Categoria":"Nova Categoria"}),w&&p.jsx("button",{type:"button",onClick:j,className:tb.cancelButton,title:"Cancelar edição",children:p.jsx(pe,{})})]}),p.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),s.trim()){g(!0),v(null);try{if(c){const e=await r("editar_categoria",{id:c,nome:s.trim()});e.success?(i(e=>e.map(e=>e.id===c?{...e,nome:s.trim()}:e)),y("Categoria editada com sucesso!"),d(null),(await l()).emit("category-updated")):v(e.message||"Erro ao editar categoria")}else{const e=await r("criar_categoria",{nome:s.trim()});if(e.success&&e.data&&e.data.length>0){const t=e.data[0];i(e=>[...e,t]),y("Categoria cadastrada com sucesso!"),(await l()).emit("category-updated")}else v(e.message||"Erro ao criar categoria")}o("")}catch(t){v("Erro ao salvar categoria. Tente novamente.")}finally{g(!1)}}else v("O nome da categoria é obrigatório.")},className:tb.form,children:[p.jsxs("div",{className:tb.inputGroup,children:[p.jsx("label",{htmlFor:"nomeCategoria",className:tb.label,children:"Nome da Categoria"}),p.jsx("input",{type:"text",id:"nomeCategoria",value:s,onChange:e=>o(e.target.value),placeholder:"Digite o nome da categoria...",className:tb.input,maxLength:50,disabled:m,autoComplete:"off"})]}),p.jsx("button",{type:"submit",disabled:m||!s.trim(),className:tb.submitButton+(w?" "+tb.editMode:""),children:m?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:tb.spinner}),w?"Salvando...":"Cadastrando..."]}):p.jsxs(p.Fragment,{children:[w?p.jsx(G,{}):p.jsx(ie,{}),w?"Salvar Alterações":"Salvar Categoria"]})})]})]}),p.jsxs("div",{className:tb.listCard,children:[p.jsxs("div",{className:tb.listHeader,children:[p.jsx("h2",{className:tb.listTitle,children:"Categorias Cadastradas"}),p.jsxs("div",{className:tb.listStats,children:[n.length," categoria",1!==n.length?"s":""]})]}),u?p.jsxs("div",{className:tb.loadingContainer,children:[p.jsx("div",{className:tb.loadingSpinner}),p.jsx("span",{children:"Carregando categorias..."})]}):p.jsx("div",{className:tb.categoriasList,children:n.length>0?n.map(e=>p.jsxs("div",{className:tb.categoriaItem+(c===e.id?" "+tb.editing:""),children:[p.jsxs("div",{className:tb.categoriaInfo,children:[p.jsx("div",{className:tb.categoriaIcon,children:p.jsx(he,{})}),p.jsx("div",{className:tb.categoriaDetails,children:p.jsx("h3",{className:tb.categoriaNome,children:e.nome})})]}),p.jsxs("div",{className:tb.categoriaActions,children:[p.jsx("button",{onClick:()=>(e=>{o(e.nome),d(e.id),v(null),y(null)})(e),className:tb.actionButton+" "+tb.editButton,title:"Editar categoria",disabled:m,children:p.jsx(G,{})}),p.jsx("button",{onClick:()=>(async(e,n)=>{t("Confirme exclusão",`Tem certeza que deseja excluir a categoria "${n}"?`,async()=>{try{const t=await r("excluir_categoria",{id:e});t.success?(i(t=>t.filter(t=>t.id!==e)),y("Categoria excluída com sucesso!"),c===e&&j(),(await l()).emit("category-updated")):v(t.message||"Erro ao excluir categoria")}catch(t){v("Erro ao excluir categoria. Tente novamente.")}a()})})(e.id,e.nome),className:tb.actionButton+" "+tb.deleteButton,title:"Excluir categoria",disabled:m,children:p.jsx(xe,{})})]})]},e.id)):p.jsxs("div",{className:tb.emptyState,children:[p.jsx(he,{className:tb.emptyIcon}),p.jsx("h3",{children:"Nenhuma categoria cadastrada"}),p.jsx("p",{children:"Cadastre a primeira categoria usando o formulário acima."})]})})]})]}),p.jsx(ix,{...e,onClose:a,onConfirm:e.onConfirm})]})},rb={"cadastrar-usuario-container":"_cadastrar-usuario-container_sy361_9","page-header":"_page-header_sy361_63","page-title":"_page-title_sy361_77","guias-container":"_guias-container_sy361_93","guias-header":"_guias-header_sy361_109","guia-btn":"_guia-btn_sy361_121",ativa:"_ativa_sy361_169","guia-conteudo-wrapper":"_guia-conteudo-wrapper_sy361_201",secao:"_secao_sy361_277","secao-header":"_secao-header_sy361_333","contador-clientes":"_contador-clientes_sy361_371","usuario-selecionado":"_usuario-selecionado_sy361_391","usuario-card":"_usuario-card_sy361_399","usuario-avatar":"_usuario-avatar_sy361_421","usuario-info":"_usuario-info_sy361_447","usuario-status":"_usuario-status_sy361_503","status-badge":"_status-badge_sy361_511",ativo:"_ativo_sy361_527",inativo:"_inativo_sy361_537","loading-container":"_loading-container_sy361_549","loading-spinner":"_loading-spinner_sy361_567","clientes-grid":"_clientes-grid_sy361_601","cliente-card":"_cliente-card_sy361_615",selecionado:"_selecionado_sy361_681","cliente-header":"_cliente-header_sy361_731","cliente-avatar":"_cliente-avatar_sy361_747","cliente-info":"_cliente-info_sy361_787","detalhe-item":"_detalhe-item_sy361_869","btn-remover-cliente":"_btn-remover-cliente_sy361_949","empty-state":"_empty-state_sy361_1023","empty-icon":"_empty-icon_sy361_1043","cliente-selecionado-info":"_cliente-selecionado-info_sy361_1087","setores-actions":"_setores-actions_sy361_1127","btn-gerenciar-setores":"_btn-gerenciar-setores_sy361_1139","btn-cadastrar-setor":"_btn-cadastrar-setor_sy361_1141","setores-grid":"_setores-grid_sy361_1221","setor-card":"_setor-card_sy361_1235",permitido:"_permitido_sy361_1279",negado:"_negado_sy361_1303","setor-info":"_setor-info_sy361_1335","setor-status":"_setor-status_sy361_1379","setor-acoes":"_setor-acoes_sy361_1453","btn-permissao":"_btn-permissao_sy361_1465","btn-permitir":"_btn-permitir_sy361_1533","btn-negar":"_btn-negar_sy361_1565","modal-overlay":"_modal-overlay_sy361_1599","modal-content":"_modal-content_sy361_1629","modal-header":"_modal-header_sy361_1651","modal-close":"_modal-close_sy361_1689","modal-body":"_modal-body_sy361_1733","setores-modal-grid":"_setores-modal-grid_sy361_1783","setor-modal-item":"_setor-modal-item_sy361_1795","setor-modal-info":"_setor-modal-info_sy361_1893","setor-modal-status":"_setor-modal-status_sy361_1917","setor-modal-toggle":"_setor-modal-toggle_sy361_1961","check-icon":"_check-icon_sy361_1985","times-icon":"_times-icon_sy361_1997","cliente-selecionado-primeira":"_cliente-selecionado-primeira_sy361_2525","cliente-card-primeira":"_cliente-card-primeira_sy361_2533","contador-usuarios":"_contador-usuarios_sy361_2555","usuarios-lista":"_usuarios-lista_sy361_2573","usuario-cliente-card":"_usuario-cliente-card_sy361_2587","usuario-cliente-info":"_usuario-cliente-info_sy361_2685","usuario-cliente-principal":"_usuario-cliente-principal_sy361_2699","usuario-avatar-pequeno":"_usuario-avatar-pequeno_sy361_2711","usuario-dados":"_usuario-dados_sy361_2739","ultimo-acesso":"_ultimo-acesso_sy361_2779","usuario-cliente-detalhes":"_usuario-cliente-detalhes_sy361_2799","usuario-acoes":"_usuario-acoes_sy361_2819","btn-acao":"_btn-acao_sy361_2851","btn-ativar":"_btn-ativar_sy361_2893","btn-desativar":"_btn-desativar_sy361_2913","btn-excluir-usuario":"_btn-excluir-usuario_sy361_2933","cadastro-usuario-form":"_cadastro-usuario-form_sy361_3127","campo-nome":"_campo-nome_sy361_3161","campo-email":"_campo-email_sy361_3163","btn-limpar":"_btn-limpar_sy361_3217","btn-enviar":"_btn-enviar_sy361_3271"},nb=()=>{const{modal:e,showSuccess:t,showError:a,showWarning:n,showConfirm:i,closeModal:o}=rx(),[l,c]=f.useState("primeira"),[d,u]=f.useState(null),[h,m]=f.useState([]),[g,x]=f.useState(null),[v,b]=f.useState([]),[y,_]=f.useState(!1),[j,w]=f.useState(null),[N,C]=f.useState(null),[k,S]=f.useState([]),[M,E]=f.useState(null),[O,P]=f.useState([]),[A,T]=f.useState(!1),[z,L]=f.useState(!1),[$,B]=f.useState([]),[q,F]=f.useState(!1),[W,G]=f.useState(""),[K,Y]=f.useState("");async function X(e){try{const t=await r("buscar_clientes_dropdown",{query:e.trim()});return t.success&&t.data?t.data:[]}catch(t){return[]}}f.useEffect(()=>{let e;return(async()=>{try{if(!("primeira"===l?d:M))return;return await s("setor-updated",async()=>{try{const e="primeira"===l?d?.id:M?.id;if(!e)return;const t=await r("buscar_todos_setores_cliente",{clienteId:e});t.success&&t.data&&B(t.data)}catch(e){}})}catch(e){}})().then(t=>{e=t}),()=>{e&&e()}},[M,d,l]);const J={enabled:!0,placeholder:"Buscar cliente por nome ou razão...",type:"cliente",onSearch:X,onSelect:e=>{("fantasia"in e||"razao"in e)&&re(e)}},Q={enabled:!0,placeholder:"Buscar usuário por nome ou email...",type:"usuario",onSearch:async function(e){try{const t=await r("buscar_usuarios_dropdown",{query:e.trim()});return t.success&&t.data?t.data:[]}catch(t){return[]}},onSelect:e=>{"nome"in e&&"usuario"in e&&ue(e)}},ee={enabled:!0,type:"cliente",placeholder:"Buscar cliente para adicionar...",onSearch:X,onSelect:e=>{("fantasia"in e||"razao"in e)&&me(e)}},te=f.useCallback(async()=>{try{await tp.openGerenciarSetor()}catch(e){}},[]),ae=()=>z?p.jsx("div",{className:rb["modal-overlay"],onClick:()=>L(!1),children:p.jsxs("div",{className:rb["modal-content"],onClick:e=>e.stopPropagation(),children:[p.jsxs("div",{className:rb["modal-header"],children:[p.jsx("h3",{children:"primeira"===l?d?.fantasia||d?.razao:M?.fantasia||M?.razao}),p.jsxs("div",{className:rb["setores-actions"],children:[p.jsx("button",{className:rb["btn-cadastrar-setor"],onClick:te,title:"Cadastrar novo setor",children:p.jsx(ie,{})}),p.jsx("button",{className:rb["modal-close"],onClick:()=>L(!1),children:p.jsx(pe,{})})]})]}),p.jsx("div",{className:rb["modal-body"],children:q?p.jsxs("div",{className:rb["loading-container"],children:[p.jsx("div",{className:rb["loading-spinner"]}),p.jsx("span",{children:"Carregando setores..."})]}):p.jsx("div",{className:rb["setores-modal-grid"],children:$.map(e=>p.jsxs("div",{className:`${rb["setor-modal-item"]} ${e.do_cliente?rb.ativo:rb.inativo}`,onClick:()=>(async e=>{if(!(N&&M&&g&&d))return;const t=$.find(t=>t.id===e),a=!t?.do_cliente;try{(await r("alterar_setor_cliente",{request:{clienteId:"primeira"===l?d.id:M.id,setorId:e,permitido:a}})).success&&(B(t=>t.map(t=>t.id===e?{...t,do_cliente:a}:t)),"primeira"===l?se(g):he(M))}catch(n){}})(e.id),children:[p.jsxs("div",{className:rb["setor-modal-info"],children:[p.jsx("h4",{children:e.nome}),p.jsx("span",{className:rb["setor-modal-status"],children:e.do_cliente?"Ativo":"Inativo"})]}),p.jsx("div",{className:rb["setor-modal-toggle"],children:e.do_cliente?p.jsx(R,{className:rb["check-icon"]}):p.jsx(pe,{className:rb["times-icon"]})})]},e.id))})})]})}):null,re=async e=>{u(e),_(!0);try{const t=await r("buscar_usuarios_cliente",{clienteId:e.id});t.success&&t.data?m(t.data):m([])}catch(t){m([])}finally{_(!1)}},se=async e=>{if(d){x(e),_(!0);try{const t=await r("buscar_setores_portal",{usuarioId:e.id,clienteId:d.id});t.success&&t.data&&b(t.data)}catch(t){}finally{_(!1)}}},oe=async()=>{if(d){L(!0),F(!0);try{const e=await r("buscar_todos_setores_cliente",{clienteId:d.id});e.success&&e.data&&B(e.data)}catch(e){}finally{F(!1)}}},ce=()=>{G(""),Y("")},de=async()=>{if(!W.trim()||!K.trim())return void n("Campos obrigatórios","Por favor, preencha o nome e o e-mail.");if(h.find(e=>e.usuario===K))return void n("Usuário existente","Esse email já está cadastrado para o cliente selecionado.");i("Confirme cadastro","Deseja cadastrar o usuário?",async()=>{try{const n=await r("verificar_email",{request:{email:K}});if(n.success&&n.data&&n.data.length>0){w(n.data[0]),alert(JSON.stringify(n.data));const e=async()=>{if(j&&d)try{(await r("cadastrar_usuario",{request:{usuarioId:j.id,clienteId:d.id,nome:W,email:K}})).success&&(d&&re(d),ce(),t("Sucesso","Usuário cadastrado com sucesso!"))}catch(e){a("Erro","Erro ao cadastrar usuário: "+String(e))}};i("Confirme usuário",`Esse email já está cadastrado para outro cliente.\nDeseja adicionar ${K} para o cliente selecionado?`,e)}else try{(await r("cadastrar_usuario",{request:{clienteId:d?.id,nome:W,email:K}})).success&&(d&&re(d),ce(),t("Sucesso","Usuário cadastrado com sucesso!"))}catch(e){a("Erro","Erro ao cadastrar usuário: "+String(e))}}catch(e){a("Erro","Erro ao verificar email: "+String(e)),m([])}})},ue=async e=>{C(e),T(!0);try{const t=await r("buscar_clientes_usuario",{usuarioId:e.id});t.success&&t.data?S(t.data):S([]),E(null)}catch(t){S([])}finally{T(!1)}},he=async e=>{E(e),T(!0);try{const t=await r("buscar_setores_portal",{usuarioId:N?.id,clienteId:e.id});t.success&&t.data&&P(t.data)}catch(t){}finally{T(!1)}},me=async e=>{if(N)try{(await r("adicionar_cliente_usuario",{usuarioId:N.id,clienteId:e.id})).success&&ue(N)}catch(t){}},ve=async()=>{if(M){L(!0),F(!0);try{const e=await r("buscar_todos_setores_cliente",{clienteId:M.id});e.success&&e.data&&B(e.data)}catch(e){}finally{F(!1)}}};return p.jsxs("div",{className:rb["cadastrar-usuario-container"],children:[p.jsx("div",{className:rb["page-header"],children:p.jsx("h1",{className:rb["page-title"],children:"Cadastro de Usuário"})}),p.jsxs("div",{className:rb["guias-container"],children:[p.jsxs("div",{className:rb["guias-header"],children:[p.jsxs("button",{className:`${rb["guia-btn"]} ${"primeira"===l?rb.ativa:""}`,onClick:()=>c("primeira"),children:[p.jsx(_e,{})," Usuários por Empresa"]}),p.jsxs("button",{className:`${rb["guia-btn"]} ${"segunda"===l?rb.ativa:""}`,onClick:()=>c("segunda"),children:[p.jsx(je,{})," Empresas por Usuário"]})]}),p.jsxs("div",{className:rb["guia-conteudo-wrapper"],children:["primeira"===l&&p.jsxs("div",{className:rb["guia-conteudo"],children:[p.jsxs("div",{className:rb.secao,children:[p.jsx("div",{className:rb["secao-header"],children:p.jsxs("h3",{children:[p.jsx(I,{})," Selecionar Cliente"]})}),p.jsx(_v,{fields:[],onSearch:()=>{},onClear:()=>{u(null),m([]),x(null),b([])},dropdownSearch:J}),d&&p.jsx("div",{className:rb["cliente-selecionado-primeira"],children:p.jsxs("div",{className:rb["cliente-card-primeira"],children:[p.jsx("div",{className:rb["cliente-avatar"],children:p.jsx(I,{})}),p.jsxs("div",{className:rb["cliente-info"],children:[p.jsx("h4",{children:d.fantasia||"Fantasia não informado"}),p.jsx("p",{children:d.razao||"Razão não informado"})]})]})})]}),d&&p.jsxs("div",{className:rb.secao,children:[p.jsx("div",{className:rb["secao-header"],children:p.jsxs("h3",{children:[p.jsx(_e,{})," Cadastrar Novo Usuário"]})}),p.jsxs("div",{className:rb["cadastro-usuario-form"],children:[p.jsx("input",{type:"text",placeholder:"Nome do usuário",value:W,onChange:e=>G(e.target.value),className:rb["campo-nome"],autoComplete:"off"}),p.jsx("input",{type:"email",placeholder:"E-mail do usuário",value:K,onChange:e=>Y(e.target.value),className:rb["campo-email"],autoComplete:"off"}),p.jsx("button",{type:"button",onClick:ce,className:rb["btn-limpar"],title:"Limpar campos",children:p.jsx(pe,{})}),p.jsx("button",{type:"button",onClick:de,className:rb["btn-enviar"],title:"Enviar cadastro",children:"Enviar"})]})]}),d&&p.jsxs("div",{className:rb.secao,children:[p.jsxs("div",{className:rb["secao-header"],children:[p.jsxs("h3",{children:[p.jsx(je,{})," Usuários do Cliente"]}),p.jsxs("span",{className:rb["contador-usuarios"],children:[h.length," usuário",1!==h.length?"s":""]})]}),y?p.jsxs("div",{className:rb["loading-container"],children:[p.jsx("div",{className:rb["loading-spinner"]}),p.jsx("span",{children:"Carregando usuários..."})]}):p.jsx(p.Fragment,{children:h.length>0?p.jsx("div",{className:rb["usuarios-lista"],children:h.map(e=>p.jsxs("div",{className:`${rb["usuario-cliente-card"]} ${e.ativo?rb.ativo:rb.inativo}`,onClick:()=>se(e),children:[p.jsxs("div",{className:rb["usuario-cliente-info"],children:[p.jsxs("div",{className:rb["usuario-cliente-principal"],children:[p.jsx("div",{className:rb["usuario-avatar-pequeno"],children:p.jsx(_e,{})}),p.jsxs("div",{className:rb["usuario-dados"],children:[p.jsx("h4",{children:e.nome}),p.jsx("p",{children:e.usuario}),p.jsxs("span",{className:rb["ultimo-acesso"],children:["Último acesso: ",e.ultimoacesso||"Nunca"]})]}),p.jsx("div",{className:rb["usuario-status"],children:p.jsx("span",{className:`${rb["status-badge"]} ${e.ativo?rb.ativo:rb.inativo}`,children:e.ativo})})]}),p.jsxs("div",{className:rb["usuario-cliente-detalhes"],children:[p.jsx("div",{className:rb["detalhe-item"],children:p.jsxs("span",{children:["Relatórios por email: ",p.jsx("strong",{children:e.relatorio_email?"Sim":"Não"})]})}),p.jsx("div",{className:rb["detalhe-item"],children:p.jsxs("span",{children:["Cadastrada: ",p.jsx("strong",{children:e.notif_cadastrada?"Receber":"Não Receber"})]})}),p.jsx("div",{className:rb["detalhe-item"],children:p.jsxs("span",{children:["Iniciada: ",p.jsx("strong",{children:e.notif_iniciada?"Receber":"Não Receber"})]})}),p.jsx("div",{className:rb["detalhe-item"],children:p.jsxs("span",{children:["Relatórios: ",p.jsx("strong",{children:e.notif_relatorio?"Receber":"Não Receber"})]})})]})]}),p.jsxs("div",{className:rb["usuario-acoes"],children:[p.jsx("button",{className:`${rb["btn-acao"]} ${e.notif_cadastrada?rb["btn-ativar"]:rb["btn-desativar"]}`,onClick:n=>{n.stopPropagation(),(async e=>{if(!d)return;const n=h.find(t=>t.id===e);if(!n)return;const s=!n.notif_cadastrada;i("Confirme modificação","Tem certeza que deseja modificar notificação cadastrada deste usuário?",async()=>{try{(await r("configurar_usuarios",{request:{usuarioId:e,status:s,tipo:"notif_cadastrada"}})).success&&(re(d),t("Sucesso",`Usuário ${n.notif_cadastrada?"não receberá":"receberá"} notificação cadastrada.`))}catch(i){a("Erro","Erro ao modificar usuário\n"+String(i))}})})(e.id)},title:"Notificação Cadastrada",children:p.jsx(be,{})}),p.jsx("button",{className:`${rb["btn-acao"]} ${e.notif_iniciada?rb["btn-ativar"]:rb["btn-desativar"]}`,onClick:n=>{n.stopPropagation(),(async e=>{if(!d)return;const n=h.find(t=>t.id===e);if(!n)return;const s=!n.notif_iniciada;i("Confirme modificação","Tem certeza que deseja modificar notificação iniciada deste usuário?",async()=>{try{(await r("configurar_usuarios",{request:{usuarioId:e,status:s,tipo:"notif_iniciada"}})).success&&(re(d),t("Sucesso",`Usuário ${n.notif_iniciada?"não receberá":"receberá"} notificação iniciada.`))}catch(i){a("Erro","Erro ao modificar usuário\n"+String(i))}})})(e.id)},title:"Notificação Iniciada",children:p.jsx(ne,{})}),p.jsx("button",{className:`${rb["btn-acao"]} ${e.notif_relatorio?rb["btn-ativar"]:rb["btn-desativar"]}`,onClick:n=>{n.stopPropagation(),(async e=>{if(!d)return;const n=h.find(t=>t.id===e);if(!n)return;const s=!n.notif_relatorio;i("Confirme modificação","Tem certeza que deseja modificar notificação relatório deste usuário?",async()=>{try{(await r("configurar_usuarios",{request:{usuarioId:e,status:s,tipo:"notif_relatorio"}})).success&&(re(d),t("Sucesso",`Usuário ${n.notif_relatorio?"não receberá":"receberá"} notificação relatório.`))}catch(i){a("Erro","Erro ao modificar usuário\n"+String(i))}})})(e.id)},title:"Notificação Relatório",children:p.jsx(V,{})}),p.jsx("button",{className:rb["btn-acao"],onClick:s=>{s.stopPropagation(),(async e=>{if(!d)return;const s=h.find(t=>t.id===e);s&&(s.ativo?s.ultimoacesso?n("Aviso",'Este já acesssou o portal.\nSolicite o acesso ao "Esqueci minha senha"'):i("Confirme modificação","Deseja reenviar email com os dados de acesso ao usuário?",async()=>{try{(await r("reenviar_email_usuario",{request:{usuarioId:e,email:s.usuario,nome:s.nome}})).success&&t("Sucesso","Email enviado com sucesso ao usuário.")}catch(n){a("Erro","Erro ao enviar email ao usuário\n"+String(n))}}):n("Aviso","Este usuário está desativado."))})(e.id)},title:"Reenviar Email",children:p.jsx(H,{})}),p.jsx("button",{className:rb["btn-acao"],onClick:n=>{n.stopPropagation(),(async e=>{d&&i("Confirme modificação","Tem certeza que deseja remover o usuário?",async()=>{try{(await r("remover_cadastro_usuario",{usuarioId:e,clienteId:d.id})).success&&d&&(re(d),t("Sucesso","Usuário removido com sucesso."))}catch(n){a("Erro","Erro ao remover usuário\n"+String(n))}})})(e.id)},title:"Remover Cadastro",children:p.jsx(D,{})}),p.jsx("button",{className:`${rb["btn-acao"]} ${e.ativo?rb["btn-desativar"]:rb["btn-ativar"]}`,onClick:n=>{n.stopPropagation(),(async e=>{if(!d)return;const n=h.find(t=>t.id===e);if(!n)return;const s=!n.ativo;i("Confirme "+(n.ativo?"desativação":"ativação"),`Tem certeza que deseja ${n.ativo?"desativar":"ativar"} o usuário?`,async()=>{try{(await r("configurar_usuarios",{request:{usuarioId:e,status:s,tipo:"ativar"}})).success&&d&&(re(d),t("Sucesso",`Usuário ${n.ativo?"desativado":"ativado"} com sucesso.`))}catch(i){a("Erro",`Erro ao ${n.ativo?"desativar":"ativar"} usuário\n`+String(i))}})})(e.id)},title:e.ativo?"Desativar":"Ativar",children:e.ativo?p.jsx(fe,{}):p.jsx(ge,{})}),p.jsx("button",{className:`${rb["btn-acao"]} ${e.relatorio_email?rb["btn-ativar"]:rb["btn-desativar"]}`,onClick:n=>{n.stopPropagation(),(async e=>{if(!d)return;const n=h.find(t=>t.id===e);if(!n)return;const s=!n.relatorio_email;i("Confirme modificação","Tem certeza que deseja modificar relatório por email?",async()=>{try{(await r("configurar_usuarios",{request:{usuarioId:e,status:s,tipo:"relatorioEmail"}})).success&&d&&(re(d),t("Sucesso",`Usuário ${n.relatorio_email?"não receberá":"receberá"} relatórios por email.`))}catch(i){a("Erro","Erro ao modificar usuário\n"+String(i))}})})(e.id)},title:"Relatório por Email",children:p.jsx(U,{})}),p.jsx("button",{className:rb["btn-acao"],onClick:t=>{t.stopPropagation(),(async e=>{try{await tp.openHistoricoUsuario(e)}catch(t){}})(e.id)},title:"Histórico",children:p.jsx(Z,{})}),p.jsx("button",{className:rb["btn-excluir-usuario"],onClick:n=>{n.stopPropagation(),(async e=>{d&&i("Confirme exclusão","Tem certeza que deseja excluir este usuário?",async()=>{try{(await r("excluir_usuario_cliente",{usuarioId:e})).success&&(re(d),t("Sucesso","Usuário excluído com sucesso."))}catch(n){a("Erro","Erro ao excluir usuário\n"+String(n))}})})(e.id)},title:"Excluir Usuário",children:p.jsx(xe,{})})]})]},e.id))}):p.jsxs("div",{className:rb["empty-state"],children:[p.jsx(je,{className:rb["empty-icon"]}),p.jsx("h4",{children:"Nenhum usuário encontrado"}),p.jsx("p",{children:"Este cliente ainda não possui usuários cadastrados."})]})})]}),d&&p.jsxs("div",{className:rb.secao,children:[p.jsxs("div",{className:rb["secao-header"],children:[p.jsxs("h3",{children:[p.jsx(le,{})," Setores"]}),p.jsxs("div",{className:rb["setores-actions"],children:[p.jsx("div",{className:rb["cliente-selecionado-info"],children:p.jsxs("span",{children:["Cliente: ",p.jsx("strong",{children:d.fantasia||d.razao})]})}),p.jsx("button",{className:rb["btn-gerenciar-setores"],onClick:oe,title:"Carregar setores",children:p.jsx(ie,{})})]})]}),v.length>0&&p.jsx("div",{className:rb["setores-grid"],children:v.map(e=>{const t=e.do_usuario;return p.jsxs("div",{className:`${rb["setor-card"]} ${t?rb.permitido:rb.negado}`,children:[p.jsxs("div",{className:rb["setor-info"],children:[p.jsx("h4",{children:e.nome}),p.jsx("span",{className:rb["setor-status"],children:t?"Ativo":"Inativo"})]}),p.jsx("div",{className:rb["setor-acoes"],children:p.jsx("button",{className:`${rb["btn-permissao"]} ${t?rb["btn-negar"]:rb["btn-permitir"]}`,onClick:()=>(async e=>{if(!d)return;const t=v.find(t=>t.id===e),a=!t?.do_usuario;try{(await r("alterar_permissao_setor",{request:{usuarioId:g?.id,setorId:e,permitido:a}})).success&&b(t=>t.map(t=>t.id===e?{...t,do_usuario:a}:t))}catch(n){}})(e.id),children:t?p.jsxs(p.Fragment,{children:[p.jsx(pe,{})," Desativar"]}):p.jsxs(p.Fragment,{children:[p.jsx(R,{})," Ativar"]})})})]},e.id)})})]}),ae()]}),"segunda"===l&&p.jsxs("div",{className:rb["guia-conteudo"],children:[p.jsxs("div",{className:rb.secao,children:[p.jsx("div",{className:rb["secao-header"],children:p.jsxs("h3",{children:[p.jsx(_e,{})," Selecionar Usuário"]})}),p.jsx(_v,{fields:[],onSearch:()=>{},onClear:()=>{C(null),S([]),E(null),P([])},dropdownSearch:Q}),N&&p.jsx("div",{className:rb["usuario-selecionado"],children:p.jsxs("div",{className:rb["usuario-card"],children:[p.jsx("div",{className:rb["usuario-avatar"],children:p.jsx(_e,{})}),p.jsxs("div",{className:rb["usuario-info"],children:[p.jsx("h4",{children:N.nome}),p.jsx("p",{children:N.usuario})]})]})})]}),N&&p.jsxs("div",{className:rb.secao,children:[p.jsxs("div",{className:rb["secao-header"],children:[p.jsxs("h3",{children:[p.jsx(I,{})," Clientes do Usuário"]}),p.jsxs("span",{className:rb["contador-clientes"],children:[k.length," cliente",1!==k.length?"s":""]})]}),A?p.jsxs("div",{className:rb["loading-container"],children:[p.jsx("div",{className:rb["loading-spinner"]}),p.jsx("span",{children:"Carregando clientes..."})]}):p.jsx(p.Fragment,{children:k.length>0?p.jsx("div",{className:rb["clientes-grid"],children:k.map(e=>p.jsxs("div",{className:`${rb["cliente-card"]} ${M?.id===e.id?rb.selecionado:""}`,onClick:()=>he(e),children:[p.jsxs("div",{className:rb["cliente-header"],children:[p.jsx("div",{className:rb["cliente-avatar"],children:p.jsx(I,{})}),p.jsxs("div",{className:rb["cliente-info"],children:[p.jsx("h4",{children:e.fantasia||"Fantasia não informado"}),p.jsx("h6",{children:e.razao||"Razão não informado"})]})]}),p.jsx("button",{className:rb["btn-remover-cliente"],onClick:n=>{n.stopPropagation(),(async e=>{N&&i("Confirme remoção","Tem certeza que deseja remover este cliente?",async()=>{try{(await r("remover_cliente_usuario",{usuarioId:N.id,clienteId:e.id})).success&&(ue(N),M?.id===e.id&&(E(null),P([])),t("Sucesso","Cliente removido com sucesso."))}catch(n){a("Erro","Erro ao remover cliente\n"+String(n))}})})(e)},title:"Remover cliente",children:p.jsx(xe,{})})]},e.id))}):p.jsxs("div",{className:rb["empty-state"],children:[p.jsx(I,{className:rb["empty-icon"]}),p.jsx("h4",{children:"Nenhum cliente encontrado"}),p.jsx("p",{children:"Este usuário ainda não possui clientes associados."})]})})]}),N&&p.jsxs("div",{className:rb.secao,children:[p.jsx("div",{className:rb["secao-header"],children:p.jsxs("h3",{children:[p.jsx(ie,{})," Adicionar Cliente"]})}),p.jsx(_v,{fields:[],onSearch:()=>{},onClear:()=>{},dropdownSearch:ee})]}),M&&p.jsxs("div",{className:rb.secao,children:[p.jsxs("div",{className:rb["secao-header"],children:[p.jsxs("h3",{children:[p.jsx(le,{})," Permissões de Setores"]}),p.jsxs("div",{className:rb["setores-actions"],children:[p.jsx("div",{className:rb["cliente-selecionado-info"],children:p.jsxs("span",{children:["Cliente: ",p.jsx("strong",{children:M.fantasia||M.razao})]})}),p.jsx("button",{className:rb["btn-gerenciar-setores"],onClick:ve,title:"Gerenciar setores",children:p.jsx(ie,{})})]})]}),A?p.jsxs("div",{className:rb["loading-container"],children:[p.jsx("div",{className:rb["loading-spinner"]}),p.jsx("span",{children:"Carregando permissões..."})]}):p.jsx("div",{className:rb["setores-grid"],children:O.map(e=>{const t=e.do_usuario;return p.jsxs("div",{className:`${rb["setor-card"]} ${t?rb.permitido:rb.negado}`,children:[p.jsxs("div",{className:rb["setor-info"],children:[p.jsx("h4",{children:e.nome}),p.jsx("span",{className:rb["setor-status"],children:t?"Permitido":"Negado"})]}),p.jsx("div",{className:rb["setor-acoes"],children:p.jsx("button",{className:`${rb["btn-permissao"]} ${t?rb["btn-negar"]:rb["btn-permitir"]}`,onClick:()=>(async e=>{if(!N||!M)return;const t=O.find(t=>t.id===e),a=!t?.do_usuario;try{(await r("alterar_permissao_setor",{request:{usuarioId:N.id,setorId:e,permitido:a}})).success&&P(t=>t.map(t=>t.id===e?{...t,do_usuario:a}:t))}catch(n){}})(e.id),children:t?p.jsxs(p.Fragment,{children:[p.jsx(pe,{})," Negar"]}):p.jsxs(p.Fragment,{children:[p.jsx(R,{})," Permitir"]})})})]},e.id)})})]}),ae()]})]})]}),p.jsx(ix,{...e,onClose:o,onConfirm:e.onConfirm})]})},ib="_scroll-container_1k2zp_1",sb="_container_1k2zp_15",ob="_header_1k2zp_27",lb="_title_1k2zp_41",cb="_subtitle_1k2zp_57",db="_main-actions_1k2zp_71",ub="_primary-button_1k2zp_83",hb="_secondary-button_1k2zp_127",mb="_search-section_1k2zp_169",pb="_search-container_1k2zp_187",fb="_search-input_1k2zp_197",gb="_search-icon_1k2zp_233",xb="_filters-container_1k2zp_249",vb="_filter-chip_1k2zp_263",bb="_active_1k2zp_297",yb="_content-grid_1k2zp_307",_b="_planilhas-list_1k2zp_321",jb="_list-header_1k2zp_343",wb="_list-title_1k2zp_363",Nb="_planilhas-scroll-container_1k2zp_375",Cb="_planilha-item_1k2zp_387",kb="_planilha-header_1k2zp_419",Sb="_planilha-name_1k2zp_433",Mb="_planilha-date_1k2zp_447",Eb="_planilha-description_1k2zp_457",Ob="_planilha-actions_1k2zp_469",Pb="_action-button_1k2zp_483",Ab="_primary_1k2zp_83",Db="_sidebar_1k2zp_543",Ib="_sidebar-section_1k2zp_567",Tb="_sidebar-title_1k2zp_583",zb="_quick-action_1k2zp_597",Rb="_quick-action-icon_1k2zp_633",Lb="_quick-action-text_1k2zp_643",$b="_stats-card_1k2zp_653",Bb="_stats-number_1k2zp_669",qb="_stats-label_1k2zp_683",Fb="_modal-overlay_1k2zp_699",Wb="_modal_1k2zp_699",Gb="_modal-header_1k2zp_771",Hb="_modal-title_1k2zp_789",Vb="_close-button_1k2zp_803",Ub="_modal-options_1k2zp_839",Kb="_option-card_1k2zp_849",Yb="_option-icon_1k2zp_881",Xb="_option-title_1k2zp_895",Jb="_option-description_1k2zp_909",Zb="_empty-state_1k2zp_923",Qb="_empty-icon_1k2zp_935",ey="_empty-title_1k2zp_949",ty="_empty-description_1k2zp_963",ay="_loading-state_1k2zp_1161",ry="_error-message_1k2zp_1193",ny="_retry-button_1k2zp_1227",iy=({isOpen:e,onClose:t,templates:a,onSelectTemplate:r,loading:n})=>{const[i,s]=f.useState(""),o=f.useMemo(()=>i?a.filter(e=>e.nome.toLowerCase().includes(i.toLowerCase())||e.descricao.toLowerCase().includes(i.toLowerCase())||e.categoria.toLowerCase().includes(i.toLowerCase())):a,[a,i]),l=e=>{try{const t=new Date(e);return isNaN(t.getTime())?"Data inválida":t.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"Data inválida"}};return e?p.jsx("div",{className:Fb,onClick:t,children:p.jsxs("div",{className:Wb,onClick:e=>e.stopPropagation(),style:{maxWidth:"800px",maxHeight:"80vh"},children:[p.jsxs("div",{className:Gb,children:[p.jsx("h2",{className:Hb,children:"Escolher Template"}),p.jsx("button",{className:Vb,onClick:t,children:p.jsx(ss,{size:20})})]}),p.jsxs("div",{className:pb,style:{margin:"20px 0"},children:[p.jsx(Mi,{className:gb,size:20}),p.jsx("input",{type:"text",placeholder:"Buscar templates...",className:fb,value:i,onChange:e=>s(e.target.value)})]}),p.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",padding:"0 20px"},children:n?p.jsxs("div",{className:ay,children:[p.jsx(Xn,{size:48,className:"animate-spin"}),p.jsx("p",{children:"Carregando templates..."})]}):0===o.length?p.jsxs("div",{className:Zb,children:[p.jsx("div",{className:Qb,children:p.jsx(Dn,{size:64})}),p.jsx("h3",{className:ey,children:i?"Nenhum template encontrado":"Nenhum template disponível"}),p.jsx("p",{className:ty,children:i?"Tente ajustar o termo de busca":"Não há templates cadastrados no sistema"})]}):o.map(e=>p.jsxs("div",{className:Cb,style:{cursor:"pointer",marginBottom:"12px"},onClick:()=>{r(e),t()},children:[p.jsxs("div",{className:kb,children:[p.jsxs("div",{children:[p.jsx("h3",{className:Sb,children:e.nome}),p.jsxs("span",{className:Mb,children:["Modificado em ",l(e.dataModificacao)," • ",e.autor]})]}),p.jsx("span",{className:vb,children:e.categoria})]}),p.jsx("p",{className:Eb,children:e.descricao}),p.jsx("div",{className:Ob,children:p.jsxs("button",{className:`${Pb} ${Ab}`,onClick:a=>{a.stopPropagation(),r(e),t()},children:[p.jsx(gn,{size:14}),"Usar Template"]})})]},e.id))})]})}):null},sy=({isOpen:e,onClose:t,onCreateFromTemplate:a})=>{if(!e)return null;return p.jsx("div",{className:Fb,onClick:t,children:p.jsxs("div",{className:Wb,onClick:e=>e.stopPropagation(),children:[p.jsxs("div",{className:Gb,children:[p.jsx("h2",{className:Hb,children:"Criar Nova Planilha"}),p.jsx("button",{className:Vb,onClick:t,children:p.jsx(ss,{size:20})})]}),p.jsxs("div",{className:Ub,children:[p.jsxs("div",{className:Kb,onClick:()=>{tp.openCadastrarPlanilha({type:"Criar",templateData:null}),t()},children:[p.jsx("div",{className:Yb,children:p.jsx(Sn,{size:40})}),p.jsx("h3",{className:Xb,children:"Criar do Zero"}),p.jsx("p",{className:Jb,children:"Comece com uma planilha em branco e construa do seu jeito"})]}),p.jsxs("div",{className:Kb,onClick:a,children:[p.jsx("div",{className:Yb,children:p.jsx(Dn,{size:40})}),p.jsx("h3",{className:Xb,children:"Usar Template"}),p.jsx("p",{className:Jb,children:"Escolha um modelo pré-definido para começar rapidamente"})]})]})]})})},oy=()=>{const[e,t]=f.useState(""),[a,n]=f.useState("todas"),[i,s]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState([]),[u,h]=f.useState(!0),[m,g]=f.useState(null),x=e=>{const t=e.tag||"Geral",a="template"===e.tipo?"template":"personalizada",r=`Planilha ${"template"===a?"modelo":"personalizada"} - ${e.nome_arquivo}`;return{id:e.id?.toString()||Math.random().toString(),nome:e.nome_arquivo.replace(/\.[^/.]+$/,""),descricao:r,dataModificacao:e.updated_at||new Date(0).toISOString(),tipo:a,categoria:t,autor:"template"===a?"Sistema":"Usuário",templateData:e}},v=async()=>{try{h(!0),g(null);const e=(await r("list_templates")).map(x);d(e)}catch(e){g("string"==typeof e?e:"Erro desconhecido ao carregar planilhas."),d([])}finally{h(!1)}};f.useEffect(()=>{v()},[]);const b=f.useMemo(()=>{let t=[...c];return e&&(t=t.filter(t=>t.nome.toLowerCase().includes(e.toLowerCase())||t.descricao.toLowerCase().includes(e.toLowerCase())||t.categoria.toLowerCase().includes(e.toLowerCase()))),"todas"!==a&&("recentes"===a?t.sort((e,t)=>new Date(t.dataModificacao).getTime()-new Date(e.dataModificacao).getTime()):t=t.filter(e=>e.tipo===a)),t},[e,a,c]),y=f.useMemo(()=>c.filter(e=>"template"===e.tipo),[c]),_=async e=>{try{const t=Number(e.templateData?.id);if(isNaN(t))throw new Error("ID da planilha não é um número válido");const a={type:"Duplicar",templateData:await r("get_template_by_id",{id:t})};tp.openCadastrarPlanilha(a)}catch(t){alert("Erro ao abrir planilha para edição")}},j=()=>{v()},w=e=>{try{const t=new Date(e);return isNaN(t.getTime())?"Data inválida":t.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"Data inválida"}},N=c.length,C=c.filter(e=>"template"===e.tipo).length,k=c.filter(e=>"personalizada"===e.tipo).length,S=Array.from(new Set(c.map(e=>e.categoria))).sort();return p.jsx("div",{className:ib,children:p.jsxs("div",{className:sb,children:[p.jsxs("div",{className:ob,children:[p.jsxs("div",{children:[p.jsx("h1",{className:lb,children:"Gerenciar Planilhas"}),p.jsx("p",{className:cb,children:"Crie, edite e organize suas planilhas e templates"})]}),p.jsxs("div",{className:db,children:[p.jsxs("button",{className:hb,onClick:j,disabled:u,children:[p.jsx(wi,{size:18,className:u?"animate-spin":""}),"Atualizar"]}),p.jsxs("button",{className:ub,onClick:()=>s(!0),children:[p.jsx(vi,{size:18}),"Nova Planilha"]})]})]}),p.jsxs("div",{className:mb,children:[p.jsxs("div",{className:pb,children:[p.jsx(Mi,{className:gb,size:20}),p.jsx("input",{type:"text",placeholder:"Buscar planilhas por nome, descrição ou categoria...",className:fb,value:e,onChange:e=>t(e.target.value)})]}),p.jsx("div",{className:xb,children:[{id:"todas",label:"Todas"},{id:"template",label:"Templates"},{id:"personalizada",label:"Personalizadas"},{id:"recentes",label:"Recentes"}].map(e=>p.jsx("button",{className:`${vb} ${a===e.id?bb:""}`,onClick:()=>n(e.id),children:e.label},e.id))})]}),m&&p.jsxs("div",{className:ry,children:[p.jsxs("p",{children:["Erro: ",m]}),p.jsx("button",{onClick:j,className:ny,children:"Tentar novamente"})]}),p.jsxs("div",{className:yb,children:[p.jsxs("div",{className:_b,children:[p.jsxs("div",{className:jb,children:[p.jsx("h2",{className:wb,children:u?"Carregando...":`${b.length} planilha(s) encontrada(s)`}),p.jsx(Sn,{size:24})]}),p.jsx("div",{className:Nb,children:u?p.jsxs("div",{className:ay,children:[p.jsx(Xn,{size:48,className:"animate-spin"}),p.jsx("p",{children:"Carregando planilhas do servidor..."})]}):0===b.length?p.jsxs("div",{className:Zb,children:[p.jsx("div",{className:Qb,children:p.jsx(Mn,{size:64})}),p.jsx("h3",{className:ey,children:m?"Erro ao carregar planilhas":"Nenhuma planilha encontrada"}),p.jsx("p",{className:ty,children:m?"Verifique sua conexão e tente novamente":"Tente ajustar os filtros ou criar uma nova planilha"}),p.jsxs("button",{className:ub,onClick:()=>s(!0),children:[p.jsx(vi,{size:18}),"Criar Primeira Planilha"]})]}):b.map(e=>p.jsxs("div",{className:Cb,children:[p.jsxs("div",{className:kb,children:[p.jsxs("div",{children:[p.jsx("h3",{className:Sb,children:e.nome}),p.jsxs("span",{className:Mb,children:["Modificado em ",w(e.dataModificacao)," • ",e.autor]})]}),p.jsx("span",{className:vb,children:e.categoria})]}),p.jsx("p",{className:Eb,children:e.descricao}),p.jsxs("div",{className:Ob,children:[p.jsxs("button",{className:`${Pb} ${Ab}`,onClick:()=>(async e=>{try{const t=Number(e.templateData?.id);if(isNaN(t))throw new Error("ID da planilha não é um número válido");const a={type:"Editar",templateData:await r("get_template_by_id",{id:t})};tp.openCadastrarPlanilha(a)}catch(t){alert("Erro ao abrir planilha para edição")}})(e),children:[p.jsx(fi,{size:14}),"Abrir"]}),p.jsxs("button",{className:Pb,onClick:()=>_(e),children:[p.jsx(gn,{size:14}),"Duplicar"]}),p.jsxs("button",{className:Pb,onClick:()=>(async e=>{const t=c.find(t=>t.id===e);if(t?.templateData?.id&&confirm(`Tem certeza que deseja excluir a planilha "${t.nome}"?`))try{await r("delete_template",{id:t.templateData.id}),alert(`Planilha "${t.nome}" excluída com sucesso!`),v()}catch(a){alert("Erro ao excluir planilha")}})(e.id),style:{color:"#dc2626"},children:[p.jsx(Vi,{size:14}),"Excluir"]})]})]},e.id))})]}),p.jsxs("div",{className:Db,children:[p.jsxs("div",{className:Ib,children:[p.jsx("h3",{className:Tb,children:"Estatísticas"}),p.jsxs("div",{className:$b,children:[p.jsx("p",{className:Bb,children:N}),p.jsx("p",{className:qb,children:"Total de Planilhas"})]}),p.jsxs("div",{className:$b,children:[p.jsx("p",{className:Bb,children:C}),p.jsx("p",{className:qb,children:"Templates Disponíveis"})]}),p.jsxs("div",{className:$b,children:[p.jsx("p",{className:Bb,children:k}),p.jsx("p",{className:qb,children:"Planilhas Personalizadas"})]})]}),p.jsxs("div",{className:Ib,children:[p.jsx("h3",{className:Tb,children:"Ações Rápidas"}),p.jsxs("div",{className:zb,onClick:()=>s(!0),children:[p.jsx(vi,{className:Rb,size:20}),p.jsx("span",{className:Lb,children:"Nova Planilha"})]}),p.jsxs("div",{className:zb,onClick:j,children:[p.jsx(wi,{className:Rb,size:20}),p.jsx("span",{className:Lb,children:"Sincronizar"})]})]}),p.jsxs("div",{className:Ib,children:[p.jsx("h3",{className:Tb,children:"Categorias"}),S.length>0?S.map(e=>p.jsxs("div",{className:zb,children:[p.jsx(In,{className:Rb,size:20}),p.jsx("span",{className:Lb,children:e})]},e)):p.jsxs("div",{className:zb,children:[p.jsx(In,{className:Rb,size:20}),p.jsx("span",{className:Lb,children:"Nenhuma categoria"})]})]})]})]}),p.jsx(sy,{isOpen:i,onClose:()=>s(!1),onCreateFromScratch:()=>{s(!1),alert("Criando planilha do zero...")},onCreateFromTemplate:()=>{s(!1),l(!0)}}),p.jsx(iy,{isOpen:o,onClose:()=>l(!1),templates:y,onSelectTemplate:e=>{_(e)},loading:u})]})})};class ly{static getColumnLabel(e){let t="",a=e;for(;a>=0;)t=String.fromCharCode(65+a%26)+t,a=Math.floor(a/26)-1;return t}static getColumnIndex(e){let t=0;for(let a=0;a<e.length;a++)t=26*t+(e.charCodeAt(a)-64);return t-1}static getCellReference(e,t){return`${this.getColumnLabel(t)}${e+1}`}static parseCellReference(e){const t=e.match(/^([A-Z]+)(\d+)$/);if(!t)return null;const a=t[1],r=t[2],n=this.getColumnIndex(a);return{row:parseInt(r)-1,col:n}}static isValidCellReference(e){return/^[A-Z]+\d+$/.test(e)}static expandRange(e){if(!e.includes(":"))return this.isValidCellReference(e)?[e]:[];const[t,a]=e.split(":"),r=this.parseCellReference(t),n=this.parseCellReference(a);if(!r||!n)return[];const i=[],s=Math.min(r.row,n.row),o=Math.max(r.row,n.row),l=Math.min(r.col,n.col),c=Math.max(r.col,n.col);for(let d=s;d<=o;d++)for(let e=l;e<=c;e++)i.push(this.getCellReference(d,e));return i}static isCellInRange(e,t){return this.expandRange(t).includes(e)}}class cy{static validateMergeRange(e,t,a,r,n){if(t<0||a<0||r>=e.length||n>=e[0].length)return{isValid:!1,error:"Coordenadas fora dos limites da planilha"};if(t===r&&a===n)return{isValid:!1,error:"Selecione pelo menos duas células para mesclar"};for(let i=t;i<=r;i++)for(let t=a;t<=n;t++){const a=e[i]?.[t];if(a?.merged)return{isValid:!1,error:`A célula ${ly.getCellReference(i,t)} já está mesclada`}}return{isValid:!0}}static mergeCells(e,t,a,r,n){const i=Math.min(t,r),s=Math.max(t,r),o=Math.min(a,n),l=Math.max(a,n),c=this.validateMergeRange(e,i,o,s,l);if(!c.isValid)return{success:!1,error:c.error,mergedCells:[],masterCell:{row:i,col:o},mergeRange:{startRow:i,startCol:o,endRow:s,endCol:l}};const d={row:i,col:o},u={startRow:i,startCol:o,endRow:s,endCol:l},h=[];let m="",p="",f=!1,g=e[i][o]?.style||{},x=e[i][o]?.media;for(let v=i;v<=s;v++)for(let t=o;t<=l;t++){const a=e[v][t];if(h.push({row:v,col:t}),v===i&&t===o)m=a.computed_value||a.value||"",a.is_formula&&a.formula&&(p=a.formula,f=!0);else{const e=a.computed_value||a.value||"";e.trim()&&(m.trim()?m+=" "+e:m=e),!f&&a.is_formula&&a.formula&&(p=a.formula,f=!0)}}for(let v=i;v<=s;v++)for(let t=o;t<=l;t++)e[v][t]=v===i&&t===o?{...e[v][t],value:f?`=${p}`:m,formula:f?p:null,computed_value:f?e[v][t].computed_value:null,is_formula:f,merged:!0,masterCell:d,mergeRange:u,style:g,media:x}:{...e[v][t],value:"",formula:null,computed_value:null,is_formula:!1,merged:!0,masterCell:d,mergeRange:u,style:{},media:void 0};return{success:!0,mergedCells:h,masterCell:d,mergeRange:u}}static unmergeCells(e,t,a){const r=e[t]?.[a];if(!r?.merged)return{success:!1,error:"A célula selecionada não está mesclada",mergedCells:[],masterCell:{row:t,col:a},mergeRange:{startRow:t,startCol:a,endRow:t,endCol:a}};let n=r.masterCell||{row:t,col:a},i=r.mergeRange;if(!i){const t=e[n.row]?.[n.col];i=t?.mergeRange}if(!i)return{success:!1,error:"Não foi possível encontrar o intervalo de mesclagem",mergedCells:[],masterCell:n,mergeRange:{startRow:t,startCol:a,endRow:t,endCol:a}};const{startRow:s,startCol:o,endRow:l,endCol:c}=i,d=[];for(let u=s;u<=l;u++)for(let t=o;t<=c;t++)d.push({row:u,col:t}),u===n.row&&t===n.col?e[u][t]={...e[u][t],merged:!1,masterCell:void 0,mergeRange:void 0}:e[u][t]={...e[u][t],value:"",formula:null,computed_value:null,is_formula:!1,merged:!1,masterCell:void 0,mergeRange:void 0,style:{},media:void 0};return{success:!0,mergedCells:d,masterCell:n,mergeRange:i}}static isCellMerged(e,t,a){const r=e[t]?.[a];return r?.merged||!1}static getMergeInfo(e,t,a){const r=e[t]?.[a];if(!r?.merged)return{isMerged:!1,isMasterCell:!1};const n=r.masterCell||{row:t,col:a};return{isMerged:!0,isMasterCell:n.row===t&&n.col===a,masterCell:n,mergeRange:r.mergeRange}}static getAllMergedCells(e){const t=new Map;return e.forEach((e,a)=>{e.forEach((e,r)=>{if(e.merged&&e.masterCell&&e.mergeRange){const n=`${e.masterCell.row}-${e.masterCell.col}`;t.has(n)||t.set(n,{masterCell:e.masterCell,mergeRange:e.mergeRange,cells:[]}),t.get(n).cells.push({row:a,col:r})}})}),Array.from(t.values())}static getCellSpan(e,t,a){const r=e[t]?.[a];if(!r?.merged)return{colspan:1,rowspan:1,shouldRender:!0};const n=this.getMergeInfo(e,t,a);if(!n.isMasterCell)return{colspan:1,rowspan:1,shouldRender:!1};if(!n.mergeRange)return{colspan:1,rowspan:1,shouldRender:!0};const{startRow:i,startCol:s,endRow:o,endCol:l}=n.mergeRange;return{colspan:l-s+1,rowspan:o-i+1,shouldRender:!0}}}class dy{static insertColumn(e,t,a,r=100){const n=this.adjustMergeReferencesForColumnInsert(e,a).map((e,t)=>{const r=[...e],n={value:"",id:`cell-${t}-${a}`,formula:null,computed_value:null,error:null,is_formula:!1,style:{},merged:!1};return r.splice(a,0,n),r.map((e,a)=>({...e,id:`cell-${t}-${a}`}))}),i=[...t];return i.splice(a,0,r),{newData:n,newColumnWidths:i}}static removeColumn(e,t,a){const r=[],n=this.checkColumnMergeConflicts(e,a);if(n.length>0){const t=this.handleMergeConflictsForColumnRemoval(e,a);r.push(...n.map(e=>`Células mescladas em ${e.range} foram desmescladas devido à remoção da coluna`)),e=t}const i=this.adjustMergeReferencesForColumnRemoval(e,a).map((e,t)=>{const r=[...e];return r.splice(a,1),r.map((e,a)=>({...e,id:`cell-${t}-${a}`}))}),s=[...t];return s.splice(a,1),{newData:i,newColumnWidths:s,warnings:r}}static insertRow(e,t,a,r,n=32){const i=[...this.adjustMergeReferencesForRowInsert(e,a)],s=Array(r).fill(null).map((e,t)=>({value:"",id:`cell-${a}-${t}`,formula:null,computed_value:null,error:null,is_formula:!1,style:{},merged:!1}));i.splice(a,0,s);const o=i.map((e,t)=>e.map((e,a)=>({...e,id:`cell-${t}-${a}`}))),l=[...t];return l.splice(a,0,n),{newData:o,newRowHeights:l}}static removeRow(e,t,a){const r=[],n=this.checkRowMergeConflicts(e,a);if(n.length>0){const t=this.handleMergeConflictsForRowRemoval(e,a);r.push(...n.map(e=>`Células mescladas em ${e.range} foram desmescladas devido à remoção da linha`)),e=t}const i=[...this.adjustMergeReferencesForRowRemoval(e,a)];i.splice(a,1);const s=i.map((e,t)=>e.map((e,a)=>({...e,id:`cell-${t}-${a}`}))),o=[...t];return o.splice(a,1),{newData:s,newRowHeights:o,warnings:r}}static adjustMergeReferencesForColumnInsert(e,t){return e.map(e=>e.map(e=>{if(!e.merged||!e.mergeRange||!e.masterCell)return e;const a={...e.mergeRange},r={...e.masterCell};return e.mergeRange.startCol>=t&&a.startCol++,e.mergeRange.endCol>=t&&a.endCol++,e.masterCell.col>=t&&r.col++,{...e,mergeRange:a,masterCell:r}}))}static adjustMergeReferencesForColumnRemoval(e,t){return e.map(e=>e.map(e=>{if(!e.merged||!e.mergeRange||!e.masterCell)return e;const a={...e.mergeRange},r={...e.masterCell};return e.mergeRange.startCol>t&&a.startCol--,e.mergeRange.endCol>t&&a.endCol--,e.masterCell.col>t&&r.col--,{...e,mergeRange:a,masterCell:r}}))}static adjustMergeReferencesForRowInsert(e,t){return e.map(e=>e.map(e=>{if(!e.merged||!e.mergeRange||!e.masterCell)return e;const a={...e.mergeRange},r={...e.masterCell};return e.mergeRange.startRow>=t&&a.startRow++,e.mergeRange.endRow>=t&&a.endRow++,e.masterCell.row>=t&&r.row++,{...e,mergeRange:a,masterCell:r}}))}static adjustMergeReferencesForRowRemoval(e,t){return e.map(e=>e.map(e=>{if(!e.merged||!e.mergeRange||!e.masterCell)return e;const a={...e.mergeRange},r={...e.masterCell};return e.mergeRange.startRow>t&&a.startRow--,e.mergeRange.endRow>t&&a.endRow--,e.masterCell.row>t&&r.row--,{...e,mergeRange:a,masterCell:r}}))}static checkColumnMergeConflicts(e,t){const a=[],r=new Set;return e.forEach(e=>{e.forEach(e=>{if(e.merged&&e.mergeRange&&e.masterCell){const n=`${e.masterCell.row}-${e.masterCell.col}`;if(!r.has(n)){r.add(n);const{startCol:i,endCol:s,startRow:o,endRow:l}=e.mergeRange;i<=t&&s>=t&&a.push({range:`${this.getColumnLabel(i)}${o+1}:${this.getColumnLabel(s)}${l+1}`,mergeRange:e.mergeRange})}}})}),a}static checkRowMergeConflicts(e,t){const a=[],r=new Set;return e.forEach(e=>{e.forEach(e=>{if(e.merged&&e.mergeRange&&e.masterCell){const n=`${e.masterCell.row}-${e.masterCell.col}`;if(!r.has(n)){r.add(n);const{startCol:i,endCol:s,startRow:o,endRow:l}=e.mergeRange;o<=t&&l>=t&&a.push({range:`${this.getColumnLabel(i)}${o+1}:${this.getColumnLabel(s)}${l+1}`,mergeRange:e.mergeRange})}}})}),a}static handleMergeConflictsForColumnRemoval(e,t){const a=e.map(e=>e.map(e=>({...e}))),r=new Set;return a.forEach(e=>{e.forEach(e=>{if(e.merged&&e.mergeRange&&e.masterCell){const n=`${e.masterCell.row}-${e.masterCell.col}`;if(!r.has(n)){r.add(n);const{startCol:i,endCol:s,startRow:o,endRow:l}=e.mergeRange;i<=t&&s>=t&&this.unmergeCellsInRange(a,o,i,l,s)}}})}),a}static handleMergeConflictsForRowRemoval(e,t){const a=e.map(e=>e.map(e=>({...e}))),r=new Set;return a.forEach(e=>{e.forEach(e=>{if(e.merged&&e.mergeRange&&e.masterCell){const n=`${e.masterCell.row}-${e.masterCell.col}`;if(!r.has(n)){r.add(n);const{startCol:i,endCol:s,startRow:o,endRow:l}=e.mergeRange;o<=t&&l>=t&&this.unmergeCellsInRange(a,o,i,l,s)}}})}),a}static unmergeCellsInRange(e,t,a,r,n){const i=e[t]?.[a];if(!i)return;const s=i.value,o=i.formula,l=i.computed_value,c=i.is_formula,d=i.style,u=i.media;for(let h=t;h<=r;h++)for(let r=a;r<=n;r++)e[h]?.[r]&&(e[h][r]=h===t&&r===a?{...e[h][r],value:s,formula:o,computed_value:l,is_formula:c,style:d,media:u,merged:!1,masterCell:void 0,mergeRange:void 0}:{...e[h][r],value:"",formula:null,computed_value:null,is_formula:!1,merged:!1,masterCell:void 0,mergeRange:void 0,style:{},media:void 0})}static getColumnLabel(e){let t="",a=e;for(;a>=0;)t=String.fromCharCode(65+a%26)+t,a=Math.floor(a/26)-1;return t}static validateOperation(e,t,a,r){return"remove"===e&&r<=1?{isValid:!1,error:"Não é possível remover a última "+("row"===t?"linha":"coluna")}:a<0||"remove"===e&&a>=r?{isValid:!1,error:`Índice ${a} fora dos limites`}:"insert"===e&&a>r?{isValid:!1,error:`Índice de inserção ${a} fora dos limites`}:{isValid:!0}}static updateCellReferences(e){return e.map(e=>e.map(e=>{if(!e.formula||!e.is_formula)return e;let t=e.formula;return{...e,formula:t}}))}}const uy={container:"_container_u5abs_1",maximized:"_maximized_u5abs_17",header:"_header_u5abs_39","main-content":"_main-content_u5abs_83",toolbar:"_toolbar_u5abs_161",button:"_button_u5abs_189",secondary:"_secondary_u5abs_257",danger:"_danger_u5abs_295",success:"_success_u5abs_315","spreadsheet-container":"_spreadsheet-container_u5abs_337","spreadsheet-scroll-area":"_spreadsheet-scroll-area_u5abs_369","spreadsheet-grid":"_spreadsheet-grid_u5abs_437",cell:"_cell_u5abs_455",selected:"_selected_u5abs_495","in-range":"_in-range_u5abs_509",master:"_master_u5abs_563","column-header":"_column-header_u5abs_645","row-header":"_row-header_u5abs_655",corner:"_corner_u5abs_669","print-area-cell":"_print-area-cell_u5abs_701","print-area-selecting":"_print-area-selecting_u5abs_711","cell-input":"_cell-input_u5abs_723","column-resizer":"_column-resizer_u5abs_775",resizing:"_resizing_u5abs_807","row-resizer":"_row-resizer_u5abs_817","formatting-toolbar":"_formatting-toolbar_u5abs_859","format-group":"_format-group_u5abs_895","format-button":"_format-button_u5abs_937",active:"_active_u5abs_997","format-select":"_format-select_u5abs_1019","position-indicator":"_position-indicator_u5abs_1133","modal-overlay":"_modal-overlay_u5abs_1189","modal-content":"_modal-content_u5abs_1217","modal-header":"_modal-header_u5abs_1239","modal-actions":"_modal-actions_u5abs_1261","input-group":"_input-group_u5abs_1387","input-field":"_input-field_u5abs_1409","formula-bar":"_formula-bar_u5abs_1713","formula-bar-input-container":"_formula-bar-input-container_u5abs_1755","formula-bar-input":"_formula-bar-input_u5abs_1755","formula-error":"_formula-error_u5abs_1799","formula-validation":"_formula-validation_u5abs_1809","formula-error-text":"_formula-error-text_u5abs_1829","formula-suggestions":"_formula-suggestions_u5abs_1849","formula-suggestion":"_formula-suggestion_u5abs_1849","formula-modal-content":"_formula-modal-content_u5abs_1969","formula-categories":"_formula-categories_u5abs_1979","category-button":"_category-button_u5abs_1995","formula-list":"_formula-list_u5abs_2047","formula-item":"_formula-item_u5abs_2059","formula-header":"_formula-header_u5abs_2087","formula-category":"_formula-category_u5abs_2113","formula-description":"_formula-description_u5abs_2131","formula-syntax":"_formula-syntax_u5abs_2145","formula-example":"_formula-example_u5abs_2147","insert-formula-button":"_insert-formula-button_u5abs_2191","image-container":"_image-container_u5abs_2229","resize-handle":"_resize-handle_u5abs_2251","drop-target":"_drop-target_u5abs_2309","table-config-container":"_table-config-container_u5abs_2845","table-size-section":"_table-size-section_u5abs_2863","table-templates-section":"_table-templates-section_u5abs_2865","table-preview-section":"_table-preview-section_u5abs_2867","size-inputs":"_size-inputs_u5abs_2885","size-input":"_size-input_u5abs_2885","templates-grid":"_templates-grid_u5abs_2939","template-preview":"_template-preview_u5abs_2963","template-name":"_template-name_u5abs_3015","preview-table":"_preview-table_u5abs_3039","preview-header":"_preview-header_u5abs_3057","preview-row":"_preview-row_u5abs_3059","table-preview":"_table-preview_u5abs_2867","preview-full-table":"_preview-full-table_u5abs_3101","preview-note":"_preview-note_u5abs_3135","modal-footer":"_modal-footer_u5abs_3365","close-button":"_close-button_u5abs_3399",modalHeader:"_modalHeader_u5abs_3523",closeButton:"_closeButton_u5abs_3573",modalBody:"_modalBody_u5abs_3625",historyList:"_historyList_u5abs_3727",historyItem:"_historyItem_u5abs_3741",modalFooter:"_modalFooter_u5abs_3997",formulaDragHandle:"_formulaDragHandle_u5abs_4099",cellDragHighlight:"_cellDragHighlight_u5abs_4143",cellSelected:"_cellSelected_u5abs_4187"},hy=()=>{const[e,t]=f.useState("Nova Planilha"),[a,n]=f.useState(20),[i,l]=f.useState(20),[c,d]=f.useState([]),[u,h]=f.useState(null),[m,x]=f.useState(!1),[v,b]=f.useState(null),[y,_]=f.useState(!1),[j,w]=f.useState(!1),[N,C]=f.useState(null),[k,S]=f.useState([]),[M,E]=f.useState([]),[O]=f.useState(50),[P,A]=f.useState([]),[D,I]=f.useState(()=>Array(20).fill(100)),[T,z]=f.useState(()=>Array(20).fill(32)),[R,L]=f.useState(null),[$,B]=f.useState(!1),[q,F]=f.useState("image"),[W,G]=f.useState(),[H,V]=f.useState(!1),[U,K]=f.useState({tipo:"template",tag:"",nomeArquivo:"",caminhoArquivo:"",jsonData:"",updated_at:""}),[Y,X]=f.useState(["Financeiro","Vendas","Estoque","RH","Marketing","Produção","Relatório","Dashboard"]),[J,Z]=f.useState(""),[Q,ee]=f.useState(!1),[te,ae]=f.useState(!1),[re,ne]=f.useState({usuario:"",senha:""}),ie=f.useCallback(async(e,t)=>{try{const a=await r("get_usuario_nome"),n=a?`${t} - Usuário: ${a}`:t,i={timestamp:new Date,action:e,details:n};Qe(e=>[i,...e].slice(0,50))}catch(a){const r={timestamp:new Date,action:e,details:t};Qe(e=>[r,...e].slice(0,50))}},[]),[se,oe]=f.useState(""),[le,ce]=f.useState(!1),[de,ue]=f.useState({rows:3,cols:3,selectedTemplate:0}),[he,me]=f.useState({isDragging:!1,startCell:null,currentCell:null,dragRange:null}),pe=[{name:"Light",headerStyle:{backgroundColor:"#f8f9fa",color:"#212529",fontWeight:"bold",border:"1px solid #dee2e6"},cellStyle:{backgroundColor:"#ffffff",color:"#212529",border:"1px solid #dee2e6"},alternateRowStyle:{backgroundColor:"#f8f9fa",color:"#212529",border:"1px solid #dee2e6"}},{name:"Blue",headerStyle:{backgroundColor:"#0d6efd",color:"#ffffff",fontWeight:"bold",border:"1px solid #0d6efd"},cellStyle:{backgroundColor:"#ffffff",color:"#212529",border:"1px solid #dee2e6"},alternateRowStyle:{backgroundColor:"#e7f1ff",color:"#212529",border:"1px solid #dee2e6"}},{name:"Green",headerStyle:{backgroundColor:"#198754",color:"#ffffff",fontWeight:"bold",border:"1px solid #198754"},cellStyle:{backgroundColor:"#ffffff",color:"#212529",border:"1px solid #dee2e6"},alternateRowStyle:{backgroundColor:"#d1e7dd",color:"#212529",border:"1px solid #dee2e6"}},{name:"Orange",headerStyle:{backgroundColor:"#fd7e14",color:"#ffffff",fontWeight:"bold",border:"1px solid #fd7e14"},cellStyle:{backgroundColor:"#ffffff",color:"#212529",border:"1px solid #dee2e6"},alternateRowStyle:{backgroundColor:"#fff3cd",color:"#212529",border:"1px solid #dee2e6"}},{name:"Red",headerStyle:{backgroundColor:"#dc3545",color:"#ffffff",fontWeight:"bold",border:"1px solid #dc3545"},cellStyle:{backgroundColor:"#ffffff",color:"#212529",border:"1px solid #dee2e6"},alternateRowStyle:{backgroundColor:"#f8d7da",color:"#212529",border:"1px solid #dee2e6"}},{name:"Purple",headerStyle:{backgroundColor:"#6f42c1",color:"#ffffff",fontWeight:"bold",border:"1px solid #6f42c1"},cellStyle:{backgroundColor:"#ffffff",color:"#212529",border:"1px solid #dee2e6"},alternateRowStyle:{backgroundColor:"#e2d9f3",color:"#212529",border:"1px solid #dee2e6"}},{name:"Dark",headerStyle:{backgroundColor:"#212529",color:"#ffffff",fontWeight:"bold",border:"1px solid #212529"},cellStyle:{backgroundColor:"#ffffff",color:"#212529",border:"1px solid #dee2e6"},alternateRowStyle:{backgroundColor:"#f8f9fa",color:"#212529",border:"1px solid #dee2e6"}},{name:"Teal",headerStyle:{backgroundColor:"#20c997",color:"#ffffff",fontWeight:"bold",border:"1px solid #20c997"},cellStyle:{backgroundColor:"#ffffff",color:"#212529",border:"1px solid #dee2e6"},alternateRowStyle:{backgroundColor:"#d1ecf1",color:"#212529",border:"1px solid #dee2e6"}}],[fe,ge]=f.useState(!1),[xe,ve]=f.useState(!1),[be,ye]=f.useState(1),[_e,je]=f.useState(60),[we,Ne]=f.useState(32),[Ce,ke]=f.useState("0.875rem"),[Se,Me]=f.useState("inherit"),[Ee,Oe]=f.useState(null),Pe=f.useRef(null),[Ae,De]=f.useState(null),[Ie,Te]=f.useState(()=>Array(20).fill(null).map((e,t)=>Array(20).fill(null).map((e,a)=>({value:"",id:`cell-${t}-${a}`,formula:null,computed_value:null,error:null,is_formula:!1,style:{}})))),[ze,Re]=f.useState(!1),[Le,$e]=f.useState(null),[Be,qe]=f.useState([]),[Fe,We]=f.useState(""),[Ge,He]=f.useState(!1),[Ve,Ue]=f.useState(null),[Ke,Ye]=f.useState(""),[Xe,Je]=f.useState(!1),[Ze,Qe]=f.useState([]),et=f.useCallback(e=>{const t={data:JSON.parse(JSON.stringify(Ie)),selectedCells:[...c],columnWidths:[...D],rowHeights:[...T],timestamp:new Date,action:e};S(e=>[t,...e].slice(0,O)),E([])},[Ie,c,D,T,O]),[tt,at]=f.useState(!1),[rt,nt]=f.useState({type:"info",title:"",message:""}),it=f.useCallback(()=>{if(0===k.length)return;const[e,...t]=k,a={data:JSON.parse(JSON.stringify(Ie)),selectedCells:[...c],columnWidths:[...D],rowHeights:[...T],timestamp:new Date,action:"Redo point"};E(e=>[a,...e].slice(0,O)),S(t),Te(e.data),d(e.selectedCells),I(e.columnWidths),z(e.rowHeights),ie("Desfazer",`Ação desfeita: ${e.action}`)},[k,Ie,c,D,T,O,ie]),st=f.useCallback(()=>{if(0===M.length)return;const[e,...t]=M,a={data:JSON.parse(JSON.stringify(Ie)),selectedCells:[...c],columnWidths:[...D],rowHeights:[...T],timestamp:new Date,action:"Undo point"};S(e=>[a,...e].slice(0,O)),E(t),Te(e.data),d(e.selectedCells),I(e.columnWidths),z(e.rowHeights),ie("Refazer",`Ação refeita: ${e.action}`)},[M,Ie,c,D,T,O,ie]),ot=f.useCallback(()=>{c.length>0?(d([]),h(null),gt(""),ie("Voltar","Seleção limpa")):$?B(!1):fe?ge(!1):Xe?Je(!1):H?V(!1):te?ae(!1):o("navigate_back")},[c,$,fe,Xe,H,te]),lt=f.useRef(null),ct=f.useRef(null),dt=f.useRef(null),ut=f.useRef(null),ht=f.useRef({x:0,y:0,initialSize:0}),mt=f.useRef(null),pt=f.useRef(null),[ft,gt]=f.useState(""),[xt,vt]=f.useState([]),[bt,yt]=f.useState(!1),[_t,jt]=f.useState(null),[wt,Nt]=f.useState([]),[Ct,kt]=f.useState([]),[St,Mt]=f.useState("Todas"),Et=f.useRef(null),Ot=f.useCallback(()=>{if(0!==c.length&&ft.trim()){const e=[...Ie];c.forEach(t=>{const{row:a,col:r}=t;e[a]&&e[a][r]&&(et("Confirmar entrada"),e[a][r]={...e[a][r],value:ft,is_formula:ft.startsWith("="),formula:ft.startsWith("=")?ft.substring(1):null})}),Te(e),gt(""),ie("Confirmar",`Valor confirmado em ${c.length} célula(s)`)}},[c,ft,Ie,et]),Pt=f.useCallback(e=>e.ctrlKey&&"z"===e.key&&!e.shiftKey?(e.preventDefault(),void it()):e.ctrlKey&&"y"===e.key||e.ctrlKey&&"r"===e.key||e.ctrlKey&&e.shiftKey&&"z"===e.key?(e.preventDefault(),void st()):e.ctrlKey&&"Enter"===e.key?(e.preventDefault(),void Ot()):"Escape"===e.key?(e.preventDefault(),void ot()):void(e.ctrlKey&&e.shiftKey&&"B"===e.key&&fe&&(e.preventDefault(),Re(e=>!e),ze&&($e(null),Ue(null),Ye("")))),[it,st,Ot,ot,fe,ze]),At=f.useCallback((e,t,r)=>e.replace(/([A-Z]+)(\d+)/g,(e,n,s)=>{const o=ly.getColumnIndex(n),l=parseInt(s)-1,c=o+r,d=l+t;if(c>=0&&d>=0&&c<i&&d<a){return ly.getColumnLabel(c)+(d+1).toString()}return e}),[i,a]);f.useEffect(()=>(document.addEventListener("keydown",Pt),()=>{document.removeEventListener("keydown",Pt)}),[Pt]);const Dt=f.useCallback(()=>{if(0===c.length)return void Ut("info","Nenhuma Seleção","Selecione células para copiar.");const e=c.map(e=>e.row),t=c.map(e=>e.col),a=Math.min(...e),r=Math.max(...e),n=Math.min(...t),i=Math.max(...t),s=[];for(let l=a;l<=r;l++){const e=[];for(let t=n;t<=i;t++){const a=Ie[l]?.[t];a?e.push({value:a.value,style:a.style?{...a.style}:void 0,media:a.media?{...a.media}:void 0,formula:a.formula,is_formula:a.is_formula}):e.push({value:""})}s.push(e)}A(s);const o=c.length;ie("Copiar Células",`${o} célula(s) copiada(s)`)},[c,Ie,ie]),It=f.useCallback((e,t,a)=>{const r=Ie[t][a];r.media&&"image"===r.media.type&&(Oe({media:r.media,fromCell:{row:t,col:a}}),e.dataTransfer.setData("text/plain",`image-${t}-${a}`),e.dataTransfer.effectAllowed="move",e.currentTarget instanceof HTMLElement&&(e.currentTarget.style.opacity="0.5"))},[Ie]),Tt=f.useCallback(e=>{e.currentTarget instanceof HTMLElement&&(e.currentTarget.style.opacity="1"),Oe(null)},[]),zt=f.useCallback(()=>{if(0===P.length||0===c.length)return void Ut("info","Nada para Colar","Copie células primeiro ou selecione onde colar.");const e=c[0],t=e.row,r=e.col,n=t+P.length-1,s=r+(P[0]?.length||0)-1;if(n>=a||s>=i)return;et("Colar células"),Te(e=>{const a=e.map(e=>[...e]);for(let n=0;n<P.length;n++)for(let e=0;e<P[n].length;e++){const i=t+n,s=r+e,o=P[n][e];a[i]&&a[i][s]&&(a[i][s]={...a[i][s],value:o.value,style:o.style?{...o.style}:{},media:o.media?{...o.media}:void 0,formula:o.formula,is_formula:o.is_formula||!1})}return a});const o=P.length*(P[0]?.length||0);ie("Colar Células",`${o} célula(s) colada(s)`)},[P,c,a,i,et,ie]),Rt=f.useCallback(e=>!e.ctrlKey||"c"!==e.key||e.shiftKey||e.altKey?!e.ctrlKey||"n"!==e.key||e.shiftKey||e.altKey?!e.ctrlKey||"v"!==e.key||e.shiftKey||e.altKey?!e.ctrlKey||"z"!==e.key||e.shiftKey||e.altKey?e.ctrlKey&&"y"===e.key||e.ctrlKey&&e.shiftKey&&"z"===e.key?(e.preventDefault(),void st()):void 0:(e.preventDefault(),void it()):(e.preventDefault(),void zt()):(e.preventDefault(),void Ka()):(e.preventDefault(),void Dt()),[Dt,zt]),Lt=f.useCallback(()=>{$e(null),Ue(null),Ye("")},[]);f.useEffect(()=>(document.addEventListener("keydown",Rt),()=>{document.removeEventListener("keydown",Rt)}),[Rt]);const $t=f.useCallback((e,t,a)=>{const r=Ie[e]?.[t];r&&(r.formula||r.is_formula)&&(a.preventDefault(),me({isDragging:!0,startCell:{row:e,col:t},currentCell:{row:e,col:t},dragRange:{startRow:e,startCol:t,endRow:e,endCol:t}}),et("Arrastar fórmula"))},[Ie,et]),Bt=f.useCallback((e,t)=>{if(!he.isDragging||!he.startCell)return;const a=he.startCell.row,r=he.startCell.col,n={startRow:Math.min(a,e),startCol:Math.min(r,t),endRow:Math.max(a,e),endCol:Math.max(r,t)};me(a=>({...a,currentCell:{row:e,col:t},dragRange:n}))},[he.isDragging,he.startCell]),qt=f.useCallback(()=>{if(!he.isDragging||!he.startCell||!he.dragRange)return void me({isDragging:!1,startCell:null,currentCell:null,dragRange:null});const e=he.startCell,t=he.dragRange,a=Ie[e.row]?.[e.col];if(!a||!a.formula&&!a.is_formula)return void me({isDragging:!1,startCell:null,currentCell:null,dragRange:null});const r=[...Ie];for(let s=t.startRow;s<=t.endRow;s++)for(let n=t.startCol;n<=t.endCol;n++){if(s===e.row&&n===e.col)continue;const t=s-e.row,o=n-e.col,l=a.formula||a.value,c=At(l,t,o);r[s]||(r[s]=Array(i).fill(null).map((e,t)=>({value:"",id:`cell-${s}-${t}`,formula:null,computed_value:null,error:null,is_formula:!1,style:{}}))),Na(s,n,c,!0)}Te(r);const n=(t.endRow-t.startRow+1)*(t.endCol-t.startCol+1)-1;ie("Arrastar fórmula",`Fórmula copiada para ${n} células`),me({isDragging:!1,startCell:null,currentCell:null,dragRange:null})},[he,Ie,i,At,ie]);f.useEffect(()=>{const e=()=>{he.isDragging&&qt()};return document.addEventListener("mouseup",e),()=>document.removeEventListener("mouseup",e)},[he.isDragging,qt]);const Ft=f.useCallback((e,t)=>!!he.dragRange&&(e>=he.dragRange.startRow&&e<=he.dragRange.endRow&&t>=he.dragRange.startCol&&t<=he.dragRange.endCol),[he.dragRange]),Wt=f.useCallback(async(e,t)=>{try{ce(!0),oe("");return await r("validate_user_credentials",{usuario:e,senha:t})}catch(a){return oe("Erro ao validar credenciais. Tente novamente."),!1}finally{ce(!1)}},[]),Gt=f.useCallback(()=>{if(0===c.length)return{};const e=c[0];return Ie[e.row][e.col].style||{}},[c,Ie]),Ht=f.useCallback(()=>{const t={name:e,rows:a,cols:i,data:Ie,history:Ze,columnWidths:D,rowHeights:T,globalStyles:{}};return JSON.stringify(t,null,2)},[e,a,i,Ie,Ze,D,T]),Vt=f.useCallback(()=>{const t=Ht();K({tipo:"template",tag:"",nomeArquivo:e||"Nova Planilha",caminhoArquivo:`templates/${e||"nova_planilha"}.json`,jsonData:t,updated_at:""}),V(!0)},[Ht,e]),Ut=f.useCallback((e,t,a)=>{nt({type:e,title:t,message:a}),at(!0)},[]),Kt=f.useCallback(()=>{at(!1)},[]),Yt=f.useCallback(()=>{ne({usuario:"",senha:""}),oe(""),ae(!0)},[]),Xt=f.useCallback(()=>{ae(!1),ne({usuario:"",senha:""}),oe("")},[]),Jt=f.useCallback(async()=>{if(!re.usuario.trim()||!re.senha.trim())return void oe("Por favor, preencha usuário e senha.");await Wt(re.usuario,re.senha)?(Xt(),await oa()):oe("Usuário ou senha inválidos.")},[re,Wt,Xt]),Zt=f.useCallback(()=>{J.trim()&&!Y.includes(J.trim())&&(X(e=>[...e,J.trim()]),K(e=>({...e,tag:J.trim()})),Z(""),ee(!1),ie("Nova Tag",`Tag "${J.trim()}" adicionada`))},[J,Y,ie]),Qt=f.useCallback(e=>{ze&&qe(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[ze]),ea=f.useCallback(()=>{ze&&qe(Ze.map((e,t)=>t))},[ze,Ze]),ta=f.useCallback(()=>{qe([]),He(!1),We("")},[]),aa=f.useCallback(()=>{if(0===Be.length)return;const e=Ze[Be[0]].timestamp,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),n=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0");We(`${t}-${a}-${r}T${n}:${i}`),He(!0)},[Be,Ze]),ra=f.useCallback(()=>{if(!Fe||0===Be.length)return;const e=new Date(Fe);Qe(t=>{const a=[...t];return Be.forEach(t=>{a[t]={...a[t],timestamp:new Date(e)}}),a}),ta()},[Fe,Be]),na=f.useCallback(()=>{He(!1),We("")},[]),ia=f.useCallback((e,t)=>{if(ze)if($e(e),Ue(t),"timestamp"===t){const a=Ze[e][t],r=a.getFullYear(),n=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0"),s=String(a.getHours()).padStart(2,"0"),o=String(a.getMinutes()).padStart(2,"0");Ye(`${r}-${n}-${i}T${s}:${o}`)}else Ye(Ze[e][t])},[ze,Ze]),sa=f.useCallback(()=>{null!==Le&&null!==Ve&&(Qe(e=>{const t=[...e];if("timestamp"===Ve){const e=new Date(Ke);t[Le]={...t[Le],timestamp:e}}else t[Le]={...t[Le],[Ve]:Ke};return t}),$e(null),Ue(null),Ye(""))},[Le,Ve,Ke]),oa=f.useCallback(async()=>{try{const t=Ht();if(!t||""===t.trim()||"{}"===t)return void Ut("error","Erro ao Salvar","Dados JSON não podem estar vazios");if("Editar"===W?.type){K(a=>({...a,tipo:"template",tag:a.tag||"",nomeArquivo:a.nomeArquivo||"Nova Planilha",caminhoArquivo:a.caminhoArquivo||`templates/${e||"nova_planilha"}.json`,jsonData:t,updated_at:a.updated_at||""}));const a=btoa(unescape(encodeURIComponent(t))),n={id:W?.templateData?.id,caminho_arquivo:W?.templateData?.caminho_arquivo,nome_arquivo:W?.templateData?.nome_arquivo,tag:U.tag,tipo:W?.templateData?.tipo,json_data:a,updated_at:null};await r("update_template",{templateData:{...n,json_data_base64:a}})}else{if(!U.nomeArquivo.trim())return void Ut("error","Campo Obrigatório","Por favor, insira um nome para o arquivo.");if(!U.tag.trim())return void Ut("error","Campo Obrigatório","Por favor, selecione ou adicione uma tag.");const e=btoa(unescape(encodeURIComponent(U.jsonData))),t={caminho_arquivo:U.caminhoArquivo,nome_arquivo:U.nomeArquivo,tag:U.tag,tipo:U.tipo,json_data:U.jsonData,updated_at:null};await r("save_template",{templateData:{...t,json_data_base64:e}})}V(!1),Ut("success","Sucesso!","Template salvo com sucesso!"),ie("Template Salvo",`Template "${U.nomeArquivo}" foi salvo com a tag "${U.tag}"`)}catch(t){Ut("error","Erro ao Salvar","Erro ao salvar template. Verifique os dados e tente novamente.")}},[Ht,W,U,e,ie]),la=f.useCallback(async()=>{V(!1),Yt()},[Yt]);f.useEffect(()=>{if(c.length>0){const e=Gt();ke(e.fontSize||"0.875rem"),Me(e.fontFamily||"inherit")}},[c,Gt]);const ca=f.useCallback(()=>{ye(e=>{const t=Math.min(e+.1,3),a=t/e;return ie("Zoom In",`Zoom aumentado para ${Math.round(100*t)}%`),I(e=>e.map(e=>e*a)),z(e=>e.map(e=>e*a)),je(e=>e*a),Ne(e=>e*a),t})},[ie]),da=f.useCallback(()=>{ye(e=>{const t=Math.max(e-.1,.3),a=t/e;return ie("Zoom Out",`Zoom reduzido para ${Math.round(100*t)}%`),I(e=>e.map(e=>e*a)),z(e=>e.map(e=>e*a)),je(e=>e*a),Ne(e=>e*a),t})},[ie]),ua=f.useCallback(()=>{const e=be;ye(1);const t=1/e;I(e=>e.map(e=>e*t)),z(e=>e.map(e=>e*t)),je(e=>e*t),Ne(e=>e*t),ie("Reset Zoom","Zoom resetado para 100%")},[ie,be]),ha=f.useCallback(()=>{_(!0),d([]),h(null),ie("Modo Área de Impressão","Modo de seleção de área de impressão ativado")},[ie]),ma=f.useCallback(()=>{_(!1),w(!1),C(null),ie("Modo Área de Impressão","Modo de seleção de área de impressão desativado")},[ie]),pa=f.useCallback(()=>{if(N){const{startRow:e,startCol:t,endRow:a,endCol:r}=N,n=Math.min(e,a),i=Math.max(e,a),s=Math.min(t,r),o=Math.max(t,r);b({startRow:n,startCol:s,endRow:i,endCol:o}),_(!1),w(!1),C(null);const l=`${Ia(s)}${n+1}:${Ia(o)}${i+1}`;ie("Área de Impressão Definida",`Área selecionada: ${l}`)}},[N,ie]),fa=f.useCallback(()=>{b(null),ie("Área de Impressão","Área de impressão removida - impressão completa")},[ie]),ga=f.useCallback((e,t)=>!!v&&(e>=v.startRow&&e<=v.endRow&&t>=v.startCol&&t<=v.endCol),[v]),xa=f.useCallback((e,t)=>{if(!N)return!1;const{startRow:a,startCol:r,endRow:n,endCol:i}=N,s=Math.min(a,n),o=Math.max(a,n),l=Math.min(r,i),c=Math.max(r,i);return e>=s&&e<=o&&t>=l&&t<=c},[N]),va=f.useCallback((e,t,a)=>{if(y)return w(!0),void C({startRow:e,startCol:t,endRow:e,endCol:t});if(a.ctrlKey&&Et.current===document.activeElement){a.preventDefault();const r=Ea(e,t);return void gt(e=>e+r)}x(!0),a.ctrlKey?d(a=>{const r=a.some(a=>a.row===e&&a.col===t);return r?a.filter(a=>!(a.row===e&&a.col===t)):[...a,{row:e,col:t}]}):(d([{row:e,col:t}]),h({startRow:e,startCol:t,endRow:e,endCol:t})),d([{row:e,col:t}]),h({startRow:e,startCol:t,endRow:e,endCol:t})},[y,Et]),ba=f.useCallback((e,t)=>{if(j&&N)C(a=>a?{...a,endRow:e,endCol:t}:null);else if(m&&u){const a={...u,endRow:e,endCol:t};h(a);const r=Math.min(a.startRow,a.endRow),n=Math.max(a.startRow,a.endRow),i=Math.min(a.startCol,a.endCol),s=Math.max(a.startCol,a.endCol),o=[];for(let e=r;e<=n;e++)for(let t=i;t<=s;t++)o.push({row:e,col:t});d(o)}},[j,N,m,u]);f.useEffect(()=>{let e;return(async()=>{try{e=await s("window-data",e=>{const t=e.payload;if(t)switch(t.type){case"Template":case"Editar":case"Duplicar":t.templateData?.json_data_base64&&(G(t),Ha(t.templateData?.json_data_base64));break;default:G(t)}}),await o("window-ready")}catch(t){}})(),()=>{e&&e()}},[]);const ya=f.useCallback((e,t,a)=>{e.preventDefault(),e.stopPropagation();const r=Ie[t][a];r.media&&"image"===r.media.type&&De({row:t,col:a,startX:e.clientX,startY:e.clientY,startWidth:r.media.width||80,startHeight:r.media.height||60})},[Ie]),_a=f.useCallback((e,t,a)=>{if(a.preventDefault(),a.stopPropagation(),Ee){const{media:a,fromCell:r}=Ee;if(r.row===e&&r.col===t)return void Oe(null);Te(n=>{const i=n.map(e=>[...e]);return i[r.row][r.col]={...i[r.row][r.col],media:void 0},i[e][t]={...i[e][t],media:{...a,x:void 0,y:void 0}},i}),ie("Mover Imagem",`Imagem movida de ${Ia(r.col)}${r.row+1} para ${Ia(t)}${e+1}`),Oe(null)}},[Ee,ie]),ja=f.useCallback(()=>{x(!1),h(null),w(!1)},[]),wa=f.useCallback(()=>{if(!v)return"Planilha completa";const{startRow:e,startCol:t,endRow:a,endCol:r}=v;return`${Ia(t)}${e+1}:${Ia(r)}${a+1}`},[v]),Na=f.useCallback(async(e,t,n,s=!1)=>{const o=Ea(e,t),l=Ie[e][t];et(`Editar célula ${o}`);try{if(s||n.startsWith("=")){const s=n.startsWith("=")?n.substring(1):n,c={};Ie.forEach((e,t)=>{e.forEach((e,a)=>{const r=Ea(t,a);c[r]=e.computed_value||e.value})});const d={cells:Object.fromEntries(Ie.flatMap((e,t)=>e.map((e,a)=>[Ea(t,a),{value:e.value,formula:e.formula,computed_value:e.computed_value,error:e.error,is_formula:e.is_formula||!1}]))),rows:a,cols:i},u=await r("update_spreadsheet_cell",{cellRef:o,value:s,isFormula:!0,spreadsheetData:d}),[h,m]=u;Te(a=>{const r=a.map(e=>[...e]);return r[e][t]={...l,value:n,formula:s,computed_value:h.value,error:h.error||null,is_formula:!0},m.forEach(([e,t])=>{const a=Oa(e);if(a){const{row:e,col:n}=a;r[e]&&r[e][n]&&(r[e][n]={...r[e][n],computed_value:t.value,error:t.error||null})}}),r}),h.success?ie("Fórmula Adicionada",`Célula ${o}: ${n} = ${h.value}`):ie("Erro de Fórmula",`Célula ${o}: ${h.error}`)}else Te(a=>{const r=a.map(e=>[...e]);return r[e][t]={...l,value:n,formula:null,computed_value:null,error:null,is_formula:!1},r}),l.value!==n&&ie("Edição de Célula",`Célula ${o}: "${l.value}" → "${n}"`)}catch(c){Te(a=>{const r=a.map(e=>[...e]);return r[e][t]={...l,value:n,formula:null,computed_value:null,error:`Erro: ${c}`,is_formula:!1},r})}},[Ie,a,i,ie]),Ca=f.useCallback(async e=>{if(gt(e),e.startsWith("=")){try{const t=await r("validate_formula",{formula:e});jt({isValid:t.success,error:t.error})}catch(t){jt({isValid:!1,error:`Erro: ${t}`})}const a=e.split(/[^A-Z_]/i).pop()||"";if(a.length>0)try{const e=await r("get_formula_suggestions",{partialFormula:a});vt(e),yt(e.length>0)}catch(t){yt(!1)}else yt(!1)}else yt(!1),jt(null)},[]),ka=f.useCallback(async()=>{if(1===c.length){const{row:e,col:t}=c[0],a=ft.startsWith("=");await Na(e,t,ft,a),yt(!1),jt(null)}},[c,ft,Na]),Sa=f.useCallback(e=>{const t=ft,a=t.lastIndexOf(e.function_name.substring(0,1)),r=t.substring(0,a)+e.insert_text;gt(r),yt(!1),Et.current&&(Et.current.focus(),Et.current.setSelectionRange(r.length-1,r.length-1))},[ft]);f.useEffect(()=>{Ma(),Pa()},[]),f.useEffect(()=>{if(1===c.length){const e=Ie[c[0].row][c[0].col];e.is_formula&&e.formula?gt("="+e.formula):gt(e.value)}else c.length,gt("")},[c,Ie]);const Ma=async()=>{try{const e=await r("get_all_formula_functions");Nt(e)}catch(e){}},Ea=(e,t)=>`${Ia(t)}${e+1}`,Oa=e=>{const t=e.match(/^([A-Z]+)(\d+)$/);if(!t)return null;const a=t[1],r=t[2];let n=0;for(let i=0;i<a.length;i++)n=26*n+(a.charCodeAt(i)-64);n-=1;return{row:parseInt(r)-1,col:n}},Pa=async()=>{try{const e=await r("get_formula_categories");kt(["Todas",...e])}catch(e){}},Aa=f.useCallback(e=>{if(0===c.length)return;const t=1===c.length?`Célula ${Ia(c[0].col)}${c[0].row+1}`:`${c.length} células`;et(`Formatar ${t}`),Te(t=>{const a=t.map(e=>[...e]);return c.forEach(({row:t,col:r})=>{a[t]&&a[t][r]&&(a[t][r].style={...a[t][r].style,...e})}),a}),ie("Formatação de Células",`${t} formatadas`)},[c,ie,et]),Da=f.useCallback((e,t,a)=>{et(`Adicionar mídia à célula ${Ia(t)}${e+1}`),Te(r=>{const n=r.map(e=>[...e]),i={type:q,data:a,url:"link"===q?a:void 0,alt:`Mídia na célula ${Ia(t)}${e+1}`,width:80,height:60};return n[e][t]={...n[e][t],media:i,value:"image"===q||"video"===q||"audio"===q?"":"link"===q&&i.url||""},n})},[ie,et,q]),Ia=e=>{let t="",a=e;for(;a>=0;)t=String.fromCharCode(65+a%26)+t,a=Math.floor(a/26)-1;return t},Ta=f.useCallback((e,t)=>{if(!u)return!1;const{startRow:a,startCol:r,endRow:n,endCol:i}=u,s=Math.min(a,n),o=Math.max(a,n),l=Math.min(r,i),c=Math.max(r,i);return e>=s&&e<=o&&t>=l&&t<=c},[u]),za=f.useCallback((e,t,r)=>{"ArrowUp"===e.key?(e.preventDefault(),t>0&&(d([{row:t-1,col:r}]),setTimeout(()=>{const e=document.querySelector(`[data-cell="${t-1}-${r}"]`);e&&e.focus()},0))):"ArrowDown"===e.key?(e.preventDefault(),t<a-1&&(d([{row:t+1,col:r}]),setTimeout(()=>{const e=document.querySelector(`[data-cell="${t+1}-${r}"]`);e&&e.focus()},0))):"ArrowLeft"===e.key?(e.preventDefault(),r>0&&(d([{row:t,col:r-1}]),setTimeout(()=>{const e=document.querySelector(`[data-cell="${t}-${r-1}"]`);e&&e.focus()},0))):"ArrowRight"===e.key?(e.preventDefault(),r<i-1&&(d([{row:t,col:r+1}]),setTimeout(()=>{const e=document.querySelector(`[data-cell="${t}-${r+1}"]`);e&&e.focus()},0))):"Enter"===e.key?t<a-1&&(d([{row:t+1,col:r}]),setTimeout(()=>{const e=document.querySelector(`[data-cell="${t+1}-${r}"]`);e&&e.focus()},0)):"Tab"===e.key&&(e.preventDefault(),r<i-1?(d([{row:t,col:r+1}]),setTimeout(()=>{const e=document.querySelector(`[data-cell="${t}-${r+1}"]`);e&&e.focus()},0)):t<a-1&&(d([{row:t+1,col:0}]),setTimeout(()=>{const e=document.querySelector(`[data-cell="${t+1}-0"]`);e&&e.focus()},0)))},[a,i]),Ra=f.useCallback(()=>{et(`Adicionar linha ${a+1}`),Te(e=>{const t=Array(i).fill(null).map((e,t)=>({value:"",id:`cell-${a}-${t}`,formula:null,computed_value:null,error:null,is_formula:!1,style:{}}));return ie("Adicionar Linha",`Nova linha ${a+1} adicionada`),[...e,t]}),n(e=>e+1),z(e=>[...e,32])},[i,a,ie,et]),La=f.useCallback(()=>{et(`Adicionar coluna ${Ia(i)}`),Te(e=>{const t=e.map((e,t)=>[...e,{value:"",id:`cell-${t}-${i}`,formula:null,computed_value:null,error:null,is_formula:!1,style:{}}]);return ie("Adicionar Coluna",`Nova coluna ${Ia(i)} adicionada`),t}),l(e=>e+1),I(e=>[...e,100])},[i,ie,et]),$a=f.useCallback(()=>{a>1&&(et(`Remover linha ${a}`),Te(e=>{const t=e.slice(0,-1);return ie("Remover Linha",`Linha ${a} removida`),t}),n(e=>e-1),z(e=>e.slice(0,-1)))},[a,ie,et]),Ba=f.useCallback(()=>{i>1&&(et(`Remover coluna ${Ia(i-1)}`),Te(e=>{const t=e.map(e=>e.slice(0,-1));return ie("Remover Coluna",`Coluna ${Ia(i-1)} removida`),t}),l(e=>e-1),I(e=>e.slice(0,-1)))},[i,ie,et]),qa=f.useCallback(()=>{confirm("Tem certeza que deseja limpar toda a planilha?")&&(et("Limpar planilha"),Te(e=>e.map(e=>e.map(e=>({...e,value:"",formula:null,computed_value:null,error:null,is_formula:!1,media:void 0})))),ie("Limpar Planilha","Todos os dados foram removidos"))},[ie,et]),Fa=f.useCallback(()=>{const t={name:e,rows:a,cols:i,data:Ie,history:Ze,columnWidths:D,rowHeights:T,globalStyles:{}},r=JSON.stringify(t,null,2),n=new Blob([r],{type:"application/json"}),s=URL.createObjectURL(n),o=document.createElement("a");o.href=s,o.download=`${e.replace(/\s+/g,"_")}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s),ie("Salvar Template",`Template "${e}" salvo como JSON`)},[e,a,i,Ie,Ze,D,T,ie]),Wa=f.useCallback(e=>{const a=e.target.files?.[0];if(!a)return;const i=a.name.toLowerCase().substring(a.name.lastIndexOf("."));if(![".xlsx",".xls"].includes(i))return void Ut("error","Arquivo Inválido","Por favor, selecione um arquivo Excel válido (.xlsx ou .xls)");const s=new FileReader;s.onload=async e=>{try{const i=e.target?.result,s=new Uint8Array(i),o=await r("import_xlsx_from_bytes",{fileBytes:Array.from(s),fileName:a.name,sheetName:null});if(o.success&&o.data&&o.rows&&o.cols)n(o.rows),l(o.cols),Te(o.data),o.column_widths?I(o.column_widths):I(Array(o.cols).fill(100)),o.row_heights?z(o.row_heights):z(Array(o.rows).fill(32)),o.imported_sheet?t(`Importado - ${o.imported_sheet}`):t(`Importado - ${a.name.replace(/\.[^/.]+$/,"")}`),ie("Importar XLSX",`Arquivo "${a.name}" importado com ${o.rows} linhas e ${o.cols} colunas${o.imported_sheet?` da planilha "${o.imported_sheet}"`:""}`),Ut("success","Importação Concluída",`Arquivo XLSX importado com sucesso!\nArquivo: ${a.name}\nLinhas: ${o.rows}\nColunas: ${o.cols}${o.imported_sheet?`\nPlanilha: ${o.imported_sheet}`:""}`);else{const e=o.error||"Erro desconhecido ao importar arquivo XLSX";Ut("error","Erro na Importação",`Erro ao importar arquivo XLSX: ${e}`)}}catch(i){Ut("error","Erro de Processamento",`Erro ao processar arquivo XLSX: ${i}`)}},s.onerror=()=>{Ut("error","Erro de Leitura","Erro ao ler o arquivo. Tente novamente.")},s.readAsArrayBuffer(a),e.target.value=""},[ie]),Ga=f.useCallback(e=>{const a=e.target.files?.[0];if(!a)return;const r=new FileReader;r.onload=e=>{try{const a=JSON.parse(e.target?.result),r=a.history.map(e=>({...e,timestamp:new Date(e.timestamp)}));t(a.name),n(a.rows),l(a.cols),Te(a.data),Qe(r||[]),I(a.columnWidths||Array(a.cols).fill(100)),z(a.rowHeights||Array(a.rows).fill(32)),ie("Carregar Template",`Template "${a.name}" carregado`)}catch(a){Ut("error","Erro ao Carregar","Erro ao carregar o arquivo. Verifique se é um template válido.")}},r.readAsText(a)},[ie]);async function Ha(e){try{const a=await r("decode_base64_to_json",{encodedString:e}),i=a.history.map(e=>({...e,timestamp:new Date(e.timestamp)}));t(a.name),n(a.rows),l(a.cols),Te(a.data),Qe(i||[]),I(a.columnWidths||Array(a.cols).fill(100)),z(a.rowHeights||Array(a.rows).fill(32)),ie("Carregar Template",`Template "${a.name}" carregado`)}catch(a){Ut("error","Erro ao Carregar",`Erro ao carregar o arquivo: ${a}. Verifique se é um template válido e se o Base64 está correto.`)}}const Va=f.useCallback(e=>{const t=e.target.files?.[0];if(!t)return;const a=new FileReader;a.onload=e=>{try{const t=e.target?.result,a=t.split("\n").filter(e=>e.trim()).map(e=>{const t=[];let a="",r=!1;for(let n=0;n<e.length;n++){const i=e[n];'"'===i?r=!r:","!==i||r?a+=i:(t.push(a.trim()),a="")}return t.push(a.trim()),t}),r=Math.max(...a.map(e=>e.length)),s=a.length,o=Math.max(r,i);n(s),l(o),I(Array(o).fill(100)),z(Array(s).fill(32));const c=Array(s).fill(null).map((e,t)=>Array(o).fill(null).map((e,r)=>({value:a[t]?.[r]||"",id:`cell-${t}-${r}`,style:{}})));Te(c),ie("Importar CSV",`Arquivo CSV importado com ${s} linhas e ${o} colunas`)}catch(t){Ut("error","Erro na Importação","Erro ao importar CSV. Verifique se o arquivo está no formato correto.")}},a.readAsText(t)},[i,ie]),Ua=f.useCallback(()=>{const t=Ie.map(e=>e.map(e=>{let t=e.computed_value||e.value;return e.media&&(t+=` [${e.media.type.toUpperCase()}]`,e.media.url&&(t+=` ${e.media.url}`)),t.includes(",")||t.includes('"')||t.includes("\n")?`"${t.replace(/"/g,'""')}"`:t}).join(",")).join("\n"),a=new Blob([t],{type:"text/csv"}),r=URL.createObjectURL(a),n=document.createElement("a");n.href=r,n.download=`${e.replace(/\s+/g,"_")}.csv`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r),ie("Salvar Template",`Template "${e}" salvo como JSON`)},[Ie,e,ie]),Ka=f.useCallback(()=>{if(0===c.length)return;const e=c[0],t=Ie[e.row][e.col].style;Aa({fontWeight:"bold"===t?.fontWeight?"normal":"bold"})},[c,Ie,Aa]),Ya=f.useCallback(()=>{if(0===c.length)return;const e=c[0],t=Ie[e.row][e.col].style;Aa({fontStyle:"italic"===t?.fontStyle?"normal":"italic"})},[c,Ie,Aa]),Xa=f.useCallback(()=>{if(0===c.length)return;const e=c[0],t=Ie[e.row][e.col].style;Aa({textDecoration:"underline"===t?.textDecoration?"none":"underline"})},[c,Ie,Aa]),Ja=f.useCallback(()=>{if(0===c.length)return;const e=c[0],t=Ie[e.row][e.col].style;Aa({textDecoration:"line-through"===t?.textDecoration?"none":"line-through"})},[c,Ie,Aa]),Za=f.useCallback(e=>{0!==c.length&&Aa({textAlign:e})},[c,Aa]),Qa=f.useCallback(e=>{0!==c.length&&Aa({backgroundColor:e})},[c,Aa]),er=f.useCallback(e=>{0!==c.length&&Aa({color:e})},[c,Aa]),tr=f.useCallback(e=>{0!==c.length&&Aa({border:e})},[c,Aa]),ar=f.useCallback(e=>{0!==c.length&&Aa({textTransform:e})},[c,Aa]),rr=f.useCallback(e=>{0!==c.length&&(ke(e),Aa({fontSize:e}))},[c,Aa]),nr=f.useCallback(e=>{0!==c.length&&(Me(e),Aa({fontFamily:e}))},[c,Aa]),ir=f.useCallback(e=>{0!==c.length?(F(e),B(!0)):Ut("info","Seleção Necessária","Selecione uma célula primeiro")},[c]),sr=f.useCallback(e=>{const t=e.target.files?.[0];if(!t||0===c.length)return;const a=c[0],r=new FileReader;r.onload=e=>{const t=e.target?.result;Da(a.row,a.col,t),B(!1)},r.readAsDataURL(t)},[c,q,Da]),or=f.useCallback(e=>{if(0===c.length)return;const t=c[0];Da(t.row,t.col,e),B(!1)},[c,q,Da]),lr=f.useCallback(()=>{if(0===c.length)return;const e=c[0];et(`Criar tabela na célula ${Ia(e.col)}${e.row+1}`);const t=pe[de.selectedTemplate],{rows:a,cols:r}=de,n=[];for(let l=0;l<de.rows;l++){const e=[];for(let t=0;t<de.cols;t++)0===l?e.push(`Cabeçalho ${t+1}`):e.push(`Linha ${l}, Col ${t+1}`);n.push(e)}const i=JSON.stringify(n);Da(e.row,e.col,i),B(!1);const s=e.row,o=e.col;for(let l=0;l<a&&s+l<Ie.length;l++)for(let e=0;e<r&&o+e<Ie[0].length;e++){const a=s+l,r=o+e;let n;n=0===l?t.headerStyle:l%2==0?t.cellStyle:t.alternateRowStyle,Te(e=>{const t=e.map(e=>[...e]);return t[a]&&t[a][r]&&(t[a][r]={...t[a][r],style:{...t[a][r].style,...n}}),t})}B(!1),ie("Tabela Criada",`Tabela ${a}x${r} criada com template ${t.name}`)},[c,Da,de,pe,Ie,ie,et]),cr=f.useCallback((e,t,a)=>{e.preventDefault(),L({type:t,index:a}),ht.current={x:e.clientX,y:e.clientY,initialSize:"col"===t?D[a]:T[a]}},[D,T]);f.useEffect(()=>{const e=e=>{if(R){const{type:t,index:a}=R,{x:r,y:n,initialSize:i}=ht.current;if("col"===t){const t=e.clientX-r,n=Math.max(50,i+t);I(e=>{const t=[...e];return t[a]=n,t})}else{const t=e.clientY-n,r=Math.max(20,i+t);z(e=>{const t=[...e];return t[a]=r,t})}}if(Ae){const{row:t,col:a,startX:r,startY:n,startWidth:i,startHeight:s}=Ae,o=e.clientX-r,l=e.clientY-n,c=Math.max(20,i+o),d=Math.max(20,s+l);Te(e=>{const r=e.map(e=>[...e]);return r[t][a].media&&(r[t][a].media={...r[t][a].media,width:c,height:d}),r})}},t=()=>{R&&(ie("Redimensionar",`${"col"===R.type?"Coluna":"Linha"} ${R.index+1} redimensionada`),L(null)),Ae&&(ie("Redimensionar Imagem",`Imagem na célula ${Ia(Ae.col)}${Ae.row+1} redimensionada`),De(null))};return(R||Ae)&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}},[R,Ae,ie,Ia]);const dr=(e,t)=>{const a=Ie[e]?.[t];if(!a)return{};const{colspan:r,rowspan:n,shouldRender:i}=cy.getCellSpan(Ie,e,t);if(!i)return{display:"none"};const s=a.style||{};let o={};v&&ga(e,t)&&(o.boxShadow="0 0 0 2px #10b981",o.backgroundColor=o.backgroundColor||"#ecfdf5"),y&&xa(e,t)&&(o.boxShadow="0 0 0 2px #3b82f6",o.backgroundColor="#dbeafe");const l={fontWeight:s.fontWeight||"normal",fontStyle:s.fontStyle||"normal",textDecoration:s.textDecoration||"none",textAlign:s.textAlign||"left",backgroundColor:s.backgroundColor||"transparent",color:s.color||"#374151",fontSize:s.fontSize||"0.875rem",fontFamily:s.fontFamily||"inherit",border:s.border||void 0,borderTop:s.borderTop||void 0,borderRight:s.borderRight||void 0,borderBottom:s.borderBottom||void 0,borderLeft:s.borderLeft||void 0,borderRadius:s.borderRadius||void 0,padding:s.padding||void 0,margin:s.margin||void 0,verticalAlign:s.verticalAlign||"middle",textTransform:s.textTransform||"none",letterSpacing:s.letterSpacing||"normal",lineHeight:s.lineHeight||"normal",textShadow:s.textShadow||"none",boxShadow:s.boxShadow||"none",opacity:s.opacity||1,...o};if(a.merged&&r>1||n>1){if(l.gridColumn=`span ${r}`,l.gridRow=`span ${n}`,l.zIndex=a.masterCell&&a.masterCell.row===e&&a.masterCell.col===t?4:3,a.masterCell&&a.masterCell.row===e&&a.masterCell.col===t){const a=Array.from({length:r},(e,a)=>D[t+a]||100).reduce((e,t)=>e+t,0),i=Array.from({length:n},(t,a)=>T[e+a]||32).reduce((e,t)=>e+t,0);l.width=a,l.height=i,l.minWidth=a,l.minHeight=i,l.maxWidth=a,l.maxHeight=i}}else l.width=D[t]||100,l.height=T[e]||32,l.minWidth=D[t]||100,l.minHeight=T[e]||32;return l},ur=(e,t)=>{const a=Ie[e]?.[t];if(!a||a.merged&&a.masterCell&&(a.masterCell.row!==e||a.masterCell.col!==t))return null;if(a.media)switch(a.media.type){case"image":return p.jsxs("div",{className:uy["image-container"],draggable:!0,onDragStart:r=>{if(a.media){Oe({media:a.media,fromCell:{row:e,col:t}}),r.dataTransfer.setData("text/plain",a.id),r.dataTransfer.effectAllowed="move";const n=new Image;n.src=a.media.data||a.media.url||"",n.style.width="50px",n.style.height="50px",n.style.opacity="0.7",r.dataTransfer.setDragImage(n,25,25)}},onDragEnd:()=>{Oe(null)},style:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"move",transition:"opacity 0.2s ease",opacity:Ee&&Ee.fromCell.row===e&&Ee.fromCell.col===t?.5:1},title:"Arraste para mover a imagem para outra célula",children:[a.media.data&&p.jsxs("div",{style:{position:"relative"},children:[p.jsx("img",{src:a.media.data||a.media.url,alt:a.media.alt||"Imagem",draggable:!0,onDragStart:a=>It(a,e,t),onDragEnd:Tt,style:{width:a.media.width||80,height:a.media.height||60,objectFit:"cover",cursor:"move",border:Ee?.fromCell.row===e&&Ee?.fromCell.col===t?"2px dashed #007bff":"none"}}),p.jsx("div",{className:uy["resize-handle"],onMouseDown:a=>ya(a,e,t),style:{position:"absolute",bottom:"0",right:"0",width:"10px",height:"10px",backgroundColor:"#16a34a",cursor:"se-resize",borderRadius:"2px",zIndex:10},title:"Arraste para redimensionar"})]}),a.media.url&&!a.media.data&&p.jsxs("div",{style:{position:"relative"},children:[p.jsx("img",{ref:Pe,src:a.media.url,alt:a.media.alt||"Imagem",style:{maxWidth:a.media.width?`${a.media.width}px`:"80px",maxHeight:a.media.height?`${a.media.height}px`:"60px",objectFit:"contain",position:"absolute",left:void 0!==a.media.x?`${a.media.x}px`:"50%",top:void 0!==a.media.y?`${a.media.y}px`:"50%",transform:void 0!==a.media.x&&void 0!==a.media.y?"none":"translate(-50%, -50%)",pointerEvents:"none"}}),p.jsx("div",{className:uy["resize-handle"],onMouseDown:a=>ya(a,e,t),style:{position:"absolute",bottom:"0",right:"0",width:"10px",height:"10px",backgroundColor:"#16a34a",cursor:"se-resize",borderRadius:"2px",zIndex:10},title:"Arraste para redimensionar"})]}),p.jsx("span",{style:{fontSize:"0.7rem",position:"relative",zIndex:1,pointerEvents:"none"},children:a.computed_value||a.value})]});case"video":return p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[p.jsx(rs,{size:24,color:"#16a34a"}),p.jsx("span",{style:{fontSize:"0.7rem"},children:a.computed_value||a.value||"Vídeo"})]});case"audio":return p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[p.jsx(ci,{size:24,color:"#16a34a"}),p.jsx("span",{style:{fontSize:"0.7rem"},children:a.computed_value||a.value||"Áudio"})]});case"link":return p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[p.jsx(Kn,{size:24,color:"#16a34a"}),p.jsx("span",{style:{fontSize:"0.7rem"},children:a.computed_value||a.value||"Link"})]});case"table":return p.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"}})}if(a.error)return p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"#dc2626",fontSize:"0.75rem"},children:[p.jsx(ln,{size:16}),p.jsx("span",{children:a.error})]});const r=a.computed_value||a.value;return p.jsx("div",{style:{display:"flex",alignItems:"center",gap:"4px",width:"100%"},children:p.jsx("input",{type:"text",className:uy["cell-input"],value:r||"",onChange:a=>Na(e,t,a.target.value),onKeyDown:a=>za(a,e,t),"data-cell":`${e}-${t}`,style:{fontWeight:a.style?.fontWeight||"normal",fontStyle:a.style?.fontStyle||"normal",textDecoration:a.style?.textDecoration||"none",textAlign:a.style?.textAlign||"left",color:a.style?.color||"#374151",fontSize:a.style?.fontSize||"0.875rem",fontFamily:a.style?.fontFamily||"inherit",textTransform:a.style?.textTransform||"none",letterSpacing:a.style?.letterSpacing||"normal",lineHeight:a.style?.lineHeight||"normal"},placeholder:"",disabled:y})})},hr=()=>{if(y){if(N){const{startRow:e,startCol:t,endRow:a,endCol:r}=N,n=Math.min(e,a),i=Math.max(e,a),s=Math.min(t,r),o=Math.max(t,r);return`Selecionando: ${Ia(s)}${n+1}:${Ia(o)}${i+1}`}return"Modo: Selecionar área de impressão"}if(0===c.length)return"";if(1===c.length){const e=c[0];return`${Ia(e.col)}${e.row+1}`}return`${c.length} células selecionadas`},mr=f.useCallback(()=>{if(c.length<2)return void Ut("info","Seleção Insuficiente","Selecione pelo menos duas células para mesclar.");const e=c.map(e=>e.row),t=c.map(e=>e.col),a=Math.min(...e),r=Math.max(...e),n=Math.min(...t),i=Math.max(...t);Te(e=>{const t=e.map(e=>[...e]),s=cy.mergeCells(t,a,n,r,i);if(s.success){const e=`${ly.getCellReference(a,n)}:${ly.getCellReference(r,i)}`;return ie("Mesclar Células",`Células mescladas no intervalo ${e}`),d([{row:a,col:n}]),t}return Ut("error","Erro na Mesclagem",`Erro ao mesclar células: ${s.error}`),e})},[c,ie]),pr=f.useCallback(()=>{if(0===c.length)return;const{row:e,col:t}=c[0],a=Ie[e]?.[t];a&&a.merged?Te(a=>{const r=a.map(e=>[...e]),n=cy.unmergeCells(r,e,t);if(n.success){const e=`${ly.getCellReference(n.mergeRange.startRow,n.mergeRange.startCol)}:${ly.getCellReference(n.mergeRange.endRow,n.mergeRange.endCol)}`;return ie("Desmesclar Células",`Células desmescladas no intervalo ${e}`),d([{row:n.masterCell.row,col:n.masterCell.col}]),r}return Ut("error","Erro na Desmesclagem",`Erro ao desmesclar células: ${n.error}`),a}):Ut("info","Célula Não Mesclada","A célula selecionada não está mesclada.")},[c,Ie,ie]),fr=f.useCallback(()=>{ve(!0),ie("Visualizar Impressão",`Modal de impressão aberto para planilha "${e}"`)},[e,ie]),gr=f.useCallback(()=>{if(pt.current){const t="\n        @media print {\n          body * {\n            visibility: hidden;\n          }\n          \n          .print-content, .print-content * {\n            visibility: visible;\n          }\n          \n          .print-content {\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n          }\n          \n          @page {\n            size: A4 landscape;\n            margin: 1cm;\n          }\n          \n          body {\n            margin: 0;\n            padding: 0;\n            font-family: Arial, sans-serif;\n            font-size: 12px;\n          }\n          \n          .print-header {\n            text-align: center;\n            margin-bottom: 20px;\n            border-bottom: 2px solid #333;\n            padding-bottom: 10px;\n          }\n          \n          .print-header h1 {\n            margin: 0;\n            font-size: 18px;\n            color: #333;\n          }\n          \n          .print-header p {\n            margin: 5px 0 0 0;\n            color: #666;\n            font-size: 12px;\n          }\n          \n          .print-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 10px;\n          }\n          \n          .print-table th,\n          .print-table td {\n            border: 1px solid #ccc;\n            padding: 4px 6px;\n            text-align: left;\n            vertical-align: top;\n            word-wrap: break-word;\n            max-width: 120px;\n          }\n          \n          .print-table th {\n            background-color: #f5f5f5;\n            font-weight: bold;\n            text-align: center;\n          }\n          \n          .print-table .row-header {\n            background-color: #f9f9f9;\n            font-weight: bold;\n            text-align: center;\n            width: 40px;\n          }\n          \n          .formula-cell {\n            background-color: #e8f5e8;\n          }\n          \n          .error-cell {\n            background-color: #ffe6e6;\n            color: #d32f2f;\n          }\n          \n          .media-cell {\n            background-color: #f0f8ff;\n            font-style: italic;\n          }\n          \n          .print-table {\n            font-size: 8px;\n          }\n          \n          .print-table th,\n          .print-table td {\n            padding: 2px 4px;\n            max-width: 80px;\n          }\n        }\n        \n        @media screen {\n          .print-content {\n            display: none;\n          }\n        }\n      ",a=document.createElement("div");a.className="print-content",a.innerHTML=pt.current.innerHTML;const r=document.createElement("style");r.id="tauri-print-styles",r.innerHTML=t,document.head.appendChild(r),document.body.appendChild(a),setTimeout(()=>{window.print(),setTimeout(()=>{const e=document.getElementById("tauri-print-styles"),t=document.querySelector(".print-content");e&&document.head.removeChild(e),t&&document.body.removeChild(t)},500)},100),ve(!1);const n=v?` (Área: ${wa()})`:" (Planilha completa)";ie("Imprimir Planilha",`Planilha "${e}" enviada para impressão${n}`)}},[e,ie,v,wa]),xr=f.useCallback(()=>{let e=0,t=a-1,r=0,n=i-1;v&&(e=v.startRow,t=v.endRow,r=v.startCol,n=v.endCol);const s=t-e+1,o=n-r+1;return p.jsx("div",{className:"print-content",style:{fontFamily:"Arial, sans-serif",fontSize:"12px",color:"#000",backgroundColor:"#fff",padding:"20px"},children:p.jsx("table",{className:"print-table",style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:p.jsx("tbody",{children:Array(s).fill(null).map((t,a)=>p.jsx("tr",{children:Array(o).fill(null).map((t,n)=>{const i=e+a,s=r+n,o=Ie[i]?.[s];if(!o)return p.jsx("td",{style:{border:"1px solid #ccc",padding:"4px 6px"}},n);let l=o.computed_value||o.value||"",c="",d={border:"1px solid #ccc",padding:"4px 6px",textAlign:"left",verticalAlign:"top",wordWrap:"break-word",maxWidth:"120px"};if(o.error?(c="error-cell",d.backgroundColor="#ffe6e6",d.color="#d32f2f",l=o.error):o.media&&(c="media-cell",d.backgroundColor="#f0f8ff",d.fontStyle="italic",l=`[${o.media.type.toUpperCase()}] ${l}`),o.style){const e=o.style;e.fontWeight&&(d.fontWeight=e.fontWeight),e.fontStyle&&(d.fontStyle=e.fontStyle),e.textDecoration&&(d.textDecoration=e.textDecoration),e.textAlign&&(d.textAlign=e.textAlign),e.backgroundColor&&(d.backgroundColor=e.backgroundColor),e.color&&(d.color=e.color),e.fontSize&&(d.fontSize=e.fontSize),e.fontFamily&&(d.fontFamily=e.fontFamily),e.textTransform&&(d.textTransform=e.textTransform)}return p.jsx("td",{className:c,style:d,children:l},n)})},a))})})})},[e,a,i,Ie,Ia,v,wa]),vr=f.useCallback(e=>{const{newData:t,newColumnWidths:a}=dy.insertColumn(Ie,D,e,100);Te(t),I(a),l(e=>e+1),ie("Inserir Coluna",`Nova coluna inserida na posição ${Ia(e)}`)},[Ie,D,ie,Ia]),br=f.useCallback(e=>{const t=dy.validateOperation("remove","column",e,i);if(!t.isValid)return void alert(t.error);const{newData:a,newColumnWidths:r}=dy.removeColumn(Ie,D,e);Te(a),I(r),l(e=>e-1),ie("Remover Coluna",`Coluna ${Ia(e)} removida`)},[Ie,D,i,ie,Ia]),yr=f.useCallback(e=>{const{newData:t,newRowHeights:a}=dy.insertRow(Ie,T,e,i,32);Te(t),z(a),n(e=>e+1),ie("Inserir Linha",`Nova linha inserida na posição ${e+1}`)},[Ie,T,i,ie]),_r=f.useCallback(e=>{const t=dy.validateOperation("remove","row",e,a);if(!t.isValid)return void alert(t.error);const{newData:r,newRowHeights:i}=dy.removeRow(Ie,T,e);Te(r),z(i),n(e=>e-1),ie("Remover Linha",`Linha ${e+1} removida`)},[Ie,T,a,ie]),jr=f.useCallback(e=>p.jsxs("div",{className:`${uy.cell} ${uy.header} ${uy["column-header"]}`,style:{width:D[e],minWidth:D[e],height:we,minHeight:we},children:[p.jsxs("div",{className:uy["column-header-content"],children:[p.jsx("button",{className:uy["header-button"],onClick:()=>vr(e),title:`Inserir coluna antes de ${Ia(e)}`,children:p.jsx(vi,{size:12})}),p.jsx("span",{className:uy["header-label"],children:Ia(e)}),p.jsx("button",{className:uy["header-button"],onClick:()=>br(e),title:`Remover coluna ${Ia(e)}`,disabled:i<=1,children:p.jsx(ii,{size:12})})]}),p.jsx("div",{className:`${uy["column-resizer"]} ${"col"===R?.type&&R.index===e?uy.resizing:""}`,onMouseDown:t=>cr(t,"col",e)})]},`col-header-${e}`),[D,we,i,vr,br,Ia,R,cr]),wr=f.useCallback((e,t)=>{const a=Ie[e]?.[t],{shouldRender:r}=cy.getCellSpan(Ie,e,t);if(!r)return null;const n=c.some(a=>a.row===e&&a.col===t),i=Ft(e,t),s=Ta(e,t),o=ga(e,t),l=xa(e,t),u=a?.formula||a?.is_formula,h=a?.merged&&a?.masterCell&&a.masterCell.row===e&&a.masterCell.col===t;return p.jsxs("div",{className:`\n        ${uy.cell}\n        ${n?`${uy.cellSelected} ${uy.selected}`:""}\n        ${i?uy.cellDragHighlight:""}\n        ${s?uy["in-range"]:""}\n        ${o?uy["print-area-cell"]:""}\n        ${l?uy["print-area-selecting"]:""}\n\n        ${Ee?uy["drop-target"]:""}\n        ${h?uy.master:""}\n      `,style:{width:D[t],height:T[e],...dr(e,t),...a?.style},onMouseDown:a=>{if(u&&0===a.button){const r=a.currentTarget.getBoundingClientRect(),n=a.clientX-r.left,i=a.clientY-r.top;if(n>=r.width-8&&i>=r.height-8)return void $t(e,t,a)}va?va(e,t,a):d([{row:e,col:t}])},onMouseEnter:()=>{he.isDragging&&Bt(e,t),ba&&ba(e,t)},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),Ee&&(e.currentTarget.style.backgroundColor="#e0f2fe",e.currentTarget.style.border="2px dashed #0284c7")},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),Ee&&(e.currentTarget.style.backgroundColor="",e.currentTarget.style.border="")},onDrop:a=>{_a&&_a(e,t,a),a.currentTarget.style.backgroundColor="",a.currentTarget.style.border=""},children:[p.jsx("div",{className:uy.cellContent,children:ur?ur(e,t):a?.computed_value||a?.value}),u&&n&&p.jsx("div",{className:uy.formulaDragHandle,onMouseDown:a=>$t(e,t,a)})]},`cell-${e}-${t}`)},[Ie,c,D,T,Ft,Ta,ga,xa,he.isDragging,Ee,$t,Bt,va,ba,_a,ur,dr,d]),Nr=f.useCallback(e=>p.jsxs("div",{className:`${uy.cell} ${uy.header} ${uy["row-header"]}`,style:{height:T[e],minHeight:T[e],width:_e,minWidth:_e},children:[p.jsxs("div",{className:uy["row-header-content"],children:[p.jsx("button",{className:uy["header-button"],onClick:()=>yr(e),title:`Inserir linha antes da linha ${e+1}`,children:p.jsx(vi,{size:12})}),p.jsx("span",{className:uy["header-label"],children:e+1}),p.jsx("button",{className:uy["header-button"],onClick:()=>_r(e),title:`Remover linha ${e+1}`,disabled:a<=1,children:p.jsx(ii,{size:12})})]}),p.jsx("div",{className:`${uy["row-resizer"]} ${"row"===R?.type&&R.index===e?uy.resizing:""}`,onMouseDown:t=>cr(t,"row",e)})]}),[T,_e,a,yr,_r,R,cr]);return f.useEffect(()=>{const e=()=>{x(!1),h(null),w(!1),R&&(ie("Redimensionar",`${"col"===R.type?"Coluna":"Linha"} ${R.index+1} redimensionada`),L(null)),Ae&&(ie("Redimensionar Imagem",`Imagem na célula ${Ia(Ae.col)}${Ae.row+1} redimensionada`),De(null))},t=e=>{"Escape"===e.key&&(Ae&&(De(null),ie("Redimensionar Imagem","Redimensionamento de imagem cancelado")),R&&(L(null),ie("Redimensionar","Redimensionamento de coluna/linha cancelado")),Et.current===document.activeElement&&bt&&yt(!1));const t=document.activeElement;t&&t.hasAttribute("data-cell")&&["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&e.preventDefault()};return document.addEventListener("mouseup",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mouseup",e),document.removeEventListener("keydown",t)}},[R,Ae,ie,bt]),p.jsxs("div",{className:`${uy.container} ${uy.maximized}`,children:[p.jsxs("div",{className:uy["main-content"],children:[p.jsxs("div",{className:uy.toolbar,children:[p.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),style:{padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",color:"#166534",minWidth:"200px"},placeholder:"Nome da planilha"}),p.jsxs("button",{className:uy.button,onClick:Ra,children:[p.jsx(vi,{size:16}),"Adicionar Linha"]}),p.jsxs("button",{className:uy.button,onClick:La,children:[p.jsx(vi,{size:16}),"Adicionar Coluna"]}),p.jsxs("button",{className:`${uy.button} ${uy.secondary}`,onClick:$a,children:[p.jsx(ii,{size:16}),"Remover Linha"]}),p.jsxs("button",{className:`${uy.button} ${uy.secondary}`,onClick:Ba,children:[p.jsx(ii,{size:16}),"Remover Coluna"]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"0 16px",borderLeft:"1px solid #e5e7eb",borderRight:"1px solid #e5e7eb"},children:[p.jsx("button",{className:uy.button,onClick:da,title:"Diminuir zoom",children:p.jsx(cs,{size:16})}),p.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",minWidth:"50px",textAlign:"center"},children:[Math.round(100*be),"%"]}),p.jsx("button",{className:uy.button,onClick:ca,title:"Aumentar zoom",children:p.jsx(ls,{size:16})}),p.jsx("button",{className:`${uy.button} ${uy.secondary}`,onClick:ua,title:"Resetar zoom",children:p.jsx(Ci,{size:16})})]}),W&&"Criar"===W?.type&&p.jsxs("button",{className:uy.button,onClick:Vt,children:[p.jsx(Si,{size:16}),"Salvar"]}),p.jsxs("button",{onClick:ot,className:uy.toolbarButton,title:"Voltar (Esc)",children:[p.jsx(Ar,{size:16}),p.jsx("span",{children:"Voltar"})]}),p.jsx("div",{className:uy.separator}),p.jsxs("button",{onClick:it,disabled:0===k.length,className:`${uy.toolbarButton} ${0===k.length?uy.disabled:""}`,title:"Desfazer (Ctrl+Z)",children:[p.jsx(Ji,{size:16}),p.jsx("span",{children:"Desfazer"})]}),p.jsxs("button",{onClick:st,disabled:0===M.length,className:`${uy.toolbarButton} ${0===M.length?uy.disabled:""}`,title:"Refazer (Ctrl+Y)",children:[p.jsx(_i,{size:16}),p.jsx("span",{children:"Refazer"})]}),p.jsx("div",{className:uy.separator}),p.jsxs("button",{onClick:Ot,disabled:0===c.length||!ft.trim(),className:`${uy.toolbarButton} ${uy.confirmButton} ${0!==c.length&&ft.trim()?"":uy.disabled}`,title:"Confirmar (Ctrl+Enter)",children:[p.jsx(en,{size:16}),p.jsx("span",{children:"Confirmar"})]}),p.jsx("div",{className:uy.separator}),W&&"Duplicar"===W?.type&&p.jsxs("button",{className:uy.button,onClick:Vt,children:[p.jsx(Si,{size:16}),"Salvar"]}),W&&"Editar"===W?.type&&p.jsxs("button",{className:uy.button,onClick:la,children:[p.jsx(Si,{size:16}),"Salvar Edições"]}),p.jsxs("button",{className:uy.button,onClick:Fa,children:[p.jsx(Sn,{size:16}),"Exportar JSON com Estilos"]}),p.jsxs("button",{className:`${uy.button} ${uy.secondary}`,onClick:()=>lt.current?.click(),children:[p.jsx(Zi,{size:16}),"Carregar Template"]}),p.jsxs("button",{className:`${uy.button} ${uy.secondary}`,onClick:()=>ct.current?.click(),children:[p.jsx(Mn,{size:16}),"Importar CSV"]}),p.jsxs("button",{className:`${uy.button} ${uy.secondary}`,onClick:()=>dt.current?.click(),children:[p.jsx(Sn,{size:16}),"Importar XLSX"]}),p.jsxs("button",{className:uy.button,onClick:Ua,children:[p.jsx(yn,{size:16}),"Exportar CSV"]}),y?p.jsxs(p.Fragment,{children:[p.jsxs("button",{className:`${uy.button} ${uy.success}`,onClick:pa,disabled:!N,title:"Confirmar área selecionada",children:[p.jsx(cn,{size:16}),"Confirmar Área"]}),p.jsxs("button",{className:`${uy.button} ${uy.secondary}`,onClick:ma,title:"Cancelar seleção de área",children:[p.jsx(ss,{size:16}),"Cancelar"]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("button",{className:`${uy.button} ${v?uy.success:""}`,onClick:ha,title:"Selecionar área específica para impressão",children:[p.jsx(Fi,{size:16}),v?"Alterar Área":"Selecionar Área"]}),v&&p.jsxs("button",{className:`${uy.button} ${uy.secondary}`,onClick:fa,title:"Remover área de impressão - imprimir planilha completa",children:[p.jsx(ss,{size:16}),"Limpar Área"]})]}),p.jsxs("button",{className:uy.button,onClick:fr,children:[p.jsx(bi,{size:16}),v?"Imprimir Área":"Imprimir Planilha"]}),p.jsxs("button",{className:`${uy.button} ${uy.danger}`,onClick:qa,children:[p.jsx(Vi,{size:16}),"Limpar Tudo"]}),p.jsxs("button",{className:uy.button,onClick:()=>ge(!0),children:[p.jsx(Gn,{size:16}),"Ver Histórico"]}),p.jsxs("button",{className:uy.button,onClick:()=>Je(!0),children:[p.jsx(Hr,{size:16}),"Fórmulas"]})]}),v&&p.jsxs("div",{style:{padding:"8px 16px",backgroundColor:"#ecfdf5",border:"1px solid #10b981",borderRadius:"6px",margin:"8px 0",fontSize:"14px",color:"#065f46"},children:[p.jsx("strong",{children:"Área de impressão definida:"})," ",wa()]}),te?p.jsx("div",{className:uy["modal-overlay"],children:p.jsxs("div",{className:uy["modal-content"],style:{maxWidth:"400px"},children:[p.jsxs("div",{className:uy.modalHeader,children:[p.jsxs("h3",{children:[p.jsx(Qn,{size:20}),"Validação de Usuário"]}),p.jsx("button",{className:uy.closeButton,onClick:Xt,disabled:le,children:p.jsx(ss,{size:20})})]}),p.jsxs("div",{className:uy.modalBody,children:[p.jsx("p",{style:{marginBottom:"20px",color:"#6c757d"},children:"Para continuar, por favor valide suas credenciais:"}),p.jsxs("div",{style:{marginBottom:"15px"},children:[p.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#495057"},children:[p.jsx(ts,{size:16,style:{marginRight:"5px"}}),"Usuário:"]}),p.jsx("input",{type:"text",value:re.usuario,onChange:e=>ne(t=>({...t,usuario:e.target.value})),placeholder:"Digite seu usuário",disabled:le,style:{width:"100%",padding:"10px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"14px"},onKeyDown:e=>{"Enter"===e.key&&Jt()}})]}),p.jsxs("div",{style:{marginBottom:"15px"},children:[p.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#495057"},children:[p.jsx(Qn,{size:16,style:{marginRight:"5px"}}),"Senha:"]}),p.jsx("input",{type:"password",value:re.senha,onChange:e=>ne(t=>({...t,senha:e.target.value})),placeholder:"Digite sua senha",disabled:le,style:{width:"100%",padding:"10px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"14px"},onKeyDown:e=>{"Enter"===e.key&&Jt()}})]}),se&&p.jsxs("div",{style:{padding:"10px",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"4px",color:"#721c24",marginBottom:"15px",fontSize:"14px"},children:[p.jsx(ln,{size:16,style:{marginRight:"5px"}}),se]})]}),p.jsxs("div",{className:uy.modalFooter,children:[p.jsx("button",{className:uy.button,onClick:Xt,disabled:le,style:{marginRight:"10px"},children:"Cancelar"}),p.jsx("button",{className:`${uy.button} ${uy.primaryButton}`,onClick:Jt,disabled:le||!re.usuario.trim()||!re.senha.trim(),style:{backgroundColor:le?"#6c757d":"#007bff",cursor:le?"not-allowed":"pointer"},children:le?"Validando...":"Confirmar"})]})]})}):null,p.jsxs("div",{className:uy["formula-bar"],children:[p.jsxs("div",{className:uy["formula-bar-input-container"],children:[p.jsx("input",{ref:Et,type:"text",className:`${uy["formula-bar-input"]} ${!1===_t?.isValid?uy["formula-error"]:""}`,value:ft,onChange:e=>Ca(e.target.value),onKeyDown:e=>{"Enter"===e.key?ka():"Escape"===e.key&&yt(!1)},placeholder:"Digite um valor ou fórmula (comece com =)",disabled:y}),_t&&p.jsxs("div",{className:uy["formula-validation"],children:[_t.isValid?p.jsx(cn,{size:16,color:"#16a34a"}):p.jsx(ln,{size:16,color:"#dc2626"}),_t.error&&p.jsx("span",{className:uy["formula-error-text"],children:_t.error})]})]}),bt&&xt.length>0&&p.jsx("div",{className:uy["formula-suggestions"],children:xt.slice(0,5).map((e,t)=>p.jsxs("div",{className:uy["formula-suggestion"],onClick:()=>Sa(e),children:[p.jsx("strong",{children:e.display_text}),p.jsx("span",{children:e.description})]},t))})]}),p.jsxs("div",{className:uy["formatting-toolbar"],children:[p.jsx("div",{className:uy["format-group"],children:p.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginRight:"0.5rem"},children:hr()})}),!y&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:uy["format-group"],children:[p.jsx("button",{className:`${uy["format-button"]} ${c.length>0&&"bold"===Ie[c[0].row][c[0].col].style?.fontWeight?uy.active:""}`,onClick:Ka,disabled:0===c.length,title:"Negrito",children:p.jsx(Lr,{size:16})}),p.jsx("button",{className:`${uy["format-button"]} ${c.length>0&&"italic"===Ie[c[0].row][c[0].col].style?.fontStyle?uy.active:""}`,onClick:Ya,disabled:0===c.length,title:"Itálico",children:p.jsx(Un,{size:16})}),p.jsx("button",{className:`${uy["format-button"]} ${c.length>0&&"underline"===Ie[c[0].row][c[0].col].style?.textDecoration?uy.active:""}`,onClick:Xa,disabled:0===c.length,title:"Sublinhado",children:p.jsx(Xi,{size:16})}),p.jsx("button",{className:`${uy["format-button"]} ${c.length>0&&"line-through"===Ie[c[0].row][c[0].col].style?.textDecoration?uy.active:""}`,onClick:Ja,disabled:0===c.length,title:"Tachado",children:p.jsx(Rn,{size:16})})]}),p.jsxs("div",{className:uy["format-group"],children:[p.jsx("button",{className:uy["format-button"],onClick:()=>Za("left"),disabled:0===c.length,title:"Alinhar à esquerda",children:p.jsx(Or,{size:16})}),p.jsx("button",{className:uy["format-button"],onClick:()=>Za("center"),disabled:0===c.length,title:"Centralizar",children:p.jsx(Er,{size:16})}),p.jsx("button",{className:uy["format-button"],onClick:()=>Za("right"),disabled:0===c.length,title:"Alinhar à direita",children:p.jsx(Pr,{size:16})})]}),p.jsxs("div",{className:uy["format-group"],children:[p.jsx("input",{type:"color",onChange:e=>Qa(e.target.value),disabled:0===c.length,title:"Cor de fundo",style:{width:"32px",height:"32px",border:"none",borderRadius:"4px"}}),p.jsx("input",{type:"color",onChange:e=>er(e.target.value),disabled:0===c.length,title:"Cor do texto",style:{width:"32px",height:"32px",border:"none",borderRadius:"4px"}})]}),p.jsxs("div",{className:uy["format-group"],children:[p.jsxs("select",{className:uy["format-select"],value:Ce,onChange:e=>rr(e.target.value),disabled:0===c.length,title:"Tamanho da fonte",children:[p.jsx("option",{value:"0.5rem",children:"8px"}),p.jsx("option",{value:"0.625rem",children:"9px"}),p.jsx("option",{value:"0.75rem",children:"10px"}),p.jsx("option",{value:"0.8125rem",children:"11px"}),p.jsx("option",{value:"0.875rem",children:"12px"}),p.jsx("option",{value:"0.9375rem",children:"13px"}),p.jsx("option",{value:"1rem",children:"14px"}),p.jsx("option",{value:"1.0625rem",children:"15px"}),p.jsx("option",{value:"1.125rem",children:"16px"}),p.jsx("option",{value:"1.1875rem",children:"17px"}),p.jsx("option",{value:"1.25rem",children:"18px"}),p.jsx("option",{value:"1.375rem",children:"19px"}),p.jsx("option",{value:"1.5rem",children:"20px"}),p.jsx("option",{value:"1.625rem",children:"22px"}),p.jsx("option",{value:"1.75rem",children:"24px"}),p.jsx("option",{value:"1.875rem",children:"26px"}),p.jsx("option",{value:"2rem",children:"28px"}),p.jsx("option",{value:"2.25rem",children:"30px"}),p.jsx("option",{value:"2.5rem",children:"32px"}),p.jsx("option",{value:"2.75rem",children:"36px"}),p.jsx("option",{value:"3rem",children:"40px"}),p.jsx("option",{value:"3.5rem",children:"48px"}),p.jsx("option",{value:"4rem",children:"56px"}),p.jsx("option",{value:"4.5rem",children:"64px"}),p.jsx("option",{value:"5rem",children:"72px"}),p.jsx("option",{value:"6rem",children:"96px"})]}),p.jsxs("select",{className:uy["format-select"],value:Se,onChange:e=>nr(e.target.value),disabled:0===c.length,title:"Fonte",children:[p.jsx("option",{value:"inherit",children:"Padrão"}),p.jsx("option",{value:"Arial, sans-serif",children:"Arial"}),p.jsx("option",{value:"'Times New Roman', serif",children:"Times New Roman"}),p.jsx("option",{value:"'Courier New', monospace",children:"Courier New"}),p.jsx("option",{value:"Georgia, serif",children:"Georgia"}),p.jsx("option",{value:"Verdana, sans-serif",children:"Verdana"}),p.jsx("option",{value:"'Comic Sans MS', cursive",children:"Comic Sans MS"}),p.jsx("option",{value:"Helvetica, sans-serif",children:"Helvetica"}),p.jsx("option",{value:"'Trebuchet MS', sans-serif",children:"Trebuchet MS"}),p.jsx("option",{value:"'Arial Black', sans-serif",children:"Arial Black"}),p.jsx("option",{value:"Impact, sans-serif",children:"Impact"}),p.jsx("option",{value:"'Lucida Console', monospace",children:"Lucida Console"}),p.jsx("option",{value:"'Palatino Linotype', serif",children:"Palatino Linotype"}),p.jsx("option",{value:"Tahoma, sans-serif",children:"Tahoma"}),p.jsx("option",{value:"'Century Gothic', sans-serif",children:"Century Gothic"}),p.jsx("option",{value:"'Book Antiqua', serif",children:"Book Antiqua"}),p.jsx("option",{value:"'Arial Narrow', sans-serif",children:"Arial Narrow"}),p.jsx("option",{value:"'Brush Script MT', cursive",children:"Brush Script MT"}),p.jsx("option",{value:"Garamond, serif",children:"Garamond"}),p.jsx("option",{value:"'MS Sans Serif', sans-serif",children:"MS Sans Serif"}),p.jsx("option",{value:"'Lucida Sans Unicode', sans-serif",children:"Lucida Sans Unicode"}),p.jsx("option",{value:"Monaco, monospace",children:"Monaco"}),p.jsx("option",{value:"'Segoe UI', sans-serif",children:"Segoe UI"}),p.jsx("option",{value:"Calibri, sans-serif",children:"Calibri"}),p.jsx("option",{value:"Cambria, serif",children:"Cambria"})]})]}),p.jsx("div",{className:uy["format-group"],children:p.jsxs("select",{className:uy["format-select"],onChange:e=>c.length>0&&ar(e.target.value),disabled:0===c.length,title:"Transformação de texto",children:[p.jsx("option",{value:"none",children:"Normal"}),p.jsx("option",{value:"uppercase",children:"MAIÚSCULA"}),p.jsx("option",{value:"lowercase",children:"minúscula"}),p.jsx("option",{value:"capitalize",children:"Primeira Maiúscula"})]})}),p.jsxs("div",{className:uy["format-group"],children:[p.jsx("button",{className:uy["format-button"],onClick:()=>tr("1px solid #000"),disabled:0===c.length,title:"Adicionar borda",children:p.jsx(Ri,{size:16})}),p.jsx("button",{className:uy["format-button"],onClick:()=>tr("none"),disabled:0===c.length,title:"Remover borda",children:p.jsx(ni,{size:16})})]}),p.jsxs("div",{className:uy["format-group"],children:[p.jsx("button",{className:uy["format-button"],onClick:mr,disabled:c.length<2,title:"Mesclar Células",children:p.jsx($i,{size:16})}),p.jsx("button",{className:uy["format-button"],onClick:pr,disabled:0===c.length||!Ie[c[0].row][c[0].col].merged,title:"Desmesclar Células",children:p.jsx(ss,{size:16})})]}),p.jsxs("div",{className:uy["format-group"],children:[p.jsx("button",{className:uy["format-button"],onClick:()=>ir("image"),disabled:0===c.length,title:"Adicionar Imagem",children:p.jsx(Hn,{size:16})}),p.jsx("button",{className:uy["format-button"],onClick:()=>ir("video"),disabled:0===c.length,title:"Adicionar Vídeo",children:p.jsx(rs,{size:16})}),p.jsx("button",{className:uy["format-button"],onClick:()=>ir("audio"),disabled:0===c.length,title:"Adicionar Áudio",children:p.jsx(ci,{size:16})}),p.jsx("button",{className:uy["format-button"],onClick:()=>ir("link"),disabled:0===c.length,title:"Adicionar Link",children:p.jsx(Kn,{size:16})}),p.jsx("button",{className:uy["format-button"],onClick:()=>ir("table"),disabled:0===c.length,title:"Criar Tabela",children:p.jsx(Bi,{size:16})})]})]})]}),H&&p.jsx("div",{className:uy["modal-overlay"],children:p.jsxs("div",{className:uy.modal,children:[p.jsxs("div",{className:uy["modal-header"],children:[p.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(vn,{size:20}),"Salvar Template"]}),p.jsx("button",{className:uy["close-button"],onClick:()=>V(!1),children:p.jsx(ss,{size:20})})]}),p.jsxs("div",{className:uy["modal-content"],style:{padding:"24px"},children:[p.jsxs("div",{style:{marginBottom:"20px"},children:[p.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"Nome do Arquivo:"}),p.jsx("input",{type:"text",value:U.nomeArquivo,onChange:e=>K(t=>({...t,nomeArquivo:e.target.value,caminhoArquivo:`templates/${e.target.value.replace(/\s+/g,"_").toLowerCase()}.json`})),style:{width:"100%",padding:"12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px"},placeholder:"Digite o nome do arquivo"})]}),p.jsxs("div",{style:{marginBottom:"20px"},children:[p.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"Tipo de Documento:"}),p.jsxs("select",{value:U.tipo,onChange:e=>K(t=>({...t,tipo:e.target.value})),style:{width:"100%",padding:"12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",backgroundColor:"#fff"},children:[p.jsx("option",{value:"template",children:"Template"}),p.jsx("option",{value:"planilha_padrao",children:"Planilha Padrão"})]})]}),p.jsxs("div",{style:{marginBottom:"20px"},children:[p.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"Tag:"}),Q?p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[p.jsx("input",{type:"text",value:J,onChange:e=>Z(e.target.value),onKeyDown:e=>{"Enter"===e.key?Zt():"Escape"===e.key&&(ee(!1),Z(""))},style:{flex:1,padding:"12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px"},placeholder:"Digite uma nova tag",autoFocus:!0}),p.jsx("button",{className:uy.button,onClick:Zt,style:{padding:"12px"},title:"Confirmar nova tag",children:p.jsx(cn,{size:16})}),p.jsx("button",{className:`${uy.button} ${uy.secondary}`,onClick:()=>{ee(!1),Z("")},style:{padding:"12px"},title:"Cancelar",children:p.jsx(ss,{size:16})})]}):p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[p.jsxs("select",{value:U.tag,onChange:e=>K(t=>({...t,tag:e.target.value})),style:{flex:1,padding:"12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",backgroundColor:"#fff"},children:[p.jsx("option",{value:"",children:"Selecione uma tag"}),Y.map((e,t)=>p.jsx("option",{value:e,children:e},t))]}),p.jsx("button",{className:uy.button,onClick:()=>ee(!0),style:{padding:"12px"},title:"Adicionar nova tag",children:p.jsx(vi,{size:16})})]})]}),p.jsxs("div",{style:{marginBottom:"24px",padding:"16px",backgroundColor:"#f0f9ff",border:"1px solid #0ea5e9",borderRadius:"8px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[p.jsx(Vn,{size:16,color:"#0ea5e9"}),p.jsx("span",{style:{fontWeight:"600",color:"#0c4a6e"},children:"Informações do Template"})]}),p.jsxs("div",{style:{fontSize:"14px",color:"#0c4a6e"},children:[p.jsxs("p",{style:{margin:"4px 0"},children:[p.jsx("strong",{children:"Planilha:"})," ",e]}),p.jsxs("p",{style:{margin:"4px 0"},children:[p.jsx("strong",{children:"Dimensões:"})," ",a," linhas × ",i," colunas"]}),p.jsxs("p",{style:{margin:"4px 0"},children:[p.jsx("strong",{children:"Tamanho do JSON:"})," ",(U.jsonData.length/1024).toFixed(2)," KB"]})]})]}),p.jsxs("div",{className:uy["modal-footer"],children:[p.jsx("button",{className:`${uy.button} ${uy.secondary}`,onClick:()=>V(!1),children:"Cancelar"}),p.jsxs("button",{className:uy.button,onClick:la,disabled:!U.nomeArquivo.trim()||!U.tag.trim(),children:[p.jsx(Si,{size:16}),"Salvar Template"]})]})]})]})}),p.jsx("input",{ref:lt,type:"file",accept:".json",onChange:Ga,style:{display:"none"}}),p.jsx("input",{ref:ct,type:"file",accept:".csv",onChange:Va,style:{display:"none"}}),p.jsx("input",{ref:dt,type:"file",accept:".xlsx,.xls",onChange:Wa,style:{display:"none"}}),p.jsx("input",{ref:ut,type:"file",accept:"image/*,video/*,audio/*",onChange:sr,style:{display:"none"}}),p.jsx("div",{ref:mt,className:uy["spreadsheet-container"],children:p.jsx("div",{className:uy["spreadsheet-scroll-area"],onMouseLeave:ja,children:p.jsxs("div",{className:uy["spreadsheet-grid"],style:{gridTemplateColumns:`${_e}px ${D.map(e=>`${e}px`).join(" ")}`,gridTemplateRows:`${we}px ${T.map(e=>`${e}px`).join(" ")}`},children:[p.jsx("div",{className:`${uy.cell} ${uy.header} ${uy.corner}`,children:p.jsx("div",{className:uy["position-indicator"],children:y?p.jsx(li,{size:16,color:"#3b82f6"}):hr()})}),Array(i).fill(null).map((e,t)=>jr(t)),Array(a).fill(null).map((e,t)=>p.jsxs(g.Fragment,{children:[Nr(t),Array(i).fill(null).map((e,a)=>wr(t,a))]},`row-${t}`))]})})}),$&&p.jsx("div",{className:uy["modal-overlay"],children:p.jsxs("div",{className:uy["modal-content"],children:[p.jsxs("h3",{className:uy["modal-header"],children:["Adicionar ","image"===q?"Imagem":"video"===q?"Vídeo":"audio"===q?"Áudio":"link"===q?"Link":"Tabela"]}),"table"!==q&&"link"!==q&&p.jsx("div",{className:uy["input-group"],children:p.jsx("button",{className:uy.button,onClick:()=>ut.current?.click(),children:"Fazer Upload de Arquivo"})}),"link"===q&&p.jsxs("div",{className:uy["input-group"],children:[p.jsx("input",{type:"url",placeholder:"Digite a URL do link",className:uy["input-field"],onKeyPress:e=>{"Enter"===e.key&&or(e.target.value)}}),p.jsx("button",{className:uy.button,onClick:()=>{const e=document.querySelector('input[type="url"]');e?.value&&or(e.value)},children:"Adicionar Link"})]}),"table"===q&&p.jsxs("div",{className:uy["table-config-container"],children:[p.jsxs("div",{className:uy["table-size-section"],children:[p.jsx("h4",{children:"Tamanho da Tabela"}),p.jsxs("div",{className:uy["size-inputs"],children:[p.jsxs("div",{className:uy["input-group"],children:[p.jsx("label",{children:"Linhas:"}),p.jsx("input",{type:"number",min:"1",max:"20",value:de.rows,onChange:e=>ue(t=>({...t,rows:parseInt(e.target.value)||1})),className:uy["size-input"]})]}),p.jsxs("div",{className:uy["input-group"],children:[p.jsx("label",{children:"Colunas:"}),p.jsx("input",{type:"number",min:"1",max:"20",value:de.cols,onChange:e=>ue(t=>({...t,cols:parseInt(e.target.value)||1})),className:uy["size-input"]})]})]})]}),p.jsxs("div",{className:uy["table-templates-section"],children:[p.jsx("h4",{children:"Templates de Estilo"}),p.jsx("div",{className:uy["templates-grid"],children:pe.map((e,t)=>p.jsxs("div",{className:`${uy["template-preview"]} ${de.selectedTemplate===t?uy.selected:""}`,onClick:()=>ue(e=>({...e,selectedTemplate:t})),children:[p.jsx("div",{className:uy["template-name"],children:e.name}),p.jsxs("div",{className:uy["preview-table"],children:[p.jsx("div",{className:uy["preview-header"],style:e.headerStyle,children:"Cabeçalho"}),p.jsx("div",{className:uy["preview-row"],style:e.cellStyle,children:"Dados"}),p.jsx("div",{className:uy["preview-row"],style:e.alternateRowStyle,children:"Dados"})]})]},t))})]}),p.jsxs("div",{className:uy["table-preview-section"],children:[p.jsx("h4",{children:"Prévia da Tabela"}),p.jsxs("div",{className:uy["table-preview"],children:[p.jsx("table",{className:uy["preview-full-table"],children:p.jsx("tbody",{children:Array(Math.min(de.rows,5)).fill(null).map((e,t)=>p.jsx("tr",{children:Array(Math.min(de.cols,5)).fill(null).map((e,a)=>{const r=pe[de.selectedTemplate];let n;return n=0===t?r.headerStyle:t%2==0?r.cellStyle:r.alternateRowStyle,p.jsx("td",{style:n,children:0===t?`Col ${a+1}`:`R${t}C${a+1}`},a)})},t))})}),(de.rows>5||de.cols>5)&&p.jsxs("p",{className:uy["preview-note"],children:["Mostrando apenas ",Math.min(de.rows,5),"x",Math.min(de.cols,5)," células da tabela ",de.rows,"x",de.cols]})]})]}),p.jsx("button",{className:uy.button,onClick:()=>lr(),children:"Criar Tabela"})]}),p.jsx("div",{className:uy["modal-actions"],children:p.jsx("button",{className:`${uy.button} ${uy.secondary}`,onClick:()=>B(!1),children:"Cancelar"})})]})}),Xe&&p.jsx("div",{className:uy["modal-overlay"],children:p.jsxs("div",{className:uy["modal-content"],style:{maxWidth:"800px",maxHeight:"80vh"},children:[p.jsxs("h3",{className:uy["modal-header"],children:[p.jsx(Hr,{size:20}),"Fórmulas Disponíveis"]}),p.jsxs("div",{className:uy["formula-modal-content"],children:[p.jsx("div",{className:uy["formula-categories"],children:Ct.map(e=>p.jsx("button",{className:`${uy["category-button"]} ${St===e?uy.active:""}`,onClick:()=>Mt(e),children:e},e))}),p.jsx("div",{className:uy["formula-list"],children:("Todas"===St?wt:wt.filter(e=>e.category===St)).map((e,t)=>p.jsxs("div",{className:uy["formula-item"],children:[p.jsxs("div",{className:uy["formula-header"],children:[p.jsx("strong",{children:e.name}),p.jsx("span",{className:uy["formula-category"],children:e.category})]}),p.jsx("p",{className:uy["formula-description"],children:e.description}),p.jsxs("div",{className:uy["formula-syntax"],children:[p.jsx("strong",{children:"Sintaxe:"})," ",p.jsx("code",{children:e.syntax})]}),p.jsxs("div",{className:uy["formula-example"],children:[p.jsx("strong",{children:"Exemplo:"})," ",p.jsx("code",{children:e.example})]}),p.jsx("button",{className:uy["insert-formula-button"],onClick:()=>{gt(`=${e.name}()`),Je(!1),Et.current&&Et.current.focus()},children:"Inserir"})]},t))})]}),p.jsx("div",{className:uy["modal-actions"],children:p.jsx("button",{className:`${uy.button} ${uy.secondary}`,onClick:()=>Je(!1),children:"Fechar"})})]})}),fe?p.jsx("div",{className:uy["modal-overlay"],children:p.jsxs("div",{className:uy["modal-content"],children:[p.jsxs("div",{className:uy.modalHeader,children:[p.jsxs("h3",{children:[p.jsx(Gn,{size:20}),"Histórico de Alterações",ze&&p.jsxs("span",{style:{marginLeft:"10px",fontSize:"14px",color:"#007bff",fontWeight:"normal"},children:[p.jsx(fi,{size:16,style:{marginRight:"5px"}}),"Modo de Edição Ativo"]})]}),p.jsx("button",{className:uy.closeButton,onClick:()=>{ge(!1),Re(!1),Lt()},children:p.jsx(ss,{size:20})})]}),p.jsxs("div",{className:uy.modalBody,style:{maxHeight:"400px",overflowY:"auto"},children:[ze&&p.jsxs("div",{style:{padding:"10px",backgroundColor:"#e7f3ff",borderRadius:"4px",marginBottom:"15px",fontSize:"14px",color:"#0066cc"},children:[p.jsx(fi,{size:16,style:{marginRight:"5px"}}),"Modo de edição ativo. Clique em qualquer campo para editar. Pressione ",p.jsx("kbd",{children:"Ctrl + Shift + B"})," novamente para sair.",p.jsxs("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"1px solid #b3d9ff",display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"},children:[p.jsxs("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[p.jsx("button",{onClick:ea,style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Selecionar Todos"}),p.jsx("button",{onClick:ta,style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Limpar Seleção"})]}),Be.length>0&&p.jsxs("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[p.jsxs("span",{style:{fontSize:"12px"},children:[Be.length," item(s) selecionado(s)"]}),p.jsx("button",{onClick:aa,style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Alterar Data/Hora"})]})]}),Ge&&p.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#d4edda",borderRadius:"4px",border:"1px solid #c3e6cb"},children:[p.jsxs("div",{style:{marginBottom:"8px",fontSize:"13px",fontWeight:"bold",color:"#155724"},children:["Alterar data/hora para ",Be.length," item(s) selecionado(s):"]}),p.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[p.jsx("input",{type:"datetime-local",value:Fe,onChange:e=>We(e.target.value),style:{padding:"4px 6px",fontSize:"12px",border:"1px solid #28a745",borderRadius:"3px",backgroundColor:"#fff"}}),p.jsx("button",{onClick:ra,style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Aplicar"}),p.jsx("button",{onClick:na,style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Cancelar"})]})]})]}),0===Ze.length?p.jsx("p",{style:{textAlign:"center",color:"#6c757d",fontStyle:"italic"},children:"Nenhuma alteração registrada ainda."}):p.jsx("div",{className:uy.historyList,children:Ze.map((e,t)=>p.jsxs("div",{className:uy.historyItem,style:{padding:"12px",border:Be.includes(t)?"2px solid #007bff":"1px solid #dee2e6",borderRadius:"4px",marginBottom:"8px",backgroundColor:Be.includes(t)?"#f8f9ff":"#fff",position:"relative"},children:[ze&&p.jsx("div",{style:{position:"absolute",top:"8px",left:"8px",zIndex:1},children:p.jsx("input",{type:"checkbox",checked:Be.includes(t),onChange:()=>Qt(t),style:{width:"16px",height:"16px",cursor:"pointer"}})}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginLeft:ze?"30px":"0"},children:[p.jsxs("div",{style:{flex:1},children:[p.jsxs("div",{style:{marginBottom:"5px"},children:[p.jsx("strong",{style:{color:"#495057"},children:"Ação: "}),Le===t&&"action"===Ve?p.jsx("input",{type:"text",value:Ke,onChange:e=>Ye(e.target.value),onBlur:sa,onKeyDown:e=>{"Enter"===e.key&&sa(),"Escape"===e.key&&(e.preventDefault(),sa())},autoFocus:!0,style:{border:"2px solid #007bff",borderRadius:"3px",padding:"2px 5px",fontSize:"14px",width:"100%"}}):p.jsx("span",{onClick:()=>ia(t,"action"),style:{cursor:ze?"pointer":"default",padding:ze?"2px 5px":"0",borderRadius:"3px",backgroundColor:ze?"#f8f9fa":"transparent",border:ze?"1px dashed #ccc":"none"},children:e.action})]}),p.jsxs("div",{style:{marginBottom:"5px"},children:[p.jsx("strong",{style:{color:"#495057"},children:"Detalhes: "}),Le===t&&"details"===Ve?p.jsx("textarea",{value:Ke,onChange:e=>Ye(e.target.value),onBlur:sa,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),sa()),"Escape"===e.key&&(e.preventDefault(),sa())},autoFocus:!0,style:{border:"2px solid #007bff",borderRadius:"3px",padding:"5px",fontSize:"14px",width:"100%",minHeight:"60px",resize:"vertical"}}):p.jsx("span",{onClick:()=>ia(t,"details"),style:{cursor:ze?"pointer":"default",padding:ze?"2px 5px":"0",borderRadius:"3px",backgroundColor:ze?"#f8f9fa":"transparent",border:ze?"1px dashed #ccc":"none",display:"block",minHeight:ze?"20px":"auto"},children:e.details})]})]}),p.jsx("div",{style:{fontSize:"12px",color:"#6c757d",marginLeft:"15px",textAlign:"right",minWidth:"120px"},children:Le===t&&"timestamp"===Ve?p.jsx("input",{type:"datetime-local",value:Ke,onChange:e=>Ye(e.target.value),onBlur:sa,onKeyDown:e=>{"Enter"===e.key&&sa(),"Escape"===e.key&&(e.preventDefault(),sa())},autoFocus:!0,style:{border:"2px solid #007bff",borderRadius:"3px",padding:"4px 6px",fontSize:"12px",width:"180px",backgroundColor:"#fff"}}):p.jsx("span",{onClick:()=>ia(t,"timestamp"),style:{cursor:ze?"pointer":"default",padding:ze?"2px 5px":"0",borderRadius:"3px",backgroundColor:ze?"#f8f9fa":"transparent",border:ze?"1px dashed #ccc":"none",display:"block"},children:e.timestamp.toLocaleString("pt-BR")})})]})]},t))})]}),p.jsx("div",{className:uy.modalFooter,children:p.jsx("button",{className:uy.button,onClick:()=>{ge(!1),Re(!1),Lt()},children:"Fechar"})})]})}):null,xe&&p.jsx("div",{className:uy["modal-overlay"],children:p.jsxs("div",{className:uy["modal-content"],style:{maxWidth:"90vw",maxHeight:"90vh",overflow:"auto"},children:[p.jsxs("h3",{className:uy["modal-header"],children:[p.jsx(bi,{size:20}),"Visualizar Impressão - ",e]}),p.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},children:[p.jsx("p",{style:{margin:"0 0 10px 0",fontWeight:"600",color:"#495057"},children:"Prévia da Impressão"}),p.jsxs("p",{style:{margin:"0",fontSize:"14px",color:"#6c757d"},children:[v?`Será impressa apenas a área selecionada: ${wa()}`:"Será impressa a planilha completa."," ",'Clique em "Imprimir" para abrir o diálogo de impressão do navegador.']})]}),p.jsx("div",{ref:pt,style:{border:"1px solid #dee2e6",borderRadius:"8px",padding:"20px",backgroundColor:"#fff",maxHeight:"60vh",overflow:"auto"},children:xr()}),p.jsxs("div",{className:uy["modal-actions"],style:{marginTop:"20px"},children:[p.jsxs("button",{className:uy.button,onClick:gr,style:{marginRight:"10px"},children:[p.jsx(bi,{size:16}),"Imprimir"]}),p.jsx("button",{className:`${uy.button} ${uy.secondary}`,onClick:()=>ve(!1),children:"Cancelar"})]})]})})]}),tt&&p.jsx("div",{className:uy["modal-overlay"],children:p.jsxs("div",{className:uy["modal-content"],style:{maxWidth:"500px"},children:[p.jsxs("div",{className:uy.modalHeader,children:[p.jsxs("h3",{style:{display:"flex",alignItems:"center",color:"success"===rt.type?"#198754":"error"===rt.type?"#dc3545":"#0d6efd"},children:["success"===rt.type&&p.jsx(cn,{size:20,style:{marginRight:"8px"}}),"error"===rt.type&&p.jsx(ln,{size:20,style:{marginRight:"8px"}}),"info"===rt.type&&p.jsx(Vn,{size:20,style:{marginRight:"8px"}}),rt.title]}),p.jsx("button",{className:uy.closeButton,onClick:Kt,children:p.jsx(ss,{size:20})})]}),p.jsx("div",{className:uy.modalBody,children:p.jsx("div",{style:{padding:"20px",backgroundColor:"success"===rt.type?"#d1e7dd":"error"===rt.type?"#f8d7da":"#cff4fc",border:"1px solid "+("success"===rt.type?"#badbcc":"error"===rt.type?"#f5c2c7":"#b6effb"),borderRadius:"8px",color:"success"===rt.type?"#0f5132":"error"===rt.type?"#842029":"#055160",fontSize:"16px",lineHeight:"1.5"},children:rt.message})}),p.jsx("div",{className:uy.modalFooter,children:p.jsx("button",{className:`${uy.button} ${uy.primaryButton}`,onClick:Kt,style:{backgroundColor:"success"===rt.type?"#198754":"error"===rt.type?"#dc3545":"#0d6efd"},children:"OK"})})]})})]})},my=()=>{const{modal:e,showConfirm:t,closeModal:a}=rx(),[n,i]=f.useState([]),[s,o]=f.useState(""),[c,d]=f.useState(null),[u,h]=f.useState(!1),[m,g]=f.useState(!1),[x,v]=f.useState(null),[b,y]=f.useState(null);f.useEffect(()=>{_()},[]),f.useEffect(()=>{if(x||b){const e=setTimeout(()=>{v(null),y(null)},3e3);return()=>clearTimeout(e)}},[x,b]);const _=async()=>{h(!0),v(null);try{const e=await r("buscar_setores_cadastro");e.success&&e.data&&i(e.data)}catch(e){v("Erro ao carregar setores. Tente novamente.")}finally{h(!1)}},j=()=>{o(""),d(null),v(null)},w=null!==c;return p.jsxs("div",{className:tb.container,children:[p.jsx("div",{className:tb.header,children:p.jsxs("div",{className:tb.headerContent,children:[p.jsx("div",{className:tb.headerIcon,children:p.jsx(he,{})}),p.jsx("div",{className:tb.headerText,children:p.jsx("h1",{className:tb.title,children:"Gerenciar Setores"})})]})}),x&&p.jsxs("div",{className:tb.alert+" "+tb.alertError,children:[p.jsx(pe,{className:tb.alertIcon}),x]}),b&&p.jsxs("div",{className:tb.alert+" "+tb.alertSuccess,children:[p.jsx(se,{className:tb.alertIcon}),b]}),p.jsxs("div",{className:tb.content,children:[p.jsxs("div",{className:tb.formCard,children:[p.jsxs("div",{className:tb.formHeader,children:[p.jsx("h2",{className:tb.formTitle,children:w?"Editar Setor":"Novo Setor"}),w&&p.jsx("button",{type:"button",onClick:j,className:tb.cancelButton,title:"Cancelar edição",children:p.jsx(pe,{})})]}),p.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),s.trim()){g(!0),v(null);try{if(c){const e=await r("editar_setor",{id:c,nome:s.trim()});e.success?(i(e=>e.map(e=>e.id===c?{...e,nome:s.trim()}:e)),y("Setor editado com sucesso!"),d(null),(await l()).emit("setor-updated")):v(e.message||"Erro ao editar setor")}else{const e=await r("criar_setor",{nome:s.trim()});if(e.success&&e.data&&e.data.length>0){const t=e.data[0];i(e=>[...e,t]),y("Setor cadastrada com sucesso!"),(await l()).emit("setor-updated")}else v(e.message||"Erro ao criar setor")}o("")}catch(t){v("Erro ao salvar setor. Tente novamente.")}finally{g(!1)}}else v("O nome do setor é obrigatório.")},className:tb.form,children:[p.jsxs("div",{className:tb.inputGroup,children:[p.jsx("label",{htmlFor:"nomeSetor",className:tb.label,children:"Nome do Setor"}),p.jsx("input",{type:"text",id:"nomeSetor",value:s,onChange:e=>o(e.target.value),placeholder:"Digite o nome do setor...",className:tb.input,maxLength:50,disabled:m,autoComplete:"off"})]}),p.jsx("button",{type:"submit",disabled:m||!s.trim(),className:tb.submitButton+(w?" "+tb.editMode:""),children:m?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:tb.spinner}),w?"Salvando...":"Cadastrando..."]}):p.jsxs(p.Fragment,{children:[w?p.jsx(G,{}):p.jsx(ie,{}),w?"Salvar Alterações":"Salvar Setor"]})})]})]}),p.jsxs("div",{className:tb.listCard,children:[p.jsxs("div",{className:tb.listHeader,children:[p.jsx("h2",{className:tb.listTitle,children:"Setores Cadastrados"}),p.jsxs("div",{className:tb.listStats,children:[n.length," setor",1!==n.length?"s":""]})]}),u?p.jsxs("div",{className:tb.loadingContainer,children:[p.jsx("div",{className:tb.loadingSpinner}),p.jsx("span",{children:"Carregando setores..."})]}):p.jsx("div",{className:tb.categoriasList,children:n.length>0?n.map(e=>p.jsxs("div",{className:tb.categoriaItem+(c===e.id?" "+tb.editing:""),children:[p.jsxs("div",{className:tb.categoriaInfo,children:[p.jsx("div",{className:tb.categoriaIcon,children:p.jsx(he,{})}),p.jsx("div",{className:tb.categoriaDetails,children:p.jsx("h3",{className:tb.categoriaNome,children:e.nome})})]}),p.jsxs("div",{className:tb.categoriaActions,children:[p.jsx("button",{onClick:()=>(e=>{o(e.nome),d(e.id),v(null),y(null)})(e),className:tb.actionButton+" "+tb.editButton,title:"Editar setor",disabled:m,children:p.jsx(G,{})}),p.jsx("button",{onClick:()=>(async(e,n)=>{t("Confirme exclusão",`Tem certeza que deseja excluir a setor "${n}"?`,async()=>{try{const t=await r("excluir_setor",{id:e});t.success?(i(t=>t.filter(t=>t.id!==e)),y("Setor excluída com sucesso!"),c===e&&j(),(await l()).emit("setor-updated")):v(t.message||"Erro ao excluir setor")}catch(t){v("Erro ao excluir setor. Tente novamente.")}a()})})(e.id,e.nome),className:tb.actionButton+" "+tb.deleteButton,title:"Excluir setor",disabled:m,children:p.jsx(xe,{})})]})]},e.id)):p.jsxs("div",{className:tb.emptyState,children:[p.jsx(he,{className:tb.emptyIcon}),p.jsx("h3",{children:"Nenhum setor cadastrado"}),p.jsx("p",{children:"Cadastre o primeiro setor usando o formulário acima."})]})})]})]}),p.jsx(ix,{...e,onClose:a,onConfirm:e.onConfirm})]})},py=50,fy=()=>{const[e,t]=f.useState(""),[a,n]=f.useState(new Set),[i,s]=f.useState("grid"),[o,l]=f.useState(null),[c,d]=f.useState(0),[u,h]=f.useState({width:800,height:600}),[m,x]=f.useState([]),[v,b]=f.useState(null),[y,_]=f.useState(new Set),[j,w]=f.useState(!1),[N,C]=f.useState(null),k=f.useRef(null),S=f.useRef(null);f.useEffect(()=>{(async()=>{try{w(!0),C(null);const e=await r("consultar_intervalos_planilhas");x(e),e.length>0&&b(e[0].id)}catch(e){}finally{w(!1)}})()},[]),f.useEffect(()=>{(async()=>{if(v)try{w(!0),C(null);const e=await r("consultar_amostras_por_planilha",{planilhaId:v});_(new Set(e))}catch(e){C("Erro ao carregar números específicos");const t=m.find(e=>e.id===v);if(t){const e=t.final-t.inicial+1,a=Math.min(5,Math.floor(e/3));let r=[];for(let n=0;n<a;n++){const a=Math.floor(Math.random()*e);r.push(t.inicial+a)}r=[...new Set(r)].sort((e,t)=>e-t),_(new Set(r))}}finally{w(!1)}else _(new Set)})()},[v,m]);const M=f.useMemo(()=>{const e=Math.floor(u.width/py),t=Math.ceil(u.height/py);return{cols:Math.max(10,e-1),visibleRows:t+10,cellSize:py}},[u]),E=f.useMemo(()=>m.find(e=>e.id===v),[m,v]),O=f.useMemo(()=>{let t=[];if(t=E?Array.from({length:E.final-E.inicial+1},(e,t)=>E.inicial+t):Array.from({length:549},(e,t)=>t+1),!e.trim())return t;const a=parseInt(e);return isNaN(a)?t:t.filter(t=>t.toString().includes(e))},[e,E]),P=f.useMemo(()=>{const e=Math.max(0,Math.floor(c/py)-5),t=e+M.visibleRows,r=Math.ceil(O.length/M.cols),n=[];for(let i=e;i<Math.min(t,r);i++)for(let e=0;e<M.cols;e++){const t=i*M.cols+e;if(t>=O.length)break;const r=O[t];n.push({id:r,value:r,selected:a.has(r),highlighted:!!o&&(r>=o.start&&r<=o.end),specificHighlight:y.has(r),x:e*py,y:i*py})}return n},[O,M,c,a,o,y]),A=Math.ceil(O.length/M.cols)*py;f.useEffect(()=>{const e=()=>{if(k.current){const e=k.current.getBoundingClientRect();h({width:e.width-32,height:Math.max(400,window.innerHeight-e.top-140)})}};e();const t=new ResizeObserver(e);return k.current&&t.observe(k.current),()=>t.disconnect()},[]);const D=f.useCallback(e=>{d(e.currentTarget.scrollTop)},[]),I=f.useCallback(e=>{n(t=>{const a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a})},[]),T=f.useCallback(e=>{const t=Math.max(E?.inicial||1,e-5),a=Math.min(E?.final||549,e+5);l({start:t,end:a})},[E]),z=f.useCallback(e=>{b(e),n(new Set),l(null),C(null)},[]),R=f.useCallback(()=>{n(new Set),l(null)},[]),L=f.useCallback(()=>{n(new Set(O))},[O]),$=f.useCallback(()=>{const e=Array.from(a).sort((e,t)=>e-t),t=Array.from(y).sort((e,t)=>e-t);alert(`Exportando ${e.length} células selecionadas e ${t.length} números específicos`)},[a,y]),B=f.useCallback(async()=>{try{w(!0),C(null);const e=await r("gerar_nova_planilha"),t=await r("consultar_intervalos_planilhas");x(t),t.length>0&&b(t[0].id),alert(`Nova planilha criada! Range: ${e.inicial} - ${e.final}`)}catch(e){C("Erro ao gerar nova planilha"),alert("Erro ao gerar nova planilha. Tente novamente.")}finally{w(!1)}},[]),q=g.memo(({cell:e})=>{let t="#f8fafc",a="#374151",r="#e2e8f0",n="400";return e.selected?(t="#10b981",a="white",r="#059669",n="600"):e.specificHighlight?(t="#22c55e",a="white",r="#16a34a",n="600"):e.highlighted&&(t="#f59e0b",a="white",r="#d97706",n="600"),p.jsx("div",{style:{position:"absolute",left:e.x,top:e.y,width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",background:t,color:a,cursor:"pointer",fontSize:"0.85rem",fontWeight:n,border:`1px solid ${r}`,borderRadius:"4px",userSelect:"none",willChange:"transform",transition:"background-color 0.1s ease"},onClick:()=>I(e.id),onDoubleClick:()=>T(e.id),onMouseEnter:t=>{e.selected||e.highlighted||e.specificHighlight||(t.currentTarget.style.backgroundColor="#e2e8f0")},onMouseLeave:t=>{e.selected||e.highlighted||e.specificHighlight||(t.currentTarget.style.backgroundColor="#f8fafc")},children:e.value})});return p.jsx("div",{style:{height:"100vh",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",padding:"1rem",overflow:"hidden",fontFamily:"system-ui, sans-serif"},children:p.jsxs("div",{style:{height:"100%",maxWidth:"1400px",margin:"0 auto",background:"white",borderRadius:"16px",boxShadow:"0 20px 40px rgba(0,0,0,0.1)",overflow:"hidden",display:"flex",flexDirection:"column"},children:[p.jsxs("div",{style:{background:"linear-gradient(135deg, #059669 0%, #047857 100%)",color:"white",padding:"1rem 1.5rem",display:"flex",alignItems:"center",justifyContent:"space-between",flexShrink:0},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[p.jsx(Sn,{size:24}),p.jsxs("div",{children:[p.jsx("h1",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:"Planilha Interativa"}),p.jsxs("p",{style:{margin:0,fontSize:"0.9rem",opacity:.9},children:[O.length," células • ",a.size," selecionadas • ",y.size," específicas",E&&` • Range: ${E.inicial}-${E.final}`,j&&" • Carregando...",N&&` • ${N}`]})]})]}),p.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[p.jsxs("button",{onClick:B,disabled:j,style:{background:j?"rgba(255,255,255,0.3)":"rgba(255,255,255,0.9)",border:"none",color:j?"rgba(255,255,255,0.7)":"#047857",padding:"0.5rem 1rem",borderRadius:"8px",cursor:j?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",fontWeight:"600"},children:[p.jsx(Sn,{size:16}),j?"Gerando...":"Gerar Planilha"]}),p.jsx("button",{onClick:()=>s("grid"===i?"table":"grid"),style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",padding:"0.5rem",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:"grid"===i?p.jsx(Yn,{size:16}):p.jsx(Bn,{size:16})}),p.jsx("button",{onClick:$,disabled:0===a.size&&0===y.size,style:{background:a.size>0||y.size>0?"rgba(255,255,255,0.9)":"rgba(255,255,255,0.3)",border:"none",color:a.size>0||y.size>0?"#047857":"rgba(255,255,255,0.7)",padding:"0.5rem",borderRadius:"8px",cursor:a.size>0||y.size>0?"pointer":"not-allowed",display:"flex",alignItems:"center",gap:"0.5rem"},children:p.jsx(yn,{size:16})})]})]}),p.jsxs("div",{style:{padding:"1rem 1.5rem",borderBottom:"1px solid #e5e7eb",background:"#f8fafc",display:"flex",gap:"1rem",alignItems:"center",flexShrink:0,flexWrap:"wrap"},children:[p.jsxs("div",{style:{minWidth:"200px"},children:[p.jsx("label",{style:{display:"block",fontSize:"0.8rem",color:"#6b7280",marginBottom:"0.25rem"},children:"Range de Números:"}),p.jsxs("select",{value:v||"",onChange:e=>z(Number(e.target.value)),disabled:j,style:{width:"100%",padding:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"0.9rem",outline:"none",background:"white"},children:[p.jsx("option",{value:"",children:"Selecione um range..."}),m.map(e=>p.jsxs("option",{value:e.id,children:["NI: ",e.inicial," - NF: ",e.final]},e.id))]})]}),p.jsxs("div",{style:{position:"relative",flex:1,maxWidth:"250px"},children:[p.jsx(Mi,{size:16,style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#6b7280"}}),p.jsx("input",{type:"text",placeholder:"Buscar...",value:e,onChange:e=>t(e.target.value),style:{width:"100%",padding:"0.5rem 0.5rem 0.5rem 2.5rem",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"0.9rem",outline:"none"}})]}),p.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[p.jsx("button",{onClick:R,disabled:0===a.size&&!o,style:{padding:"0.5rem 1rem",border:"1px solid #e5e7eb",borderRadius:"8px",background:"white",color:"#6b7280",cursor:a.size>0||o?"pointer":"not-allowed",fontSize:"0.85rem"},children:"Limpar"}),p.jsx("button",{onClick:L,style:{padding:"0.5rem 1rem",border:"1px solid #10b981",borderRadius:"8px",background:"#10b981",color:"white",cursor:"pointer",fontSize:"0.85rem"},children:"Selecionar Tudo"})]})]}),p.jsx("div",{ref:k,style:{flex:1,overflow:"hidden",position:"relative",padding:"1rem"},children:"grid"===i?p.jsx("div",{ref:S,onScroll:D,style:{height:"100%",overflowY:"auto",overflowX:"hidden",position:"relative"},children:p.jsx("div",{style:{height:A,position:"relative"},children:P.map(e=>p.jsx(q,{cell:e},e.id))})}):p.jsx("div",{style:{height:"100%",overflowY:"auto",background:"white",borderRadius:"8px",border:"1px solid #e5e7eb"},children:p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{background:"#f8fafc"},children:[p.jsx("th",{style:{padding:"0.75rem",textAlign:"left",borderBottom:"1px solid #e5e7eb"},children:"Número"}),p.jsx("th",{style:{padding:"0.75rem",textAlign:"left",borderBottom:"1px solid #e5e7eb"},children:"Status"})]})}),p.jsx("tbody",{children:O.map(e=>p.jsxs("tr",{onClick:()=>I(e),style:{cursor:"pointer",background:a.has(e)?"#10b981":y.has(e)?"#22c55e":"white",color:a.has(e)||y.has(e)?"white":"#374151"},children:[p.jsx("td",{style:{padding:"0.75rem",borderBottom:"1px solid #e5e7eb"},children:e}),p.jsx("td",{style:{padding:"0.75rem",borderBottom:"1px solid #e5e7eb"},children:a.has(e)?"Selecionado":y.has(e)?"Específico":"Normal"})]},e))})]})})})]})})},gy=()=>p.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),p.jsx("polyline",{points:"14,2 14,8 20,8"}),p.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),p.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),p.jsx("polyline",{points:"10,9 9,9 8,9"})]}),xy=()=>p.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),p.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),p.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),p.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),vy=()=>p.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),by=()=>p.jsx(Fr,{}),yy=({activeTab:e,onTabChange:t,onSidebarToggle:a,showLimpeza:r=!1})=>{const[n,i]=f.useState(!1),[s,o]=f.useState(null),l=[{id:"cadastro",label:"Cadastro",icon:gy},{id:"setores",label:"Setores",icon:xy},{id:"terceirizacao",label:"Terceirização",icon:vy},{id:"limpeza",label:"Limpeza",icon:by}].filter(e=>"limpeza"!==e.id||r),c={sidebar:{position:"fixed",left:0,top:0,height:"100vh",width:n?"200px":"60px",backgroundColor:"#ffffff",borderRight:"1px solid #e5e7eb",boxShadow:"2px 0 4px rgba(0, 0, 0, 0.1)",transition:"width 0.3s cubic-bezier(0.4, 0, 0.2, 1)",zIndex:1e3,display:"flex",flexDirection:"column",overflow:"hidden"},tabItem:{display:"flex",alignItems:"center",padding:"16px",cursor:"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",borderBottom:"1px solid #f3f4f6",position:"relative",minHeight:"60px"},tabItemActive:{backgroundColor:"#16a34a",color:"white",borderRight:"3px solid #15803d"},tabItemInactive:{backgroundColor:"transparent",color:"#6b7280"},tabItemHover:{backgroundColor:"#f0fdf4",color:"#16a34a"},iconContainer:{display:"flex",alignItems:"center",justifyContent:"center",minWidth:"28px",height:"28px",transition:"transform 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},iconContainerHover:{transform:"scale(1.1)"},labelContainer:{marginLeft:"12px",fontSize:"14px",fontWeight:"500",opacity:n?1:0,transform:n?"translateX(0)":"translateX(-10px)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",whiteSpace:"nowrap",overflow:"hidden"},tooltip:{position:"absolute",left:"70px",top:"50%",transform:"translateY(-50%)",backgroundColor:"#1f2937",color:"white",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"500",whiteSpace:"nowrap",opacity:0,pointerEvents:"none",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",zIndex:1001},tooltipVisible:{opacity:1,transform:"translateY(-50%) translateX(0)"},tooltipArrow:{position:"absolute",left:"-4px",top:"50%",transform:"translateY(-50%)",width:0,height:0,borderTop:"4px solid transparent",borderBottom:"4px solid transparent",borderRight:"4px solid #1f2937"}},d=()=>{o(null)};return p.jsx("div",{style:c.sidebar,onMouseEnter:()=>{i(!0),a?.(!0)},onMouseLeave:()=>{i(!1),o(null),a?.(!1)},children:l.map(a=>{const r=e===a.id,i=s===a.id,l=a.icon,u={...c.tabItem,...r?c.tabItemActive:c.tabItemInactive,...!i||r||n?{}:c.tabItemHover},h={...c.iconContainer,...i&&!n?c.iconContainerHover:{}};return p.jsxs("div",{style:u,onClick:()=>{return e=a.id,void t(e);var e},onMouseEnter:()=>{return e=a.id,void(n||o(e));var e},onMouseLeave:d,children:[p.jsx("div",{style:h,children:"function"==typeof l?p.jsx(l,{}):l}),p.jsx("div",{style:c.labelContainer,children:a.label}),!n&&i&&p.jsxs("div",{style:{...c.tooltip,...c.tooltipVisible},children:[p.jsx("div",{style:c.tooltipArrow}),a.label]})]},a.id)})})},_y="_container_el29y_1",jy="_listContainer_el29y_23",wy="_listHeader_el29y_43",Ny="_listContent_el29y_67",Cy="_parameterItem_el29y_113",ky="_checkbox_el29y_147",Sy="_parameterContent_el29y_165",My="_parameterName_el29y_175",Ey="_parameterGroup_el29y_189",Oy="_parameterDetails_el29y_211",Py="_parameterTechnique_el29y_223",Ay="_parameterUnit_el29y_233",Dy="_parameterLimit_el29y_251",Iy="_parameterCode_el29y_269",Ty="_actionsContainer_el29y_283",zy="_actionButton_el29y_299",Ry="_moveRight_el29y_375",Ly="_moveLeft_el29y_397",$y="_emptyState_el29y_419",By="_emptyIcon_el29y_441",qy="_emptyText_el29y_451",Fy="_emptySubtext_el29y_465",Wy=({disponiveis:e,selecionados:t,checkedDisponiveis:a,checkedSelecionados:r,setDisponiveis:n,setSelecionados:i,setCheckedDisponiveis:s,setCheckedSelecionados:o})=>{const l=e=>p.jsxs("div",{className:Sy,children:[p.jsxs("div",{className:My,children:[e.nome,p.jsx("span",{className:Ey,children:e.grupo})]}),p.jsxs("div",{className:Oy,children:[p.jsx("span",{className:Py,children:e.tecnica_nome}),p.jsxs("span",{className:Ay,children:["Unidade: ",e.unidade]}),p.jsxs("span",{className:Dy,children:["Limite: ",e.limite]})]}),p.jsxs("div",{className:Iy,children:[e.codigo," ",e.numero,"/",e.revisao," • ",e.objetivo]})]}),c=(e,t)=>{t?o(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]):s(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},d=({text:e,subtext:t,icon:a})=>p.jsxs("div",{className:$y,children:[p.jsx(a,{size:32,className:By}),p.jsx("div",{className:qy,children:e}),p.jsx("div",{className:Fy,children:t})]});return p.jsxs("div",{className:_y,children:[p.jsxs("div",{className:jy,children:[p.jsxs("div",{className:wy,children:[p.jsx(Mn,{size:16}),"Parâmetros Disponíveis (",e.length,")"]}),p.jsx("div",{className:Ny,children:0===e.length?p.jsx(d,{text:"Nenhum parâmetro disponível",subtext:"Todos os parâmetros foram selecionados",icon:Mn}):e.map(e=>p.jsxs("label",{htmlFor:`disponivel-${e.id}`,className:Cy,children:[p.jsx("input",{id:`disponivel-${e.id}`,type:"checkbox",className:ky,checked:a.includes(e.id),onChange:()=>c(e.id,!1)}),l(e)]},e.id))})]}),p.jsxs("div",{className:Ty,children:[p.jsx("button",{className:`${zy} ${Ry}`,onClick:()=>{const r=e.filter(e=>a.includes(e.id));i([...t,...r]),n(e.filter(e=>!a.includes(e.id))),s([])},disabled:0===a.length,title:"Mover selecionados",children:p.jsx(rn,{size:16})}),p.jsx("button",{className:`${zy} ${Ry}`,onClick:()=>{i([...t,...e]),n([]),s([])},disabled:0===e.length,title:"Mover todos",children:p.jsx(on,{size:16})}),p.jsx("button",{className:`${zy} ${Ly}`,onClick:()=>{const a=t.filter(e=>r.includes(e.id));n([...e,...a]),i(t.filter(e=>!r.includes(e.id))),o([])},disabled:0===r.length,title:"Remover selecionados",children:p.jsx(an,{size:16})}),p.jsx("button",{className:`${zy} ${Ly}`,onClick:()=>{n([...e,...t]),i([]),o([])},disabled:0===t.length,title:"Remover todos",children:p.jsx(sn,{size:16})})]}),p.jsxs("div",{className:jy,children:[p.jsxs("div",{className:wy,children:[p.jsx(Ti,{size:16}),"Parâmetros Selecionados (",t.length,")",e.length>0&&p.jsxs("span",{style:{opacity:.6,fontSize:"12px",marginLeft:"8px"},children:["• ",e.length," não inserido(s)"]})]}),p.jsx("div",{className:Ny,children:0===t.length?p.jsx(d,{text:"Nenhum parâmetro selecionado",subtext:"Selecione parâmetros da lista à esquerda",icon:Ti}):t.map(e=>p.jsxs("label",{htmlFor:`selecionado-${e.id}`,className:Cy,children:[p.jsx("input",{id:`selecionado-${e.id}`,type:"checkbox",className:ky,checked:r.includes(e.id),onChange:()=>c(e.id,!0)}),l(e)]},e.id))})]})]})},Gy=()=>p.jsx(vi,{size:14}),Hy=()=>p.jsx(Mi,{size:14}),Vy=()=>p.jsx(ss,{size:14});function Uy({options:e,value:t,onChange:a,placeholder:r="Selecione...",displayKey:n,valueKey:i,label:s,style:o,disabled:l=!1}){const[c,d]=f.useState(!1),[u,h]=f.useState(""),m=f.useRef(null),g=f.useMemo(()=>u?e.filter(e=>String(e[n]).toLowerCase().includes(u.toLowerCase())):e,[e,u,n]);f.useEffect(()=>{if(t){const a=e.find(e=>String(i?e[i]:e[n])===t);a&&h(String(a[n]))}else h("")},[t,e,n,i]),f.useEffect(()=>{const a=a=>{if(m.current&&!m.current.contains(a.target))if(d(!1),t){const a=e.find(e=>String(i?e[i]:e[n])===t);a&&h(String(a[n]))}else h("")};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[t,e,n,i]);const x={container:{position:"relative",width:"100%",...o},label:{display:"block",fontSize:"11px",fontWeight:"500",color:"#374151",marginBottom:"4px"},inputContainer:{position:"relative",display:"flex",alignItems:"center"},input:{width:"100%",height:"32px",padding:"0 32px 0 8px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"12px",outline:"none",backgroundColor:l?"#f9fafb":"white",cursor:l?"not-allowed":"text",transition:"all 0.2s ease"},inputFocused:{borderColor:"#059669",boxShadow:"0 0 0 1px #059669"},chevron:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",color:"#64748b",pointerEvents:"none",transition:"transform 0.2s ease"},chevronOpen:{transform:"translateY(-50%) rotate(180deg)"},dropdown:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"1px solid #d1d5db",borderTop:"none",borderRadius:"0 0 4px 4px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},option:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid #f1f5f9",fontSize:"12px",transition:"background-color 0.2s ease"},optionSelected:{backgroundColor:"#059669",color:"white"},noOptions:{padding:"8px 12px",fontSize:"12px",color:"#64748b",fontStyle:"italic"}};return p.jsxs("div",{ref:m,style:x.container,children:[s&&p.jsx("label",{style:x.label,children:s}),p.jsxs("div",{style:x.inputContainer,children:[p.jsx("input",{type:"text",value:u,onChange:e=>{h(e.target.value),c||d(!0)},onFocus:()=>{d(!0)},placeholder:r,disabled:l,style:{...x.input,...c?x.inputFocused:{}}}),p.jsx(tn,{size:16,style:{...x.chevron,...c?x.chevronOpen:{}}})]}),c&&!l&&p.jsx("div",{style:x.dropdown,children:g.length>0?g.map((e,r)=>{const s=String(i?e[i]:e[n])===t;return p.jsx("div",{style:{...x.option,...s?x.optionSelected:{}},onClick:()=>(e=>{const t=String(i?e[i]:e[n]);a(t,e),d(!1),h(String(e[n]))})(e),onMouseEnter:e=>{s||(e.currentTarget.style.backgroundColor="#f8fafc")},onMouseLeave:e=>{s||(e.currentTarget.style.backgroundColor="transparent")},children:String(e[n])},r)}):p.jsx("div",{style:x.noOptions,children:"Nenhuma opção encontrada"})})]})}const Ky=()=>{const e=()=>(new Date).toISOString().split("T")[0],t=()=>(new Date).toTimeString().slice(0,5),[a,n]=f.useState("cadastro"),[i,s]=f.useState(!1),[o,l]=f.useState(""),[c,d]=f.useState(""),[u,h]=f.useState(e()),[m,g]=f.useState(e()),[x,v]=f.useState(e()),[b,y]=f.useState("Cliente"),[_,j]=f.useState(""),[w,N]=f.useState(""),[C,k]=f.useState(""),[S,M]=f.useState(""),[E,O]=f.useState(!1),[P,A]=f.useState(!1),[D,I]=f.useState(!1),[T,z]=f.useState(""),[R,L]=f.useState("m³/hora"),[$,B]=f.useState(!1),[q,F]=f.useState(""),[W,G]=f.useState([]),[H,V]=f.useState(!1),[U,K]=f.useState(!1),[Y,X]=f.useState(null),[J,Z]=f.useState([]),[Q,ee]=f.useState([]),[te,ae]=f.useState([]),[re,ne]=f.useState([]),[ie,se]=f.useState([]),[oe,le]=f.useState([]),[ce,de]=f.useState([]),[ue,he]=f.useState([]),[me,pe]=f.useState([]),[fe,ge]=f.useState([]),[xe,ve]=f.useState([]),[be,ye]=f.useState([]),[_e,je]=f.useState([]),[we,Ne]=f.useState(!0),[Ce,ke]=f.useState(null),[Se,Me]=f.useState(""),[Ee,Oe]=f.useState(""),[Pe,Ae]=f.useState(""),[De,Ie]=f.useState(""),Te=f.useRef(null),[ze,Re]=f.useState(""),[Le,$e]=f.useState(!1),[Be,qe]=f.useState(""),[Fe,We]=f.useState(!1),[Ge,He]=f.useState(null),[Ve,Ue]=f.useState([]),[Ke,Ye]=f.useState(!1),[Xe,Je]=f.useState("total"),[Ze,Qe]=f.useState("Biomade Soluções Biotecnológicas"),[et,tt]=f.useState(""),[at,rt]=f.useState(""),[nt,it]=f.useState(""),[st,ot]=f.useState(""),[lt,ct]=f.useState([]),dt=f.useRef(null),ut=f.useRef(null),[ht,mt]=f.useState(!1),[pt,ft]=f.useState(!1),[gt,xt]=f.useState([]),[vt,bt]=f.useState(""),[yt,_t]=f.useState([]),[jt,wt]=f.useState([]),[Nt,Ct]=f.useState(t()),[kt,St]=f.useState(t()),[Mt,Et]=f.useState(t()),[Ot,Pt]=f.useState(),[At,Dt]=f.useState([{id:1,numero:"",horaColeta:t(),identificacao:"",temperatura:"",complemento:"",condicoesAmbientais:"",itemOrcamento:null,parametrosDisponiveis:[],parametrosSelecionados:[],checkedDisponiveis:[],checkedSelecionados:[]}]),[It,Tt]=f.useState(""),[zt,Rt]=f.useState(""),[Lt,$t]=f.useState(""),[Bt,qt]=f.useState(""),[Ft,Wt]=f.useState(""),[Gt,Ht]=f.useState(""),[Vt,Ut]=f.useState(""),[Kt,Yt]=f.useState("minutos"),[Xt,Jt]=f.useState(""),[Zt,Qt]=f.useState(""),[ea,ta]=f.useState(!1),[aa,ra]=f.useState(!1),[na,ia]=f.useState(1),[sa,oa]=f.useState("dados");f.useEffect(()=>{!we&&J.length>0&&!C&&k(J[0].nome)},[we,J,C]),f.useEffect(()=>{!we&&Q.length>0&&!Se&&Me(Q[0].nome)},[we,Q,Se]),f.useEffect(()=>{!we&&re.length>0&&!Ee&&Oe(re[0].nome)},[we,re,Ee]),f.useEffect(()=>{!we&&oe.length>0&&!Pe&&Ae(oe[0].nome)},[we,oe,Pe]),f.useEffect(()=>{!we&&me.length>0&&!c&&d(me[0].nome)},[we,me,c]),f.useEffect(()=>{!we&&ue.length>0&&void 0===Ot&&Pt(ue[0].id)},[we,ue,Ot]);const la=f.useMemo(()=>{const e=new Set(be.map(e=>e.ano));return Array.from(e).sort((e,t)=>t-e)},[be]),ca=f.useMemo(()=>ze?be.filter(e=>e.ano.toString()===ze):be,[be,ze]),da=()=>{xt([]),bt("")},ua=f.useMemo(()=>te.filter(e=>e.nome.toLowerCase().includes(vt.toLowerCase())),[te,vt]),ha=f.useMemo(()=>3===Ot,[Ot]),ma=()=>{const e=xe.filter(e=>yt.includes(e.id));Ue(t=>[...t,...e]),_t([])},pa=()=>{Ue(e=>e.filter(e=>!jt.includes(e.id))),wt([])},fa=xe.filter(e=>!Ve.some(t=>t.id===e.id)),ga={container:{minHeight:"100vh",backgroundColor:"#f1f5f9",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},mainContent:{marginLeft:i?"200px":"60px",padding:"24px",transition:"margin-left 0.3s cubic-bezier(0.4, 0, 0.2, 1)",minHeight:"100vh",maxHeight:"100vh",overflowY:"auto",scrollbarWidth:"thin",scrollbarColor:"#cbd5e1 #f1f5f9"},maxWidth:{maxWidth:"1400px",margin:"0 auto"},mainCard:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06)",border:"1px solid #e2e8f0",marginBottom:"10px"},cardHeader:{padding:"12px 16px",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},cardTitle:{fontSize:"14px",fontWeight:"600",color:"#1e293b"},cardBody:{padding:"16px"},grid12:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gap:"16px",alignItems:"start"},col2:{gridColumn:"span 2"},col3:{gridColumn:"span 3"},col4:{gridColumn:"span 4"},col5:{gridColumn:"span 5"},col6:{gridColumn:"span 6"},col9:{gridColumn:"span 9"},col12:{gridColumn:"span 12"},formField:{marginBottom:"12px"},label:{display:"block",fontSize:"11px",fontWeight:"500",color:"#374151",marginBottom:"4px"},input:{width:"100%",height:"32px",padding:"0 8px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"12px",outline:"none",transition:"all 0.2s ease",boxSizing:"border-box",backgroundColor:"#ffffff"},inputReadOnly:{backgroundColor:"#f3f4f6",cursor:"not-allowed"},select:{width:"100%",height:"32px",padding:"0 8px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"12px",backgroundColor:"white",outline:"none",cursor:"pointer",boxSizing:"border-box",transition:"all 0.2s ease"},textarea:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"12px",outline:"none",resize:"vertical",minHeight:"60px",fontFamily:"inherit",boxSizing:"border-box",transition:"all 0.2s ease"},checkboxLabel:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"12px",color:"#374151"},checkbox:{width:"14px",height:"14px",accentColor:"#059669",cursor:"pointer",marginRight:"8px"},radioLabel:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"12px"},radio:{width:"14px",height:"14px",accentColor:"#059669",cursor:"pointer",marginRight:"4px"},buttonGroup:{display:"flex",gap:"8px"},primaryButton:{backgroundColor:"#059669",color:"white",padding:"0 14px",height:"32px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"500",transition:"all 0.2s ease",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)",display:"flex",alignItems:"center",gap:"6px"},secondaryButton:{backgroundColor:"#dc2626",color:"white",padding:"0 14px",height:"32px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"500",transition:"all 0.2s ease",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"},iconButton:{backgroundColor:"transparent",color:"#475569",height:"32px",width:"32px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},searchContainer:{position:"relative",flex:1},searchInputWrapper:{position:"relative",display:"flex",alignItems:"center"},searchInput:{width:"100%",height:"32px",padding:"0 32px 0 32px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"12px",outline:"none",boxSizing:"border-box"},searchInputIcon:{position:"absolute",left:"8px",top:"50%",transform:"translateY(-50%)",color:"#64748b"},clearButton:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#64748b",display:"flex"},dropdown:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"1px solid #d1d5db",borderTop:"none",borderRadius:"0 0 4px 4px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},dropdownItem:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid #f1f5f9",fontSize:"12px",transition:"background-color 0.2s ease"},clienteName:{fontWeight:"500",color:"#374151"},clienteDetails:{display:"flex",gap:"8px",fontSize:"11px",color:"#64748b",marginTop:"2px"},sampleContainer:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06)",border:"1px solid #e2e8f0",display:"flex",flexDirection:"column"},sampleTabsContainer:{borderBottom:"1px solid #e2e8f0",padding:"8px 16px"},sampleTabsList:{display:"flex",gap:"4px",alignItems:"center",flexWrap:"wrap"},sampleTab:{padding:"6px 12px",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",cursor:"pointer",borderRadius:"6px",fontSize:"12px",fontWeight:"500",color:"#475569",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"6px"},sampleTabActive:{backgroundColor:"#059669",color:"white",borderColor:"#059669"},overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:999},modal:{background:"#fff",padding:"20px",borderRadius:"10px",width:"350px",boxShadow:"0 4px 15px rgba(0,0,0,0.2)",display:"flex",flexDirection:"column",gap:"8px"},actions:{display:"flex",justifyContent:"space-between",marginTop:"10px"},btnPrimary:{background:"#007bff",color:"#fff",padding:"8px 12px",border:"none",borderRadius:"6px",cursor:"pointer"},btnSecondary:{background:"#ccc",color:"#000",padding:"8px 12px",border:"none",borderRadius:"6px",cursor:"pointer"},addSampleButton:{backgroundColor:"#f0fdf4",color:"#166534",border:"2px solid #bbf7d0",borderRadius:"12px",padding:"5px 10px",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(34, 197, 94, 0.1)",outline:"none"},removeSampleButton:{background:"none",border:"none",padding:"0",marginLeft:"4px",cursor:"pointer",color:"inherit",display:"flex"},sampleContentWithSidebar:{display:"flex",gap:"0",flex:1,minHeight:0},sampleSidebar:{width:"60px",backgroundColor:"#f8fafc",borderRight:"1px solid #e2e8f0",display:"flex",flexDirection:"column",padding:"8px 4px",alignItems:"center",gap:"4px"},sampleSidebarTab:{width:"52px",height:"52px",border:"1px solid transparent",backgroundColor:"transparent",cursor:"pointer",color:"#475569",transition:"all 0.2s ease",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},sampleSidebarTabActive:{backgroundColor:"#059669",color:"white"},sampleMainContent:{flex:1,padding:"16px 24px",backgroundColor:"white",overflowY:"auto",borderRadius:"0 0 8px 0"},metodologiaContainer:{position:"relative",marginBottom:"16px"},metodologiaHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},metodologiaDisplayArea:{width:"100%",minHeight:"80px",padding:"8px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"12px",backgroundColor:"#ffffff",cursor:"default",display:"flex",flexWrap:"wrap",gap:"6px",alignItems:"flex-start",alignContent:"flex-start"},metodologiaTag:{display:"inline-flex",alignItems:"center",gap:"4px",backgroundColor:"#059669",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"500"},metodologiaTagRemove:{background:"none",border:"none",color:"white",cursor:"pointer",padding:"0",display:"flex",alignItems:"center",justifyContent:"center",width:"14px",height:"14px",borderRadius:"50%",transition:"background-color 0.2s ease"},metodologiaEmptyState:{color:"#9ca3af",fontStyle:"italic",fontSize:"12px"},metodologiaDropdown:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"4px",maxHeight:"250px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",marginTop:"4px"},metodologiaSearchInput:{width:"100%",padding:"8px 12px",border:"none",borderBottom:"1px solid #e5e7eb",fontSize:"12px",outline:"none"},metodologiaDropdownItem:{padding:"8px 12px",cursor:"pointer",fontSize:"12px",transition:"background-color 0.2s ease",display:"flex",justifyContent:"space-between",alignItems:"center"},metodologiaSelectedIndicator:{color:"#059669",fontWeight:"500"},flexRow:{display:"flex",gap:"8px",alignItems:"center"},errorContainer:{padding:"20px",textAlign:"center",color:"#dc2626",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"4px",margin:"20px 0"},formGroup:{marginBottom:"20px"},checkboxContainer:{display:"flex",alignItems:"center",marginBottom:"16px"},radioContainer:{display:"flex",gap:"20px",marginBottom:"20px"},radioGroup:{display:"flex",alignItems:"center"},selectContainer:{position:"relative",display:"flex",alignItems:"center",gap:"8px"},addButton:{backgroundColor:"#28a745",color:"white"},searchButton:{backgroundColor:"#007bff",color:"white"},sectionTitle:{fontSize:"16px",fontWeight:"bold",marginBottom:"12px",color:"#333"},listBox:{border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#fff",minHeight:"200px",maxHeight:"300px",overflowY:"auto",padding:"8px"},listItem:{padding:"8px 12px",cursor:"pointer",borderRadius:"4px",margin:"2px 0",fontSize:"14px",transition:"background-color 0.2s"},button:{padding:"8px 16px",borderRadius:"4px",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:"bold",minWidth:"80px",transition:"background-color 0.2s"},removeButton:{backgroundColor:"#dc3545",color:"white"},buttonDisabled:{backgroundColor:"#ccc",cursor:"not-allowed"},selectedCount:{marginTop:"16px",padding:"12px",backgroundColor:"#e8f5e8",border:"1px solid #c3e6c3",borderRadius:"4px",fontSize:"14px"},setoresContainer:{display:"flex",gap:"16px",alignItems:"stretch",minHeight:"350px"},setoresSection:{flex:1,border:"1px solid #e0e0e0",borderRadius:"6px",padding:"16px",backgroundColor:"#fafafa",display:"flex",flexDirection:"column"},setoresBotoesContainer:{display:"flex",flexDirection:"column",gap:"12px",justifyContent:"center",alignItems:"center",padding:"0 20px",minWidth:"120px"}};f.useEffect(()=>{(async()=>{try{Ne(!0),ke(null);const[e,t,a,n,i,s,o,l,c]=await Promise.all([r("buscar_categoria_amostra"),r("buscar_acreditacao"),r("buscar_metodologias"),r("buscar_legislacao"),r("buscar_identificacao"),r("buscar_tercerizado"),r("buscar_pg"),r("consultar_consultores"),r("buscar_certificado")]);Z(e),ee(t),ae(a),ne(n),se(i),le(s),de(o),he(c),pe(l)}catch(e){ke("Erro ao carregar dados do servidor")}finally{Ne(!1)}})()},[]);const xa=()=>p.jsx("div",{style:ga.overlay,children:p.jsxs("div",{style:{...ga.modal,alignItems:"center",textAlign:"center",gap:"16px"},children:[p.jsx(cn,{size:48,color:"#059669"}),p.jsx("h3",{style:{margin:"0",fontSize:"18px",fontWeight:"600",color:"#1e293b"},children:"Sucesso!"}),p.jsx("p",{style:{margin:"0",fontSize:"14px",color:"#475569"},children:"Amostra cadastrada com sucesso."}),p.jsx("button",{style:{...ga.primaryButton,marginTop:"16px"},onClick:()=>ra(!1),children:"Fechar"})]})}),va=()=>p.jsx("div",{style:ga.overlay,children:p.jsxs("div",{style:{...ga.modal,alignItems:"center",textAlign:"center",gap:"16px"},children:[p.jsx(un,{size:48,color:"#ef4444"}),p.jsx("h3",{style:{margin:"0",fontSize:"18px",fontWeight:"600",color:"#1e293b"},children:"Erro!"}),p.jsx("p",{style:{margin:"0",fontSize:"14px",color:"#475569"},children:"Ocorreu um erro ao cadastrar a amostra."}),p.jsx("button",{style:{...ga.primaryButton,backgroundColor:"#ef4444",marginTop:"16px"},onClick:()=>ta(!1),children:"Fechar"})]})}),ba=()=>{qe(""),He(null),F(""),We(!1)};const ya=async e=>{if(l(e),e.trim().length>=2){K(!0);try{const t=await async function(e){try{const t=await r("buscar_clientes_dropdown",{query:e.trim()});return t.success&&t.data?t.data:[]}catch(t){return[]}}(e);G(t),V(t.length>0)}catch(t){G([]),V(!1)}finally{K(!1)}}else G([]),V(!1),0===e.trim().length&&ja()},_a=async(e,t)=>{if(Oe(e),t)try{const e=(await r("buscar_parametros",{legislacaoId:t.id})).data||[];ct(e),Dt(t=>t.map(t=>({...t,parametrosDisponiveis:e,parametrosSelecionados:[],checkedDisponiveis:[],checkedSelecionados:[]})))}catch(a){ct([]),Dt(e=>e.map(e=>({...e,parametrosDisponiveis:[],parametrosSelecionados:[]})))}else ct([]),Dt(e=>e.map(e=>({...e,parametrosDisponiveis:[],parametrosSelecionados:[],checkedDisponiveis:[],checkedSelecionados:[]})))},ja=()=>{l(""),X(null),G([]),V(!1),ge([]),ye([]),ba(),Ie(""),Re("")},wa=e=>{if(!e)return"";const t=e.replace(/\D/g,"");return 11===t.length?t.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):14===t.length?t.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):e},Na=()=>{const e={id:Math.max(0,...At.map(e=>e.id))+1,numero:"",horaColeta:"",identificacao:"",temperatura:"",complemento:"",condicoesAmbientais:"",itemOrcamento:null,parametrosDisponiveis:lt,parametrosSelecionados:[],checkedDisponiveis:[],checkedSelecionados:[]};Dt([...At,e]),ia(e.id)},Ca=(e,t,a)=>{Dt(r=>r.map(r=>{if(r.id===e){const e="function"==typeof a?a(r[t]):a;return{...r,[t]:e}}return r}))},ka=e=>{e.target.style.borderColor="#16a34a",e.target.style.boxShadow="0 0 0 3px rgba(22, 163, 74, 0.1)"},Sa=e=>{e.target.style.borderColor="#d1d5db",e.target.style.boxShadow="none"},Ma=(e,t)=>{const a=e.currentTarget,r=a.getAttribute("data-bg-color");t?"primary"===r?a.style.backgroundColor="#047857":"secondary"===r&&(a.style.backgroundColor="#b91c1c"):"primary"===r?a.style.backgroundColor="#059669":"secondary"===r&&(a.style.backgroundColor="#dc2626")};f.useEffect(()=>{const e=e=>{dt.current&&!dt.current.contains(e.target)&&V(!1),ut.current&&!ut.current.contains(e.target)&&We(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const Ea=e=>{Re(e.target.value),Ie("")},Oa=()=>p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:ga.mainCard,children:[p.jsxs("div",{style:ga.cardHeader,children:[p.jsx("h2",{style:ga.cardTitle,children:"Configurações Gerais"}),p.jsxs("div",{style:ga.buttonGroup,children:[p.jsx("button",{style:ga.primaryButton,children:"Copiar"}),p.jsx("button",{style:ga.primaryButton,children:"Coleta"}),p.jsx("button",{style:ga.primaryButton,children:"Selecionar Parâmetros"})]})]}),p.jsx("div",{style:ga.cardBody,children:p.jsxs("div",{style:ga.grid12,children:[p.jsxs("div",{style:ga.col3,children:[p.jsx("label",{style:ga.label,children:"Relatório de ensaios"}),p.jsxs("select",{style:ga.select,value:Ot||"",onChange:e=>Pt(Number(e.target.value)),children:[p.jsx("option",{value:"",children:"Selecione"}),ue.map(e=>p.jsx("option",{value:e.id,children:e.nome},e.id))]}),(2===Ot||5===Ot)&&p.jsx("div",{style:{marginTop:"10px"},children:p.jsxs("label",{style:ga.checkboxLabel,children:[p.jsx("input",{type:"checkbox",checked:ht,onChange:e=>mt(e.target.checked),style:ga.checkbox}),"Mesma hora em todas as amostras"]})})]}),p.jsxs("div",{style:ga.col3,children:[p.jsx("label",{style:ga.label,children:"Acreditação"}),p.jsxs("select",{style:ga.select,value:Se,onChange:e=>Me(e.target.value),disabled:we,children:[p.jsx("option",{value:"",children:"Selecione"}),Q.map(e=>p.jsx("option",{value:e.nome,children:e.nome},e.id))]})]}),p.jsxs("div",{style:ga.col3,children:[p.jsx("label",{style:ga.label,children:"Categoria"}),p.jsxs("select",{style:ga.select,value:C,onChange:e=>k(e.target.value),disabled:we,children:[p.jsx("option",{value:"",children:"Selecione"}),J.map(e=>p.jsx("option",{value:e.nome,children:e.nome},e.id))]})]})]})})]}),p.jsxs("div",{style:ga.mainCard,children:[p.jsx("div",{style:ga.cardHeader,children:p.jsx("h2",{style:ga.cardTitle,children:"Dados do Cliente"})}),p.jsx("div",{style:ga.cardBody,children:p.jsxs("div",{style:ga.grid12,children:[p.jsxs("div",{style:ga.col6,children:[p.jsx("label",{style:ga.label,children:"Cliente"}),p.jsxs("div",{style:ga.flexRow,children:[p.jsxs("div",{style:ga.searchContainer,ref:dt,children:[p.jsxs("div",{style:ga.searchInputWrapper,children:[p.jsx("span",{style:ga.searchInputIcon,children:p.jsx(Hy,{})}),p.jsx("input",{type:"text",value:o,onChange:e=>ya(e.target.value),style:ga.searchInput,placeholder:"Digite o nome, CNPJ/CPF ou cidade"}),o&&p.jsx("button",{style:ga.clearButton,onClick:ja,children:p.jsx(Vy,{})})]}),H&&p.jsx("div",{style:ga.dropdown,children:U?p.jsx("div",{style:ga.dropdownItem,children:"Buscando..."}):W.map(e=>p.jsxs("div",{style:ga.dropdownItem,onClick:()=>(async e=>{try{X(e),l(e.fantasia||e.razao||""),V(!1),G([]);const t=await r("buscar_dados_cliente",{clienteId:e.id});ge(t.solicitantes),ye(t.orcamentos),ve(t.setor_portal),ba(),Ie(""),Re("")}catch(t){ge([]),ye([])}})(e),onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseLeave:e=>e.currentTarget.style.backgroundColor="white",children:[p.jsx("div",{style:ga.clienteName,children:e.fantasia||e.razao}),p.jsxs("div",{style:ga.clienteDetails,children:[p.jsx("span",{children:wa(e.documento||"")}),p.jsxs("span",{children:[e.cidade," / ",e.uf]})]})]},e.id))})]}),p.jsx("button",{style:ga.iconButton,children:p.jsx(Gy,{})})]})]}),p.jsxs("div",{style:ga.col3,children:[p.jsx("label",{style:ga.label,children:"Consultor"}),p.jsxs("select",{style:ga.select,value:c,onChange:e=>d(e.target.value),disabled:we,children:[p.jsx("option",{value:"",children:"Selecione"}),me.map(e=>p.jsx("option",{value:e.nome,children:e.nome},e.id))]})]}),p.jsxs("div",{style:ga.col3,children:[p.jsx("label",{style:ga.label,children:"Status do Consultor"}),p.jsx("div",{style:{...ga.input,...ga.inputReadOnly,display:"flex",alignItems:"center"},children:"-"})]}),p.jsxs("div",{style:ga.col6,children:[p.jsx("label",{style:ga.label,children:"Solicitante"}),p.jsxs("div",{style:ga.searchContainer,ref:ut,children:[p.jsxs("div",{style:ga.searchInputWrapper,children:[p.jsx("span",{style:ga.searchInputIcon,children:p.jsx(Hy,{})}),p.jsx("input",{type:"text",value:Be,onChange:e=>{return t=e.target.value,qe(t),He(null),F(""),void(t.trim().length>0?We(!0):We(!1));var t},style:Y?ga.searchInput:{...ga.searchInput,...ga.inputReadOnly},placeholder:Y?"Digite o nome do solicitante":"Selecione um cliente primeiro",disabled:!Y}),Be&&p.jsx("button",{style:ga.clearButton,onClick:ba,children:p.jsx(Vy,{})})]}),Fe&&p.jsx("div",{style:ga.dropdown,children:fe.filter(e=>e.nome.toLowerCase().includes(Be.toLowerCase())).map(e=>p.jsx("div",{style:ga.dropdownItem,onClick:()=>(e=>{He(e),qe(e.nome),F(e.usuario),We(!1)})(e),children:e.nome},e.id))})]})]}),p.jsxs("div",{style:ga.col6,children:[p.jsx("label",{style:ga.label,children:"E-mail do Solicitante"}),p.jsx("input",{type:"email",value:q,onChange:e=>F(e.target.value),style:Ge?{...ga.input,...ga.inputReadOnly}:ga.input,readOnly:!!Ge,placeholder:"O e-mail será preenchido ao selecionar"})]})]})})]}),p.jsxs("div",{style:ga.mainCard,children:[p.jsx("div",{style:ga.cardHeader,children:p.jsx("h2",{style:ga.cardTitle,children:"Datas e Detalhes da Coleta"})}),p.jsx("div",{style:ga.cardBody,children:p.jsxs("div",{style:ga.grid12,children:[p.jsxs("div",{style:ga.col2,children:[p.jsx("label",{style:ga.label,children:"Início da Amostragem"}),p.jsx("input",{type:"date",value:u,onChange:e=>h(e.target.value),style:ga.input}),p.jsx("label",{style:ga.label,children:"Hora Amostragem"}),p.jsx("input",{type:"time",value:Nt,onChange:e=>Ct(e.target.value),style:ga.input})]}),p.jsxs("div",{style:ga.col2,children:[p.jsx("label",{style:ga.label,children:"Data da Coleta"}),p.jsx("input",{type:"date",value:m,onChange:e=>g(e.target.value),style:ga.input}),p.jsx("label",{style:ga.label,children:"Hora da Coleta"}),p.jsx("input",{type:"time",value:kt,onChange:e=>St(e.target.value),style:ga.input})]}),p.jsxs("div",{style:ga.col2,children:[p.jsx("label",{style:ga.label,children:"Entrada no Lab."}),p.jsx("input",{type:"date",value:x,onChange:e=>v(e.target.value),style:ga.input}),p.jsx("label",{style:ga.label,children:"Hora Entrada"}),p.jsx("input",{type:"time",value:Mt,onChange:e=>Et(e.target.value),style:ga.input})]}),p.jsxs("div",{style:ga.col3,children:[p.jsx("label",{style:ga.label,children:"Coletado por"}),p.jsxs("select",{value:b,onChange:e=>y(e.target.value),style:ga.select,children:[p.jsx("option",{children:"Cliente"}),p.jsx("option",{children:"Laboratório"})]})]}),p.jsxs("div",{style:ga.col3,children:[p.jsx("label",{style:ga.label,children:"Nome do Coletor"}),p.jsx("input",{type:"text",value:_,onChange:e=>j(e.target.value),style:ga.input})]}),p.jsxs("div",{style:ga.col6,children:[p.jsx("label",{style:ga.label,children:"Procedimento de Amostragem"}),p.jsxs("select",{value:w,onChange:e=>N(e.target.value),style:ga.select,children:["       ",p.jsx("option",{value:"",children:"Selecione uma Opção"}),"  ",ce.map(e=>p.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),p.jsxs("div",{style:ga.col6,children:[p.jsx("label",{style:ga.label,children:"Acompanhante"}),p.jsx("input",{type:"text",value:S,onChange:e=>M(e.target.value),style:ga.input})]})]})})]}),p.jsxs("div",{style:ga.mainCard,children:[p.jsx("div",{style:ga.cardHeader,children:p.jsx("h2",{style:ga.cardTitle,children:"Orçamento e Dados Adicionais"})}),p.jsxs("div",{style:ga.cardBody,children:[p.jsxs("div",{style:ga.grid12,children:[p.jsxs("div",{style:ga.col2,children:[p.jsx("label",{style:ga.label,children:"Orçamento Vinculado?"}),p.jsxs("div",{style:{...ga.flexRow,height:"32px"},children:[p.jsxs("label",{style:ga.radioLabel,children:[p.jsx("input",{type:"radio",name:"budget",checked:!E,onChange:()=>O(!1),style:ga.radio}),"Não"]}),p.jsxs("label",{style:ga.radioLabel,children:[p.jsx("input",{type:"radio",name:"budget",checked:E,onChange:()=>O(!0),style:ga.radio}),"Sim"]})]})]}),p.jsxs("div",{style:ga.col2,children:[p.jsx("label",{style:ga.label,children:"Filtrar Ano"}),p.jsxs("select",{value:ze,onChange:Ea,style:ga.select,disabled:0===la.length||!E,children:[p.jsx("option",{value:"",children:"Todos"}),la.map(e=>p.jsx("option",{value:e,children:e},e))]})]}),p.jsxs("div",{style:ga.col5,children:[p.jsx("label",{style:ga.label,children:"Selecionar Orçamento"}),p.jsxs("select",{value:De,onChange:e=>{const t=e.target.value;if(t){const e=ca.find(e=>`${e.nome} - ${e.ano}`===t);e&&(async e=>{Ie(`${e.nome} - ${e.ano}`);try{const t=await r("buscar_orcamentos",{orcamentoId:e.id});je(t)}catch(t){je([])}})(e)}else Ie(""),je([])},style:ga.select,disabled:0===ca.length||!E,children:[p.jsx("option",{value:"",children:0===be.length?"Nenhum orçamento encontrado":"Selecione um orçamento"}),ca.map(e=>p.jsxs("option",{value:`${e.nome} - ${e.ano}`,children:[e.nome," - ",e.ano]},e.id))]})]}),p.jsx("div",{style:{...ga.col3,alignSelf:"end"},children:p.jsx("button",{style:ga.primaryButton,children:"Abrir Orçamento"})})]}),p.jsxs("div",{style:{...ga.grid12,marginTop:"16px"},children:[p.jsxs("div",{style:ga.col4,children:[p.jsxs("div",{style:ga.flexRow,children:[p.jsx("input",{type:"checkbox",id:"vazaoCliente",checked:$,onChange:e=>B(e.target.checked),style:ga.checkbox}),p.jsx("label",{htmlFor:"vazaoCliente",style:{...ga.label,marginBottom:0},children:"Informar Vazão (cliente)"})]}),p.jsxs("div",{style:{...ga.flexRow,marginTop:"4px"},children:[p.jsx("input",{type:"text",value:T,onChange:e=>z(e.target.value),style:ga.input,disabled:!$}),p.jsxs("select",{value:R,onChange:e=>L(e.target.value),style:{...ga.select,width:"120px"},disabled:!$,children:[p.jsx("option",{children:"m³/hora"}),p.jsx("option",{children:"L/min"})]})]})]}),p.jsx("div",{style:ga.col4,children:p.jsxs("label",{style:ga.checkboxLabel,children:[p.jsx("input",{type:"checkbox",checked:P,onChange:e=>A(e.target.checked),style:ga.checkbox}),"Incluir dados de amostragem"]})}),p.jsx("div",{style:ga.col4,children:p.jsxs("label",{style:ga.checkboxLabel,children:[p.jsx("input",{type:"checkbox",checked:D,onChange:e=>I(e.target.checked),style:ga.checkbox}),"Controle de qualidade"]})})]})]})]}),p.jsxs("div",{style:ga.mainCard,children:[p.jsx("div",{style:ga.cardHeader,children:p.jsx("h2",{style:ga.cardTitle,children:"Metodologias e Legislação"})}),p.jsx("div",{style:ga.cardBody,children:p.jsxs("div",{style:ga.grid12,children:[p.jsx("div",{style:ga.col9,children:p.jsxs("div",{style:ga.metodologiaContainer,ref:Te,children:[p.jsxs("div",{style:ga.metodologiaHeader,children:[p.jsx("label",{style:ga.label,children:"Metodologias (Seleção Múltipla)"}),p.jsxs("div",{style:ga.buttonGroup,children:[p.jsxs("button",{style:ga.primaryButton,"data-bg-color":"primary",onMouseEnter:e=>Ma(e,!0),onMouseLeave:e=>Ma(e,!1),onClick:()=>ft(!pt),children:[p.jsx(vi,{size:14}),"Adicionar"]}),p.jsx("button",{style:ga.secondaryButton,"data-bg-color":"secondary",onMouseEnter:e=>Ma(e,!0),onMouseLeave:e=>Ma(e,!1),onClick:da,disabled:0===gt.length,children:"Limpar Todas"})]})]}),p.jsx("div",{style:ga.metodologiaDisplayArea,children:gt.length>0?gt.map(e=>p.jsxs("span",{style:ga.metodologiaTag,children:[e.nome,p.jsx("button",{style:ga.metodologiaTagRemove,onClick:()=>{return t=e.id,void xt(e=>e.filter(e=>e.id!==t));var t},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgba(255,255,255,0.2)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:p.jsx(ss,{size:10})})]},e.id)):p.jsx("span",{style:ga.metodologiaEmptyState,children:'Nenhuma metodologia selecionada. Clique em "Adicionar" para selecionar metodologias.'})}),pt&&p.jsxs("div",{style:ga.metodologiaDropdown,children:[p.jsx("input",{type:"text",placeholder:"Buscar metodologia...",style:ga.metodologiaSearchInput,value:vt,onChange:e=>bt(e.target.value)}),p.jsx("div",{style:{maxHeight:"180px",overflowY:"auto"},children:ua.length>0?ua.map(e=>{const t=gt.some(t=>t.id===e.id);return p.jsxs("div",{style:{...ga.metodologiaDropdownItem,backgroundColor:t?"#f0fdf4":"white"},onClick:()=>(e=>{xt(t=>t.some(t=>t.id===e.id)?t.filter(t=>t.id!==e.id):[...t,e])})(e),onMouseEnter:e=>{e.currentTarget.style.backgroundColor=t?"#dcfce7":"#f9fafb"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=t?"#f0fdf4":"white"},children:[p.jsx("span",{children:e.nome}),t&&p.jsx("span",{style:ga.metodologiaSelectedIndicator,children:"✓ Selecionado"})]},e.id)}):p.jsx("div",{style:ga.metodologiaDropdownItem,children:"Nenhuma metodologia encontrada"})})]})]})}),p.jsx("div",{style:ga.col3,children:p.jsx("div",{style:ga.formField,children:p.jsx(Uy,{options:re,value:Ee,onChange:_a,displayKey:"nome",label:"Legislação",placeholder:"Selecione uma legislação..."})})})]})})]})]}),Pa=()=>{const e=At.find(e=>e.id===na);if(!e)return null;const t=At.findIndex(e=>e.id===na),a=6===Ot?`Amostra ${["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][t]||t+1}`:`Amostra ${t+1}`;return p.jsxs("div",{style:{maxHeight:"400px",overflowY:"auto",paddingRight:"10px"},children:[p.jsx("div",{style:{fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"16px"},children:a}),p.jsxs("div",{style:ga.grid12,children:[p.jsxs("div",{style:ga.col6,children:[p.jsx("label",{style:ga.label,children:"Número"}),p.jsx("input",{type:"text",value:e.numero,onChange:t=>Ca(e.id,"numero",t.target.value),style:ga.input,onFocus:ka,onBlur:Sa})]}),p.jsxs("div",{style:ga.col6,children:[p.jsx("label",{style:ga.label,children:"Hora da coleta"}),p.jsxs("div",{style:ga.flexRow,children:[p.jsx("input",{type:"time",value:e.horaColeta,onChange:t=>Ca(e.id,"horaColeta",t.target.value),style:{...ga.input,flex:1},onFocus:ka,onBlur:Sa}),p.jsx("button",{style:{...ga.secondaryButton,padding:"6px 10px"},"data-bg-color":"secondary",onClick:()=>{return t=e.id,void Dt(At.map(e=>e.id===t?{...e,numero:"",horaColeta:"",identificacao:"",temperatura:"",complemento:"",condicoesAmbientais:"",itemOrcamento:null}:e));var t},onMouseEnter:e=>Ma(e,!0),onMouseLeave:e=>Ma(e,!1),children:"Limpar"})]})]})]}),p.jsxs("div",{style:{...ga.grid12,marginTop:"16px"},children:[p.jsxs("div",{style:ga.col4,children:[p.jsx("label",{style:ga.label,children:"Identificação"}),p.jsx("select",{value:e.identificacao,onChange:t=>Ca(e.id,"identificacao",t.target.value),style:ga.select,onFocus:ka,onBlur:Sa,children:ie.map(e=>p.jsx("option",{value:e.id,children:e.id1},e.id))})]}),p.jsxs("div",{style:ga.col4,children:[p.jsx("label",{style:ga.label,children:"Temperatura"}),p.jsx("input",{type:"text",value:e.temperatura,onChange:t=>Ca(e.id,"temperatura",t.target.value),style:ga.input,onFocus:ka,onBlur:Sa})]}),p.jsxs("div",{style:ga.col4,children:[p.jsx("label",{style:ga.label,children:"Complemento"}),p.jsx("textarea",{value:e.complemento,onChange:t=>Ca(e.id,"complemento",t.target.value),style:{...ga.textarea,minHeight:"32px"},onFocus:ka,onBlur:Sa})]})]}),p.jsxs("div",{style:{...ga.grid12,marginTop:"16px"},children:[p.jsxs("div",{style:ga.col6,children:[p.jsx("label",{style:ga.label,children:"Condições ambientais"}),p.jsx("input",{type:"text",value:e.condicoesAmbientais,onChange:t=>Ca(e.id,"condicoesAmbientais",t.target.value),style:ga.input,onFocus:ka,onBlur:Sa})]}),p.jsxs("div",{style:ga.col6,children:[p.jsx("label",{style:ga.label,children:"Item do orçamento"}),p.jsxs("select",{value:null!==e.itemOrcamento?e.itemOrcamento:"",onChange:t=>Ca(e.id,"itemOrcamento",Number(t.target.value)),style:ga.select,onFocus:ka,onBlur:Sa,children:[p.jsx("option",{value:"",children:"Selecione"}),_e.map(e=>p.jsx("option",{value:e.id_item,children:e.descricao},e.id_item))]})]}),3===Ot&&p.jsxs("div",{style:{marginTop:"10px",display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",alignItems:"end"},children:[p.jsxs("div",{children:[p.jsx("label",{style:ga.label,children:"Unidade Amostra"}),p.jsxs("select",{value:et,onChange:e=>tt(e.target.value),style:{...ga.select,width:"190px"},children:[p.jsx("option",{value:"",children:"Selecione"}),p.jsx("option",{value:"opcao1",children:"Opção 1"}),p.jsx("option",{value:"opcao2",children:"Opção 2"})]})]}),p.jsxs("div",{children:[p.jsx("label",{style:ga.label,children:"Forma de Coleta"}),p.jsxs("select",{value:at,onChange:e=>rt(e.target.value),style:{...ga.select,width:"190px"},children:[p.jsx("option",{value:"",children:"Selecione"}),p.jsx("option",{value:"opcao1",children:"Opção 1"}),p.jsx("option",{value:"opcao2",children:"Opção 2"})]})]}),p.jsxs("div",{children:[p.jsx("label",{style:ga.label,children:"Unidade Área Amostrada"}),p.jsxs("select",{value:nt,onChange:e=>it(e.target.value),style:{...ga.select,width:"190px"},children:[p.jsx("option",{value:"",children:"Selecione"}),p.jsx("option",{value:"opcao1",children:"Opção 1"}),p.jsx("option",{value:"opcao2",children:"Opção 2"})]})]}),p.jsxs("div",{children:[p.jsx("label",{style:ga.label,children:"Área Amostrada"}),p.jsx("input",{type:"text",value:st,onChange:e=>ot(e.target.value),style:{...ga.input,width:"190px"}})]})]}),4===Ot&&p.jsxs("div",{style:{marginTop:"10px",display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",alignItems:"end"},children:[p.jsxs("div",{children:[p.jsx("label",{style:ga.label,children:"Unidade Amostra"}),p.jsxs("select",{value:et,onChange:e=>tt(e.target.value),style:{...ga.select,width:"190px"},children:[p.jsx("option",{value:"",children:"Selecione"}),p.jsx("option",{value:"opcao1",children:"Opção 1"}),p.jsx("option",{value:"opcao2",children:"Opção 2"})]})]}),p.jsxs("div",{children:[p.jsx("label",{style:ga.label,children:"Forma de Coleta"}),p.jsxs("select",{value:at,onChange:e=>rt(e.target.value),style:{...ga.select,width:"190px"},children:[p.jsx("option",{value:"",children:"Selecione"}),p.jsx("option",{value:"opcao1",children:"Opção 1"}),p.jsx("option",{value:"opcao2",children:"Opção 2"})]})]})]}),7===Ot&&p.jsxs("div",{style:{marginTop:"10px",display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",alignItems:"end"},children:[p.jsxs("div",{children:[p.jsx("label",{style:ga.label,children:"Protocolo do Cliente"}),p.jsx("input",{type:"text",value:Xt,onChange:e=>Jt(e.target.value),style:{...ga.input,width:"190px"}})]}),p.jsxs("div",{children:[p.jsx("label",{style:ga.label,children:"Remessa do Cliente"}),p.jsx("input",{type:"text",value:Zt,onChange:e=>Qt(e.target.value),style:{...ga.input,width:"190px"}})]})]})]})]})},Aa=()=>{const e=At.find(e=>e.id===na);if(!e)return p.jsx("div",{children:"Por favor, selecione uma amostra para configurar os parâmetros."});const t=(t,a)=>{Ca(e.id,t,a)};return p.jsx("div",{children:p.jsx(Wy,{parametros:lt,disponiveis:e.parametrosDisponiveis,selecionados:e.parametrosSelecionados,checkedDisponiveis:e.checkedDisponiveis,checkedSelecionados:e.checkedSelecionados,setDisponiveis:e=>t("parametrosDisponiveis",e),setSelecionados:e=>t("parametrosSelecionados",e),setCheckedDisponiveis:e=>t("checkedDisponiveis",e),setCheckedSelecionados:e=>t("checkedSelecionados",e)})})};return p.jsxs("div",{style:ga.container,children:[p.jsx(yy,{activeTab:a,onTabChange:n,onSidebarToggle:s,showLimpeza:ha}),p.jsx("div",{style:ga.mainContent,children:p.jsxs("div",{style:ga.maxWidth,children:[Ce&&p.jsx("div",{style:ga.errorContainer,children:Ce}),p.jsxs(p.Fragment,{children:[(()=>{switch(a){case"cadastro":default:return Oa();case"setores":return p.jsxs("div",{style:ga.cardBody,children:[p.jsxs("div",{style:ga.setoresContainer,children:[p.jsxs("div",{style:ga.setoresSection,children:[p.jsx("div",{style:ga.sectionTitle,children:"Setores Disponíveis"}),p.jsx("div",{style:ga.listBox,children:fa.map(e=>p.jsx("div",{style:{...ga.listItem,backgroundColor:yt.includes(e.id)?"#e3f2fd":"transparent"},onClick:()=>{return t=e.id,void _t(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},onMouseEnter:t=>{yt.includes(e.id)||(t.currentTarget.style.backgroundColor="#f0f0f0")},onMouseLeave:t=>{yt.includes(e.id)||(t.currentTarget.style.backgroundColor="transparent")},children:e.nome},e.id))})]}),p.jsxs("div",{style:ga.setoresBotoesContainer,children:[p.jsx("button",{style:{...ga.button,...ga.addButton,...0===yt.length?ga.buttonDisabled:{}},onClick:ma,disabled:0===yt.length,children:"Adicionar"}),p.jsx("button",{style:{...ga.button,...ga.removeButton,...0===jt.length?ga.buttonDisabled:{}},onClick:pa,disabled:0===jt.length,children:"Remover"})]}),p.jsxs("div",{style:ga.setoresSection,children:[p.jsx("div",{style:ga.sectionTitle,children:"Setores Selecionados"}),p.jsx("div",{style:ga.listBox,children:Ve.map(e=>p.jsx("div",{style:{...ga.listItem,backgroundColor:jt.includes(e.id)?"#e3f2fd":"transparent"},onClick:()=>{return t=e.id,void wt(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},onMouseEnter:t=>{jt.includes(e.id)||(t.currentTarget.style.backgroundColor="#f0f0f0")},onMouseLeave:t=>{jt.includes(e.id)||(t.currentTarget.style.backgroundColor="transparent")},children:e.nome},e.id))})]})]}),p.jsxs("div",{style:ga.selectedCount,children:[p.jsx("strong",{children:"Setores selecionados:"})," ",Ve.length," de ",xe.length,Ve.length>0&&p.jsx("div",{style:{marginTop:"8px"},children:Ve.map(e=>e.nome).join(", ")})]})]});case"terceirizacao":return p.jsxs("div",{style:ga.mainCard,children:[p.jsx("div",{style:ga.cardHeader,children:p.jsx("h2",{style:ga.cardTitle,children:"Terceirização"})}),p.jsxs("div",{style:ga.cardBody,children:[p.jsx("div",{style:ga.formGroup,children:p.jsxs("div",{style:ga.checkboxContainer,children:[p.jsx("input",{type:"checkbox",id:"amostraTerceirizada",checked:Ke,onChange:e=>Ye(e.target.checked),style:ga.checkbox}),p.jsx("label",{htmlFor:"amostraTerceirizada",style:ga.label,children:"Amostra terceirizada"})]})}),p.jsx("div",{style:ga.formGroup,children:p.jsxs("div",{style:ga.radioContainer,children:[p.jsxs("div",{style:ga.radioGroup,children:[p.jsx("input",{type:"radio",id:"parcial",name:"tipoAnalise",value:"parcial",checked:"parcial"===Xe,onChange:e=>Je(e.target.value),style:ga.radio,disabled:!Ke}),p.jsx("label",{htmlFor:"parcial",style:ga.radioLabel,children:"Parcial"})]}),p.jsxs("div",{style:ga.radioGroup,children:[p.jsx("input",{type:"radio",id:"total",name:"tipoAnalise",value:"total",checked:"total"===Xe,onChange:e=>Je(e.target.value),style:ga.radio,disabled:!Ke}),p.jsx("label",{htmlFor:"total",style:ga.radioLabel,children:"Total"})]})]})}),p.jsxs("div",{style:ga.formGroup,children:[p.jsx("label",{style:ga.label,children:"Laboratório"}),p.jsxs("div",{style:ga.selectContainer,children:[p.jsx("select",{value:Ze,onChange:e=>Qe(e.target.value),style:ga.select,disabled:!Ke,children:oe.map(e=>p.jsx("option",{value:e.nome,children:e.nome},e.id))}),p.jsx("button",{style:{...ga.iconButton,...ga.addButton},onClick:()=>$e(!0),title:"Adicionar laboratório",disabled:!Ke,children:p.jsx(vi,{size:16})}),p.jsx("button",{style:{...ga.iconButton,...ga.searchButton},onClick:()=>alert("Pesquisar laboratório"),title:"Pesquisar laboratório",disabled:!Ke,children:p.jsx(ji,{size:16})})]})]})]})]});case"limpeza":return p.jsxs("div",{style:ga.mainCard,children:[p.jsx("div",{style:ga.cardHeader,children:p.jsx("h2",{style:ga.cardTitle,children:"Eficácia Limpeza"})}),p.jsx("div",{style:ga.cardBody,children:p.jsxs("div",{style:ga.grid12,children:[p.jsx("div",{style:ga.col12,children:p.jsxs("div",{style:ga.formGroup,children:[p.jsx("label",{style:ga.label,children:"Princípio ativo"}),p.jsx("input",{type:"text",style:ga.input,placeholder:"Digite o princípio ativo",value:It,onChange:e=>Tt(e.target.value)})]})}),p.jsx("div",{style:ga.col12,children:p.jsxs("div",{style:ga.formGroup,children:[p.jsx("label",{style:ga.label,children:"Produto anterior"}),p.jsx("input",{type:"text",style:ga.input,placeholder:"Digite o produto anterior",value:zt,onChange:e=>Rt(e.target.value)})]})}),p.jsx("div",{style:ga.col4,children:p.jsxs("div",{style:ga.formGroup,children:[p.jsx("label",{style:ga.label,children:"Lote"}),p.jsx("input",{type:"text",style:ga.input,placeholder:"Digite o lote",value:Lt,onChange:e=>$t(e.target.value)})]})}),p.jsx("div",{style:ga.col12,children:p.jsxs("div",{style:ga.formGroup,children:[p.jsx("label",{style:ga.label,children:"Agente de limpeza"}),p.jsx("input",{type:"text",style:ga.input,placeholder:"Digite o agente de limpeza",value:Bt,onChange:e=>qt(e.target.value)})]})}),p.jsx("div",{style:ga.col12,children:p.jsxs("div",{style:ga.formGroup,children:[p.jsx("label",{style:ga.label,children:"Data"}),p.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[p.jsx("input",{type:"date",style:{...ga.input,width:"150px"},value:Ft,onChange:e=>Wt(e.target.value)}),p.jsxs("select",{style:{...ga.select,width:"140px"},value:Gt,onChange:e=>Ht(e.target.value),children:[p.jsx("option",{value:"",children:"Antes da limpeza"}),p.jsx("option",{value:"depois",children:"Depois da limpeza"})]}),p.jsx("input",{type:"number",style:{...ga.input,width:"80px"},placeholder:"0",value:Vt,onChange:e=>Ut(e.target.value)}),p.jsxs("select",{style:{...ga.select,width:"100px"},value:Kt,onChange:e=>Yt(e.target.value),children:[p.jsx("option",{value:"minutos",children:"Minutos"}),p.jsx("option",{value:"horas",children:"Horas"}),p.jsx("option",{value:"dias",children:"Dias"})]})]})]})})]})})]})}})(),p.jsxs("div",{style:ga.sampleContainer,children:[aa&&p.jsx(xa,{}),ea&&p.jsx(va,{}),p.jsx("div",{style:ga.sampleTabsContainer,children:p.jsxs("div",{style:ga.sampleTabsList,children:[At.map((e,t)=>p.jsxs("button",{style:{...ga.sampleTab,...na===e.id?ga.sampleTabActive:{}},onClick:()=>ia(e.id),children:[p.jsxs("span",{children:["Amostra ",t+1]}),At.length>1&&p.jsx("button",{style:ga.removeSampleButton,onClick:t=>{t.stopPropagation(),(e=>{if(At.length>1){const t=At.filter(t=>t.id!==e);Dt(t),na===e&&ia(t[0]?.id||1)}})(e.id)},children:p.jsx(Vy,{})})]},e.id)),p.jsxs("button",{style:ga.addSampleButton,onClick:Na,"data-bg-color":"primary",children:[p.jsx(Gy,{}),p.jsx("span",{children:"Adicionar"})]})]})}),p.jsxs("div",{style:ga.sampleContentWithSidebar,children:[p.jsxs("div",{style:ga.sampleSidebar,children:[p.jsx("button",{style:{...ga.sampleSidebarTab,..."dados"===sa?ga.sampleSidebarTabActive:{}},onClick:()=>oa("dados"),children:p.jsx(hn,{})}),p.jsx("button",{style:{...ga.sampleSidebarTab,..."parametros"===sa?ga.sampleSidebarTabActive:{}},onClick:()=>oa("parametros"),children:p.jsx(Wi,{})})]}),p.jsxs("div",{style:ga.sampleMainContent,children:["dados"===sa&&Pa(),"parametros"===sa&&Aa()]})]}),p.jsx("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"16px",borderTop:"1px solid #e5e7eb",marginTop:"16px"},children:p.jsx("button",{onClick:async()=>{if(!Y)return void alert("Erro: Nenhum cliente foi selecionado. Por favor, selecione um cliente para continuar.");const e=re.find(e=>e.nome===Ee),t={dados_gerais:{cliente_id:Y.id,cliente_nome:Y.fantasia||"",consultor_id:c?parseInt(c):null,data_inicio:u,hora_inicio:Nt,data_coleta:m,hora_coleta:kt,data_entrada_lab:x,hora_entrada_lab:Mt,coletor:101,nome_coletor:_,procedimento_amostragem:w,categoria_id:C?parseInt(C):null,acompanhante:S,orcamento:E,dados_amostragem:P,controle_qualidade:D,vazao:T,unidade_vazao:R,vazao_cliente:$,email_solicitante:q,solicitante_id:Ge?.id||null,metodologias_selecionadas:gt.map(e=>e.id),acreditacao_id:Se?parseInt(Se):null,legislacao_id:e?.id||null,terceirizado_id:null,orcamento_id:De?parseInt(De):null,setores_selecionados:Ve.map(e=>e.id),amostra_terceirizada:Ke,tipo_analise:Xe,laboratorio:Ze,unidade_amostra:et||"",forma_coleta:at||"",unidade_area_amostrada:nt||"",area_amostrada:st||"",tipo_relatorio:Ot,mesmo_horario_todas_amostras:ht,...3===Ot&&{principio_ativo:It||null,produto_anterior:zt||null,lote:Lt||null,agente_limpeza:Bt||null,data_limpeza:Ft||null,momento_limpeza:Gt||null,tempo_decorrido:Vt||null,unidade_tempo_decorrido:Kt||null},...7===Ot&&{protocolo_cliente:Xt||null,remessa_cliente:Zt||null}},amostras:At.map((e,t)=>({id:e.id,numero:e.numero,hora_coleta:e.horaColeta,identificacao:e.identificacao,temperatura:e.temperatura,complemento:e.complemento,condicoes_ambientais:e.condicoesAmbientais,item_orcamento:e.itemOrcamento,parametros_selecionados:e.parametrosSelecionados||[]}))};t.dados_gerais.cliente_nome||(t.dados_gerais.cliente_nome=""),t.dados_gerais.vazao||(t.dados_gerais.vazao=""),t.dados_gerais.unidade_vazao||(t.dados_gerais.unidade_vazao=""),t.dados_gerais.tipo_analise||(t.dados_gerais.tipo_analise=""),t.dados_gerais.laboratorio||(t.dados_gerais.laboratorio=""),alert(JSON.stringify(t,null,2));try{await r("cadastrar_amostra_completa",{dadosCadastro:t}),alert("Amostra cadastrada com sucesso!")}catch(a){alert(`Ocorreu um erro ao cadastrar: ${a}`)}},style:ga.primaryButton,children:"Cadastrar"})})]})]})]})}),Le&&p.jsx("div",{style:ga.overlay,children:p.jsxs("div",{style:ga.modal,children:[p.jsx("h2",{style:{marginBottom:"10px"},children:"Cadastrar Fornecedor"}),p.jsx("label",{children:"Nome"}),p.jsx("input",{type:"text",style:ga.input}),p.jsx("label",{children:"CNPJ"}),p.jsx("input",{type:"text",style:ga.input,placeholder:"__.___.___/____-__"}),p.jsx("label",{children:"Telefone"}),p.jsx("input",{type:"text",style:ga.input,placeholder:"(  ) ____-____"}),p.jsx("label",{children:"E-mail"}),p.jsx("input",{type:"email",style:ga.input}),p.jsxs("div",{style:ga.actions,children:[p.jsx("button",{style:ga.btnPrimary,children:"Cadastrar"}),p.jsx("button",{style:ga.btnSecondary,onClick:()=>$e(!1),children:"Cancelar"})]})]})})]})},Yy={"historico-container":"_historico-container_3s2af_1","historico-header":"_historico-header_3s2af_53","header-content":"_header-content_3s2af_71","title-section":"_title-section_3s2af_85","title-icon":"_title-icon_3s2af_97","refresh-btn":"_refresh-btn_3s2af_151","refresh-icon":"_refresh-icon_3s2af_193",spinning:"_spinning_3s2af_207","filter-section":"_filter-section_3s2af_235","filter-container":"_filter-container_3s2af_253","search-input-group":"_search-input-group_3s2af_265","search-input":"_search-input_3s2af_265","search-icon":"_search-icon_3s2af_325","filter-buttons":"_filter-buttons_3s2af_345","filter-btn":"_filter-btn_3s2af_355",primary:"_primary_3s2af_383",secondary:"_secondary_3s2af_405","table-container":"_table-container_3s2af_439","table-wrapper":"_table-wrapper_3s2af_457","historico-table":"_historico-table_3s2af_465","date-cell":"_date-cell_3s2af_557","description-cell":"_description-cell_3s2af_571","ip-cell":"_ip-cell_3s2af_583","ip-badge":"_ip-badge_3s2af_591","loading-state":"_loading-state_3s2af_613","empty-state":"_empty-state_3s2af_615","loading-spinner":"_loading-spinner_3s2af_633","footer-info":"_footer-info_3s2af_687","filter-info":"_filter-info_3s2af_735","pagination-section":"_pagination-section_3s2af_863","pagination-controls":"_pagination-controls_3s2af_875","pagination-btn":"_pagination-btn_3s2af_891","pagination-info":"_pagination-info_3s2af_949","page-input-container":"_page-input-container_3s2af_963","page-input":"_page-input_3s2af_963","items-per-page":"_items-per-page_3s2af_1013"},Xy=()=>{const[e,t]=f.useState([]),[a,n]=f.useState([]),[i,l]=f.useState(null),[c,d]=f.useState(""),[u,h]=f.useState(!1),[m,g]=f.useState(!1),[x,v]=f.useState(1),[b]=f.useState(50),[y,_]=f.useState("1");f.useEffect(()=>{let e;return(async()=>{try{e=await s("window-data",e=>{const t=e.payload;t&&l(t)}),await o("window-ready")}catch(t){}})(),()=>{e&&e()}},[]),f.useEffect(()=>{i&&j()},[i]),f.useEffect(()=>{_(x.toString())},[x]);const j=async()=>{if(i){h(!0);try{const e=await r("historico_usuario",{usuarioId:i});e.success&&e.data&&(n(e.data),t(e.data),v(1))}catch(e){}finally{h(!1)}}},w=()=>{if(g(!!c.trim()),c.trim()){const e=a.filter(e=>e.descricao.toLowerCase().includes(c.toLowerCase()));t(e)}else t(a);v(1)},N=Math.ceil(e.length/b),C=(x-1)*b,k=C+b,S=e.slice(C,k),M=e=>{e>=1&&e<=N&&v(e)};return p.jsxs("div",{className:Yy["historico-container"],children:[p.jsx("div",{className:Yy["historico-header"],children:p.jsxs("div",{className:Yy["header-content"],children:[p.jsxs("div",{className:Yy["title-section"],children:[p.jsx(ts,{className:Yy["title-icon"]}),p.jsx("div",{children:p.jsx("h1",{children:"Histórico do Cliente"})})]}),p.jsx("button",{className:Yy["refresh-btn"],onClick:()=>j(),disabled:u,children:p.jsx(wi,{className:`${Yy["refresh-icon"]} ${u?`${Yy.spinning}`:""}`})})]})}),p.jsx("div",{className:Yy["filter-section"],children:p.jsxs("div",{className:Yy["filter-container"],children:[p.jsxs("div",{className:Yy["search-input-group"],children:[p.jsx(Mi,{className:Yy["search-icon"]}),p.jsx("input",{type:"text",placeholder:"Filtrar por descrição...",value:c,onChange:e=>d(e.target.value),onKeyPress:e=>{"Enter"===e.key&&w()},className:Yy["search-input"]})]}),p.jsxs("div",{className:Yy["filter-buttons"],children:[p.jsxs("button",{className:`${Yy["filter-btn"]} ${Yy.primary}`,onClick:w,disabled:u,children:[p.jsx(zn,{size:16}),"Filtrar"]}),m&&p.jsx("button",{className:`${Yy["filter-btn"]} ${Yy.secondary}`,onClick:()=>{d(""),g(!1),t(a),v(1)},children:"Limpar"})]})]})}),p.jsx("div",{className:Yy["table-container"],children:u?p.jsxs("div",{className:Yy["loading-state"],children:[p.jsx(wi,{className:Yy["loading-spinner"]}),p.jsx("p",{children:"Carregando histórico..."})]}):0===e.length?p.jsxs("div",{className:Yy["empty-state"],children:[p.jsx(Kr,{size:48}),p.jsx("h3",{children:"Nenhum registro encontrado"}),p.jsx("p",{children:m?"Tente ajustar os filtros de busca":"Não há histórico disponível para este cliente"})]}):p.jsx("div",{className:Yy["table-wrapper"],children:p.jsxs("table",{className:Yy["historico-table"],children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsxs("th",{children:[p.jsx(Kr,{size:16}),"Data/Hora"]}),p.jsxs("th",{children:[p.jsx(ts,{size:16}),"Descrição"]}),p.jsxs("th",{children:[p.jsx(ti,{size:16}),"IP"]})]})}),p.jsx("tbody",{children:S.map((e,t)=>p.jsxs("tr",{className:Yy["table-row"],children:[p.jsx("td",{className:Yy["date-cell"],children:e.dt}),p.jsx("td",{className:Yy["description-cell"],children:e.descricao}),p.jsx("td",{className:Yy["ip-cell"],children:p.jsx("span",{className:Yy["ip-badge"],children:e.ip})})]},`${e.dt}-${C+t}`))})]})})}),e.length>0&&p.jsx("div",{className:Yy["pagination-section"],children:p.jsxs("div",{className:Yy["pagination-controls"],children:[p.jsxs("button",{className:Yy["pagination-btn"],onClick:()=>M(x-1),disabled:1===x,children:[p.jsx(an,{size:16}),"Anterior"]}),p.jsxs("div",{className:Yy["pagination-info"],children:[p.jsxs("div",{className:Yy["page-input-container"],children:[p.jsx("span",{children:"Página "}),p.jsx("input",{type:"text",value:y,onChange:e=>{_(e.target.value)},onKeyPress:e=>{if("Enter"===e.key){const e=parseInt(y);isNaN(e)?_(x.toString()):M(e)}},onBlur:()=>{const e=parseInt(y);isNaN(e)?_(x.toString()):M(e)},onFocus:e=>{e.target.select()},className:Yy["page-input"]}),p.jsxs("span",{children:[" de ",N]})]}),p.jsxs("div",{className:Yy["items-per-page"],children:["(",b," itens por página)"]})]}),p.jsxs("button",{className:Yy["pagination-btn"],onClick:()=>M(x+1),disabled:x===N,children:["Próxima",p.jsx(rn,{size:16})]})]})}),p.jsxs("div",{className:Yy["footer-info"],children:[p.jsxs("p",{children:["Total de registros: ",p.jsx("strong",{children:e.length})]}),e.length>0&&p.jsxs("p",{children:["Mostrando ",C+1," a ",Math.min(k,e.length)," de ",e.length," registros"]}),m&&p.jsxs("p",{className:Yy["filter-info"],children:['Filtro ativo: "',c,'"']})]})]})},Jy=()=>{const[e,t]=f.useState("simples"),[a,n]=f.useState({cliente:"",amostra:"",amostraInicio:"",amostraFim:"",entrada:"",entradaFim:"",coletadoPor:"",protocoloCliente:!1,protocolo:"",consultor:"",cidade:"",identificacao:"",relatorio:"",primeiraVersao:!1,legislacao:"",pop:"",parametro:"",terceirizacao:"",laboratorio:""}),[i,s]=f.useState(null),[o,l]=f.useState("asc"),[c,d]=f.useState(""),[u,h]=f.useState([]),[m,g]=f.useState(!1),[x,v]=f.useState(!1),b=f.useRef(null),y=f.useRef(),[_,j]=f.useState([]),[w,N]=f.useState(!1),[C,k]=f.useState(null),[S,M]=f.useState(0),[E,O]=f.useState(0),P=10,A=(e,t)=>{n(a=>({...a,[e]:t}))},D=e=>{i===e?l("asc"===o?"desc":"asc"):(s(e),l("asc"))},I=e=>{if(!e)return"";const t=e.replace(/\D/g,"");return 11===t.length?t.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):14===t.length?t.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):e},T=async e=>{d(e),y.current&&clearTimeout(y.current),e.trim().length>=2?(v(!0),g(!0),y.current=setTimeout(async()=>{try{const t=await(async e=>{try{const t=await r("buscar_clientes_dropdown",{query:e.trim()});return t.success&&t.data?t.data:[]}catch(t){return[]}})(e);h(t)}catch(t){h([])}finally{v(!1)}},300)):(g(!1),h([]))},z=()=>{d(""),g(!1),h([]),n(e=>({...e,cliente:""}))},R=()=>{};f.useEffect(()=>{const e=e=>{b.current&&!b.current.contains(e.target)&&g(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e),y.current&&clearTimeout(y.current)}},[]);const L=()=>Math.ceil(_.length/50),$=()=>{const e=(t=_,i?[...t].sort((e,t)=>{let a,r;switch(i){case"amostra":a=`${e.sigla}${e.numero}`,r=`${t.sigla}${t.numero}`;break;case"cliente":a=e.fantasia||"",r=t.fantasia||"";break;case"status":a=null!=e.numero_amostras?"Emitido":"",r=null!=t.numero_amostras?"Emitido":"";break;case"datalab":a=e.datalab?new Date(e.datalab).getTime():0,r=t.datalab?new Date(t.datalab).getTime():0;break;case"identificacao":a=e.identificacao||"",r=t.identificacao||"";break;default:return 0}if("string"==typeof a&&"string"==typeof r){const e=a.localeCompare(r);return"asc"===o?e:-e}{const e=a-r;return"asc"===o?e:-e}}):t);var t;const a=50*S,r=a+50;return e.slice(a,r)},B=e=>{M(e);const t=L();t>P&&(e<E?O(Math.max(0,e-Math.floor(5))):e>=E+P&&O(Math.min(t-P,e-Math.floor(5))))},q=()=>{O(Math.max(0,E-P))},F=()=>{const e=L();O(Math.min(e-P,E+P))},W=e=>i!==e?null:"asc"===o?p.jsx(nn,{className:"sortIcon"}):p.jsx(tn,{className:"sortIcon"}),G={flexRow:{display:"flex",alignItems:"center",gap:"8px",width:"100%"},searchContainer:{position:"relative",flex:1},searchInputWrapper:{position:"relative",display:"flex",alignItems:"center",width:"100%"},clearButton:{position:"absolute",right:"8px",padding:"4px",border:"none",background:"none",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",transition:"color 0.2s"},dropdown:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"6px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",maxHeight:"300px",overflowY:"auto",zIndex:1e3,marginTop:"2px"},dropdownItem:{padding:"12px",cursor:"pointer",borderBottom:"1px solid #f3f4f6",transition:"background-color 0.2s"},clienteName:{fontWeight:"500",color:"#111827",marginBottom:"4px"},clienteDetails:{fontSize:"12px",color:"#6b7280",display:"flex",gap:"12px"}};return p.jsx("div",{className:"container",children:p.jsx("div",{className:"scrollableContainer",children:p.jsxs("div",{className:"maxWidth",children:[p.jsx("div",{className:"searchModeToggle",children:p.jsxs("div",{className:"toggleContainer",children:[p.jsxs("button",{onClick:()=>t("simples"),className:"toggleButton "+("simples"===e?"toggleButtonActive":"toggleButtonInactive"),children:[p.jsx(Mi,{className:"toggleIcon"}),"Pesquisa Simples"]}),p.jsxs("button",{onClick:()=>t("avancado"),className:"toggleButton "+("avancado"===e?"toggleButtonActive":"toggleButtonInactive"),children:[p.jsx(zn,{className:"toggleIcon"}),"Pesquisa Avançada"]})]})}),p.jsxs("div",{className:"formCard",children:["simples"===e?p.jsx("div",{className:"spacingY4",children:p.jsxs("div",{className:"gridSimples",children:[p.jsxs("div",{className:"fieldGroup",children:[p.jsxs("label",{className:"fieldLabel",children:[p.jsx(ts,{className:"fieldIcon"}),"Cliente"]}),p.jsx("div",{style:G.flexRow,children:p.jsxs("div",{style:G.searchContainer,ref:b,children:[p.jsxs("div",{style:G.searchInputWrapper,children:[p.jsx("input",{type:"text",value:c,onChange:e=>T(e.target.value),className:"fieldInput",placeholder:"Digite o nome, CNPJ/CPF ou cidade"}),c&&p.jsx("button",{style:G.clearButton,onClick:z,children:p.jsx(ss,{size:16})})]}),m&&p.jsx("div",{style:G.dropdown,children:x?p.jsx("div",{style:G.dropdownItem,children:"Buscando..."}):u.map(e=>p.jsxs("div",{style:G.dropdownItem,onClick:()=>(async e=>{try{d(e.fantasia||e.razao||""),g(!1),h([]),n(t=>({...t,cliente:e.fantasia||e.razao||""})),R()}catch(t){}})(e),onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseLeave:e=>e.currentTarget.style.backgroundColor="white",children:[p.jsx("div",{style:G.clienteName,children:e.fantasia||e.razao}),p.jsxs("div",{style:G.clienteDetails,children:[p.jsx("span",{children:I(e.documento||"")}),p.jsxs("span",{children:[e.cidade," / ",e.uf]})]})]},e.id))})]})})]}),p.jsxs("div",{className:"fieldGroup",children:[p.jsxs("label",{className:"fieldLabel",children:[p.jsx(Fn,{className:"fieldIcon"}),"Número da Amostra"]}),p.jsx("input",{type:"text",value:a.amostra,onChange:e=>A("amostra",e.target.value),className:"fieldInput",placeholder:"Ex: A123456"})]}),p.jsxs("div",{className:"fieldGroup",children:[p.jsx("label",{className:"fieldLabel",children:"Período de Amostras"}),p.jsxs("div",{className:"rangeContainer",children:[p.jsx("input",{type:"text",value:a.amostraInicio,onChange:e=>A("amostraInicio",e.target.value),className:"rangeInput",placeholder:"Início"}),p.jsx("input",{type:"text",value:a.amostraFim,onChange:e=>A("amostraFim",e.target.value),className:"rangeInput",placeholder:"Fim"})]})]}),p.jsxs("div",{className:"fieldGroup",children:[p.jsxs("label",{className:"fieldLabel",children:[p.jsx(Kr,{className:"fieldIcon"}),"Período de Entrada"]}),p.jsxs("div",{className:"rangeContainer",children:[p.jsx("input",{type:"date",value:a.entrada,onChange:e=>A("entrada",e.target.value),className:"rangeInput"}),p.jsx("input",{type:"date",value:a.entradaFim,onChange:e=>A("entradaFim",e.target.value),className:"rangeInput"})]})]})]})}):p.jsxs("div",{className:"spacingY4",children:[p.jsxs("div",{className:"gridAvancado1",children:[p.jsxs("div",{className:"fieldGroup",children:[p.jsxs("label",{className:"fieldLabel",children:[p.jsx(ts,{className:"fieldIcon"}),"Cliente"]}),p.jsx("input",{type:"text",value:a.cliente,onChange:e=>A("cliente",e.target.value),className:"fieldInput",placeholder:"Nome do cliente"})]}),p.jsxs("div",{className:"fieldGroup",children:[p.jsxs("label",{className:"fieldLabel",children:[p.jsx(Fn,{className:"fieldIcon"}),"Amostra"]}),p.jsxs("div",{className:"sampleContainer",children:[p.jsx("input",{type:"text",value:a.amostra,onChange:e=>A("amostra",e.target.value),className:"samplePrefix",placeholder:"de"}),p.jsx("input",{type:"text",value:a.amostraInicio,onChange:e=>A("amostraInicio",e.target.value),className:"sampleInput",placeholder:"1"}),p.jsx("span",{className:"rangeSeparator",children:"até"}),p.jsx("input",{type:"text",value:a.amostraFim,onChange:e=>A("amostraFim",e.target.value),className:"sampleInput",placeholder:"999999"})]})]}),p.jsxs("div",{className:"fieldGroup",children:[p.jsx("label",{className:"fieldLabel",children:"Coletado por"}),p.jsx("input",{type:"text",value:a.coletadoPor,onChange:e=>A("coletadoPor",e.target.value),className:"fieldInput",placeholder:"Nome do coletor"})]}),p.jsxs("div",{className:"complexFieldGroup",children:[p.jsx("label",{className:"fieldLabel",children:"Protocolo"}),p.jsxs("div",{className:"protocolContainer",children:[p.jsxs("div",{className:"checkboxContainer",children:[p.jsx("input",{type:"checkbox",checked:a.protocoloCliente,onChange:e=>A("protocoloCliente",e.target.checked),className:"checkbox",id:"protocoloCliente"}),p.jsx("label",{htmlFor:"protocoloCliente",className:"checkboxLabel",children:"Cliente"})]}),p.jsx("input",{type:"text",value:a.protocolo,onChange:e=>A("protocolo",e.target.value),className:"protocolInput",placeholder:"Número do protocolo"})]})]})]}),p.jsxs("div",{className:"gridAvancado1",children:[p.jsxs("div",{className:"fieldGroup",children:[p.jsx("label",{className:"fieldLabel",children:"Consultor"}),p.jsxs("select",{value:a.consultor,onChange:e=>A("consultor",e.target.value),className:"fieldSelect",children:[p.jsx("option",{value:"",children:"Selecionar consultor..."}),p.jsx("option",{value:"consultor1",children:"João Silva"}),p.jsx("option",{value:"consultor2",children:"Maria Santos"})]})]}),p.jsxs("div",{className:"fieldGroup",children:[p.jsxs("label",{className:"fieldLabel",children:[p.jsx(ti,{className:"fieldIcon"}),"Cidade"]}),p.jsx("input",{type:"text",value:a.cidade,onChange:e=>A("cidade",e.target.value),className:"fieldInput",placeholder:"Nome da cidade"})]}),p.jsxs("div",{className:"fieldGroup",children:[p.jsx("label",{className:"fieldLabel",children:"Entrada"}),p.jsxs("div",{className:"rangeContainer",children:[p.jsx("input",{type:"date",value:a.entrada,onChange:e=>A("entrada",e.target.value),className:"rangeInput"}),p.jsx("input",{type:"date",value:a.entradaFim,onChange:e=>A("entradaFim",e.target.value),className:"rangeInput"})]})]})]}),p.jsxs("div",{className:"gridAvancado1",children:[p.jsxs("div",{className:"fieldGroup",children:[p.jsx("label",{className:"fieldLabel",children:"Identificação"}),p.jsx("input",{type:"text",value:a.identificacao,onChange:e=>A("identificacao",e.target.value),className:"fieldInput",placeholder:"ID da amostra"})]}),p.jsxs("div",{className:"complexFieldGroup",children:[p.jsxs("label",{className:"fieldLabel",children:[p.jsx(Mn,{className:"fieldIcon"}),"Relatório"]}),p.jsxs("select",{value:a.relatorio,onChange:e=>A("relatorio",e.target.value),className:"fieldSelect",children:[p.jsx("option",{value:"",children:"Selecionar..."}),p.jsx("option",{value:"completo",children:"Relatório Completo"}),p.jsx("option",{value:"resumido",children:"Relatório Resumido"})]}),p.jsxs("div",{className:"checkboxContainer",children:[p.jsx("input",{type:"checkbox",checked:a.primeiraVersao,onChange:e=>A("primeiraVersao",e.target.checked),className:"checkbox",id:"primeiraVersao"}),p.jsx("label",{htmlFor:"primeiraVersao",className:"checkboxLabel",children:"Primeira versão"})]})]}),p.jsxs("div",{className:"fieldGroup",children:[p.jsx("label",{className:"fieldLabel",children:"Legislação"}),p.jsxs("select",{value:a.legislacao,onChange:e=>A("legislacao",e.target.value),className:"fieldSelect",children:[p.jsx("option",{value:"",children:"Selecionar..."}),p.jsx("option",{value:"conama",children:"CONAMA"}),p.jsx("option",{value:"cetesb",children:"CETESB"}),p.jsx("option",{value:"portaria",children:"Portaria MS"})]})]}),p.jsxs("div",{className:"fieldGroup",children:[p.jsx("label",{className:"fieldLabel",children:"POP"}),p.jsxs("div",{className:"dualSelectContainer",children:[p.jsxs("select",{value:a.pop,onChange:e=>A("pop",e.target.value),className:"dualSelect",children:[p.jsx("option",{value:"",children:"Selecionar..."}),p.jsx("option",{value:"pop1",children:"POP-001"}),p.jsx("option",{value:"pop2",children:"POP-002"})]}),p.jsxs("select",{className:"dualSelect",children:[p.jsx("option",{value:"",children:"Todos"}),p.jsx("option",{value:"ativo",children:"Ativo"}),p.jsx("option",{value:"inativo",children:"Inativo"})]})]})]})]}),p.jsxs("div",{className:"gridAvancado2",children:[p.jsxs("div",{className:"fieldGroup",children:[p.jsxs("label",{className:"fieldLabel",children:[p.jsx(Tr,{className:"fieldIcon"}),"Parâmetro"]}),p.jsxs("select",{value:a.parametro,onChange:e=>A("parametro",e.target.value),className:"fieldSelect",children:[p.jsx("option",{value:"",children:"Selecionar parâmetro..."}),p.jsx("option",{value:"ph",children:"pH"}),p.jsx("option",{value:"turbidez",children:"Turbidez"}),p.jsx("option",{value:"coliformes",children:"Coliformes"})]})]}),p.jsxs("div",{className:"fieldGroup",children:[p.jsx("label",{className:"fieldLabel",children:"Terceirização"}),p.jsxs("select",{value:a.terceirizacao,onChange:e=>A("terceirizacao",e.target.value),className:"fieldSelect",children:[p.jsx("option",{value:"",children:"Selecionar..."}),p.jsx("option",{value:"sim",children:"Sim"}),p.jsx("option",{value:"nao",children:"Não"})]})]}),p.jsxs("div",{className:"fieldGroup",children:[p.jsx("label",{className:"fieldLabel",children:"Laboratório"}),p.jsxs("select",{value:a.laboratorio,onChange:e=>A("laboratorio",e.target.value),className:"fieldSelect",children:[p.jsx("option",{value:"",children:"Selecionar laboratório..."}),p.jsx("option",{value:"lab1",children:"Laboratório Central"}),p.jsx("option",{value:"lab2",children:"Laboratório Norte"}),p.jsx("option",{value:"lab3",children:"Laboratório Sul"})]})]})]})]}),p.jsxs("div",{className:"actionButtonsContainer",children:[p.jsxs("div",{className:"actionButtonsLeft",children:[p.jsxs("button",{onClick:()=>{n({cliente:"",amostra:"",amostraInicio:"",amostraFim:"",entrada:"",entradaFim:"",coletadoPor:"",protocoloCliente:!1,protocolo:"",consultor:"",cidade:"",identificacao:"",relatorio:"",primeiraVersao:!1,legislacao:"",pop:"",parametro:"",terceirizacao:"",laboratorio:""}),j([]),z(),k(null),M(0),O(0),s(null),l("asc")},className:"buttonSecondary",children:[p.jsx(Ni,{className:"buttonIcon"}),"Limpar"]}),p.jsxs("button",{onClick:async()=>{N(!0),k(null),j([]);const e={cliente:a.cliente||null,sigla:a.amostra||null,numero_amostra_ini:a.amostraInicio||null,numero_amostra_fin:a.amostraFim||null,data_pesq1:a.entrada||null,data_pesq2:a.entradaFim||null,coletado_por:a.coletadoPor||null,protocolo:a.protocolo||null,consultor_id:{consultor1:1,consultor2:2}[a.consultor]||null,cidade:a.cidade||null,identificacao:a.identificacao||null,primeira_versao:a.primeiraVersao,legislacao_id:{conama:1,cetesb:2,portaria:3}[a.legislacao]||null,pop_codigo:a.pop.startsWith("POP-")?a.pop:null,parametro_id:{ph:101,turbidez:102,coliformes:103}[a.parametro]||null,terceirizacao:{nao:1,sim:2}[a.terceirizacao]||null,laboratorio_terceirizado_id:{lab1:1,lab2:2,lab3:3}[a.laboratorio]||null};try{const t=await r("buscar_amostras",{dataType:e});t.success&&t.data?(j(t.data),M(0),O(0)):k(t.message||"Ocorreu um erro desconhecido na busca.")}catch(t){k("string"==typeof t?t:"Falha na comunicação com o backend.")}finally{N(!1)}},className:"buttonPrimary",disabled:w,children:[w?p.jsx(Jn,{className:"buttonIcon animate-spin"}):p.jsx(Mi,{className:"buttonIcon"}),w?"Buscando...":"Buscar"]})]}),p.jsxs("div",{className:"actionButtonsRight",children:[p.jsxs("button",{className:"buttonGreen",children:[p.jsx(Mn,{className:"buttonIcon"}),"Gerar controle de qualidade"]}),p.jsxs("button",{className:"buttonGreen",children:[p.jsx(bi,{className:"buttonIcon"}),"Imprimir"]}),p.jsxs("button",{className:"buttonGreen",children:[p.jsx(yn,{className:"buttonIcon"}),"Gerar dados de amostragem"]})]})]})]}),p.jsxs("div",{className:"resultsCard",children:[p.jsxs("div",{className:"resultsHeader",children:[p.jsx("h2",{className:"resultsTitle",children:"Resultados da Pesquisa"}),p.jsxs("p",{className:"resultsSubtitle",children:[_.length," amostras encontradas"]})]}),p.jsx("div",{className:"resultsContent",children:(()=>{if(w)return p.jsxs("div",{className:"noResultsContainer",children:[p.jsx(Jn,{className:"noResultsIcon animate-spin-custom"}),p.jsx("p",{className:"noResultsTitle",children:"Buscando..."}),p.jsx("p",{className:"noResultsSubtitle",children:"Aguarde enquanto processamos sua solicitação."})]});if(C)return p.jsxs("div",{className:"noResultsContainer",children:[p.jsx(ln,{className:"noResultsIcon text-red-500"}),p.jsx("p",{className:"noResultsTitle",children:"Erro na Busca"}),p.jsx("p",{className:"noResultsSubtitle",children:C})]});if(0===_.length)return p.jsxs("div",{className:"noResultsContainer",children:[p.jsx(Nn,{className:"noResultsIcon"}),p.jsx("p",{className:"noResultsTitle",children:"Nenhuma amostra encontrada"}),p.jsx("p",{className:"noResultsSubtitle",children:"Utilize os filtros acima para pesquisar amostras."})]});const e=L(),t=$(),a=(()=>{const e=L();if(e<=P)return Array.from({length:e},(e,t)=>t);const t=Math.min(E+P,e);return Array.from({length:t-E},(e,t)=>E+t)})();return p.jsxs("div",{className:"resultsContainer",children:[e>1&&p.jsxs("div",{className:"paginationTabs",children:[p.jsxs("div",{className:"progressiveTabsContainer",children:[E>0&&p.jsxs("button",{onClick:q,className:"tabNavigationButton tabNavigationLeft",title:"Páginas anteriores",children:[p.jsx(an,{className:"tabNavigationIcon"}),p.jsx(wn,{className:"tabNavigationIcon"})]}),p.jsx("div",{className:"tabsContainer",children:a.map(e=>p.jsx("button",{onClick:()=>B(e),className:"paginationTab "+(S===e?"paginationTabActive":"paginationTabInactive"),children:e+1},e))}),E+P<e&&p.jsxs("button",{onClick:F,className:"tabNavigationButton tabNavigationRight",title:"Próximas páginas",children:[p.jsx(wn,{className:"tabNavigationIcon"}),p.jsx(rn,{className:"tabNavigationIcon"})]})]}),p.jsxs("div",{className:"paginationInfo",children:["Página ",S+1," de ",e," (",_.length," amostras)"]})]}),p.jsx("div",{className:"resultsTableContainer",children:p.jsxs("div",{className:"resultsTable",children:[p.jsxs("div",{className:"tableHeader",children:[p.jsxs("div",{className:"tableHeaderCell sortableHeader",onClick:()=>D("amostra"),title:"Clique para ordenar por amostra",children:["Amostra",W("amostra")]}),p.jsxs("div",{className:"tableHeaderCell sortableHeader",onClick:()=>D("cliente"),title:"Clique para ordenar por cliente",children:["Cliente",W("cliente")]}),p.jsxs("div",{className:"tableHeaderCell sortableHeader",onClick:()=>D("status"),title:"Clique para ordenar por status",children:["Status",W("status")]}),p.jsxs("div",{className:"tableHeaderCell sortableHeader",onClick:()=>D("datalab"),title:"Clique para ordenar por data (mais recente primeiro)",children:["Data Lab",W("datalab")]}),p.jsxs("div",{className:"tableHeaderCell sortableHeader",onClick:()=>D("identificacao"),title:"Clique para ordenar por identificação",children:["Identificação",W("identificacao")]}),p.jsx("div",{className:"tableHeaderCell",children:"Ações"})]}),p.jsx("div",{className:"tableBody",children:t.map((e,t)=>p.jsxs("div",{className:"tableRow",children:[p.jsxs("div",{className:"tableCell",children:[p.jsxs("span",{className:"sampleNumber",children:[e.sigla,e.numero]}),e.cert_versao&&p.jsxs("span",{className:"sampleVersion",children:["v",e.cert_versao]})]}),p.jsx("div",{className:"tableCell",children:p.jsx("span",{className:"clientName",children:e.fantasia})}),p.jsx("div",{className:"tableCell",children:p.jsx("span",{className:`statusBadge status${e.numero_amostras}`,children:null!=e.numero_amostras?"Emitido":""})}),p.jsxs("div",{className:"tableCell",children:[p.jsx("span",{className:"dateText",children:e.datalab}),e.horalab&&p.jsx("span",{className:"timeText",children:e.horalab})]}),p.jsx("div",{className:"tableCell",children:p.jsx("span",{className:"identificationText",children:e.identificacao||"-"})}),p.jsx("div",{className:"tableCell",children:p.jsxs("div",{className:"actionButtons",children:[p.jsx("button",{onClick:()=>{},className:"actionButton actionButtonView",title:"Visualizar amostra",children:p.jsx(Nn,{className:"actionIcon"})}),p.jsx("button",{onClick:()=>{},className:"actionButton actionButtonEdit",title:"Editar amostra",children:p.jsx(zi,{className:"actionIcon"})}),p.jsx("button",{onClick:()=>{},className:"actionButton actionButtonPdf",title:"Abrir PDF",children:p.jsx(Mn,{className:"actionIcon"})}),p.jsx("button",{onClick:()=>{},className:"actionButton actionButtonEmail",title:"Enviar por e-mail",children:p.jsx(ei,{className:"actionIcon"})})]})})]},t))})]})}),e>1&&p.jsxs("div",{className:"paginationNavigation",children:[p.jsxs("button",{onClick:()=>B(S-1),disabled:0===S,className:"paginationButton paginationButtonPrev",children:[p.jsx(an,{className:"paginationIcon"}),"Anterior"]}),p.jsxs("span",{className:"paginationCurrent",children:[S+1," / ",e]}),p.jsxs("button",{onClick:()=>B(S+1),disabled:S===e-1,className:"paginationButton paginationButtonNext",children:["Próxima",p.jsx(rn,{className:"paginationIcon"})]})]})]})})()})]})]})})})},Zy={container:"_container_iajvp_5",header:"_header_iajvp_29",form:"_form_iajvp_57",formGroup:"_formGroup_iajvp_81",label:"_label_iajvp_91",input:"_input_iajvp_105",inputError:"_inputError_iajvp_153",errorText:"_errorText_iajvp_171",checkboxLabel:"_checkboxLabel_iajvp_187",select:"_select_iajvp_299",textarea:"_textarea_iajvp_371",buttonGroup:"_buttonGroup_iajvp_441",buttonPrimary:"_buttonPrimary_iajvp_459",buttonSecondary:"_buttonSecondary_iajvp_521",message:"_message_iajvp_563",slideInDown:"_slideInDown_iajvp_1",success:"_success_iajvp_589",error:"_error_iajvp_171",closeMessage:"_closeMessage_iajvp_617",radioGroup:"_radioGroup_iajvp_697",radioLabel:"_radioLabel_iajvp_709"},Qy=e=>e?e.replace(/\D/g,""):"",e_=e=>{if(!e)return"";const t=Qy(e);return t.length>11?e:t.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2")},t_=e=>{if(!e)return"";const t=Qy(e);return t.length>14?e:t.replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d)/,"$1-$2")},a_=e=>{if(!e)return"";const t=e.replace(/\D/g,"");return t.length>11?a_(t.substring(0,11)):t.length>10?t.replace(/(\d{2})(\d{5})(\d{4})/,"($1)$2-$3"):10===t.length?t.replace(/(\d{2})(\d{4})(\d{4})/,"($1)$2-$3"):t.length>6?t.replace(/(\d{2})(\d{4,5})(\d*)/,"($1)$2-$3"):t.length>2?t.replace(/(\d{2})(\d*)/,"($1)$2"):t},r_=e=>{if(null==e||""===e)return"-";return String(e).replace(".",",")},n_=({labParaEdicao:e,onSalvar:t,onCancelar:a})=>{const[n,i]=f.useState({NOME:"",DOCUMENTO:"",TELEFONE:"",EMAIL:"",ATIVO:!0}),[s,o]=f.useState("cnpj"),[l,c]=f.useState(!1),[d,u]=f.useState(null),[h,m]=f.useState({}),g=!!e;f.useEffect(()=>{e&&(i({...e,NOME:e.NOME||"",DOCUMENTO:e.DOCUMENTO||"",TELEFONE:e.TELEFONE||"",EMAIL:e.EMAIL||"",ATIVO:1===e.ATIVO}),e.DOCUMENTO&&o(11===Qy(e.DOCUMENTO).length?"cpf":"cnpj"))},[e]);const x=(e,t)=>{let a=t;"DOCUMENTO"===e&&(a="cpf"===s?e_(Qy(t)):t_(Qy(t))),"TELEFONE"===e&&(a=a_(t)),"ATIVO"===e&&(a=Boolean(t)),i(t=>({...t,[e]:a})),h[e]&&m(t=>({...t,[e]:""}))};return p.jsxs("div",{className:Zy.container,children:[p.jsx("div",{className:Zy.header,children:p.jsx("h2",{children:g?"Editar Laboratório":"Novo Laboratório Terceirizado"})}),d&&p.jsx("div",{className:`${Zy.message} ${Zy[d.type]}`,children:d.text}),p.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!(()=>{const e={};return n.NOME.trim()||(e.NOME="Nome é obrigatório"),m(e),0===Object.keys(e).length})())return;c(!0),u(null);const a={...n,ATIVO:n.ATIVO?1:0};try{const e=g?"editar_lab_terceirizado":"cadastrar_lab_terceirizado",n=await r(e,{labData:a});n.success?(u({text:n.message,type:"success"}),setTimeout(t,1e3)):u({text:n.message,type:"error"})}catch(i){u({text:i?.message||"Erro ao salvar laboratório",type:"error"})}finally{c(!1)}},className:Zy.form,children:[p.jsxs("div",{className:Zy.formGroup,children:[p.jsx("label",{htmlFor:"NOME",className:Zy.label,children:"Nome *"}),p.jsx("input",{type:"text",id:"NOME",value:n.NOME,onChange:e=>x("NOME",e.target.value),className:`${Zy.input} ${h.NOME?Zy.inputError:""}`,placeholder:"Nome do Laboratório",disabled:l}),h.NOME&&p.jsx("span",{className:Zy.errorText,children:h.NOME})]}),p.jsxs("div",{className:Zy.formGroup,children:[p.jsx("label",{htmlFor:"DOCUMENTO",className:Zy.label,children:"Documento (CNPJ)"}),p.jsx("input",{type:"text",id:"DOCUMENTO",value:n.DOCUMENTO,onChange:e=>x("DOCUMENTO",e.target.value),className:Zy.input,placeholder:"00.000.000/0000-00",disabled:l,maxLength:18})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[p.jsxs("div",{className:Zy.formGroup,children:[p.jsx("label",{htmlFor:"TELEFONE",className:Zy.label,children:"Telefone"}),p.jsx("input",{type:"text",id:"TELEFONE",value:n.TELEFONE,onChange:e=>x("TELEFONE",e.target.value),className:Zy.input,placeholder:"(00) 00000-0000",disabled:l,maxLength:15})]}),p.jsxs("div",{className:Zy.formGroup,children:[p.jsx("label",{htmlFor:"EMAIL",className:Zy.label,children:"E-mail"}),p.jsx("input",{type:"email",id:"EMAIL",value:n.EMAIL,onChange:e=>x("EMAIL",e.target.value),className:Zy.input,placeholder:"contato@laboratorio.com",disabled:l})]})]}),p.jsx("div",{className:Zy.formGroup,children:p.jsxs("label",{className:Zy.checkboxLabel,children:[p.jsx("input",{type:"checkbox",checked:n.ATIVO,onChange:e=>x("ATIVO",e.target.checked),disabled:l})," Laboratório Ativo"]})}),p.jsxs("div",{className:Zy.buttonGroup,children:[p.jsx("button",{type:"button",onClick:a,className:Zy.buttonSecondary,disabled:l,children:"Cancelar"}),p.jsx("button",{type:"submit",className:Zy.buttonPrimary,disabled:l,children:l?"A Salvar...":g?"Salvar Alterações":"Cadastrar"})]})]})]})},i_={container:"_container_nu10j_5",header:"_header_nu10j_29",filters:"_filters_nu10j_63",searchInput:"_searchInput_nu10j_71",tableContainer:"_tableContainer_nu10j_119","has-scrollbar":"_has-scrollbar_nu10j_145",table:"_table_nu10j_119",status:"_status_nu10j_323",ativo:"_ativo_nu10j_347",inativo:"_inativo_nu10j_375",actions:"_actions_nu10j_403",buttonEdit:"_buttonEdit_nu10j_415",buttonDelete:"_buttonDelete_nu10j_417",loading:"_loading_nu10j_491",empty:"_empty_nu10j_493",spinner:"_spinner_nu10j_535",spin:"_spin_nu10j_535",buttonPrimary:"_buttonPrimary_nu10j_565",message:"_message_nu10j_617",slideInDown:"_slideInDown_nu10j_1",success:"_success_nu10j_643",error:"_error_nu10j_657",closeMessage:"_closeMessage_nu10j_671"},s_=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(!0),[i,s]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(""),m=f.useCallback(async()=>{n(!0);try{const e=await r("listar_labs_terceirizados");e.success&&e.data?t(e.data):s({text:e.message||"Erro ao carregar laboratórios",type:"error"})}catch(e){s({text:e?.message||"Erro de comunicação com o backend",type:"error"})}finally{n(!1)}},[]);f.useEffect(()=>{m()},[m]),f.useEffect(()=>{if(i){const e=setTimeout(()=>s(null),5e3);return()=>clearTimeout(e)}},[i]);const g=()=>{d(!1),l(null),m()},x=()=>{d(!1),l(null)},v=e.filter(e=>e.NOME?.toLowerCase().includes(u.toLowerCase())||e.DOCUMENTO?.includes(u));return c?p.jsx(n_,{labParaEdicao:o||void 0,onSalvar:g,onCancelar:x}):p.jsxs("div",{className:i_.container,children:[p.jsxs("div",{className:i_.header,children:[p.jsx("h2",{children:"Laboratórios Terceirizados"}),p.jsx("button",{onClick:()=>{l(null),d(!0)},className:i_.buttonPrimary,children:"Novo Laboratório"})]}),i&&p.jsxs("div",{className:`${i_.message} ${i_[i.type]}`,children:[i.text,p.jsx("button",{onClick:()=>s(null),className:i_.closeMessage,children:"×"})]}),p.jsx("div",{className:i_.filters,children:p.jsx("input",{type:"text",placeholder:"Buscar por nome ou documento...",value:u,onChange:e=>h(e.target.value),className:i_.searchInput})}),a?p.jsxs("div",{className:i_.loading,children:[p.jsx("div",{className:i_.spinner}),p.jsx("p",{children:"A carregar..."})]}):0===v.length?p.jsx("div",{className:i_.empty,children:p.jsx("p",{children:u?"Nenhum laboratório encontrado.":"Nenhum laboratório cadastrado."})}):p.jsx("div",{className:i_.tableContainer,children:p.jsxs("table",{className:i_.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Nome"}),p.jsx("th",{children:"Documento"}),p.jsx("th",{children:"Telefone"}),p.jsx("th",{children:"E-mail"}),p.jsx("th",{children:"Status"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:v.map(e=>p.jsxs("tr",{children:[p.jsx("td",{children:p.jsx("strong",{children:e.NOME||"N/A"})}),p.jsx("td",{children:e.DOCUMENTO||"N/A"}),p.jsx("td",{children:e.TELEFONE||"N/A"}),p.jsx("td",{children:e.EMAIL||"N/A"}),p.jsx("td",{children:p.jsx("span",{className:`${i_.status} ${1===e.ATIVO?i_.ativo:i_.inativo}`,children:1===e.ATIVO?"Ativo":"Inativo"})}),p.jsx("td",{children:p.jsxs("div",{className:i_.actions,children:[p.jsx("button",{onClick:()=>(e=>{l(e),d(!0)})(e),className:i_.buttonEdit,title:"Editar",children:"✏️"}),p.jsx("button",{onClick:()=>(async e=>{if(window.confirm(`Tem certeza que deseja remover o laboratório "${e.NOME}"?`))try{const t=await r("deletar_lab_terceirizado",{id:e.ID});t.success?(s({text:t.message,type:"success"}),m()):s({text:t.message,type:"error"})}catch(t){s({text:t?.message||"Erro ao remover laboratório",type:"error"})}})(e),className:i_.buttonDelete,title:"Remover",children:"🗑️"})]})})]},e.ID))})]})})]})},o_="_container_139sx_5",l_="_header_139sx_29",c_="_form_139sx_57",d_="_formGrid_139sx_81",u_="_formGroup_139sx_105",h_="_label_139sx_119",m_="_input_139sx_133",p_="_select_139sx_135",f_="_autocompleteWrapper_139sx_239",g_="_sugestoesLista_139sx_247",x_="_buttonGroup_139sx_473",v_="_buttonPrimary_139sx_491",b_="_buttonSecondary_139sx_543",y_="_limiteRow_139sx_949",__="_modalBackdrop_139sx_979",j_="_modalContent_139sx_1005",w_="_successModal_139sx_1027",N_="_errorModal_139sx_1035",C_="_modalButton_139sx_1067",k_=({options:e,selectedValue:t,onSelect:a,placeholder:r,disabled:n=!1})=>{const[i,s]=f.useState(""),[o,l]=f.useState(!1),c=f.useRef({options:e,selectedValue:t,onSelect:a});f.useEffect(()=>{c.current={options:e,selectedValue:t,onSelect:a}}),f.useEffect(()=>{const a=e.find(e=>String(e.id)===t);s(a?a.nome:"")},[t,e]);const d=i?e.filter(e=>e.nome.toLowerCase().includes(i.toLowerCase())):e;return p.jsxs("div",{className:f_,children:[p.jsx("input",{type:"text",value:i,onChange:e=>{s(e.target.value),l(!0)},onFocus:()=>l(!0),onBlur:()=>{setTimeout(()=>{l(!1);const{options:e,selectedValue:t}=c.current,a=e.find(e=>String(e.id)===t);s(a?a.nome:"")},150)},placeholder:r,className:m_,disabled:n,required:!0}),o&&p.jsx("ul",{className:g_,children:d.length>0?d.map(e=>p.jsxs("li",{onMouseDown:()=>{(e=>{const{onSelect:t}=c.current;t(String(e.id),"parametroId"in e?e.nome:void 0),s(e.nome),l(!1)})(e)},children:[e.nome," ","grupo"in e&&`(${e.grupo})`]},e.id)):p.jsx("li",{children:"Nenhuma opção encontrada."})})]})},S_=({itemParaEdicao:e,legislacaoIdSelecionada:t,onSalvar:a,onCancelar:n})=>{const[i,s]=f.useState([]),[o,l]=f.useState([]),[c,d]=f.useState([]),[u,h]=f.useState([]),[m,g]=f.useState([]),[x,v]=f.useState([]),[b,y]=f.useState({tipo:"",matriz:"",parametroId:"",parametroPopId:"",unidade:"",limiteMin:"",limiteSimbolo:"=",limiteMax:"",valor:"0.00"}),[_,j]=f.useState(""),[w,N]=f.useState(""),[C,k]=f.useState({lqi:"-",lqs:"-"}),[S,M]=f.useState("-"),[E,O]=f.useState(!0),[P,A]=f.useState({visible:!1,message:"",success:!1});f.useEffect(()=>{(async()=>{O(!0);try{const[e,t,a,n,i]=await Promise.all([r("listar_tipos"),r("listar_matrizes"),r("listar_unidades"),r("listar_parametros"),r("listar_parametros_pops")]);if(e.success&&Array.isArray(e.data)){const t=e.data.map(e=>({id:e.codigo,nome:e.nome}));s(t)}if(t.success&&Array.isArray(t.data)&&l(t.data),a.success&&Array.isArray(a.data)){const e=a.data.map(e=>({id:e.nome,nome:e.nome}));d(e)}n.success&&Array.isArray(n.data)&&h(n.data),i.success&&Array.isArray(i.data)&&g(i.data)}catch(e){A({visible:!0,message:"Erro fatal ao carregar dados. Verifique a conexão e os comandos no backend.",success:!1})}finally{O(!1)}})()},[]),f.useEffect(()=>{const e=u.find(e=>e.id===Number(b.parametroId));if(j(e?.grupo||""),b.parametroId){const e=m.filter(e=>e.id_parametro===Number(b.parametroId));v(e)}else v([]);e&&y(e=>({...e,parametroPopId:""}))},[b.parametroId,m,u]),f.useEffect(()=>{if(!b.parametroPopId)return N(""),k({lqi:"-",lqs:"-"}),void M("-");const e=m.find(e=>e.id===Number(b.parametroPopId));N(e?.objetivo||"-"),k({lqi:r_(e?.lqi),lqs:r_(e?.lqs)}),M(r_(e?.incerteza))},[b.parametroPopId,m]);const D=(e,t)=>{y(a=>({...a,[e]:t}))};return p.jsxs("div",{className:o_,children:[P.visible&&p.jsx("div",{className:__,children:p.jsxs("div",{className:`${j_} ${P.success?w_:N_}`,children:[p.jsx("h3",{children:P.success?"Sucesso!":"Erro!"}),p.jsx("p",{children:P.message}),p.jsx("button",{onClick:()=>{P.success&&a(),A({visible:!1,message:"",success:!1})},className:C_,children:"Fechar"})]})}),p.jsx("div",{className:l_,children:p.jsxs("h2",{children:[e?"Editar":"Novo"," Relacionamento"]})}),E?p.jsx("p",{children:"A carregar formulário..."}):p.jsxs("form",{className:c_,onSubmit:async e=>{e.preventDefault();try{const e={tipo:b.tipo,matriz:b.matriz,parametroId:b.parametroId,parametroPopId:b.parametroPopId,unidade:b.unidade,valor:b.valor,limite_min:b.limiteMin,limite_max:b.limiteMax,limite_simbolo:b.limiteSimbolo,legislacao:t,parametro_pop:Number(b.parametroPopId),ativo:!0},a=await r("cadastrar_legislacao_parametro_tauri",{payload:e});a.success?A({visible:!0,message:a.message||"Operação realizada com sucesso!",success:!0}):A({visible:!0,message:a.message||"Ocorreu um erro.",success:!1})}catch(a){A({visible:!0,message:a.toString(),success:!1})}},children:[p.jsxs("div",{className:d_,children:[p.jsxs("div",{className:u_,children:[p.jsx("label",{className:h_,children:"Tipo"}),p.jsx(k_,{options:i,selectedValue:b.tipo,onSelect:e=>{y(t=>({...t,tipo:e}))},placeholder:"Selecione o Tipo"})]}),p.jsxs("div",{className:u_,children:[p.jsx("label",{className:h_,children:"Matriz"}),p.jsx(k_,{options:o,selectedValue:b.matriz,onSelect:e=>{y(t=>({...t,matriz:e}))},placeholder:"Selecione a Matriz"})]}),p.jsxs("div",{className:u_,children:[p.jsx("label",{className:h_,children:"Parâmetro"}),p.jsx(k_,{options:u,selectedValue:b.parametroId,onSelect:e=>{y(t=>({...t,parametroId:e}))},placeholder:"Busque o Parâmetro"})]}),p.jsxs("div",{className:u_,children:[p.jsx("label",{className:h_,children:"Grupo"}),p.jsx("input",{type:"text",value:_,className:m_,readOnly:!0,disabled:!0})]}),p.jsxs("div",{className:u_,children:[p.jsx("label",{className:h_,children:"POP / Técnica"}),p.jsx(k_,{options:x.map(e=>({id:e.id,nome:`${e.pop_codigo||""} ${e.pop_numero||""} R${e.pop_revisao||""} - ${e.nome_tecnica||""}`})),selectedValue:b.parametroPopId,onSelect:e=>{y(t=>({...t,parametroPopId:e}))},placeholder:"Selecione o POP",disabled:!b.parametroId})]}),p.jsxs("div",{className:u_,children:[p.jsx("label",{className:h_,children:"Objetivo"}),p.jsx("input",{type:"text",value:w,className:m_,readOnly:!0,disabled:!0})]}),p.jsxs("div",{className:u_,children:[p.jsx("label",{className:h_,children:"LQ (Inferior / Superior)"}),p.jsx("input",{type:"text",value:`Inf: ${C.lqi} | Sup: ${C.lqs}`,className:m_,readOnly:!0,disabled:!0})]}),p.jsxs("div",{className:u_,children:[p.jsx("label",{className:h_,children:"Incerteza ±"}),p.jsx("input",{type:"text",value:S,className:m_,readOnly:!0,disabled:!0})]}),p.jsxs("div",{className:u_,children:[p.jsx("label",{className:h_,children:"Unidade"}),p.jsx(k_,{options:c,selectedValue:b.unidade,onSelect:e=>{y(t=>({...t,unidade:e}))},placeholder:"Selecione a Unidade"})]}),p.jsxs("div",{className:u_,children:[p.jsx("label",{className:h_,children:"Valor"}),p.jsx("input",{type:"number",name:"valor",value:b.valor,onChange:e=>D("valor",e.target.value),className:m_,step:"0.01",required:!0})]})]}),p.jsxs("div",{className:u_,children:[p.jsx("label",{className:h_,children:"Limite da Legislação"}),p.jsxs("div",{className:y_,children:[p.jsx("input",{type:"text",name:"limiteMin",value:b.limiteMin,onChange:e=>D("limiteMin",e.target.value),placeholder:"Mínimo",className:m_}),p.jsxs("select",{name:"limiteSimbolo",value:b.limiteSimbolo,onChange:e=>D("limiteSimbolo",e.target.value),className:p_,children:[p.jsx("option",{value:"=",children:"="}),p.jsx("option",{value:"<",children:"<"}),p.jsx("option",{value:">",children:">"}),p.jsx("option",{value:"<=",children:"<="}),p.jsx("option",{value:">=",children:">="}),p.jsx("option",{value:"até",children:"até"})]}),p.jsx("input",{type:"text",name:"limiteMax",value:b.limiteMax,onChange:e=>D("limiteMax",e.target.value),placeholder:"Máximo",className:m_})]})]}),p.jsxs("div",{className:x_,children:[p.jsx("button",{type:"button",onClick:n,className:b_,children:"Voltar"}),p.jsx("button",{type:"submit",className:v_,children:"Salvar Relacionamento"})]})]})]})},M_={container:"_container_x5r6t_5",header:"_header_x5r6t_29",filters:"_filters_x5r6t_63",searchInput:"_searchInput_x5r6t_71",tableContainer:"_tableContainer_x5r6t_121",table:"_table_x5r6t_121",actions:"_actions_x5r6t_325",buttonEdit:"_buttonEdit_x5r6t_337",buttonDelete:"_buttonDelete_x5r6t_339",empty:"_empty_x5r6t_415",spinner:"_spinner_x5r6t_457",buttonPrimary:"_buttonPrimary_x5r6t_487",success:"_success_x5r6t_565",error:"_error_x5r6t_579",autocompleteContainer:"_autocompleteContainer_x5r6t_903",suggestionsList:"_suggestionsList_x5r6t_917"},E_=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(null),[i,s]=f.useState(""),[o,l]=f.useState([]),[c,d]=f.useState(1),[u,h]=f.useState(1),[m,g]=f.useState(!0),[x,v]=f.useState(null),[b,y]=f.useState(null),[_,j]=f.useState(!1),[w,N]=f.useState(null),[C,k]=f.useState(""),[S,M]=f.useState(!1),E=f.useRef(null),[O,P]=f.useState(""),[A,D]=f.useState([]),[I,T]=f.useState([]);f.useEffect(()=>{(async()=>{g(!0);try{const[e,a,n]=await Promise.all([r("listar_legislacoes_ativas_tauri"),r("listar_tipos"),r("listar_matrizes")]);e.success&&Array.isArray(e.data)?t(e.data):v(e.message||"Falha ao carregar a lista de legislações."),a.success&&Array.isArray(a.data)&&D(a.data),n.success&&Array.isArray(n.data)&&T(n.data)}catch(e){v("Falha grave ao carregar dados iniciais da página.")}finally{g(!1)}})()},[]);const z=f.useCallback(async()=>{if(!a)return l([]),void h(1);g(!0),v(null);try{const e=await r("listar_legislacao_parametro_tauri",{legislacaoId:a,page:c,perPage:15});e.success&&e.data?(l(e.data.items),h(Math.ceil(e.data.total/e.data.per_page)||1)):v(e.message||"Erro ao carregar os dados da tabela.")}catch(e){v(`Erro grave ao carregar dados: ${e.toString()}`)}finally{g(!1)}},[a,c]),R=f.useCallback(e=>{const t=A.find(t=>t.codigo===e);return t?t.nome:e},[A]),L=f.useCallback(e=>{const t=I.find(t=>String(t.id)===e);return t?t.nome:e},[I]);f.useEffect(()=>{a&&z()},[z,a]);const $=C?e.filter(e=>e.nome.toLowerCase().includes(C.toLowerCase())):e;f.useEffect(()=>{const e=e=>{E.current&&!E.current.contains(e.target)&&(M(!1),k(a?i:""))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[a,i]);const B=o.filter(e=>{const t=O.toLowerCase();if(!t)return!0;const a=R(e.tipo||""),r=L(e.matriz||""),n={...e,tipo:a,matriz:r};return Object.values(n).some(e=>String(e).toLowerCase().includes(t))}),q=()=>{j(!1),N(null),y("Operação realizada com sucesso!"),setTimeout(()=>y(null),3e3),z()},F=e=>{N(e),j(!0)};return _?p.jsx(S_,{legislacaoIdSelecionada:a,itemParaEdicao:w,onSalvar:q,onCancelar:()=>{j(!1),N(null)}}):p.jsxs("div",{className:M_.container,children:[p.jsxs("div",{className:M_.header,children:[p.jsx("h2",{children:"Gerir Legislação x Parâmetro"}),p.jsx("button",{onClick:()=>F(null),className:M_.buttonPrimary,disabled:!a,title:a?"Novo Relacionamento":"Selecione uma legislação para cadastrar",children:"Novo Relacionamento"})]}),x&&p.jsx("div",{className:M_.error,children:x}),b&&p.jsx("div",{className:M_.success,children:b}),p.jsxs("div",{className:M_.filters,children:[p.jsxs("div",{className:M_.autocompleteContainer,ref:E,children:[p.jsx("input",{type:"text",placeholder:"Digite para buscar uma legislação...",value:C,onChange:e=>{const t=e.target.value;k(t),M(!0),null===a&&i===t||(n(null),s(""))},onFocus:()=>M(!0),className:M_.searchInput}),S&&p.jsx("ul",{className:M_.suggestionsList,children:$.length>0?$.map(e=>p.jsx("li",{onClick:()=>(e=>{n(e.id),s(e.nome),k(e.nome),M(!1),d(1),P("")})(e),children:e.nome},e.id)):p.jsx("li",{children:"Nenhuma legislação encontrada."})})]}),p.jsx("input",{type:"text",placeholder:"Buscar na tabela atual...",value:O,onChange:e=>P(e.target.value),className:M_.searchInput,disabled:!a||0===o.length})]}),p.jsx("div",{className:M_.tableContainer,children:p.jsxs("table",{className:M_.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"ID"}),p.jsx("th",{children:"Parâmetro / Grupo"}),p.jsx("th",{children:"Tipo / Matriz"}),p.jsx("th",{children:"POP / Técnica"}),p.jsx("th",{children:"Unidade"}),p.jsx("th",{children:"LQ Inferior / Superior"}),p.jsx("th",{children:"Incerteza"}),p.jsx("th",{children:"Limite Legislação"}),p.jsx("th",{children:"Valor"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:m&&0===o.length?p.jsx("tr",{children:p.jsx("td",{colSpan:10,className:M_.loadingCell,children:p.jsx("div",{className:M_.spinner})})}):B.length>0?B.map(e=>p.jsxs("tr",{children:[p.jsx("td",{children:e.id}),p.jsxs("td",{children:[p.jsx("strong",{children:e.nome_parametro||"-"}),p.jsx("br",{}),p.jsxs("small",{children:["Grupo: ",e.grupo||"-"]})]}),p.jsxs("td",{children:[p.jsx("strong",{children:R(e.tipo||"-")}),p.jsx("br",{}),p.jsxs("small",{children:["Matriz: ",L(e.matriz||"-")]})]}),p.jsxs("td",{children:[p.jsx("strong",{children:e.pop_numero?`${e.pop_codigo}/${e.pop_numero}`:"-"}),p.jsx("br",{}),p.jsxs("small",{children:["Téc: ",e.nome_tecnica||"-"]})]}),p.jsx("td",{children:e.unidade||"-"}),p.jsx("td",{children:`Inf: ${e.lqi||"-"} | Sup: ${e.lqs||"-"}`}),p.jsx("td",{children:e.incerteza||"-"}),p.jsx("td",{children:`${e.limite_min||""} ${e.limite_simbolo||""} ${e.limite_max||""}`.trim()||"N.A."}),p.jsx("td",{children:e.valor||"-"}),p.jsx("td",{children:p.jsxs("div",{className:M_.actions,children:[p.jsx("button",{onClick:()=>F(e),className:M_.buttonEdit,title:"Editar",children:"✏️"}),p.jsx("button",{onClick:()=>(async e=>{if(window.confirm(`Tem certeza que deseja remover o relacionamento para "${e.nome_parametro}"?`))try{await r("deletar_legislacao_parametro_tauri",{id:e.id}),y("Relacionamento removido com sucesso!"),setTimeout(()=>y(null),3e3),z()}catch(t){v(`Erro ao remover: ${t.toString()}`)}})(e),className:M_.buttonDelete,title:"Remover",children:"🗑️"})]})})]},e.id)):p.jsx("tr",{children:p.jsx("td",{colSpan:10,className:M_.empty,children:a?"Nenhum parâmetro encontrado para esta legislação.":"Selecione uma legislação acima para começar."})})})]})}),o.length>0&&u>1&&p.jsxs("div",{className:M_.pagination,children:[p.jsx("button",{onClick:()=>d(e=>e-1),disabled:c<=1||m,className:M_.buttonPrimary,children:"Anterior"}),p.jsxs("span",{children:["Página ",c," de ",u]}),p.jsx("button",{onClick:()=>d(e=>e+1),disabled:c>=u||m,className:M_.buttonPrimary,children:"Próxima"})]})]})},O_="_container_yzap6_3",P_="_header_yzap6_23",A_="_workbench_yzap6_55",D_="_expressionDisplay_yzap6_95",I_="_variablesArea_yzap6_119",T_="_variableInputs_yzap6_133",z_="_variableInput_yzap6_133",R_="_testButton_yzap6_191",L_="_resultArea_yzap6_223",$_="_library_yzap6_247",B_="_toolbar_yzap6_251",q_="_tableContainer_yzap6_331",F_="_selectedRow_yzap6_421",W_="_actions_yzap6_433",G_="_buttonEdit_yzap6_435",H_="_buttonDelete_yzap6_435",V_="_error_yzap6_453",U_="_modalBackdrop_q84f7_1",K_="_modalContent_q84f7_11",Y_="_modalHeader_q84f7_17",X_="_closeButton_q84f7_27",J_="_formBody_q84f7_29",Z_="_formGroup_q84f7_31",Q_="_modalFooter_q84f7_43",ej="_cancelButton_q84f7_57",tj="_saveButton_q84f7_59",aj=({mode:e,initialData:t,onSave:a,onClose:r})=>{const[n,i]=f.useState({name:"",description:"",expression:""});f.useEffect(()=>{i("edit"===e&&t?{name:t.name,description:t.description||"",expression:t.expression}:{name:"",description:"",expression:""})},[e,t]);const s=e=>{const{name:t,value:a}=e.target;i(e=>({...e,[t]:a}))};return p.jsx("div",{className:U_,onClick:r,children:p.jsx("div",{className:K_,onClick:e=>e.stopPropagation(),children:p.jsxs("form",{onSubmit:e=>{e.preventDefault(),n.name.trim()&&n.expression.trim()?a(n,t?.id):alert("Nome e Expressão são campos obrigatórios.")},children:[p.jsxs("header",{className:Y_,children:[p.jsx("h2",{children:"create"===e?"Cadastrar Nova Fórmula":"Editar Fórmula"}),p.jsx("button",{type:"button",onClick:r,className:X_,children:"×"})]}),p.jsxs("div",{className:J_,children:[p.jsxs("div",{className:Z_,children:[p.jsx("label",{htmlFor:"name",children:"Nome da Fórmula"}),p.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:s,required:!0})]}),p.jsxs("div",{className:Z_,children:[p.jsx("label",{htmlFor:"description",children:"Descrição"}),p.jsx("input",{type:"text",id:"description",name:"description",value:n.description,onChange:s})]}),p.jsxs("div",{className:Z_,children:[p.jsx("label",{htmlFor:"expression",children:"Expressão Matemática"}),p.jsx("textarea",{id:"expression",name:"expression",value:n.expression,onChange:s,rows:5,required:!0,placeholder:"(var1 + var2) / sqrt(var3)"})]})]}),p.jsxs("footer",{className:Q_,children:[p.jsx("button",{type:"button",onClick:r,className:ej,children:"Cancelar"}),p.jsx("button",{type:"submit",className:tj,children:"Salvar"})]})]})})})},rj=()=>{const[e,t]=f.useState([]),[a,n]=f.useState("loading"),[i,s]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState([]),[u,h]=f.useState({}),[m,g]=f.useState(null),[x,v]=f.useState(""),[b,y]=f.useState({mode:"closed"}),_=f.useCallback(async()=>{n("loading");try{const e=await r("listar_calculos");if(!e.success)throw new Error(e.message);t(e.data),n("idle")}catch(e){s(e.message||"Erro ao carregar fórmulas."),n("error")}},[]);f.useEffect(()=>{_()},[_]);const j=f.useCallback(async e=>{l(e),h({}),g(null),d([]),window.scrollTo({top:0,behavior:"smooth"});try{const t=await r("validar_formula",{payload:{expression:e.expression}});t.success?d(t.data.variables):g(`Erro na fórmula selecionada: ${t.message}`)}catch(t){g(`Erro ao comunicar com o backend: ${t.message}`)}},[]),w=f.useCallback(async()=>{if(!o)return;const e={};let t=!1;for(const r of c){const a=parseFloat(u[r]);if(isNaN(a)){g(`Erro: O valor para '${r}' é inválido ou não foi preenchido.`),t=!0;break}e[r]=a}if(!t)try{const t=await r("testar_formula",{payload:{expression:o.expression,variables:e}});t.success?g(`Resultado: ${t.data.result}`):g(`Erro no cálculo: ${t.message}`)}catch(a){g(`Erro de comunicação: ${a.message}`)}},[o,c,u]),N=f.useCallback(async e=>{if(window.confirm("Tem certeza que deseja deletar esta fórmula? A ação não pode ser desfeita."))try{await r("deletar_calculo",{id:e}),o?.id===e&&(l(null),g(null)),await _()}catch(t){alert(`Erro ao deletar: ${t.message}`)}},[o,_]),C=f.useCallback(async(e,t)=>{try{"edit"===b.mode&&t?await r("editar_calculo",{id:t,payload:e}):await r("salvar_calculo",{payload:e}),y({mode:"closed"}),await _()}catch(a){alert(`Erro ao salvar: ${a.message}`)}},[b.mode,_]),k=f.useMemo(()=>e.filter(e=>e.name.toLowerCase().includes(x.toLowerCase())||e.expression.toLowerCase().includes(x.toLowerCase())),[e,x]);return p.jsxs("div",{className:O_,children:["closed"!==b.mode&&p.jsx(aj,{mode:b.mode,initialData:b.formula,onSave:C,onClose:()=>y({mode:"closed"})}),p.jsx("header",{className:P_,children:p.jsx("h1",{children:"Motor de Cálculos"})}),o&&p.jsxs("section",{className:A_,children:[p.jsxs("h2",{children:["Calculadora: ",o.name]}),p.jsx("div",{className:D_,children:p.jsx("code",{children:o.expression})}),c.length>0&&p.jsxs("div",{className:I_,children:[p.jsx("h3",{children:"Preencha os Valores:"}),p.jsx("div",{className:T_,children:c.map(e=>p.jsxs("div",{className:z_,children:[p.jsxs("label",{htmlFor:e,children:[e,":"]}),p.jsx("input",{type:"number",id:e,value:u[e]||"",onChange:t=>h(a=>({...a,[e]:t.target.value}))})]},e))}),p.jsx("button",{onClick:w,className:R_,children:"Calcular"})]}),m&&p.jsx("div",{className:L_,children:p.jsx("pre",{children:p.jsx("code",{children:m})})})]}),p.jsxs("section",{className:$_,children:[p.jsxs("div",{className:B_,children:[p.jsx("input",{type:"text",placeholder:"Digite para filtrar a biblioteca de fórmulas...",value:x,onChange:e=>v(e.target.value)}),p.jsx("button",{onClick:()=>y({mode:"create"}),children:"+ Cadastrar Nova Fórmula"})]}),p.jsxs("div",{className:q_,children:["loading"===a&&p.jsx("p",{children:"Carregando biblioteca..."}),"error"===a&&p.jsx("p",{className:V_,children:i}),"idle"===a&&p.jsxs("table",{children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Nome"}),p.jsx("th",{children:"Expressão"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:k.length>0?k.map(e=>p.jsxs("tr",{onClick:()=>j(e),className:o?.id===e.id?F_:"",children:[p.jsx("td",{children:e.name}),p.jsx("td",{children:p.jsx("code",{children:e.expression})}),p.jsx("td",{children:p.jsxs("div",{className:W_,children:[p.jsx("button",{onClick:t=>{t.stopPropagation(),y({mode:"edit",formula:e})},className:G_,title:"Editar Fórmula",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),p.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),p.jsx("button",{onClick:t=>{t.stopPropagation(),N(e.id)},className:H_,title:"Deletar Fórmula",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("polyline",{points:"3 6 5 6 21 6"}),p.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),p.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),p.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})})]},e.id)):p.jsx("tr",{children:p.jsx("td",{colSpan:3,children:"Nenhuma fórmula encontrada."})})})]})]})]})]})},nj={container:"_container_swarc_5",formContainer:"_formContainer_swarc_29",header:"_header_swarc_49",message:"_message_swarc_79",slideInDown:"_slideInDown_swarc_1",success:"_success_swarc_105",error:"_error_swarc_119",closeMessage:"_closeMessage_swarc_133",form:"_form_swarc_29",formGroup:"_formGroup_swarc_181",label:"_label_swarc_193",input:"_input_swarc_207",inputError:"_inputError_swarc_269",errorText:"_errorText_swarc_287",radioGroup:"_radioGroup_swarc_301",radioLabel:"_radioLabel_swarc_315",buttonGroup:"_buttonGroup_swarc_375",buttonPrimary:"_buttonPrimary_swarc_393",buttonSecondary:"_buttonSecondary_swarc_453",status:"_status_swarc_539",ativo:"_ativo_swarc_563",inativo:"_inativo_swarc_591"},ij=({consultorParaEdicao:e,onSalvar:t,onCancelar:a})=>{const[n,i]=f.useState({nome:"",documento:"",telefone:"",email:"",ativo:!0}),[s,o]=f.useState("cnpj"),[l,c]=f.useState(!1),[d,u]=f.useState(null),[h,m]=f.useState({}),g=!!e;f.useEffect(()=>{e&&(i(e),e.documento&&o(11===Qy(e.documento).length?"cpf":"cnpj"))},[e]),f.useEffect(()=>{if(d){const e=setTimeout(()=>u(null),5e3);return()=>clearTimeout(e)}},[d]);const x=(e,t)=>{let a=t;"documento"===e&&(a="cpf"===s?e_(Qy(t)):t_(Qy(t))),"telefone"===e&&(a=a_(t)),"ativo"===e&&(a=Boolean(t)),i(t=>({...t,[e]:a})),h[e]&&m(t=>({...t,[e]:""}))};return p.jsxs("div",{className:nj.container,children:[p.jsx("div",{className:nj.header,children:p.jsx("h2",{children:g?"Editar Consultor":"Cadastrar Consultor"})}),d&&p.jsx("div",{className:`${nj.message} ${nj[d.type]}`,children:d.text}),p.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};if(n.nome.trim()||(e.nome="Nome é obrigatório"),n.documento){const t=Qy(n.documento);"cpf"===s&&t.length>0&&11!==t.length&&(e.documento="CPF deve ter 11 dígitos"),"cnpj"===s&&t.length>0&&14!==t.length&&(e.documento="CNPJ deve ter 14 dígitos")}return m(e),0===Object.keys(e).length})()){c(!0),u(null);try{let e,a;if(g){e="editar_consultor";a={consultor:{...n,ativo:n.ativo?1:0}}}else{e="cadastrar_consultor";a={consultorData:{...n,ativo:n.ativo}}}const i=await r(e,a);i.success&&i.data?t(i.data):u({text:i.message,type:"error"})}catch(a){u({text:a?.message||"Um erro desconhecido ocorreu.",type:"error"})}finally{c(!1)}}},className:nj.form,children:[p.jsxs("div",{className:nj.formGroup,children:[p.jsx("label",{htmlFor:"nome",className:nj.label,children:"Nome *"}),p.jsx("input",{type:"text",id:"nome",value:n.nome,onChange:e=>x("nome",e.target.value),className:`${nj.input} ${h.nome?nj.inputError:""}`,placeholder:"Digite o nome completo",disabled:l}),h.nome&&p.jsx("span",{className:nj.errorText,children:h.nome})]}),p.jsxs("div",{className:nj.formGroup,children:[p.jsx("label",{className:nj.label,children:"Tipo de Documento"}),p.jsxs("div",{className:nj.radioGroup,children:[p.jsxs("label",{className:nj.radioLabel,children:[p.jsx("input",{type:"radio",value:"cnpj",checked:"cnpj"===s,onChange:()=>o("cnpj"),disabled:l})," CNPJ"]}),p.jsxs("label",{className:nj.radioLabel,children:[p.jsx("input",{type:"radio",value:"cpf",checked:"cpf"===s,onChange:()=>o("cpf"),disabled:l})," CPF"]})]})]}),p.jsxs("div",{className:nj.formGroup,children:[p.jsx("label",{htmlFor:"documento",className:nj.label,children:s.toUpperCase()}),p.jsx("input",{type:"text",id:"documento",value:n.documento||"",onChange:e=>x("documento",e.target.value),className:`${nj.input} ${h.documento?nj.inputError:""}`,placeholder:`Digite o ${s.toUpperCase()}`,disabled:l,maxLength:"cpf"===s?14:18}),h.documento&&p.jsx("span",{className:nj.errorText,children:h.documento})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[p.jsxs("div",{className:nj.formGroup,children:[p.jsx("label",{htmlFor:"telefone",className:nj.label,children:"Telefone"}),p.jsx("input",{type:"text",id:"telefone",value:n.telefone||"",onChange:e=>x("telefone",e.target.value),className:nj.input,placeholder:"(00) 00000-0000",disabled:l,maxLength:15})]}),p.jsxs("div",{className:nj.formGroup,children:[p.jsx("label",{htmlFor:"email",className:nj.label,children:"E-mail"}),p.jsx("input",{type:"email",id:"email",value:n.email||"",onChange:e=>x("email",e.target.value),className:nj.input,placeholder:"exemplo@email.com",disabled:l})]})]}),p.jsx("div",{className:nj.formGroup,children:p.jsxs("label",{className:nj.radioLabel,children:[p.jsx("input",{type:"checkbox",checked:n.ativo,onChange:e=>x("ativo",e.target.checked),disabled:l})," Consultor Ativo"]})}),p.jsxs("div",{className:nj.buttonGroup,children:[p.jsx("button",{type:"button",onClick:a,className:nj.buttonSecondary,disabled:l,children:"Cancelar"}),p.jsx("button",{type:"submit",className:nj.buttonPrimary,disabled:l,children:l?"Salvando...":g?"Salvar Alterações":"Cadastrar"})]})]})]})},sj={container:"_container_1d34w_5",header:"_header_1d34w_25",buttonPrimary:"_buttonPrimary_1d34w_61",buttonSecondary:"_buttonSecondary_1d34w_113",message:"_message_1d34w_163",slideInDown:"_slideInDown_1d34w_1",success:"_success_1d34w_189",error:"_error_1d34w_203",closeMessage:"_closeMessage_1d34w_217",filters:"_filters_1d34w_255",searchInput:"_searchInput_1d34w_263",loading:"_loading_1d34w_313",spinner:"_spinner_1d34w_341",spin:"_spin_1d34w_341",empty:"_empty_1d34w_377",tableContainer:"_tableContainer_1d34w_421","has-scrollbar":"_has-scrollbar_1d34w_447",table:"_table_1d34w_421",nameCell:"_nameCell_1d34w_629",documentCell:"_documentCell_1d34w_639",status:"_status_1d34w_663",ativo:"_ativo_1d34w_687",inativo:"_inativo_1d34w_715",actions:"_actions_1d34w_745",buttonEdit:"_buttonEdit_1d34w_757",buttonDelete:"_buttonDelete_1d34w_759",footer:"_footer_1d34w_835"},oj=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(!0),[i,s]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState("");f.useEffect(()=>{m()},[]),f.useEffect(()=>{if(i){const e=setTimeout(()=>s(null),5e3);return()=>clearTimeout(e)}},[i]);const m=async()=>{n(!0);try{const e=await r("show_cadastrados");e.success&&e.data?t(e.data):(s({text:e.message||"Erro ao carregar consultores",type:"error"}),t([]))}catch(e){s({text:`Erro ao carregar consultores: ${e}`,type:"error"}),t([])}finally{n(!1)}},g=e=>{s({text:"Consultor editado com sucesso!",type:"success"}),l(null),d(!1),m()},x=()=>{l(null),d(!1)},v=()=>{l(null),d(!0)},b=()=>{s({text:"Consultor cadastrado com sucesso!",type:"success"}),d(!1),m()},y=e.filter(e=>e.nome.toLowerCase().includes(u.toLowerCase())||e.documento&&e.documento.includes(u)||e.email&&e.email.toLowerCase().includes(u.toLowerCase())),_=e=>{if(!e)return"Não informado";const t=e.replace(/\D/g,"");return 11===t.length||t.length,e};return c?p.jsx(ij,{consultorParaEdicao:o||void 0,onSalvar:o?g:b,onCancelar:x}):p.jsxs("div",{className:sj.container,children:[p.jsxs("div",{className:sj.header,children:[p.jsx("h2",{children:"Consultores Cadastrados"}),p.jsx("button",{onClick:v,className:sj.buttonPrimary,disabled:a,children:"Novo Consultor"})]}),i&&p.jsxs("div",{className:`${sj.message} ${sj[i.type]}`,children:[i.text,p.jsx("button",{onClick:()=>s(null),className:sj.closeMessage,"aria-label":"Fechar mensagem",children:"×"})]}),p.jsx("div",{className:sj.filters,children:p.jsx("input",{type:"text",placeholder:"🔍 Buscar por nome, documento ou e-mail...",value:u,onChange:e=>h(e.target.value),className:sj.searchInput,disabled:a})}),a?p.jsxs("div",{className:sj.loading,children:[p.jsx("div",{className:sj.spinner}),p.jsx("p",{children:"Carregando consultores..."})]}):0===y.length?p.jsxs("div",{className:sj.empty,children:[p.jsx("p",{children:u?"Nenhum consultor encontrado com os critérios de busca.":"Nenhum consultor cadastrado."}),!u&&p.jsx("button",{onClick:v,className:sj.buttonPrimary,children:"Cadastrar Primeiro Consultor"})]}):p.jsx("div",{className:sj.tableContainer,children:p.jsxs("table",{className:sj.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Nome"}),p.jsx("th",{children:"Documento"}),p.jsx("th",{children:"Telefone"}),p.jsx("th",{children:"E-mail"}),p.jsx("th",{children:"Status"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:y.map(e=>p.jsxs("tr",{children:[p.jsx("td",{className:sj.nameCell,children:p.jsx("strong",{children:e.nome})}),p.jsx("td",{children:p.jsx("span",{className:sj.documentCell,children:_(e.documento)})}),p.jsx("td",{children:e.telefone||"Não informado"}),p.jsx("td",{children:e.email||"Não informado"}),p.jsx("td",{children:p.jsx("span",{className:`${sj.status} ${e.ativo?sj.ativo:sj.inativo}`,children:e.ativo?"Ativo":"Inativo"})}),p.jsx("td",{children:p.jsxs("div",{className:sj.actions,children:[p.jsx("button",{onClick:()=>(e=>{l(e),d(!0)})(e),className:sj.buttonEdit,title:"Editar consultor",disabled:a,"aria-label":`Editar ${e.nome}`,children:"✏️"}),p.jsx("button",{onClick:()=>(async e=>{if(!e.id)return;if(window.confirm(`Tem certeza que deseja remover o consultor "${e.nome}"?`))try{const t=Number(e.id),a=await r("deletar_consultor",{id:t});a.success?(s({text:a.message,type:"success"}),m()):s({text:a.message,type:"error"})}catch(t){s({text:t?.message||"Erro desconhecido ao remover consultor.",type:"error"})}})(e),className:sj.buttonDelete,title:"Remover consultor",disabled:a,"aria-label":`Remover ${e.nome}`,children:"🗑️"})]})})]},e.id||e.nome))})]})}),p.jsxs("div",{className:sj.footer,children:[p.jsx("p",{children:y.length===e.length?`Total: ${y.length} consultor${1!==y.length?"es":""}`:`Exibindo: ${y.length} de ${e.length} consultores`}),p.jsx("button",{onClick:m,className:sj.buttonSecondary,disabled:a,children:a?"Carregando...":"🔄 Atualizar Lista"})]})]})},lj={container:"_container_1inb3_5",header:"_header_1inb3_35",form:"_form_1inb3_65",formGroup:"_formGroup_1inb3_89",label:"_label_1inb3_101",required:"_required_1inb3_115",input:"_input_1inb3_127",inputError:"_inputError_1inb3_189",errorText:"_errorText_1inb3_209",buttonGroup:"_buttonGroup_1inb3_243",buttonPrimary:"_buttonPrimary_1inb3_261",buttonSecondary:"_buttonSecondary_1inb3_335",message:"_message_1inb3_411",slideInDown:"_slideInDown_1inb3_1",success:"_success_1inb3_437",error:"_error_1inb3_209",closeMessage:"_closeMessage_1inb3_465",loading:"_loading_1inb3_503",spinner:"_spinner_1inb3_521",spin:"_spin_1inb3_521"},cj=({tipoParaEdicao:e,onSalvar:t,onCancelar:a})=>{const[n,i]=f.useState({nome:"",codigo:""}),[s,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState({}),h=!!e,m=e?.codigo;f.useEffect(()=>{e&&i(e)},[e]);const g=(e,t)=>{let a=t;"codigo"===e&&(a=t.toUpperCase().slice(0,2)),i(t=>({...t,[e]:a})),d[e]&&u(t=>({...t,[e]:""}))};return p.jsxs("div",{className:lj.container,children:[p.jsx("div",{className:lj.header,children:p.jsx("h2",{children:h?"Editar Tipo":"Novo Tipo"})}),l&&p.jsx("div",{className:`${lj.message} ${lj[l.type]}`,children:l.text}),p.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n.nome.trim()||(e.nome="Nome é obrigatório"),n.codigo.trim()?2!==n.codigo.trim().length&&(e.codigo="Sigla deve ter 2 caracteres"):e.codigo="Sigla é obrigatória",u(e),0===Object.keys(e).length})()){o(!0),c(null);try{let e;e=h&&m?await r("editar_tipo",{codigo:m,tipoData:n}):await r("cadastrar_tipo",{tipoData:n}),e.success?(c({text:e.message,type:"success"}),setTimeout(t,1e3)):c({text:e.message,type:"error"})}catch(a){c({text:a?.message||"Erro ao salvar tipo",type:"error"})}finally{o(!1)}}},className:lj.form,children:[p.jsxs("div",{className:lj.formGroup,children:[p.jsx("label",{htmlFor:"nome",className:lj.label,children:"Nome do Tipo *"}),p.jsx("input",{type:"text",id:"nome",value:n.nome,onChange:e=>g("nome",e.target.value),className:`${lj.input} ${d.nome?lj.inputError:""}`,placeholder:"Ex: Água Potável",disabled:s}),d.nome&&p.jsx("span",{className:lj.errorText,children:d.nome})]}),p.jsxs("div",{className:lj.formGroup,children:[p.jsx("label",{htmlFor:"codigo",className:lj.label,children:"Sigla (2 Letras) *"}),p.jsx("input",{type:"text",id:"codigo",value:n.codigo,onChange:e=>g("codigo",e.target.value),className:`${lj.input} ${d.codigo?lj.inputError:""}`,placeholder:"Ex: AP",disabled:s||h,maxLength:2}),d.codigo&&p.jsx("span",{className:lj.errorText,children:d.codigo})]}),p.jsxs("div",{className:lj.buttonGroup,children:[p.jsx("button",{type:"button",onClick:a,className:lj.buttonSecondary,disabled:s,children:"Cancelar"}),p.jsx("button",{type:"submit",className:lj.buttonPrimary,disabled:s,children:s?"A Salvar...":h?"Salvar Alterações":"Cadastrar"})]})]})]})},dj={container:"_container_1acb6_3",header:"_header_1acb6_29",filters:"_filters_1acb6_65",searchInput:"_searchInput_1acb6_73",tableContainer:"_tableContainer_1acb6_123","has-scrollbar":"_has-scrollbar_1acb6_149",table:"_table_1acb6_123",codeCell:"_codeCell_1acb6_331",actions:"_actions_1acb6_355",buttonEdit:"_buttonEdit_1acb6_367",buttonDelete:"_buttonDelete_1acb6_369",loading:"_loading_1acb6_445",spinner:"_spinner_1acb6_473",spin:"_spin_1acb6_473",buttonPrimary:"_buttonPrimary_1acb6_505",message:"_message_1acb6_559",slideInDown:"_slideInDown_1acb6_1",success:"_success_1acb6_585",error:"_error_1acb6_599",closeMessage:"_closeMessage_1acb6_613",empty:"_empty_1acb6_651"},uj=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(!0),[i,s]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(""),m=f.useCallback(async()=>{n(!0);try{const e=await r("listar_tipos");e.success&&e.data?t(e.data):s({text:e.message||"Erro ao carregar tipos",type:"error"})}catch(e){s({text:e?.message||"Erro de comunicação com o backend",type:"error"})}finally{n(!1)}},[]);f.useEffect(()=>{m()},[m]);const g=()=>{d(!1),l(null),m()},x=()=>{d(!1),l(null)},v=e.filter(e=>e.nome?.toLowerCase().includes(u.toLowerCase())||e.codigo?.toLowerCase().includes(u.toLowerCase()));return c?p.jsx(cj,{tipoParaEdicao:o||void 0,onSalvar:g,onCancelar:x}):p.jsxs("div",{className:dj.container,children:[p.jsxs("div",{className:dj.header,children:[p.jsx("h2",{children:"Gerir Tipos"}),p.jsx("button",{onClick:()=>{l(null),d(!0)},className:dj.buttonPrimary,children:"Novo Tipo"})]}),i&&p.jsx("div",{className:`${dj.message} ${dj[i.type]}`,children:i.text}),p.jsx("div",{className:dj.filters,children:p.jsx("input",{type:"text",placeholder:"Buscar por nome ou sigla...",value:u,onChange:e=>h(e.target.value),className:dj.searchInput})}),a?p.jsxs("div",{className:dj.loading,children:[p.jsx("div",{className:dj.spinner}),p.jsx("p",{children:"A carregar..."})]}):p.jsx("div",{className:dj.tableContainer,children:p.jsxs("table",{className:dj.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Nome"}),p.jsx("th",{children:"Sigla"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:v.map(e=>p.jsxs("tr",{children:[p.jsx("td",{children:p.jsx("strong",{children:e.nome||"N/A"})}),p.jsx("td",{children:p.jsx("span",{className:dj.codeCell,children:e.codigo||"N/A"})}),p.jsx("td",{children:p.jsxs("div",{className:dj.actions,children:[p.jsx("button",{onClick:()=>(e=>{l(e),d(!0)})(e),className:dj.buttonEdit,title:"Editar",children:"✏️"}),p.jsx("button",{onClick:()=>(async e=>{if(window.confirm(`Tem certeza que deseja remover o tipo "${e.nome}"?`))try{const t=await r("deletar_tipo",{codigo:e.codigo});t.success?(s({text:t.message,type:"success"}),m()):s({text:t.message,type:"error"})}catch(t){s({text:t?.message||"Erro ao remover tipo",type:"error"})}})(e),className:dj.buttonDelete,title:"Remover",children:"🗑️"})]})})]},e.codigo))})]})})]})},hj={container:"_container_123w0_5",header:"_header_123w0_29",form:"_form_123w0_57",formGroup:"_formGroup_123w0_81",label:"_label_123w0_91",input:"_input_123w0_105",inputError:"_inputError_123w0_151",errorText:"_errorText_123w0_169",buttonGroup:"_buttonGroup_123w0_183",buttonPrimary:"_buttonPrimary_123w0_201",buttonSecondary:"_buttonSecondary_123w0_253",message:"_message_123w0_291",slideInDown:"_slideInDown_123w0_1",success:"_success_123w0_317",error:"_error_123w0_169",closeMessage:"_closeMessage_123w0_345",textarea:"_textarea_123w0_421"},mj=({grupoParaEdicao:e,onSalvar:t,onCancelar:a})=>{const[n,i]=f.useState({nome:"",LABORATORIO:1}),[s,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState({}),h=!!e,m=e?.nome;f.useEffect(()=>{e&&i(e)},[e]);const g=(e,t)=>{i(a=>({...a,[e]:t})),d[e]&&u(t=>({...t,[e]:""}))};return p.jsxs("div",{className:hj.container,children:[p.jsx("div",{className:hj.header,children:p.jsx("h2",{children:h?"Editar Grupo":"Novo Grupo"})}),l&&p.jsx("div",{className:`${hj.message} ${hj[l.type]}`,children:l.text}),p.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n.nome.trim()||(e.nome="Nome é obrigatório"),u(e),0===Object.keys(e).length})()){o(!0),c(null);try{let e;e=h&&m?await r("editar_grupo",{nomeOriginal:m,grupoData:n}):await r("cadastrar_grupo",{grupoData:n}),e.success?(c({text:e.message,type:"success"}),setTimeout(t,1e3)):c({text:e.message,type:"error"})}catch(a){c({text:a?.message||"Erro ao salvar grupo",type:"error"})}finally{o(!1)}}},className:hj.form,children:[p.jsxs("div",{className:hj.formGroup,children:[p.jsx("label",{htmlFor:"nome",className:hj.label,children:"Nome do Grupo *"}),p.jsx("input",{type:"text",id:"nome",value:n.nome,onChange:e=>g("nome",e.target.value),className:`${hj.input} ${d.nome?hj.inputError:""}`,placeholder:"Ex: Físico-Químico",disabled:s}),d.nome&&p.jsx("span",{className:hj.errorText,children:d.nome})]}),p.jsxs("div",{className:hj.formGroup,children:[p.jsx("label",{htmlFor:"laboratorio",className:hj.label,children:"Laboratório *"}),p.jsxs("select",{id:"laboratorio",value:n.LABORATORIO,onChange:e=>g("LABORATORIO",Number(e.target.value)),className:hj.input,disabled:s,children:[p.jsx("option",{value:1,children:"Físico-Químico"}),p.jsx("option",{value:2,children:"Microbiologia"})]})]}),p.jsxs("div",{className:hj.buttonGroup,children:[p.jsx("button",{type:"button",onClick:a,className:hj.buttonSecondary,disabled:s,children:"Cancelar"}),p.jsx("button",{type:"submit",className:hj.buttonPrimary,disabled:s,children:s?"A Salvar...":h?"Salvar Alterações":"Cadastrar"})]})]})]})},pj={container:"_container_1acb6_3",header:"_header_1acb6_29",filters:"_filters_1acb6_65",searchInput:"_searchInput_1acb6_73",tableContainer:"_tableContainer_1acb6_123","has-scrollbar":"_has-scrollbar_1acb6_149",table:"_table_1acb6_123",codeCell:"_codeCell_1acb6_331",actions:"_actions_1acb6_355",buttonEdit:"_buttonEdit_1acb6_367",buttonDelete:"_buttonDelete_1acb6_369",loading:"_loading_1acb6_445",spinner:"_spinner_1acb6_473",spin:"_spin_1acb6_473",buttonPrimary:"_buttonPrimary_1acb6_505",message:"_message_1acb6_559",slideInDown:"_slideInDown_1acb6_1",success:"_success_1acb6_585",error:"_error_1acb6_599",closeMessage:"_closeMessage_1acb6_613",empty:"_empty_1acb6_651"},fj=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(!0),[i,s]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(""),m=f.useCallback(async()=>{n(!0);try{const e=await r("listar_grupos");e.success&&e.data?t(e.data):s({text:e.message||"Erro ao carregar grupos",type:"error"})}catch(e){s({text:e?.message||"Erro de comunicação com o backend",type:"error"})}finally{n(!1)}},[]);f.useEffect(()=>{m()},[m]);const g=()=>{d(!1),l(null),m()},x=()=>{d(!1),l(null)},v=e.filter(e=>e.nome?.toLowerCase().includes(u.toLowerCase())),b=e=>{switch(e){case 1:return"Físico-Químico";case 2:return"Microbiologia";default:return"Desconhecido"}};return c?p.jsx(mj,{grupoParaEdicao:o||void 0,onSalvar:g,onCancelar:x}):p.jsxs("div",{className:pj.container,children:[p.jsxs("div",{className:pj.header,children:[p.jsx("h2",{children:"Gerir Grupos"}),p.jsx("button",{onClick:()=>{l(null),d(!0)},className:pj.buttonPrimary,children:"Novo Grupo"})]}),i&&p.jsx("div",{className:`${pj.message} ${pj[i.type]}`,children:i.text}),p.jsx("div",{className:pj.filters,children:p.jsx("input",{type:"text",placeholder:"Buscar por nome do grupo...",value:u,onChange:e=>h(e.target.value),className:pj.searchInput})}),a?p.jsxs("div",{className:pj.loading,children:[p.jsx("div",{className:pj.spinner}),p.jsx("p",{children:"A carregar..."})]}):p.jsx("div",{className:pj.tableContainer,children:p.jsxs("table",{className:pj.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Nome do Grupo"}),p.jsx("th",{children:"Laboratório"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:v.map(e=>p.jsxs("tr",{children:[p.jsx("td",{children:p.jsx("strong",{children:e.nome||"N/A"})}),p.jsx("td",{children:b(e.LABORATORIO)}),p.jsx("td",{children:p.jsxs("div",{className:pj.actions,children:[p.jsx("button",{onClick:()=>(e=>{l(e),d(!0)})(e),className:pj.buttonEdit,title:"Editar",children:"✏️"}),p.jsx("button",{onClick:()=>(async e=>{if(window.confirm(`Tem certeza que deseja remover o grupo "${e.nome}"?`))try{const t=await r("deletar_grupo",{nome:e.nome});t.success?(s({text:t.message,type:"success"}),m()):s({text:t.message,type:"error"})}catch(t){s({text:t?.message||"Erro ao remover grupo",type:"error"})}})(e),className:pj.buttonDelete,title:"Remover",children:"🗑️"})]})})]},e.nome))})]})})]})},gj={container:"_container_2ikth_5",header:"_header_2ikth_29",form:"_form_2ikth_57",formSection:"_formSection_2ikth_83",formRow:"_formRow_2ikth_123",single:"_single_2ikth_135",formGroup:"_formGroup_2ikth_143",label:"_label_2ikth_153",required:"_required_2ikth_167",input:"_input_2ikth_177",inputError:"_inputError_2ikth_223",errorText:"_errorText_2ikth_241",select:"_select_2ikth_257",textarea:"_textarea_2ikth_329",radioGroup:"_radioGroup_2ikth_399",radioLabel:"_radioLabel_2ikth_411",buttonGroup:"_buttonGroup_2ikth_541",buttonPrimary:"_buttonPrimary_2ikth_559",buttonSecondary:"_buttonSecondary_2ikth_611",message:"_message_2ikth_649",slideInDown:"_slideInDown_2ikth_1",success:"_success_2ikth_675",error:"_error_2ikth_241",closeMessage:"_closeMessage_2ikth_703",formProgress:"_formProgress_2ikth_761",progressStep:"_progressStep_2ikth_785",active:"_active_2ikth_803"},xj=({matrizParaEdicao:e,onSalvar:t,onCancelar:a})=>{const[n,i]=f.useState({id:0,nome:""}),[s,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState({}),h=!!e;f.useEffect(()=>{e&&i({id:e.id,nome:e.nome||""})},[e]);return p.jsxs("div",{className:gj.container,children:[p.jsx("div",{className:gj.header,children:p.jsx("h2",{children:h?"Editar Matriz":"Nova Matriz"})}),l&&p.jsx("div",{className:`${gj.message} ${gj[l.type]}`,children:l.text}),p.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n.nome.trim()||(e.nome="Nome é obrigatório"),u(e),0===Object.keys(e).length})()){o(!0),c(null);try{let e;e=h?await r("editar_matriz",{matrizData:n}):await r("cadastrar_matriz",{matrizData:{nome:n.nome}}),e.success?(c({text:e.message,type:"success"}),setTimeout(t,1e3)):c({text:e.message,type:"error"})}catch(a){c({text:a?.message||"Erro ao salvar matriz",type:"error"})}finally{o(!1)}}},className:gj.form,children:[p.jsxs("div",{className:gj.formGroup,children:[p.jsx("label",{htmlFor:"nome",className:gj.label,children:"Nome da Matriz *"}),p.jsx("input",{type:"text",id:"nome",value:n.nome||"",onChange:e=>((e,t)=>{i(a=>({...a,[e]:t})),d[e]&&u(t=>({...t,[e]:""}))})("nome",e.target.value),className:`${gj.input} ${d.nome?gj.inputError:""}`,placeholder:"Ex: Água Purificada",disabled:s}),d.nome&&p.jsx("span",{className:gj.errorText,children:d.nome})]}),p.jsxs("div",{className:gj.buttonGroup,children:[p.jsx("button",{type:"button",onClick:a,className:gj.buttonSecondary,disabled:s,children:"Cancelar"}),p.jsx("button",{type:"submit",className:gj.buttonPrimary,disabled:s,children:s?"A Salvar...":h?"Salvar Alterações":"Cadastrar"})]})]})]})},vj={container:"_container_tama5_3",header:"_header_tama5_29",filters:"_filters_tama5_65",searchInput:"_searchInput_tama5_73",tableContainer:"_tableContainer_tama5_123","has-scrollbar":"_has-scrollbar_tama5_149",table:"_table_tama5_123",actions:"_actions_tama5_331",buttonEdit:"_buttonEdit_tama5_343",buttonDelete:"_buttonDelete_tama5_345",loading:"_loading_tama5_421",spinner:"_spinner_tama5_449",spin:"_spin_tama5_449",buttonPrimary:"_buttonPrimary_tama5_481",message:"_message_tama5_535",slideInDown:"_slideInDown_tama5_1",success:"_success_tama5_561",error:"_error_tama5_575",closeMessage:"_closeMessage_tama5_589",empty:"_empty_tama5_627",matrizCard:"_matrizCard_tama5_671",matrizBadge:"_matrizBadge_tama5_733",principal:"_principal_tama5_757",filial:"_filial_tama5_769"},bj=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(!0),[i,s]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(""),m=f.useCallback(async()=>{n(!0);try{const e=await r("listar_matrizes");e.success&&e.data?t(e.data):s({text:e.message||"Erro ao carregar matrizes",type:"error"})}catch(e){s({text:e?.message||"Erro de comunicação com o backend",type:"error"})}finally{n(!1)}},[]);f.useEffect(()=>{m()},[m]);const g=()=>{d(!1),l(null),m()},x=()=>{d(!1),l(null)},v=e.filter(e=>e.nome?.toLowerCase().includes(u.toLowerCase()));return c?p.jsx(xj,{matrizParaEdicao:o||void 0,onSalvar:g,onCancelar:x}):p.jsxs("div",{className:vj.container,children:[p.jsxs("div",{className:vj.header,children:[p.jsx("h2",{children:"Gerir Matrizes"}),p.jsx("button",{onClick:()=>{l(null),d(!0)},className:vj.buttonPrimary,children:"Nova Matriz"})]}),i&&p.jsx("div",{className:`${vj.message} ${vj[i.type]}`,children:i.text}),p.jsx("div",{className:vj.filters,children:p.jsx("input",{type:"text",placeholder:"Buscar por nome da matriz...",value:u,onChange:e=>h(e.target.value),className:vj.searchInput})}),a?p.jsxs("div",{className:vj.loading,children:[p.jsx("div",{className:vj.spinner}),p.jsx("p",{children:"A carregar..."})]}):p.jsx("div",{className:vj.tableContainer,children:p.jsxs("table",{className:vj.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"ID"}),p.jsx("th",{children:"Nome da Matriz"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:v.map(e=>p.jsxs("tr",{children:[p.jsx("td",{children:e.id}),p.jsx("td",{children:p.jsx("strong",{children:e.nome||"N/A"})}),p.jsx("td",{children:p.jsxs("div",{className:vj.actions,children:[p.jsx("button",{onClick:()=>(e=>{l(e),d(!0)})(e),className:vj.buttonEdit,title:"Editar",children:"✏️"}),p.jsx("button",{onClick:()=>(async e=>{if(window.confirm(`Tem certeza que deseja remover a matriz "${e.nome}"?`))try{const t=await r("deletar_matriz",{id:e.id});t.success?(s({text:t.message,type:"success"}),m()):s({text:t.message,type:"error"})}catch(t){s({text:t?.message||"Erro ao remover matriz",type:"error"})}})(e),className:vj.buttonDelete,title:"Remover",children:"🗑️"})]})})]},e.id))})]})})]})},yj={container:"_container_1v0ru_3",header:"_header_1v0ru_25",form:"_form_1v0ru_57",formGroup:"_formGroup_1v0ru_71",label:"_label_1v0ru_81",input:"_input_1v0ru_95",inputError:"_inputError_1v0ru_137",errorText:"_errorText_1v0ru_155",buttonGroup:"_buttonGroup_1v0ru_171",buttonSecondary:"_buttonSecondary_1v0ru_187",buttonPrimary:"_buttonPrimary_1v0ru_223",message:"_message_1v0ru_277",slideInDown:"_slideInDown_1v0ru_1",success:"_success_1v0ru_299",error:"_error_1v0ru_155"},_j=({unidadeParaEdicao:e,onSalvar:t,onCancelar:a})=>{const[n,i]=f.useState({nome:""}),[s,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState({}),h=!!e,m=e?.nome;f.useEffect(()=>{e&&i(e)},[e]);return p.jsxs("div",{className:yj.container,children:[p.jsx("div",{className:yj.header,children:p.jsx("h2",{children:h?"Editar Unidade":"Nova Unidade"})}),l&&p.jsx("div",{className:`${yj.message} ${yj[l.type]}`,children:l.text}),p.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n.nome.trim()||(e.nome="Nome é obrigatório"),u(e),0===Object.keys(e).length})()){o(!0),c(null);try{let e;e=h&&m?await r("editar_unidade",{nomeOriginal:m,unidadeData:n}):await r("cadastrar_unidade",{unidadeData:n}),e.success?(c({text:e.message,type:"success"}),setTimeout(t,1e3)):c({text:e.message,type:"error"})}catch(a){c({text:a?.message||"Erro ao salvar unidade",type:"error"})}finally{o(!1)}}},className:yj.form,children:[p.jsxs("div",{className:yj.formGroup,children:[p.jsx("label",{htmlFor:"nome",className:yj.label,children:"Nome da Unidade *"}),p.jsx("input",{type:"text",id:"nome",value:n.nome||"",onChange:e=>((e,t)=>{i(a=>({...a,[e]:t})),d[e]&&u(t=>({...t,[e]:""}))})("nome",e.target.value),className:`${yj.input} ${d.nome?yj.inputError:""}`,placeholder:"Ex: mg/L",disabled:s}),d.nome&&p.jsx("span",{className:yj.errorText,children:d.nome})]}),p.jsxs("div",{className:yj.buttonGroup,children:[p.jsx("button",{type:"button",onClick:a,className:yj.buttonSecondary,disabled:s,children:"Cancelar"}),p.jsx("button",{type:"submit",className:yj.buttonPrimary,disabled:s,children:s?"A Salvar...":h?"Salvar Alterações":"Cadastrar"})]})]})]})},jj={container:"_container_1f94j_5",header:"_header_1f94j_29",filters:"_filters_1f94j_63",searchInput:"_searchInput_1f94j_79",filterGroup:"_filterGroup_1f94j_129",filterSelect:"_filterSelect_1f94j_141",tableContainer:"_tableContainer_1f94j_191","has-scrollbar":"_has-scrollbar_1f94j_215",table:"_table_1f94j_191",unidadeStatus:"_unidadeStatus_1f94j_391",ativa:"_ativa_1f94j_415",inativa:"_inativa_1f94j_443",manutencao:"_manutencao_1f94j_471",unidadeTipo:"_unidadeTipo_1f94j_499",matriz:"_matriz_1f94j_521",filial:"_filial_1f94j_533",deposito:"_deposito_1f94j_545",unidadeCodigo:"_unidadeCodigo_1f94j_557",actions:"_actions_1f94j_585",buttonView:"_buttonView_1f94j_597",buttonEdit:"_buttonEdit_1f94j_599",buttonDelete:"_buttonDelete_1f94j_601",loading:"_loading_1f94j_697",empty:"_empty_1f94j_699",spinner:"_spinner_1f94j_743",spin:"_spin_1f94j_743",buttonPrimary:"_buttonPrimary_1f94j_773",message:"_message_1f94j_825",slideInDown:"_slideInDown_1f94j_1",success:"_success_1f94j_845",error:"_error_1f94j_859",statsContainer:"_statsContainer_1f94j_873",statCard:"_statCard_1f94j_887",number:"_number_1f94j_935"},wj=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(!0),[i,s]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(""),m=f.useCallback(async()=>{n(!0);try{const e=await r("listar_unidades");e.success&&e.data?t(e.data):s({text:e.message||"Erro ao carregar unidades",type:"error"})}catch(e){s({text:e?.message||"Erro de comunicação com o backend",type:"error"})}finally{n(!1)}},[]);f.useEffect(()=>{m()},[m]);const g=()=>{d(!1),l(null),m()},x=()=>{d(!1),l(null)},v=e.filter(e=>e.nome?.toLowerCase().includes(u.toLowerCase()));return c?p.jsx(_j,{unidadeParaEdicao:o||void 0,onSalvar:g,onCancelar:x}):p.jsxs("div",{className:jj.container,children:[p.jsxs("div",{className:jj.header,children:[p.jsx("h2",{children:"Gerir Unidades"}),p.jsx("button",{onClick:()=>{l(null),d(!0)},className:jj.buttonPrimary,children:"Nova Unidade"})]}),i&&p.jsx("div",{className:`${jj.message} ${jj[i.type]}`,children:i.text}),p.jsx("div",{className:jj.filters,children:p.jsx("input",{type:"text",placeholder:"Buscar por nome da unidade...",value:u,onChange:e=>h(e.target.value),className:jj.searchInput})}),a?p.jsxs("div",{className:jj.loading,children:[p.jsx("div",{className:jj.spinner}),p.jsx("p",{children:"A carregar..."})]}):p.jsx("div",{className:jj.tableContainer,children:p.jsxs("table",{className:jj.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Nome da Unidade"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:v.map(e=>p.jsxs("tr",{children:[p.jsx("td",{children:p.jsx("strong",{children:e.nome||"N/A"})}),p.jsx("td",{children:p.jsxs("div",{className:jj.actions,children:[p.jsx("button",{onClick:()=>(e=>{l(e),d(!0)})(e),className:jj.buttonEdit,title:"Editar",children:"✏️"}),p.jsx("button",{onClick:()=>(async e=>{if(window.confirm(`Tem certeza que deseja remover a unidade "${e.nome}"?`))try{const t=await r("deletar_unidade",{nome:e.nome});t.success?(s({text:t.message,type:"success"}),m()):s({text:t.message,type:"error"})}catch(t){s({text:t?.message||"Erro ao remover unidade",type:"error"})}})(e),className:jj.buttonDelete,title:"Remover",children:"🗑️"})]})})]},e.nome))})]})})]})},Nj={container:"_container_cl52n_5",header:"_header_cl52n_29",form:"_form_cl52n_57",formRow:"_formRow_cl52n_81",formGroup:"_formGroup_cl52n_91",label:"_label_cl52n_105",required:"_required_cl52n_121",input:"_input_cl52n_131",textarea:"_textarea_cl52n_131",inputError:"_inputError_cl52n_187",textareaError:"_textareaError_cl52n_187",errorText:"_errorText_cl52n_205",radioGroup:"_radioGroup_cl52n_219",radioLabel:"_radioLabel_cl52n_233",sugestoesLista:"_sugestoesLista_cl52n_363",buttonGroup:"_buttonGroup_cl52n_479",buttonPrimary:"_buttonPrimary_cl52n_497",buttonSecondary:"_buttonSecondary_cl52n_549",message:"_message_cl52n_587",slideInDown:"_slideInDown_cl52n_1",success:"_success_cl52n_613",error:"_error_cl52n_205",closeMessage:"_closeMessage_cl52n_641",loading:"_loading_cl52n_679",spinner:"_spinner_cl52n_695",spin:"_spin_cl52n_695"},Cj=({parametroParaEdicao:e,onSalvar:t,onCancelar:a})=>{const[n,i]=f.useState({id:void 0,nome:"",grupo:"",obs:"",em_campo:!1}),[s,o]=f.useState([]),[l,c]=f.useState([]),[d,u]=f.useState(!1),[h,m]=f.useState(!1),[g,x]=f.useState(null),[v,b]=f.useState({}),y=!!e,_=f.useRef(null);f.useEffect(()=>{(async()=>{try{const e=await r("listar_grupos");e.success&&e.data&&o(e.data.map(e=>e.nome).filter(Boolean))}catch(e){}})()},[]),f.useEffect(()=>{e&&i({id:e.id,nome:e.nome||"",grupo:e.grupo||"",obs:e.obs||"",em_campo:e.em_campo})},[e]),f.useEffect(()=>{const e=e=>{_.current&&!_.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const j=(e,t)=>{if(i(a=>({...a,[e]:t})),v[e]&&b(t=>({...t,[e]:""})),"grupo"===e)if(u(!0),t){const e=s.filter(e=>e.toLowerCase().includes(t.toLowerCase()));c(e)}else c(s)};return p.jsxs("div",{className:Nj.container,children:[p.jsx("div",{className:Nj.header,children:p.jsx("h2",{children:y?"Editar Parâmetro":"Novo Parâmetro"})}),g&&p.jsx("div",{className:`${Nj.message} ${Nj[g.type]}`,children:g.text}),p.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n.nome.trim()||(e.nome="Nome é obrigatório"),n.grupo.trim()||(e.grupo="Grupo é obrigatório"),b(e),0===Object.keys(e).length})()){m(!0),x(null);try{let e;const a={id:n.id,nome:n.nome,grupo:n.grupo,obs:n.obs,em_campo:n.em_campo};e=y?await r("editar_parametro",{parametroData:a}):await r("cadastrar_parametro",{parametroData:a}),e.success?(x({text:e.message,type:"success"}),setTimeout(t,1e3)):x({text:e.message,type:"error"})}catch(a){x({text:a?.message||"Erro ao salvar parâmetro",type:"error"})}finally{m(!1)}}},className:Nj.form,children:[p.jsxs("div",{className:Nj.formRow,children:[p.jsxs("div",{className:Nj.formGroup,style:{flex:2},children:[p.jsx("label",{htmlFor:"nome",className:Nj.label,children:"Nome do Parâmetro *"}),p.jsx("input",{type:"text",id:"nome",value:n.nome,onChange:e=>j("nome",e.target.value),className:`${Nj.input} ${v.nome?Nj.inputError:""}`,placeholder:"Ex: pH",disabled:h}),v.nome&&p.jsx("span",{className:Nj.errorText,children:v.nome})]}),p.jsxs("div",{className:Nj.formGroup,style:{position:"relative"},ref:_,children:[p.jsx("label",{htmlFor:"grupo",className:Nj.label,children:"Grupo *"}),p.jsx("input",{type:"text",id:"grupo",value:n.grupo,onChange:e=>j("grupo",e.target.value),onFocus:()=>{c(s),u(!0)},className:`${Nj.input} ${v.grupo?Nj.inputError:""}`,placeholder:"Clique ou digite para buscar...",disabled:h,autoComplete:"off"}),d&&l.length>0&&p.jsx("ul",{className:Nj.sugestoesLista,children:l.map(e=>p.jsx("li",{onClick:()=>(e=>{i(t=>({...t,grupo:e})),u(!1)})(e),children:e},e))}),v.grupo&&p.jsx("span",{className:Nj.errorText,children:v.grupo})]})]}),p.jsxs("div",{className:Nj.formGroup,children:[p.jsx("label",{htmlFor:"obs",className:Nj.label,children:"Observação"}),p.jsx("textarea",{id:"obs",value:n.obs,onChange:e=>j("obs",e.target.value),className:Nj.textarea,rows:4,placeholder:"Informações adicionais sobre o parâmetro",disabled:h})]}),p.jsxs("div",{className:Nj.formGroup,children:[p.jsx("label",{className:Nj.label,children:"Padrão"}),p.jsxs("div",{className:Nj.radioGroup,children:[p.jsxs("label",{className:Nj.radioLabel,children:[p.jsx("input",{type:"radio",name:"em_campo",checked:!n.em_campo,onChange:()=>j("em_campo",!1),disabled:h})," Laboratório"]}),p.jsxs("label",{className:Nj.radioLabel,children:[p.jsx("input",{type:"radio",name:"em_campo",checked:n.em_campo,onChange:()=>j("em_campo",!0),disabled:h})," Em Campo"]})]})]}),p.jsxs("div",{className:Nj.buttonGroup,children:[p.jsx("button",{type:"button",onClick:a,className:Nj.buttonSecondary,disabled:h,children:"Cancelar"}),p.jsx("button",{type:"submit",className:Nj.buttonPrimary,disabled:h,children:h?"A Salvar...":y?"Salvar Alterações":"Cadastrar"})]})]})]})},kj={container:"_container_1djxy_3",header:"_header_1djxy_29",filters:"_filters_1djxy_65",searchInput:"_searchInput_1djxy_73",tableContainer:"_tableContainer_1djxy_123","has-scrollbar":"_has-scrollbar_1djxy_149",table:"_table_1djxy_123",obsCell:"_obsCell_1djxy_331",status:"_status_1djxy_353",ativo:"_ativo_1djxy_377",inativo:"_inativo_1djxy_405",actions:"_actions_1djxy_435",buttonEdit:"_buttonEdit_1djxy_447",buttonDelete:"_buttonDelete_1djxy_449",loading:"_loading_1djxy_525",spinner:"_spinner_1djxy_553",spin:"_spin_1djxy_553",buttonPrimary:"_buttonPrimary_1djxy_585",message:"_message_1djxy_639",slideInDown:"_slideInDown_1djxy_1",success:"_success_1djxy_665",error:"_error_1djxy_679",closeMessage:"_closeMessage_1djxy_693",empty:"_empty_1djxy_731"},Sj=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(!0),[i,s]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(""),m=f.useCallback(async()=>{n(!0);try{const e=await r("listar_parametros");e.success&&e.data?t(e.data):s({text:e.message||"Erro ao carregar parâmetros",type:"error"})}catch(e){s({text:e?.message||"Erro de comunicação com o backend",type:"error"})}finally{n(!1)}},[]);f.useEffect(()=>{m()},[m]);const g=()=>{d(!1),l(null),m()},x=()=>{d(!1),l(null)},v=e.filter(e=>e.nome?.toLowerCase().includes(u.toLowerCase())||e.grupo?.toLowerCase().includes(u.toLowerCase()));return c?p.jsx(Cj,{parametroParaEdicao:o||void 0,onSalvar:g,onCancelar:x}):p.jsxs("div",{className:kj.container,children:[p.jsxs("div",{className:kj.header,children:[p.jsx("h2",{children:"Gerir Parâmetros"}),p.jsx("button",{onClick:()=>{l(null),d(!0)},className:kj.buttonPrimary,children:"Novo Parâmetro"})]}),i&&p.jsx("div",{className:`${kj.message} ${kj[i.type]}`,children:i.text}),p.jsx("div",{className:kj.filters,children:p.jsx("input",{type:"text",placeholder:"Buscar por nome ou grupo...",value:u,onChange:e=>h(e.target.value),className:kj.searchInput})}),a?p.jsxs("div",{className:kj.loading,children:[p.jsx("div",{className:kj.spinner}),p.jsx("p",{children:"A carregar..."})]}):p.jsx("div",{className:kj.tableContainer,children:p.jsxs("table",{className:kj.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Nome do Parâmetro"}),p.jsx("th",{children:"Grupo"}),p.jsx("th",{children:"Padrão"}),p.jsx("th",{children:"Observação"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:v.map(e=>p.jsxs("tr",{children:[p.jsx("td",{children:p.jsx("strong",{children:e.nome||"N/A"})}),p.jsx("td",{children:e.grupo||"N/A"}),p.jsx("td",{children:e.em_campo?"Em Campo":"Laboratório"}),p.jsx("td",{className:kj.obsCell,children:e.obs||""}),p.jsx("td",{children:p.jsxs("div",{className:kj.actions,children:[p.jsx("button",{onClick:()=>(e=>{l(e),d(!0)})(e),className:kj.buttonEdit,title:"Editar",children:"✏️"}),p.jsx("button",{onClick:()=>(async e=>{if(window.confirm(`Tem certeza que deseja remover o parâmetro "${e.nome}"?`))try{const t=await r("deletar_parametro",{id:e.id});t.success?(s({text:t.message,type:"success"}),m()):s({text:t.message,type:"error"})}catch(t){s({text:t?.message||"Erro ao remover parâmetro",type:"error"})}})(e),className:kj.buttonDelete,title:"Remover",children:"🗑️"})]})})]},e.id))})]})})]})},Mj={container:"_container_95ybu_5",header:"_header_95ybu_29",card:"_card_95ybu_57",cardTitle:"_cardTitle_95ybu_87",pgText:"_pgText_95ybu_103",form:"_form_95ybu_131",formGroup:"_formGroup_95ybu_155",label:"_label_95ybu_167",input:"_input_95ybu_183",buttonPrimary:"_buttonPrimary_95ybu_231",loading:"_loading_95ybu_295",spinner:"_spinner_95ybu_315",spin:"_spin_95ybu_315",message:"_message_95ybu_343",slideInDown:"_slideInDown_95ybu_1",success:"_success_95ybu_369",error:"_error_95ybu_383",closeMessage:"_closeMessage_95ybu_397",fadeIn:"_fadeIn_95ybu_1"},Ej=()=>{const[e,t]=f.useState(null),[a,n]=f.useState(""),[i,s]=f.useState(!0),[o,l]=f.useState(!1),[c,d]=f.useState(null),u=f.useCallback(async()=>{s(!0);try{const e=await r("buscar_pg_ativo");e.success&&e.data?(t(e.data),n(String((e.data?.REVISAO||0)+1))):d({text:e.message||"Erro ao carregar PG ativo",type:"error"})}catch(e){d({text:e?.message||"Erro de comunicação com o backend",type:"error"})}finally{s(!1)}},[]);f.useEffect(()=>{u()},[u]);return p.jsxs("div",{className:Mj.container,children:[p.jsx("div",{className:Mj.header,children:p.jsx("h2",{children:"Procedimento de Coleta (PG)"})}),c&&p.jsx("div",{className:`${Mj.message} ${Mj[c.type]}`,children:c.text}),p.jsxs("div",{className:Mj.card,children:[p.jsx("h3",{className:Mj.cardTitle,children:"PG Atualmente Ativo"}),i?p.jsxs("div",{className:Mj.loading,children:[p.jsx("div",{className:Mj.spinner}),p.jsx("p",{children:"A carregar..."})]}):p.jsx("p",{className:Mj.pgText,children:(e=>{if(!e)return"Nenhum PG ativo encontrado.";const t=String(e.NUMERO3||"").padStart(2,"0");return`${e.NUMERO1}.${e.NUMERO2}-${t}/${e.REVISAO} - ${e.NOME}`})(e)})]}),p.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),!e||!a.trim())return void d({text:"A nova revisão não pode estar vazia.",type:"error"});l(!0),d(null);const n={NOME:e.NOME||"",NUMERO1:e.NUMERO1||0,NUMERO2:e.NUMERO2||0,NUMERO3:e.NUMERO3||0,REVISAO:Number(a)};try{const e=await r("criar_nova_versao_pg",{pgData:n});e.success?(d({text:e.message,type:"success"}),u()):d({text:e.message,type:"error"})}catch(i){d({text:i?.message||"Erro ao criar nova versão",type:"error"})}finally{l(!1)}},className:Mj.form,children:[p.jsxs("div",{className:Mj.formGroup,children:[p.jsx("label",{htmlFor:"novaRevisao",className:Mj.label,children:"Criar Nova Revisão"}),p.jsx("input",{type:"number",id:"novaRevisao",value:a,onChange:e=>n(e.target.value),className:Mj.input,placeholder:"Nº da Revisão",disabled:i||o,min:"0"})]}),p.jsx("button",{type:"submit",className:Mj.buttonPrimary,disabled:i||o,children:o?"A Salvar...":"Salvar Nova Versão"})]})]})},Oj={container:"_container_5avse_5",header:"_header_5avse_29",form:"_form_5avse_57",formRow:"_formRow_5avse_81",single:"_single_5avse_93",double:"_double_5avse_101",formGroup:"_formGroup_5avse_109",label:"_label_5avse_121",required:"_required_5avse_137",input:"_input_5avse_147",textarea:"_textarea_5avse_147",inputError:"_inputError_5avse_203",textareaError:"_textareaError_5avse_203",errorText:"_errorText_5avse_221",checkboxLabel:"_checkboxLabel_5avse_235",sugestoesLista:"_sugestoesLista_5avse_365",buttonGroup:"_buttonGroup_5avse_481",buttonPrimary:"_buttonPrimary_5avse_499",buttonSecondary:"_buttonSecondary_5avse_551",message:"_message_5avse_589",slideInDown:"_slideInDown_5avse_1",success:"_success_5avse_615",error:"_error_5avse_221",closeMessage:"_closeMessage_5avse_643",loading:"_loading_5avse_681",spinner:"_spinner_5avse_697",spin:"_spin_5avse_697"},Pj=({popParaEdicao:e,onSalvar:t,onCancelar:a})=>{const[n,i]=f.useState({id:void 0,codigo:"",numero:"",revisao:"",tecnica:"",IDTECNICA:0,obs:"",ESTADO:!0,OBJETIVO:""}),[s,o]=f.useState([]),[l,c]=f.useState([]),[d,u]=f.useState(!1),[h,m]=f.useState(!1),[g,x]=f.useState(null),[v,b]=f.useState({}),y=!!e,_=f.useRef(null);f.useEffect(()=>{(async()=>{try{const e=await r("listar_tecnicas");e.success&&e.data&&o(e.data)}catch(e){}})()},[]),f.useEffect(()=>{e&&i({id:e.id,codigo:e.codigo||"",numero:e.numero||"",revisao:e.revisao||"",tecnica:e.tecnica||"",IDTECNICA:e.IDTECNICA||0,obs:e.obs||"",ESTADO:e.ESTADO,OBJETIVO:e.OBJETIVO||""})},[e]),f.useEffect(()=>{const e=e=>{_.current&&!_.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const j=(e,t)=>{if(i(a=>({...a,[e]:t})),v[e]&&b(t=>({...t,[e]:""})),"tecnica"===e){if(u(!0),t){const e=s.filter(e=>e.nome.toLowerCase().includes(t.toLowerCase()));c(e)}else c(s);s.find(e=>e.nome.toLowerCase()===t.toLowerCase())||i(e=>({...e,IDTECNICA:0}))}};return p.jsxs("div",{className:Oj.container,children:[p.jsx("div",{className:Oj.header,children:p.jsx("h2",{children:y?"Editar POP":"Novo POP"})}),g&&p.jsx("div",{className:`${Oj.message} ${Oj[g.type]}`,children:g.text}),p.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n.codigo.trim()||(e.codigo="Código é obrigatório"),n.numero.trim()||(e.numero="Número é obrigatório"),n.revisao.trim()||(e.revisao="Revisão é obrigatória"),n.tecnica.trim()&&0!==n.IDTECNICA||(e.tecnica="Técnica é obrigatória"),b(e),0===Object.keys(e).length})()){m(!0),x(null);try{let e;const a={...n};e=y?await r("editar_pop",{popData:a}):await r("cadastrar_pop",{popData:a}),e.success?(x({text:e.message,type:"success"}),setTimeout(t,1e3)):x({text:e.message,type:"error"})}catch(a){x({text:a?.message||"Erro ao salvar POP",type:"error"})}finally{m(!1)}}},className:Oj.form,children:[p.jsxs("div",{className:Oj.formRow,children:[p.jsxs("div",{className:Oj.formGroup,children:[p.jsx("label",{htmlFor:"codigo",className:Oj.label,children:"Código *"}),p.jsx("input",{type:"text",id:"codigo",value:n.codigo,onChange:e=>j("codigo",e.target.value),className:`${Oj.input} ${v.codigo?Oj.inputError:""}`,maxLength:2,disabled:h}),v.codigo&&p.jsx("span",{className:Oj.errorText,children:v.codigo})]}),p.jsxs("div",{className:Oj.formGroup,children:[p.jsx("label",{htmlFor:"numero",className:Oj.label,children:"Número *"}),p.jsx("input",{type:"text",id:"numero",value:n.numero,onChange:e=>j("numero",e.target.value),className:`${Oj.input} ${v.numero?Oj.inputError:""}`,maxLength:7,disabled:h}),v.numero&&p.jsx("span",{className:Oj.errorText,children:v.numero})]}),p.jsxs("div",{className:Oj.formGroup,children:[p.jsx("label",{htmlFor:"revisao",className:Oj.label,children:"Revisão *"}),p.jsx("input",{type:"text",id:"revisao",value:n.revisao,onChange:e=>j("revisao",e.target.value),className:`${Oj.input} ${v.revisao?Oj.inputError:""}`,maxLength:2,disabled:h}),v.revisao&&p.jsx("span",{className:Oj.errorText,children:v.revisao})]})]}),p.jsxs("div",{className:Oj.formGroup,style:{position:"relative"},ref:_,children:[p.jsx("label",{htmlFor:"tecnica",className:Oj.label,children:"Técnica *"}),p.jsx("input",{type:"text",id:"tecnica",value:n.tecnica,onChange:e=>j("tecnica",e.target.value),onFocus:()=>{c(s),u(!0)},className:`${Oj.input} ${v.tecnica?Oj.inputError:""}`,placeholder:"Clique ou digite para buscar...",disabled:h,autoComplete:"off"}),d&&l.length>0&&p.jsx("ul",{className:Oj.sugestoesLista,children:l.map(e=>p.jsx("li",{onClick:()=>{return t=e,i(e=>({...e,tecnica:t.nome,IDTECNICA:t.ID})),void u(!1);var t},children:e.nome},e.ID))}),v.tecnica&&p.jsx("span",{className:Oj.errorText,children:v.tecnica})]}),p.jsxs("div",{className:Oj.formGroup,children:[p.jsx("label",{htmlFor:"OBJETIVO",className:Oj.label,children:"Objetivo"}),p.jsx("input",{type:"text",id:"OBJETIVO",value:n.OBJETIVO,onChange:e=>j("OBJETIVO",e.target.value),className:Oj.input,disabled:h})]}),p.jsxs("div",{className:Oj.formGroup,children:[p.jsx("label",{htmlFor:"obs",className:Oj.label,children:"Observação"}),p.jsx("textarea",{id:"obs",value:n.obs,onChange:e=>j("obs",e.target.value),className:Oj.textarea,rows:3,disabled:h})]}),p.jsx("div",{className:Oj.formGroup,children:p.jsxs("label",{className:Oj.checkboxLabel,children:[p.jsx("input",{type:"checkbox",checked:n.ESTADO,onChange:e=>j("ESTADO",e.target.checked),disabled:h})," POP Ativo"]})}),p.jsxs("div",{className:Oj.buttonGroup,children:[p.jsx("button",{type:"button",onClick:a,className:Oj.buttonSecondary,disabled:h,children:"Cancelar"}),p.jsx("button",{type:"submit",className:Oj.buttonPrimary,disabled:h,children:h?"A Salvar...":y?"Salvar Alterações":"Cadastrar"})]})]})]})},Aj={container:"_container_1nltg_5",header:"_header_1nltg_29",filters:"_filters_1nltg_63",searchInput:"_searchInput_1nltg_71",tableContainer:"_tableContainer_1nltg_119","has-scrollbar":"_has-scrollbar_1nltg_143",table:"_table_1nltg_119",obsCell:"_obsCell_1nltg_319",status:"_status_1nltg_339",ativo:"_ativo_1nltg_363",inativo:"_inativo_1nltg_391",actions:"_actions_1nltg_419",buttonEdit:"_buttonEdit_1nltg_431",buttonDelete:"_buttonDelete_1nltg_433",loading:"_loading_1nltg_507",empty:"_empty_1nltg_509",spinner:"_spinner_1nltg_551",spin:"_spin_1nltg_551",buttonPrimary:"_buttonPrimary_1nltg_581",message:"_message_1nltg_633",slideInDown:"_slideInDown_1nltg_1",success:"_success_1nltg_659",error:"_error_1nltg_673",closeMessage:"_closeMessage_1nltg_687"},Dj=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(!0),[i,s]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(""),m=f.useCallback(async()=>{n(!0);try{const e=await r("listar_pops");e.success&&e.data?t(e.data):s({text:e.message||"Erro ao carregar POPs",type:"error"})}catch(e){s({text:e?.message||"Erro de comunicação com o backend",type:"error"})}finally{n(!1)}},[]);f.useEffect(()=>{m()},[m]);const g=()=>{d(!1),l(null),m()},x=()=>{d(!1),l(null)},v=e.filter(e=>e.codigo?.toLowerCase().includes(u.toLowerCase())||e.numero?.toLowerCase().includes(u.toLowerCase())||e.tecnica?.toLowerCase().includes(u.toLowerCase()));return c?p.jsx(Pj,{popParaEdicao:o||void 0,onSalvar:g,onCancelar:x}):p.jsxs("div",{className:Aj.container,children:[p.jsxs("div",{className:Aj.header,children:[p.jsx("h2",{children:"Gerir POPs"}),p.jsx("button",{onClick:()=>{l(null),d(!0)},className:Aj.buttonPrimary,children:"Novo POP"})]}),i&&p.jsx("div",{className:`${Aj.message} ${Aj[i.type]}`,children:i.text}),p.jsx("div",{className:Aj.filters,children:p.jsx("input",{type:"text",placeholder:"Buscar por código, número ou técnica...",value:u,onChange:e=>h(e.target.value),className:Aj.searchInput})}),a?p.jsxs("div",{className:Aj.loading,children:[p.jsx("div",{className:Aj.spinner}),p.jsx("p",{children:"A carregar..."})]}):p.jsx("div",{className:Aj.tableContainer,children:p.jsxs("table",{className:Aj.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Código"}),p.jsx("th",{children:"Número"}),p.jsx("th",{children:"Revisão"}),p.jsx("th",{children:"Técnica"}),p.jsx("th",{children:"Objetivo"}),p.jsx("th",{children:"Estado"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:v.map(e=>p.jsxs("tr",{children:[p.jsx("td",{children:e.codigo}),p.jsx("td",{children:e.numero}),p.jsx("td",{children:e.revisao}),p.jsx("td",{children:e.tecnica}),p.jsx("td",{className:Aj.obsCell,children:e.OBJETIVO}),p.jsx("td",{children:p.jsx("span",{className:`${Aj.status} ${e.ESTADO?Aj.ativo:Aj.inativo}`,children:e.ESTADO?"Ativo":"Inativo"})}),p.jsx("td",{children:p.jsxs("div",{className:Aj.actions,children:[p.jsx("button",{onClick:()=>(e=>{l(e),d(!0)})(e),className:Aj.buttonEdit,title:"Editar",children:"✏️"}),p.jsx("button",{onClick:()=>(async e=>{if(window.confirm(`Tem certeza que deseja remover o POP "${e.codigo}-${e.numero}"?`))try{const t=await r("deletar_pop",{id:e.id});t.success?(s({text:t.message,type:"success"}),m()):s({text:t.message,type:"error"})}catch(t){s({text:t?.message||"Erro ao remover POP",type:"error"})}})(e),className:Aj.buttonDelete,title:"Remover",children:"🗑️"})]})})]},e.id))})]})})]})},Ij={container:"_container_153tc_5",header:"_header_153tc_29",form:"_form_153tc_57",fadeIn:"_fadeIn_153tc_1",formGroup:"_formGroup_153tc_83",label:"_label_153tc_95",required:"_required_153tc_111",input:"_input_153tc_123",textarea:"_textarea_153tc_123",select:"_select_153tc_123",inputError:"_inputError_153tc_203",textareaError:"_textareaError_153tc_203",selectError:"_selectError_153tc_203",errorText:"_errorText_153tc_223",valid:"_valid_153tc_271",buttonGroup:"_buttonGroup_153tc_299",buttonPrimary:"_buttonPrimary_153tc_317",buttonSecondary:"_buttonSecondary_153tc_391",message:"_message_153tc_453",slideInDown:"_slideInDown_153tc_1",success:"_success_153tc_479",error:"_error_153tc_223",closeMessage:"_closeMessage_153tc_507",loading:"_loading_153tc_545",spinner:"_spinner_153tc_563",spin:"_spin_153tc_563"},Tj=({tecnicaParaEdicao:e,onSalvar:t,onCancelar:a})=>{const[n,i]=f.useState({nome:""}),[s,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState({}),h=!!e;f.useEffect(()=>{e&&i({id:e.ID,nome:e.nome||""})},[e]);return p.jsxs("div",{className:Ij.container,children:[p.jsx("div",{className:Ij.header,children:p.jsx("h2",{children:h?"Editar Técnica":"Nova Técnica"})}),l&&p.jsx("div",{className:`${Ij.message} ${Ij[l.type]}`,children:l.text}),p.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n.nome.trim()||(e.nome="Nome é obrigatório"),u(e),0===Object.keys(e).length})()){o(!0),c(null);try{let e;e=h?await r("editar_tecnica",{tecnicaData:n}):await r("cadastrar_tecnica",{tecnicaData:{nome:n.nome}}),e.success?(c({text:e.message,type:"success"}),setTimeout(t,1e3)):c({text:e.message,type:"error"})}catch(a){c({text:a?.message||"Erro ao salvar técnica",type:"error"})}finally{o(!1)}}},className:Ij.form,children:[p.jsxs("div",{className:Ij.formGroup,children:[p.jsx("label",{htmlFor:"nome",className:Ij.label,children:"Nome da Técnica *"}),p.jsx("input",{type:"text",id:"nome",value:n.nome||"",onChange:e=>((e,t)=>{i(a=>({...a,[e]:t})),d[e]&&u(t=>({...t,[e]:""}))})("nome",e.target.value),className:`${Ij.input} ${d.nome?Ij.inputError:""}`,placeholder:"Ex: Potenciometria",disabled:s}),d.nome&&p.jsx("span",{className:Ij.errorText,children:d.nome})]}),p.jsxs("div",{className:Ij.buttonGroup,children:[p.jsx("button",{type:"button",onClick:a,className:Ij.buttonSecondary,disabled:s,children:"Cancelar"}),p.jsx("button",{type:"submit",className:Ij.buttonPrimary,disabled:s,children:s?"A Salvar...":h?"Salvar Alterações":"Cadastrar"})]})]})]})},zj={container:"_container_exx6t_5",header:"_header_exx6t_29",filters:"_filters_exx6t_63",searchInput:"_searchInput_exx6t_71",tableContainer:"_tableContainer_exx6t_119","has-scrollbar":"_has-scrollbar_exx6t_145",table:"_table_exx6t_119",actions:"_actions_exx6t_321",buttonEdit:"_buttonEdit_exx6t_333",buttonDelete:"_buttonDelete_exx6t_335",loading:"_loading_exx6t_409",empty:"_empty_exx6t_411",spinner:"_spinner_exx6t_453",spin:"_spin_exx6t_453",buttonPrimary:"_buttonPrimary_exx6t_483",message:"_message_exx6t_535",slideInDown:"_slideInDown_exx6t_1",success:"_success_exx6t_561",error:"_error_exx6t_575",closeMessage:"_closeMessage_exx6t_589",status:"_status_exx6t_647",ativo:"_ativo_exx6t_671",inativo:"_inativo_exx6t_699"},Rj=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(!0),[i,s]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(""),m=f.useCallback(async()=>{n(!0);try{const e=await r("listar_tecnicas");e.success&&e.data?t(e.data):s({text:e.message||"Erro ao carregar técnicas",type:"error"})}catch(e){s({text:e?.message||"Erro de comunicação com o backend",type:"error"})}finally{n(!1)}},[]);f.useEffect(()=>{m()},[m]);const g=()=>{d(!1),l(null),m()},x=()=>{d(!1),l(null)},v=e.filter(e=>e.nome?.toLowerCase().includes(u.toLowerCase()));return c?p.jsx(Tj,{tecnicaParaEdicao:o||void 0,onSalvar:g,onCancelar:x}):p.jsxs("div",{className:zj.container,children:[p.jsxs("div",{className:zj.header,children:[p.jsx("h2",{children:"Gerir Técnicas"}),p.jsx("button",{onClick:()=>{l(null),d(!0)},className:zj.buttonPrimary,children:"Nova Técnica"})]}),i&&p.jsx("div",{className:`${zj.message} ${zj[i.type]}`,children:i.text}),p.jsx("div",{className:zj.filters,children:p.jsx("input",{type:"text",placeholder:"Buscar por nome da técnica...",value:u,onChange:e=>h(e.target.value),className:zj.searchInput})}),a?p.jsxs("div",{className:zj.loading,children:[p.jsx("div",{className:zj.spinner}),p.jsx("p",{children:"A carregar..."})]}):p.jsx("div",{className:zj.tableContainer,children:p.jsxs("table",{className:zj.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"ID"}),p.jsx("th",{children:"Nome da Técnica"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:v.map(e=>p.jsxs("tr",{children:[p.jsx("td",{children:e.ID}),p.jsx("td",{children:p.jsx("strong",{children:e.nome||"N/A"})}),p.jsx("td",{children:p.jsxs("div",{className:zj.actions,children:[p.jsx("button",{onClick:()=>(e=>{l(e),d(!0)})(e),className:zj.buttonEdit,title:"Editar",children:"✏️"}),p.jsx("button",{onClick:()=>(async e=>{if(window.confirm(`Tem certeza que deseja remover a técnica "${e.nome}"?`))try{const t=await r("deletar_tecnica",{id:e.ID});t.success?(s({text:t.message,type:"success"}),m()):s({text:t.message,type:"error"})}catch(t){s({text:t?.message||"Erro ao remover técnica",type:"error"})}})(e),className:zj.buttonDelete,title:"Remover",children:"🗑️"})]})})]},e.ID))})]})})]})},Lj={container:"_container_xypkt_1",header:"_header_xypkt_19",form:"_form_xypkt_47",formGroup:"_formGroup_xypkt_67",label:"_label_xypkt_77",input:"_input_xypkt_91",inputError:"_inputError_xypkt_135",errorText:"_errorText_xypkt_155",buttonGroup:"_buttonGroup_xypkt_175",buttonPrimary:"_buttonPrimary_xypkt_191",buttonSecondary:"_buttonSecondary_xypkt_251",message:"_message_xypkt_295",slideIn:"_slideIn_xypkt_1",success:"_success_xypkt_339",error:"_error_xypkt_155"},$j=({identificacaoParaEdicao:e,onSalvar:t,onCancelar:a})=>{const[n,i]=f.useState({id1:""}),[s,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState({}),h=!!e;f.useEffect(()=>{e&&i({id:e.ID,id1:e.id1||""})},[e]);return p.jsxs("div",{className:Lj.container,children:[p.jsx("div",{className:Lj.header,children:p.jsx("h2",{children:h?"Editar Identificação":"Nova Identificação"})}),l&&p.jsx("div",{className:`${Lj.message} ${Lj[l.type]}`,children:l.text}),p.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n.id1.trim()||(e.id1="Descrição é obrigatória"),u(e),0===Object.keys(e).length})()){o(!0),c(null);try{let e;e=h?await r("editar_identificacao",{identificacaoData:n}):await r("cadastrar_identificacao",{identificacaoData:{id1:n.id1}}),e.success?(c({text:e.message,type:"success"}),setTimeout(t,1e3)):c({text:e.message,type:"error"})}catch(a){c({text:a?.message||"Erro ao salvar identificação",type:"error"})}finally{o(!1)}}},className:Lj.form,children:[p.jsxs("div",{className:Lj.formGroup,children:[p.jsx("label",{htmlFor:"id1",className:Lj.label,children:"Descrição (id1) *"}),p.jsx("input",{type:"text",id:"id1",value:n.id1||"",onChange:e=>((e,t)=>{i(a=>({...a,[e]:t})),d[e]&&u(t=>({...t,[e]:""}))})("id1",e.target.value),className:`${Lj.input} ${d.id1?Lj.inputError:""}`,placeholder:"Descrição da identificação",disabled:s}),d.id1&&p.jsx("span",{className:Lj.errorText,children:d.id1})]}),p.jsxs("div",{className:Lj.buttonGroup,children:[p.jsx("button",{type:"button",onClick:a,className:Lj.buttonSecondary,disabled:s,children:"Cancelar"}),p.jsx("button",{type:"submit",className:Lj.buttonPrimary,disabled:s,children:s?"A Salvar...":h?"Salvar Alterações":"Cadastrar"})]})]})]})},Bj={container:"_container_vxsnq_5",header:"_header_vxsnq_31",filters:"_filters_vxsnq_65",searchInput:"_searchInput_vxsnq_73",tableContainer:"_tableContainer_vxsnq_135","has-scrollbar":"_has-scrollbar_vxsnq_161",table:"_table_vxsnq_135",actions:"_actions_vxsnq_337",buttonEdit:"_buttonEdit_vxsnq_349",buttonDelete:"_buttonDelete_vxsnq_351",loading:"_loading_vxsnq_457",empty:"_empty_vxsnq_459",spinner:"_spinner_vxsnq_501",spin:"_spin_vxsnq_501",buttonPrimary:"_buttonPrimary_vxsnq_531",message:"_message_vxsnq_597",slideInDown:"_slideInDown_vxsnq_1",success:"_success_vxsnq_623",error:"_error_vxsnq_637",closeMessage:"_closeMessage_vxsnq_651"},qj=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(!0),[i,s]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(""),m=f.useCallback(async()=>{n(!0);try{const e=await r("listar_identificacoes");e.success&&e.data?t(e.data):s({text:e.message||"Erro ao carregar identificações",type:"error"})}catch(e){s({text:e?.message||"Erro de comunicação com o backend",type:"error"})}finally{n(!1)}},[]);f.useEffect(()=>{m()},[m]);const g=()=>{d(!1),l(null),m()},x=()=>{d(!1),l(null)},v=e.filter(e=>e.id1?.toLowerCase().includes(u.toLowerCase()));return c?p.jsx($j,{identificacaoParaEdicao:o||void 0,onSalvar:g,onCancelar:x}):p.jsxs("div",{className:Bj.container,children:[p.jsxs("div",{className:Bj.header,children:[p.jsx("h2",{children:"Gerir Identificações"}),p.jsx("button",{onClick:()=>{l(null),d(!0)},className:Bj.buttonPrimary,children:"Nova Identificação"})]}),i&&p.jsx("div",{className:`${Bj.message} ${Bj[i.type]}`,children:i.text}),p.jsx("div",{className:Bj.filters,children:p.jsx("input",{type:"text",placeholder:"Buscar por descrição...",value:u,onChange:e=>h(e.target.value),className:Bj.searchInput})}),a?p.jsxs("div",{className:Bj.loading,children:[p.jsx("div",{className:Bj.spinner}),p.jsx("p",{children:"A carregar..."})]}):p.jsx("div",{className:Bj.tableContainer,children:p.jsxs("table",{className:Bj.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"ID"}),p.jsx("th",{children:"Descrição (id1)"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:v.map(e=>p.jsxs("tr",{children:[p.jsx("td",{children:e.ID}),p.jsx("td",{children:p.jsx("strong",{children:e.id1||"N/A"})}),p.jsx("td",{children:p.jsxs("div",{className:Bj.actions,children:[p.jsx("button",{onClick:()=>(e=>{l(e),d(!0)})(e),className:Bj.buttonEdit,title:"Editar",children:"✏️"}),p.jsx("button",{onClick:()=>(async e=>{if(window.confirm(`Tem certeza que deseja remover a identificação "${e.id1}"?`))try{const t=await r("deletar_identificacao",{id:e.ID});t.success?(s({text:t.message,type:"success"}),m()):s({text:t.message,type:"error"})}catch(t){s({text:t?.message||"Erro ao remover identificação",type:"error"})}})(e),className:Bj.buttonDelete,title:"Remover",children:"🗑️"})]})})]},e.ID))})]})})]})},Fj={container:"_container_1qlu9_1",header:"_header_1qlu9_19",form:"_form_1qlu9_47",formGroup:"_formGroup_1qlu9_67",label:"_label_1qlu9_77",input:"_input_1qlu9_91",inputError:"_inputError_1qlu9_143",errorText:"_errorText_1qlu9_171",checkboxLabel:"_checkboxLabel_1qlu9_221",buttonGroup:"_buttonGroup_1qlu9_341",buttonPrimary:"_buttonPrimary_1qlu9_357",buttonSecondary:"_buttonSecondary_1qlu9_417",message:"_message_1qlu9_461",slideIn:"_slideIn_1qlu9_1",success:"_success_1qlu9_505",error:"_error_1qlu9_171"},Wj=({metodologiaParaEdicao:e,onSalvar:t,onCancelar:a})=>{const[n,i]=f.useState({nome:"",ativo:!0}),[s,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState({}),h=!!e;f.useEffect(()=>{e&&i({id:e.ID,nome:e.NOME||"",ativo:e.ATIVO})},[e]);const m=(e,t)=>{i(a=>({...a,[e]:t})),d[e]&&u(t=>({...t,[e]:""}))};return p.jsxs("div",{className:Fj.container,children:[p.jsx("div",{className:Fj.header,children:p.jsx("h2",{children:h?"Editar Metodologia":"Nova Metodologia"})}),l&&p.jsx("div",{className:`${Fj.message} ${Fj[l.type]}`,children:l.text}),p.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n.nome.trim()||(e.nome="Nome é obrigatório"),u(e),0===Object.keys(e).length})()){o(!0),c(null);try{let e;e=h?await r("editar_metodologia",{metodologiaData:n}):await r("cadastrar_metodologia",{metodologiaData:{nome:n.nome,ativo:n.ativo}}),e.success?(c({text:e.message,type:"success"}),setTimeout(t,1e3)):c({text:e.message,type:"error"})}catch(a){c({text:a?.message||"Erro ao salvar metodologia",type:"error"})}finally{o(!1)}}},className:Fj.form,children:[p.jsxs("div",{className:Fj.formGroup,children:[p.jsx("label",{htmlFor:"nome",className:Fj.label,children:"Nome da Metodologia *"}),p.jsx("input",{type:"text",id:"nome",value:n.nome||"",onChange:e=>m("nome",e.target.value),className:`${Fj.input} ${d.nome?Fj.inputError:""}`,placeholder:"Ex: ABNT NBR ISO/IEC 17025",disabled:s}),d.nome&&p.jsx("span",{className:Fj.errorText,children:d.nome})]}),p.jsx("div",{className:Fj.formGroup,children:p.jsxs("label",{className:Fj.checkboxLabel,children:[p.jsx("input",{type:"checkbox",checked:n.ativo,onChange:e=>m("ativo",e.target.checked),disabled:s})," Metodologia Ativa"]})}),p.jsxs("div",{className:Fj.buttonGroup,children:[p.jsx("button",{type:"button",onClick:a,className:Fj.buttonSecondary,disabled:s,children:"Cancelar"}),p.jsx("button",{type:"submit",className:Fj.buttonPrimary,disabled:s,children:s?"A Salvar...":h?"Salvar Alterações":"Cadastrar"})]})]})]})},Gj={container:"_container_17k9l_5",header:"_header_17k9l_31",filters:"_filters_17k9l_65",searchInput:"_searchInput_17k9l_73",tableContainer:"_tableContainer_17k9l_143","has-scrollbar":"_has-scrollbar_17k9l_169",table:"_table_17k9l_143",status:"_status_17k9l_345",ativo:"_ativo_17k9l_387",pulse:"_pulse_17k9l_1",inativo:"_inativo_17k9l_409",actions:"_actions_17k9l_451",buttonEdit:"_buttonEdit_17k9l_463",buttonDelete:"_buttonDelete_17k9l_465",loading:"_loading_17k9l_567",empty:"_empty_17k9l_569",spinner:"_spinner_17k9l_625",spin:"_spin_17k9l_625",buttonPrimary:"_buttonPrimary_17k9l_655",message:"_message_17k9l_721",slideInDown:"_slideInDown_17k9l_1",success:"_success_17k9l_747",error:"_error_17k9l_791",closeMessage:"_closeMessage_17k9l_835"},Hj=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(!0),[i,s]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(""),m=f.useCallback(async()=>{n(!0);try{const e=await r("listar_metodologias");e.success&&e.data?t(e.data):s({text:e.message||"Erro ao carregar metodologias",type:"error"})}catch(e){s({text:e?.message||"Erro de comunicação com o backend",type:"error"})}finally{n(!1)}},[]);f.useEffect(()=>{m()},[m]);const g=()=>{d(!1),l(null),m()},x=()=>{d(!1),l(null)},v=e.filter(e=>e.NOME?.toLowerCase().includes(u.toLowerCase()));return c?p.jsx(Wj,{metodologiaParaEdicao:o||void 0,onSalvar:g,onCancelar:x}):p.jsxs("div",{className:Gj.container,children:[p.jsxs("div",{className:Gj.header,children:[p.jsx("h2",{children:"Gerir Metodologias"}),p.jsx("button",{onClick:()=>{l(null),d(!0)},className:Gj.buttonPrimary,children:"Nova Metodologia"})]}),i&&p.jsx("div",{className:`${Gj.message} ${Gj[i.type]}`,children:i.text}),p.jsx("div",{className:Gj.filters,children:p.jsx("input",{type:"text",placeholder:"Buscar por nome da metodologia...",value:u,onChange:e=>h(e.target.value),className:Gj.searchInput})}),a?p.jsxs("div",{className:Gj.loading,children:[p.jsx("div",{className:Gj.spinner}),p.jsx("p",{children:"A carregar..."})]}):p.jsx("div",{className:Gj.tableContainer,children:p.jsxs("table",{className:Gj.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"ID"}),p.jsx("th",{children:"Nome da Metodologia"}),p.jsx("th",{children:"Estado"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:v.map(e=>p.jsxs("tr",{children:[p.jsx("td",{children:e.ID}),p.jsx("td",{children:p.jsx("strong",{children:e.NOME||"N/A"})}),p.jsx("td",{children:p.jsx("span",{className:`${Gj.status} ${e.ATIVO?Gj.ativo:Gj.inativo}`,children:e.ATIVO?"Ativo":"Inativo"})}),p.jsx("td",{children:p.jsxs("div",{className:Gj.actions,children:[p.jsx("button",{onClick:()=>(e=>{l(e),d(!0)})(e),className:Gj.buttonEdit,title:"Editar",children:"✏️"}),p.jsx("button",{onClick:()=>(async e=>{if(window.confirm(`Tem certeza que deseja remover a metodologia "${e.NOME}"?`))try{const t=await r("deletar_metodologia",{id:e.ID});t.success?(s({text:t.message,type:"success"}),m()):s({text:t.message,type:"error"})}catch(t){s({text:t?.message||"Erro ao remover metodologia",type:"error"})}})(e),className:Gj.buttonDelete,title:"Remover",children:"🗑️"})]})})]},e.ID))})]})})]})},Vj={container:"_container_1c9jq_1",header:"_header_1c9jq_19",form:"_form_1c9jq_47",formGroup:"_formGroup_1c9jq_67",label:"_label_1c9jq_77",input:"_input_1c9jq_91",inputError:"_inputError_1c9jq_143",errorText:"_errorText_1c9jq_171",checkboxLabel:"_checkboxLabel_1c9jq_221",buttonGroup:"_buttonGroup_1c9jq_339",buttonPrimary:"_buttonPrimary_1c9jq_355",buttonSecondary:"_buttonSecondary_1c9jq_415",message:"_message_1c9jq_459",slideIn:"_slideIn_1c9jq_1",success:"_success_1c9jq_503",error:"_error_1c9jq_171"},Uj=({legislacaoParaEdicao:e,onSalvar:t,onCancelar:a})=>{const[n,i]=f.useState({nome:"",complemento:"",ativo:!0}),[s,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState({}),h=!!e;f.useEffect(()=>{e&&i({id:e.id,nome:e.nome||"",complemento:e.COMPLEMENTO||"",ativo:e.ATIVO})},[e]);const m=(e,t)=>{i(a=>({...a,[e]:t})),d[e]&&u(t=>({...t,[e]:""}))};return p.jsxs("div",{className:Vj.container,children:[p.jsx("div",{className:Vj.header,children:p.jsx("h2",{children:h?"Editar Legislação":"Nova Legislação"})}),l&&p.jsx("div",{className:`${Vj.message} ${Vj[l.type]}`,children:l.text}),p.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n.nome.trim()||(e.nome="Nome é obrigatório"),u(e),0===Object.keys(e).length})()){o(!0),c(null);try{let e;e=h?await r("editar_legislacao",{legislacaoData:n}):await r("cadastrar_legislacao",{legislacaoData:{nome:n.nome,complemento:n.complemento,ativo:n.ativo}}),e.success?(c({text:e.message,type:"success"}),setTimeout(t,1e3)):c({text:e.message,type:"error"})}catch(a){c({text:a?.message||"Erro ao salvar legislação",type:"error"})}finally{o(!1)}}},className:Vj.form,children:[p.jsxs("div",{className:Vj.formRow,children:[p.jsxs("div",{className:`${Vj.formGroup} ${Vj.formGroupNome}`,children:[p.jsx("label",{htmlFor:"nome",className:Vj.label,children:"Nome da Legislação *"}),p.jsx("input",{type:"text",id:"nome",value:n.nome||"",onChange:e=>m("nome",e.target.value),className:`${Vj.input} ${d.nome?Vj.inputError:""}`,placeholder:"Ex: Portaria GM/MS Nº 888",disabled:s}),d.nome&&p.jsx("span",{className:Vj.errorText,children:d.nome})]}),p.jsxs("div",{className:`${Vj.formGroup} ${Vj.formGroupComplemento}`,children:[p.jsx("label",{htmlFor:"complemento",className:Vj.label,children:"Complemento"}),p.jsx("input",{type:"text",id:"complemento",value:n.complemento||"",onChange:e=>m("complemento",e.target.value),className:Vj.input,placeholder:"Ex: de 29 de Maio de 2021",disabled:s})]})]}),p.jsx("div",{className:Vj.formGroup,children:p.jsxs("label",{className:Vj.checkboxLabel,children:[p.jsx("input",{type:"checkbox",checked:n.ativo,onChange:e=>m("ativo",e.target.checked),disabled:s})," Legislação Ativa"]})}),p.jsxs("div",{className:Vj.buttonGroup,children:[p.jsx("button",{type:"button",onClick:a,className:Vj.buttonSecondary,disabled:s,children:"Cancelar"}),p.jsx("button",{type:"submit",className:Vj.buttonPrimary,disabled:s,children:s?"A Salvar...":h?"Salvar Alterações":"Cadastrar"})]})]})]})},Kj={container:"_container_s82r0_5",header:"_header_s82r0_29",filters:"_filters_s82r0_63",searchInput:"_searchInput_s82r0_71",tableContainer:"_tableContainer_s82r0_127","has-scrollbar":"_has-scrollbar_s82r0_151",table:"_table_s82r0_127",obsCell:"_obsCell_s82r0_327",status:"_status_s82r0_365",ativo:"_ativo_s82r0_389",inativo:"_inativo_s82r0_417",actions:"_actions_s82r0_445",buttonEdit:"_buttonEdit_s82r0_457",buttonDelete:"_buttonDelete_s82r0_459",loading:"_loading_s82r0_533",spinner:"_spinner_s82r0_575",spin:"_spin_s82r0_575",buttonPrimary:"_buttonPrimary_s82r0_605",message:"_message_s82r0_657",slideInDown:"_slideInDown_s82r0_1",success:"_success_s82r0_683",error:"_error_s82r0_697",closeMessage:"_closeMessage_s82r0_711"},Yj=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(!0),[i,s]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(""),m=f.useCallback(async()=>{n(!0);try{const e=await r("listar_legislacoes");e.success&&e.data?t(e.data):s({text:e.message||"Erro ao carregar legislações",type:"error"})}catch(e){s({text:e?.message||"Erro de comunicação com o backend",type:"error"})}finally{n(!1)}},[]);f.useEffect(()=>{m()},[m]);const g=()=>{d(!1),l(null),m()},x=()=>{d(!1),l(null)},v=e.filter(e=>e.nome?.toLowerCase().includes(u.toLowerCase())||e.COMPLEMENTO?.toLowerCase().includes(u.toLowerCase()));return c?p.jsx(Uj,{legislacaoParaEdicao:o||void 0,onSalvar:g,onCancelar:x}):p.jsxs("div",{className:Kj.container,children:[p.jsxs("div",{className:Kj.header,children:[p.jsx("h2",{children:"Gerir Legislações"}),p.jsx("button",{onClick:()=>{l(null),d(!0)},className:Kj.buttonPrimary,children:"Nova Legislação"})]}),i&&p.jsx("div",{className:`${Kj.message} ${Kj[i.type]}`,children:i.text}),p.jsx("div",{className:Kj.filters,children:p.jsx("input",{type:"text",placeholder:"Buscar por nome ou complemento...",value:u,onChange:e=>h(e.target.value),className:Kj.searchInput})}),a?p.jsxs("div",{className:Kj.loading,children:[p.jsx("div",{className:Kj.spinner}),p.jsx("p",{children:"A carregar..."})]}):p.jsx("div",{className:Kj.tableContainer,children:p.jsxs("table",{className:Kj.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"ID"}),p.jsx("th",{children:"Nome"}),p.jsx("th",{children:"Complemento"}),p.jsx("th",{children:"Estado"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:v.map(e=>p.jsxs("tr",{children:[p.jsx("td",{children:e.id}),p.jsx("td",{children:p.jsx("strong",{children:e.nome||"N/A"})}),p.jsx("td",{className:Kj.obsCell,children:e.COMPLEMENTO||""}),p.jsx("td",{children:p.jsx("span",{className:`${Kj.status} ${e.ATIVO?Kj.ativo:Kj.inativo}`,children:e.ATIVO?"Ativo":"Inativo"})}),p.jsx("td",{children:p.jsxs("div",{className:Kj.actions,children:[p.jsx("button",{onClick:()=>(l(e),void d(!0)),className:Kj.buttonEdit,title:"Editar",children:"✏️"}),p.jsx("button",{onClick:()=>(async e=>{if(window.confirm(`Tem certeza que deseja remover a legislação "${e.nome}"?`))try{const t=await r("deletar_legislacao",{id:e.id});t.success?(s({text:t.message,type:"success"}),m()):s({text:t.message,type:"error"})}catch(t){s({text:t?.message||"Erro ao remover legislação",type:"error"})}})(e),className:Kj.buttonDelete,title:"Remover",children:"🗑️"})]})})]},e.id))})]})})]})},Xj={container:"_container_1t1vq_5",header:"_header_1t1vq_29",form:"_form_1t1vq_63",formGroup:"_formGroup_1t1vq_87",label:"_label_1t1vq_97",input:"_input_1t1vq_113",inputError:"_inputError_1t1vq_159",errorText:"_errorText_1t1vq_177",buttonGroup:"_buttonGroup_1t1vq_191",buttonPrimary:"_buttonPrimary_1t1vq_209",buttonSecondary:"_buttonSecondary_1t1vq_261",message:"_message_1t1vq_297",slideInDown:"_slideInDown_1t1vq_1",success:"_success_1t1vq_323",error:"_error_1t1vq_177",closeMessage:"_closeMessage_1t1vq_351",status:"_status_1t1vq_409",ativo:"_ativo_1t1vq_433",inativo:"_inativo_1t1vq_461"},Jj=({categoriaParaEdicao:e,onSalvar:t,onCancelar:a})=>{const[n,i]=f.useState({NOME:""}),[s,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState({}),h=!!e;f.useEffect(()=>{e&&i({id:e.ID,NOME:e.NOME||""})},[e]);return p.jsxs("div",{className:Xj.container,children:[p.jsx("div",{className:Xj.header,children:p.jsx("h2",{children:h?"Editar Categoria":"Nova Categoria"})}),l&&p.jsx("div",{className:`${Xj.message} ${Xj[l.type]}`,children:l.text}),p.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n.NOME.trim()||(e.NOME="Nome é obrigatório"),u(e),0===Object.keys(e).length})()){o(!0),c(null);try{let e;e=h?await r("editar_categoria",{categoriaData:n}):await r("criar_categoria",{categoriaData:{NOME:n.NOME}}),e.success?(c({text:e.message,type:"success"}),setTimeout(t,1e3)):c({text:e.message,type:"error"})}catch(a){c({text:a?.message||"Erro ao salvar categoria",type:"error"})}finally{o(!1)}}},className:Xj.form,children:[p.jsxs("div",{className:Xj.formGroup,children:[p.jsx("label",{htmlFor:"nome",className:Xj.label,children:"Nome da Categoria *"}),p.jsx("input",{type:"text",id:"nome",value:n.NOME||"",onChange:e=>((e,t)=>{i(a=>({...a,[e]:t})),d[e]&&u(t=>({...t,[e]:""}))})("NOME",e.target.value),className:`${Xj.input} ${d.NOME?Xj.inputError:""}`,placeholder:"Ex: Categoria de Amostra",disabled:s}),d.NOME&&p.jsx("span",{className:Xj.errorText,children:d.NOME})]}),p.jsxs("div",{className:Xj.buttonGroup,children:[p.jsx("button",{type:"button",onClick:a,className:Xj.buttonSecondary,disabled:s,children:"Cancelar"}),p.jsx("button",{type:"submit",className:Xj.buttonPrimary,disabled:s,children:s?"A Salvar...":h?"Salvar Alterações":"Cadastrar"})]})]})]})},Zj={container:"_container_3345a_5",header:"_header_3345a_29",filters:"_filters_3345a_63",searchInput:"_searchInput_3345a_81",tableContainer:"_tableContainer_3345a_129","has-scrollbar":"_has-scrollbar_3345a_153",table:"_table_3345a_129",actions:"_actions_3345a_329",buttonEdit:"_buttonEdit_3345a_341",buttonDelete:"_buttonDelete_3345a_343",buttonPrimary:"_buttonPrimary_3345a_417",loading:"_loading_3345a_469",spinner:"_spinner_3345a_511",spin:"_spin_3345a_511",message:"_message_3345a_541",slideInDown:"_slideInDown_3345a_1",success:"_success_3345a_567",error:"_error_3345a_581",fecharErro:"_fecharErro_3345a_595",closeMessage:"_closeMessage_3345a_597"},Qj=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(!0),[i,s]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(""),m=f.useCallback(async()=>{n(!0);try{const e=await r("buscar_categorias_cadastro");e.success&&e.data?t(e.data):s({text:e.message||"Erro ao carregar categorias",type:"error"})}catch(e){s({text:e?.message||"Erro de comunicação com o backend",type:"error"})}finally{n(!1)}},[]);f.useEffect(()=>{m()},[m]);const g=()=>{d(!1),l(null),m()},x=()=>{d(!1),l(null)},v=e.filter(e=>e.NOME?.toLowerCase().includes(u.toLowerCase()));return c?p.jsx(Jj,{categoriaParaEdicao:o||void 0,onSalvar:g,onCancelar:x}):p.jsxs("div",{className:Zj.container,children:[p.jsxs("div",{className:Zj.header,children:[p.jsx("h2",{children:"Gerir Categorias"}),p.jsx("button",{onClick:()=>{l(null),d(!0)},className:Zj.buttonPrimary,children:"Nova Categoria"})]}),i&&p.jsx("div",{className:`${Zj.message} ${Zj[i.type]}`,children:i.text}),p.jsx("div",{className:Zj.filters,children:p.jsx("input",{type:"text",placeholder:"Buscar por nome da categoria...",value:u,onChange:e=>h(e.target.value),className:Zj.searchInput})}),a?p.jsxs("div",{className:Zj.loading,children:[p.jsx("div",{className:Zj.spinner}),p.jsx("p",{children:"A carregar..."})]}):p.jsx("div",{className:Zj.tableContainer,children:p.jsxs("table",{className:Zj.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"ID"}),p.jsx("th",{children:"Nome da Categoria"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:v.map(e=>p.jsxs("tr",{children:[p.jsx("td",{children:e.ID}),p.jsx("td",{children:p.jsx("strong",{children:e.NOME||"N/A"})}),p.jsx("td",{children:p.jsxs("div",{className:Zj.actions,children:[p.jsx("button",{onClick:()=>(e=>{l(e),d(!0)})(e),className:Zj.buttonEdit,title:"Editar",children:"✏️"}),p.jsx("button",{onClick:()=>(async e=>{if(window.confirm(`Tem certeza que deseja remover a categoria "${e.NOME}"?`))try{const t=await r("excluir_categoria",{id:e.ID});t.success?(s({text:t.message,type:"success"}),m()):s({text:t.message,type:"error"})}catch(t){s({text:t?.message||"Erro ao remover categoria",type:"error"})}})(e),className:Zj.buttonDelete,title:"Remover",children:"🗑️"})]})})]},e.ID))})]})})]})},ew={container:"_container_1upcz_5",formContainer:"_formContainer_1upcz_29",header:"_header_1upcz_51",form:"_form_1upcz_29",formGroup:"_formGroup_1upcz_93",label:"_label_1upcz_103",input:"_input_1upcz_119",inputError:"_inputError_1upcz_165",errorText:"_errorText_1upcz_183",buttonGroup:"_buttonGroup_1upcz_197",buttonPrimary:"_buttonPrimary_1upcz_215",buttonSecondary:"_buttonSecondary_1upcz_267",message:"_message_1upcz_303",slideInDown:"_slideInDown_1upcz_1",success:"_success_1upcz_329",error:"_error_1upcz_183",closeMessage:"_closeMessage_1upcz_357",status:"_status_1upcz_415",ativo:"_ativo_1upcz_439",inativo:"_inativo_1upcz_467"},tw=({formaParaEdicao:e,onSalvar:t,onCancelar:a})=>{const[n,i]=f.useState({nome:""}),[s,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState({}),h=!!e;f.useEffect(()=>{e&&i({id:e.ID,nome:e.NOME||""})},[e]);return p.jsxs("div",{className:ew.container,children:[p.jsx("div",{className:ew.header,children:p.jsx("h2",{children:h?"Editar Forma de Contato":"Nova Forma de Contato"})}),l&&p.jsx("div",{className:`${ew.message} ${ew[l.type]}`,children:l.text}),p.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n.nome.trim()||(e.nome="Descrição é obrigatória"),u(e),0===Object.keys(e).length})()){o(!0),c(null);try{let e;e=h?await r("editar_forma_contato",{formaData:n}):await r("cadastrar_forma_contato",{formaData:{nome:n.nome}}),e.success?(c({text:e.message,type:"success"}),setTimeout(t,1e3)):c({text:e.message,type:"error"})}catch(a){c({text:a?.message||"Erro ao salvar forma de contato",type:"error"})}finally{o(!1)}}},className:ew.form,children:[p.jsxs("div",{className:ew.formGroup,children:[p.jsx("label",{htmlFor:"nome",className:ew.label,children:"Descrição *"}),p.jsx("input",{type:"text",id:"nome",value:n.nome||"",onChange:e=>((e,t)=>{i(a=>({...a,[e]:t})),d[e]&&u(t=>({...t,[e]:""}))})("nome",e.target.value),className:`${ew.input} ${d.nome?ew.inputError:""}`,placeholder:"Ex: E-mail",disabled:s}),d.nome&&p.jsx("span",{className:ew.errorText,children:d.nome})]}),p.jsxs("div",{className:ew.buttonGroup,children:[p.jsx("button",{type:"button",onClick:a,className:ew.buttonSecondary,disabled:s,children:"Cancelar"}),p.jsx("button",{type:"submit",className:ew.buttonPrimary,disabled:s,children:s?"A Salvar...":h?"Salvar Alterações":"Cadastrar"})]})]})]})},aw={container:"_container_896u4_5",header:"_header_896u4_29",filters:"_filters_896u4_63",searchInput:"_searchInput_896u4_71",tableContainer:"_tableContainer_896u4_119","has-scrollbar":"_has-scrollbar_896u4_145",table:"_table_896u4_119",actions:"_actions_896u4_321",buttonEdit:"_buttonEdit_896u4_333",buttonDelete:"_buttonDelete_896u4_335",loading:"_loading_896u4_413",empty:"_empty_896u4_415",spinner:"_spinner_896u4_457",spin:"_spin_896u4_457",buttonPrimary:"_buttonPrimary_896u4_487",message:"_message_896u4_539",slideInDown:"_slideInDown_896u4_1",success:"_success_896u4_565",error:"_error_896u4_579",closeMessage:"_closeMessage_896u4_593"},rw=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(!0),[i,s]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(""),m=f.useCallback(async()=>{n(!0);try{const e=await r("listar_formas_contato");e.success&&e.data?t(e.data):s({text:e.message||"Erro ao carregar formas de contato",type:"error"})}catch(e){s({text:e?.message||"Erro de comunicação com o backend",type:"error"})}finally{n(!1)}},[]);f.useEffect(()=>{m()},[m]);const g=()=>{d(!1),l(null),m()},x=()=>{d(!1),l(null)},v=e.filter(e=>e.NOME?.toLowerCase().includes(u.toLowerCase()));return c?p.jsx(tw,{formaParaEdicao:o||void 0,onSalvar:g,onCancelar:x}):p.jsxs("div",{className:aw.container,children:[p.jsxs("div",{className:aw.header,children:[p.jsx("h2",{children:"Gerir Formas de Contato"}),p.jsx("button",{onClick:()=>{l(null),d(!0)},className:aw.buttonPrimary,children:"Nova Forma de Contato"})]}),i&&p.jsx("div",{className:`${aw.message} ${aw[i.type]}`,children:i.text}),p.jsx("div",{className:aw.filters,children:p.jsx("input",{type:"text",placeholder:"Buscar por descrição...",value:u,onChange:e=>h(e.target.value),className:aw.searchInput})}),a?p.jsxs("div",{className:aw.loading,children:[p.jsx("div",{className:aw.spinner}),p.jsx("p",{children:"A carregar..."})]}):p.jsx("div",{className:aw.tableContainer,children:p.jsxs("table",{className:aw.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"ID"}),p.jsx("th",{children:"Descrição"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:v.map(e=>p.jsxs("tr",{children:[p.jsx("td",{children:e.ID}),p.jsx("td",{children:p.jsx("strong",{children:e.NOME||"N/A"})}),p.jsx("td",{children:p.jsxs("div",{className:aw.actions,children:[p.jsx("button",{onClick:()=>(e=>{l(e),d(!0)})(e),className:aw.buttonEdit,title:"Editar",children:"✏️"}),p.jsx("button",{onClick:()=>(async e=>{if(window.confirm(`Tem certeza que deseja remover a forma de contato "${e.NOME}"?`))try{const t=await r("deletar_forma_contato",{id:e.ID});t.success?(s({text:t.message,type:"success"}),m()):s({text:t.message,type:"error"})}catch(t){s({text:t?.message||"Erro ao remover forma de contato",type:"error"})}})(e),className:aw.buttonDelete,title:"Remover",children:"🗑️"})]})})]},e.ID))})]})})]})},nw={container:"_container_1b001_5",header:"_header_1b001_29",form:"_form_1b001_57",formGroup:"_formGroup_1b001_81",label:"_label_1b001_91",required:"_required_1b001_105",textarea:"_textarea_1b001_115",inputError:"_inputError_1b001_165",errorText:"_errorText_1b001_183",buttonGroup:"_buttonGroup_1b001_197",buttonPrimary:"_buttonPrimary_1b001_215",buttonSecondary:"_buttonSecondary_1b001_267",message:"_message_1b001_303",slideInDown:"_slideInDown_1b001_1",success:"_success_1b001_329",error:"_error_1b001_183",closeMessage:"_closeMessage_1b001_357"},iw=({obsParaEdicao:e,onSalvar:t,onCancelar:a})=>{const[n,i]=f.useState({nome:""}),[s,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState({}),h=!!e,m=e?.NOME;f.useEffect(()=>{e&&i({nome:e.NOME||""})},[e]);return p.jsxs("div",{className:nw.container,children:[p.jsx("div",{className:nw.header,children:p.jsx("h2",{children:h?"Editar Observação":"Nova Observação"})}),l&&p.jsx("div",{className:`${nw.message} ${nw[l.type]}`,children:l.text}),p.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n.nome.trim()||(e.nome="A descrição da observação é obrigatória"),u(e),0===Object.keys(e).length})()){o(!0),c(null);try{let e;const a={NOME:n.nome};e=h&&m?await r("editar_observacao",{nomeOriginal:m,obsData:a}):await r("cadastrar_observacao",{obsData:a}),e.success?(c({text:e.message,type:"success"}),setTimeout(t,1e3)):c({text:e.message,type:"error"})}catch(a){c({text:a?.message||"Erro ao salvar observação",type:"error"})}finally{o(!1)}}},className:nw.form,children:[p.jsxs("div",{className:nw.formGroup,children:[p.jsx("label",{htmlFor:"nome",className:nw.label,children:"Descrição *"}),p.jsx("textarea",{id:"nome",value:n.nome||"",onChange:e=>((e,t)=>{i(a=>({...a,[e]:t})),d[e]&&u(t=>({...t,[e]:""}))})("nome",e.target.value),className:`${nw.textarea} ${d.nome?nw.inputError:""}`,placeholder:"Digite o texto da observação...",disabled:s,rows:6}),d.nome&&p.jsx("span",{className:nw.errorText,children:d.nome})]}),p.jsxs("div",{className:nw.buttonGroup,children:[p.jsx("button",{type:"button",onClick:a,className:nw.buttonSecondary,disabled:s,children:"Cancelar"}),p.jsx("button",{type:"submit",className:nw.buttonPrimary,disabled:s,children:s?"A Salvar...":h?"Salvar Alterações":"Cadastrar"})]})]})]})},sw={container:"_container_d73qe_5",header:"_header_d73qe_29",filters:"_filters_d73qe_63",searchInput:"_searchInput_d73qe_71",tableContainer:"_tableContainer_d73qe_119","has-scrollbar":"_has-scrollbar_d73qe_145",table:"_table_d73qe_119",obsCell:"_obsCell_d73qe_275",actions:"_actions_d73qe_335",buttonEdit:"_buttonEdit_d73qe_347",buttonDelete:"_buttonDelete_d73qe_349",loading:"_loading_d73qe_427",empty:"_empty_d73qe_429",spinner:"_spinner_d73qe_471",spin:"_spin_d73qe_471",buttonPrimary:"_buttonPrimary_d73qe_501",message:"_message_d73qe_553",slideInDown:"_slideInDown_d73qe_1",success:"_success_d73qe_579",error:"_error_d73qe_593",closeMessage:"_closeMessage_d73qe_607"},ow=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(!0),[i,s]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(""),m=f.useCallback(async()=>{n(!0);try{const e=await r("listar_observacoes");e.success&&e.data?t(e.data):s({text:e.message||"Erro ao carregar observações",type:"error"})}catch(e){s({text:e?.message||"Erro de comunicação com o backend",type:"error"})}finally{n(!1)}},[]);f.useEffect(()=>{m()},[m]);const g=()=>{d(!1),l(null),m()},x=()=>{d(!1),l(null)},v=e.filter(e=>e.NOME?.toLowerCase().includes(u.toLowerCase()));return c?p.jsx(iw,{obsParaEdicao:o||void 0,onSalvar:g,onCancelar:x}):p.jsxs("div",{className:sw.container,children:[p.jsxs("div",{className:sw.header,children:[p.jsx("h2",{children:"Gerir Observações"}),p.jsx("button",{onClick:()=>{l(null),d(!0)},className:sw.buttonPrimary,children:"Nova Observação"})]}),i&&p.jsx("div",{className:`${sw.message} ${sw[i.type]}`,children:i.text}),p.jsx("div",{className:sw.filters,children:p.jsx("input",{type:"text",placeholder:"Buscar por descrição...",value:u,onChange:e=>h(e.target.value),className:sw.searchInput})}),a?p.jsxs("div",{className:sw.loading,children:[p.jsx("div",{className:sw.spinner}),p.jsx("p",{children:"A carregar..."})]}):p.jsx("div",{className:sw.tableContainer,children:p.jsxs("table",{className:sw.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Descrição"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:v.map((e,t)=>p.jsxs("tr",{children:[p.jsx("td",{className:sw.obsCell,children:p.jsx("strong",{children:e.NOME||"N/A"})}),p.jsx("td",{children:p.jsxs("div",{className:sw.actions,children:[p.jsx("button",{onClick:()=>(e=>{l(e),d(!0)})(e),className:sw.buttonEdit,title:"Editar",children:"✏️"}),p.jsx("button",{onClick:()=>(async e=>{if(window.confirm(`Tem certeza que deseja remover a observação "${e.NOME}"?`))try{const t=await r("deletar_observacao",{nome:e.NOME});t.success?(s({text:t.message,type:"success"}),m()):s({text:t.message,type:"error"})}catch(t){s({text:t?.message||"Erro ao remover observação",type:"error"})}})(e),className:sw.buttonDelete,title:"Remover",children:"🗑️"})]})})]},`${e.NOME}-${t}`))})]})})]})},lw={container:"_container_1e705_1",header:"_header_1e705_15",title:"_title_1e705_37",primaryButton:"_primaryButton_1e705_51",tableWrapper:"_tableWrapper_1e705_91",table:"_table_1e705_91",tableHeader:"_tableHeader_1e705_121",tableHead:"_tableHead_1e705_121",tableRow:"_tableRow_1e705_149",tableCell:"_tableCell_1e705_175",actions:"_actions_1e705_185",editButton:"_editButton_1e705_195",dangerButton:"_dangerButton_1e705_229",modalOverlay:"_modalOverlay_1e705_265",modal:"_modal_1e705_265",modalHeader:"_modalHeader_1e705_309",closeButton:"_closeButton_1e705_337",modalForm:"_modalForm_1e705_369",formGroup:"_formGroup_1e705_377",modalActions:"_modalActions_1e705_429",cancelButton:"_cancelButton_1e705_445",saveButton:"_saveButton_1e705_475",confirmationContent:"_confirmationContent_1e705_513",warningIcon:"_warningIcon_1e705_533",searchContainer:"_searchContainer_1e705_633",searchInputWrapper:"_searchInputWrapper_1e705_645",searchIcon:"_searchIcon_1e705_663",searchInput:"_searchInput_1e705_645",clearSearchButton:"_clearSearchButton_1e705_717",searchResults:"_searchResults_1e705_751",emptyState:"_emptyState_1e705_767",errorMessage:"_errorMessage_1e705_997",closeError:"_closeError_1e705_1023"},cw=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(""),[i,s]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[u,h]=f.useState(null),[m,g]=f.useState({nome:"",cnh:""}),[x,v]=f.useState({id:0,nome:"",cnh:""}),b=f.useMemo(()=>{if(!a.trim())return e;const t=a.toLowerCase().trim();return e.filter(e=>e.nome.toLowerCase().includes(t)||e.cnh.toLowerCase().includes(t))},[e,a]),y=()=>{s(!1),l(!1),d(!1),g({nome:"",cnh:""}),h(null)},_=(e,t=!1)=>{const{name:a,value:r}=e.target;t?v(e=>({...e,[a]:r})):g(e=>({...e,[a]:r}))};return f.useEffect(()=>{(async()=>{try{const e=await r("buscar_motoristas");t(e)}catch(e){}})()},[]),p.jsxs("div",{className:lw.container,children:[p.jsxs("div",{className:lw.header,children:[p.jsx("h1",{className:lw.title,children:"Motoristas"}),p.jsxs("button",{className:lw.primaryButton,onClick:()=>{s(!0)},children:[p.jsx(vi,{size:20}),"Cadastrar"]})]}),p.jsxs("div",{className:lw.searchContainer,children:[p.jsxs("div",{className:lw.searchInputWrapper,children:[p.jsx(Mi,{size:20,className:lw.searchIcon}),p.jsx("input",{type:"text",placeholder:"Pesquisar por nome ou CNH...",value:a,onChange:e=>{n(e.target.value)},className:lw.searchInput}),a&&p.jsx("button",{onClick:()=>n(""),className:lw.clearSearchButton,children:p.jsx(ss,{size:16})})]}),a&&p.jsxs("span",{className:lw.searchResults,children:[b.length," de ",e.length," motoristas encontrados"]})]}),p.jsx("div",{className:lw.tableWrapper,children:p.jsxs("table",{className:lw.table,children:[p.jsx("thead",{className:lw.tableHeader,children:p.jsxs("tr",{children:[p.jsx("th",{className:lw.tableHead,children:"Motorista"}),p.jsx("th",{className:lw.tableHead,children:"CNH"}),p.jsx("th",{className:lw.tableHead,children:"Ações"})]})}),p.jsx("tbody",{children:0===b.length?p.jsx("tr",{children:p.jsx("td",{colSpan:3,className:lw.emptyState,children:a?`Nenhum motorista encontrado para "${a}"`:"Nenhum motorista cadastrado"})}):b.map(e=>p.jsxs("tr",{className:lw.tableRow,children:[p.jsx("td",{className:lw.tableCell,children:e.nome}),p.jsx("td",{className:lw.tableCell,children:e.cnh}),p.jsxs("td",{className:`${lw.tableCell} ${lw.actions}`,children:[p.jsx("button",{onClick:()=>(e=>{v({...e}),l(!0)})(e),className:lw.editButton,children:p.jsx(fi,{size:18})}),p.jsx("button",{onClick:()=>(e=>{h(e),d(!0)})(e),className:lw.dangerButton,children:p.jsx(Vi,{size:18})})]})]},e.id))})]})}),i&&p.jsx("div",{className:lw.modalOverlay,children:p.jsxs("div",{className:lw.modal,children:[p.jsxs("div",{className:lw.modalHeader,children:[p.jsx("h2",{children:"Cadastrar Motorista"}),p.jsx("button",{className:lw.closeButton,onClick:y,children:p.jsx(ss,{size:20})})]}),p.jsxs("form",{onSubmit:a=>{a.preventDefault();const r=e.length>0?Math.max(...e.map(e=>e.id))+1:1;t([...e,{id:r,...m}]),y()},className:lw.modalForm,children:[p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"nome",children:"Nome do Motorista"}),p.jsx("input",{type:"text",id:"nome",name:"nome",value:m.nome,onChange:_,required:!0})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"cnh",children:"Número da CNH"}),p.jsx("input",{type:"text",id:"cnh",name:"cnh",value:m.cnh,onChange:_,required:!0})]}),p.jsxs("div",{className:lw.modalActions,children:[p.jsx("button",{type:"button",className:lw.cancelButton,onClick:y,children:"Cancelar"}),p.jsx("button",{type:"submit",className:lw.saveButton,children:"Salvar"})]})]})]})}),o&&p.jsx("div",{className:lw.modalOverlay,children:p.jsxs("div",{className:lw.modal,children:[p.jsxs("div",{className:lw.modalHeader,children:[p.jsx("h2",{children:"Editar Motorista"}),p.jsx("button",{className:lw.closeButton,onClick:y,children:p.jsx(ss,{size:20})})]}),p.jsxs("form",{className:lw.modalForm,children:[p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"editNome",children:"Nome do Motorista"}),p.jsx("input",{type:"text",id:"editNome",name:"nome",value:x.nome,onChange:e=>_(e,!0),required:!0})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"editCnh",children:"Número da CNH"}),p.jsx("input",{type:"text",id:"editCnh",name:"cnh",value:x.cnh,onChange:e=>_(e,!0),required:!0})]}),p.jsxs("div",{className:lw.modalActions,children:[p.jsx("button",{type:"button",className:lw.cancelButton,onClick:y,children:"Cancelar"}),p.jsxs("button",{type:"button",className:lw.saveButton,onClick:()=>{t(e.map(e=>e.id===x.id?x:e)),l(!1),v({id:0,nome:"",cnh:""})},children:[p.jsx(Si,{size:18}),"Salvar"]})]})]})]})}),c&&p.jsx("div",{className:lw.modalOverlay,children:p.jsxs("div",{className:lw.modal,children:[p.jsxs("div",{className:lw.modalHeader,children:[p.jsx("h2",{children:"Confirmar Exclusão"}),p.jsx("button",{className:lw.closeButton,onClick:y,children:p.jsx(ss,{size:20})})]}),p.jsxs("div",{className:lw.confirmationContent,children:[p.jsx(Ki,{size:48,className:lw.warningIcon}),p.jsxs("p",{children:["Tem certeza que deseja excluir o motorista ",p.jsx("strong",{children:u?.nome}),"?"]}),p.jsx("p",{children:"Esta ação não poderá ser desfeita."})]}),p.jsxs("div",{className:lw.modalActions,children:[p.jsx("button",{type:"button",className:lw.cancelButton,onClick:y,children:"Cancelar"}),p.jsxs("button",{type:"button",className:lw.dangerButton,onClick:()=>{u&&(t(e.filter(e=>e.id!==u.id)),d(!1),h(null))},children:[p.jsx(Vi,{size:18}),"Excluir"]})]})]})})]})},dw=()=>{const[e,t]=f.useState([]),[a,n]=f.useState([]),[i,s]=f.useState(""),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[u,h]=f.useState(!1),[m,g]=f.useState(null),[x,v]=f.useState(!1),[b,y]=f.useState(null),[_,j]=f.useState({nome:"",marca:0,placa:"",ano:""}),[w,N]=f.useState({id:0,nome:"",marca:0,placa:"",ano:""}),C=f.useMemo(()=>e.map(e=>{const t=a.find(t=>t.id===e.marca);return{...e,marcaNome:t?.nome||"Marca não encontrada"}}),[e,a]),k=f.useMemo(()=>{if(!i.trim())return C;const e=i.toLowerCase().trim();return C.filter(t=>t.nome&&t.nome.toLowerCase().includes(e)||t.marcaNome&&t.marcaNome.toLowerCase().includes(e)||t.placa&&t.placa.toLowerCase().includes(e)||t.ano&&t.ano.toLowerCase().includes(e))},[C,i]),S=()=>{l(!1),d(!1),h(!1),j({nome:"",marca:0,placa:"",ano:""}),g(null),y(null)},M=(e,t=!1)=>{const{name:a,value:r}=e.target,n="marca"===a?parseInt(r)||0:r;t?N(e=>({...e,[a]:n})):j(e=>({...e,[a]:n}))};return f.useEffect(()=>{(async()=>{v(!0),y(null);try{const[e,a]=await Promise.all([r("buscar_veiculos_e_marcas"),r("buscar_marcas")]);t(e),n(a)}catch(e){y(`Erro ao carregar dados: ${e}`)}finally{v(!1)}})()},[]),p.jsxs("div",{className:lw.container,children:[p.jsxs("div",{className:lw.header,children:[p.jsx("h1",{className:lw.title,children:"Veículos"}),p.jsxs("button",{className:lw.primaryButton,onClick:()=>{l(!0)},disabled:x,children:[p.jsx(vi,{size:20}),"Cadastrar"]})]}),b&&p.jsxs("div",{className:lw.errorMessage,children:[b,p.jsx("button",{onClick:()=>y(null),className:lw.closeError,children:p.jsx(ss,{size:16})})]}),p.jsxs("div",{className:lw.searchContainer,children:[p.jsxs("div",{className:lw.searchInputWrapper,children:[p.jsx(Mi,{size:20,className:lw.searchIcon}),p.jsx("input",{type:"text",placeholder:"Pesquisar por veículo, marca, placa ou ano...",value:i,onChange:e=>{s(e.target.value)},className:lw.searchInput,disabled:x}),i&&p.jsx("button",{onClick:()=>s(""),className:lw.clearSearchButton,children:p.jsx(ss,{size:16})})]}),i&&p.jsxs("span",{className:lw.searchResults,children:[k.length," de ",e.length," veículos encontrados"]})]}),p.jsx("div",{className:lw.tableWrapper,children:p.jsxs("table",{className:lw.table,children:[p.jsx("thead",{className:lw.tableHeader,children:p.jsxs("tr",{children:[p.jsx("th",{className:lw.tableHead,children:"Veículo"}),p.jsx("th",{className:lw.tableHead,children:"Marca"}),p.jsx("th",{className:lw.tableHead,children:"Placa"}),p.jsx("th",{className:lw.tableHead,children:"Ano"}),p.jsx("th",{className:lw.tableHead,children:"Ações"})]})}),p.jsx("tbody",{children:x?Array.from({length:5}).map((e,t)=>p.jsxs("tr",{className:`${lw.tableRow} ${lw.tableLoadingSkeleton}`,children:[p.jsx("td",{className:lw.tableCell,children:" "}),p.jsx("td",{className:lw.tableCell,children:" "}),p.jsx("td",{className:lw.tableCell,children:" "}),p.jsx("td",{className:lw.tableCell,children:" "}),p.jsx("td",{className:lw.tableCell,children:" "})]},`loading-${t}`)):0===k.length?p.jsx("tr",{children:p.jsx("td",{colSpan:5,className:lw.emptyState,children:i?`Nenhum veículo encontrado para "${i}"`:"Nenhum veículo cadastrado"})}):k.map(t=>p.jsxs("tr",{className:lw.tableRow,children:[p.jsx("td",{className:lw.tableCell,children:t.nome}),p.jsx("td",{className:lw.tableCell,children:t.marcaNome}),p.jsx("td",{className:lw.tableCell,children:t.placa}),p.jsx("td",{className:lw.tableCell,children:t.ano}),p.jsxs("td",{className:`${lw.tableCell} ${lw.actions}`,children:[p.jsx("button",{onClick:()=>(t=>{const a=e.find(e=>e.id===t.id);a&&(N({...a}),d(!0))})(t),className:lw.editButton,disabled:x,title:"Editar veículo",children:p.jsx(fi,{size:18})}),p.jsx("button",{onClick:()=>(e=>{g(e),h(!0)})(t),className:lw.dangerButton,disabled:x,title:"Excluir veículo",children:p.jsx(Vi,{size:18})})]})]},t.id))})]})}),o&&p.jsx("div",{className:lw.modalOverlay,children:p.jsxs("div",{className:lw.modal,children:[p.jsxs("div",{className:lw.modalHeader,children:[p.jsx("h2",{children:"Cadastrar Veículo"}),p.jsx("button",{className:lw.closeButton,onClick:S,disabled:x,children:p.jsx(ss,{size:20})})]}),p.jsxs("form",{onSubmit:async a=>{if(a.preventDefault(),_.nome&&_.marca&&_.placa&&_.ano){v(!0),y(null);try{const a=await r("criar_veiculo",{nome:_.nome,marca:_.marca,ano:_.ano,placa:_.placa});t([...e,a]),S()}catch(n){y(`Erro ao cadastrar veículo: ${n}`)}finally{v(!1)}}else y("Todos os campos são obrigatórios")},className:lw.modalForm,children:[p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"nome",children:"Veículo"}),p.jsx("input",{type:"text",id:"nome",name:"nome",value:_.nome,onChange:M,required:!0,disabled:x})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"marca",children:"Marca"}),p.jsxs("select",{id:"marca",name:"marca",value:_.marca,onChange:M,required:!0,disabled:x,children:[p.jsx("option",{value:0,children:"Selecione uma marca"}),a.map(e=>p.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"placa",children:"Placa"}),p.jsx("input",{type:"text",id:"placa",name:"placa",value:_.placa,onChange:M,required:!0,disabled:x})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"ano",children:"Ano"}),p.jsx("input",{type:"text",id:"ano",name:"ano",value:_.ano,onChange:M,required:!0,disabled:x})]}),p.jsxs("div",{className:lw.modalActions,children:[p.jsx("button",{type:"button",className:lw.cancelButton,onClick:S,disabled:x,children:"Cancelar"}),p.jsx("button",{type:"submit",className:lw.saveButton,disabled:x,children:x?"Salvando...":"Salvar"})]})]})]})}),c&&p.jsx("div",{className:lw.modalOverlay,children:p.jsxs("div",{className:lw.modal,children:[p.jsxs("div",{className:lw.modalHeader,children:[p.jsx("h2",{children:"Editar Veículo"}),p.jsx("button",{className:lw.closeButton,onClick:S,disabled:x,children:p.jsx(ss,{size:20})})]}),p.jsxs("form",{className:lw.modalForm,children:[p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"editNome",children:"Veículo"}),p.jsx("input",{type:"text",id:"editNome",name:"nome",value:w.nome,onChange:e=>M(e,!0),required:!0,disabled:x})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"editMarca",children:"Marca"}),p.jsxs("select",{id:"editMarca",name:"marca",value:w.marca,onChange:e=>M(e,!0),required:!0,disabled:x,children:[p.jsx("option",{value:0,children:"Selecione uma marca"}),a.map(e=>p.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"editPlaca",children:"Placa"}),p.jsx("input",{type:"text",id:"editPlaca",name:"placa",value:w.placa,onChange:e=>M(e,!0),required:!0,disabled:x})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"editAno",children:"Ano"}),p.jsx("input",{type:"text",id:"editAno",name:"ano",value:w.ano,onChange:e=>M(e,!0),required:!0,disabled:x})]}),p.jsxs("div",{className:lw.modalActions,children:[p.jsx("button",{type:"button",className:lw.cancelButton,onClick:S,disabled:x,children:"Cancelar"}),p.jsxs("button",{type:"button",className:lw.saveButton,onClick:async()=>{v(!0),y(null);try{const a=await r("atualizar_veiculo",{id:w.id,nome:w.nome,marca:w.marca,placa:w.placa,ano:w.ano});t(e.map(e=>e.id===w.id?a:e)),d(!1),N({id:0,nome:"",marca:0,placa:"",ano:""})}catch(a){y(`Erro ao atualizar veículo: ${a}`)}finally{v(!1)}},disabled:x,children:[p.jsx(Si,{size:18}),x?"Salvando...":"Salvar"]})]})]})]})}),u&&p.jsx("div",{className:lw.modalOverlay,children:p.jsxs("div",{className:lw.modal,children:[p.jsxs("div",{className:lw.modalHeader,children:[p.jsx("h2",{children:"Confirmar Exclusão"}),p.jsx("button",{className:lw.closeButton,onClick:S,disabled:x,children:p.jsx(ss,{size:20})})]}),p.jsxs("div",{className:lw.confirmationContent,children:[p.jsx(Ki,{size:48,className:lw.warningIcon}),p.jsxs("p",{children:["Tem certeza que deseja excluir o veículo ",p.jsx("strong",{children:m?.nome}),"?"]}),p.jsx("p",{children:"Esta ação não poderá ser desfeita."})]}),p.jsxs("div",{className:lw.modalActions,children:[p.jsx("button",{type:"button",className:lw.cancelButton,onClick:S,disabled:x,children:"Cancelar"}),p.jsxs("button",{type:"button",className:lw.dangerButton,onClick:async()=>{if(m){v(!0),y(null);try{await r("deletar_veiculo",{id:m.id}),t(e.filter(e=>e.id!==m.id)),h(!1),g(null)}catch(a){y(`Erro ao excluir veículo: ${a}`)}finally{v(!1)}}},disabled:x,children:[p.jsx(Vi,{size:18}),x?"Excluindo...":"Excluir"]})]})]})})]})},uw=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(""),[i,s]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[u,h]=f.useState(!1),[m,g]=f.useState(null),[x,v]=f.useState({nome:"",telefone:"",endereco:"",numero:"",bairro:"",cidade:"",uf:""}),[b,y]=f.useState(null),_=e=>{const t=e.replace(/\D/g,"");let a="";return t.length>0&&(a=`(${t.substring(0,2)}`),t.length>2&&(a+=`) ${t.substring(2,7)}`),t.length>7&&(a+=`-${t.substring(7,11)}`),a},j=f.useMemo(()=>{if(!a.trim())return e;const t=a.toLowerCase().trim();return e.filter(e=>e.nome.toLowerCase().includes(t)||e.cidade.toLowerCase().includes(t)||e.bairro.toLowerCase().includes(t))},[e,a]),w=()=>{s(!1),l(!1),d(!1),h(!1),v({nome:"",telefone:"",endereco:"",numero:"",bairro:"",cidade:"",uf:""}),g(null),y(null)},N=(e,t=!1)=>{const{name:a,value:r}=e.target;t?y(e=>e?{...e,[a]:"telefone"===a?_(r):r}:null):v(e=>({...e,[a]:"telefone"===a?_(r):r}))};return f.useEffect(()=>{(async()=>{try{const e=await r("buscar_postos");t(e)}catch(e){}})()},[]),p.jsxs("div",{className:lw.container,children:[p.jsxs("div",{className:lw.header,children:[p.jsx("h1",{className:lw.title,children:"Postos de Combustível"}),p.jsxs("button",{className:lw.primaryButton,onClick:()=>{s(!0)},children:[p.jsx(vi,{size:20}),"Cadastrar"]})]}),p.jsxs("div",{className:lw.searchContainer,children:[p.jsxs("div",{className:lw.searchInputWrapper,children:[p.jsx(Mi,{size:20,className:lw.searchIcon}),p.jsx("input",{type:"text",placeholder:"Pesquisar por nome, cidade ou bairro...",value:a,onChange:e=>{n(e.target.value)},className:lw.searchInput}),a&&p.jsx("button",{onClick:()=>n(""),className:lw.clearSearchButton,children:p.jsx(ss,{size:16})})]}),a&&p.jsxs("span",{className:lw.searchResults,children:[j.length," de ",e.length," postos encontrados"]})]}),p.jsx("div",{className:lw.tableWrapper,children:p.jsxs("table",{className:lw.table,children:[p.jsx("thead",{className:lw.tableHeader,children:p.jsxs("tr",{children:[p.jsx("th",{className:lw.tableHead,children:"Nome"}),p.jsx("th",{className:lw.tableHead,children:"Cidade"}),p.jsx("th",{className:lw.tableHead,children:"Endereço"}),p.jsx("th",{className:lw.tableHead,children:"Ações"})]})}),p.jsx("tbody",{children:0===j.length?p.jsx("tr",{children:p.jsx("td",{colSpan:4,className:lw.emptyState,children:a?`Nenhum posto encontrado para "${a}"`:"Nenhum posto cadastrado"})}):j.map(e=>p.jsxs("tr",{className:lw.tableRow,onClick:()=>(e=>{g(e),h(!0)})(e),children:[p.jsx("td",{className:lw.tableCell,children:e.nome}),p.jsx("td",{className:lw.tableCell,children:e.cidade}),p.jsx("td",{className:lw.tableCell,children:e.endereco}),p.jsxs("td",{className:`${lw.tableCell} ${lw.actions}`,children:[p.jsx("button",{onClick:t=>{t.stopPropagation(),(e=>{y({...e}),l(!0)})(e)},className:lw.editButton,children:p.jsx(fi,{size:18})}),p.jsx("button",{onClick:t=>{t.stopPropagation(),(e=>{g(e),d(!0)})(e)},className:lw.dangerButton,children:p.jsx(Vi,{size:18})})]})]},e.id))})]})}),i&&p.jsx("div",{className:lw.modalOverlay,children:p.jsxs("div",{className:lw.modal,children:[p.jsxs("div",{className:lw.modalHeader,children:[p.jsx("h2",{children:"Cadastrar Posto"}),p.jsx("button",{className:lw.closeButton,onClick:w,children:p.jsx(ss,{size:20})})]}),p.jsxs("form",{onSubmit:async a=>{a.preventDefault();try{const a=await r("criar_posto",x);t([...e,a]),w()}catch(n){}},className:lw.modalForm,children:[p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"nome",children:"Nome do Posto"}),p.jsx("input",{type:"text",id:"nome",name:"nome",value:x.nome,onChange:N,required:!0})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"telefone",children:"Telefone"}),p.jsx("input",{type:"text",id:"telefone",name:"telefone",value:x.telefone,onChange:N,maxLength:15,placeholder:"(99) 99999-9999"})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"endereco",children:"Endereço"}),p.jsx("input",{type:"text",id:"endereco",name:"endereco",value:x.endereco,onChange:N})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"numero",children:"Número"}),p.jsx("input",{type:"text",id:"numero",name:"numero",value:x.numero,onChange:N})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"bairro",children:"Bairro"}),p.jsx("input",{type:"text",id:"bairro",name:"bairro",value:x.bairro,onChange:N})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"cidade",children:"Cidade"}),p.jsx("input",{type:"text",id:"cidade",name:"cidade",value:x.cidade,onChange:N})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"uf",children:"UF"}),p.jsx("input",{type:"text",id:"uf",name:"uf",value:x.uf,onChange:N})]}),p.jsxs("div",{className:lw.modalActions,children:[p.jsx("button",{type:"button",className:lw.cancelButton,onClick:w,children:"Cancelar"}),p.jsx("button",{type:"submit",className:lw.saveButton,children:"Salvar"})]})]})]})}),o&&b&&p.jsx("div",{className:lw.modalOverlay,children:p.jsxs("div",{className:lw.modal,children:[p.jsxs("div",{className:lw.modalHeader,children:[p.jsx("h2",{children:"Editar Posto"}),p.jsx("button",{className:lw.closeButton,onClick:w,children:p.jsx(ss,{size:20})})]}),p.jsxs("form",{onSubmit:async a=>{if(a.preventDefault(),b)try{const a=await r("atualizar_posto",{id:b.id,nome:b.nome,telefone:b.telefone,endereco:b.endereco,numero:b.numero,bairro:b.bairro,cidade:b.cidade,uf:b.uf});t(e.map(e=>e.id===a.id?a:e)),w()}catch(n){}},className:lw.modalForm,children:[p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"editNome",children:"Nome do Posto"}),p.jsx("input",{type:"text",id:"editNome",name:"nome",value:b.nome,onChange:e=>N(e,!0),required:!0})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"editTelefone",children:"Telefone"}),p.jsx("input",{type:"text",id:"editTelefone",name:"telefone",value:b.telefone,onChange:e=>N(e,!0),maxLength:15,placeholder:"(99) 99999-9999"})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"editEndereco",children:"Endereço"}),p.jsx("input",{type:"text",id:"editEndereco",name:"endereco",value:b.endereco,onChange:e=>N(e,!0)})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"editNumero",children:"Número"}),p.jsx("input",{type:"text",id:"editNumero",name:"numero",value:b.numero,onChange:e=>N(e,!0)})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"editBairro",children:"Bairro"}),p.jsx("input",{type:"text",id:"editBairro",name:"bairro",value:b.bairro,onChange:e=>N(e,!0)})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"editCidade",children:"Cidade"}),p.jsx("input",{type:"text",id:"editCidade",name:"cidade",value:b.cidade,onChange:e=>N(e,!0)})]}),p.jsxs("div",{className:lw.formGroup,children:[p.jsx("label",{htmlFor:"editUf",children:"UF"}),p.jsx("input",{type:"text",id:"editUf",name:"uf",value:b.uf,onChange:e=>N(e,!0),maxLength:2,required:!0})]}),p.jsxs("div",{className:lw.modalActions,children:[p.jsx("button",{type:"button",className:lw.cancelButton,onClick:w,children:"Cancelar"}),p.jsxs("button",{type:"submit",className:lw.saveButton,children:[p.jsx(Si,{size:18}),"Salvar"]})]})]})]})}),u&&m&&p.jsx("div",{className:lw.modalOverlay,children:p.jsxs("div",{className:lw.modal,children:[p.jsxs("div",{className:lw.modalHeader,children:[p.jsx("h2",{children:"Dados do Posto"}),p.jsx("button",{className:lw.closeButton,onClick:w,children:p.jsx(ss,{size:20})})]}),p.jsxs("div",{className:lw.detailsContent,children:[p.jsxs("div",{className:lw.detailItem,children:[p.jsx("strong",{children:"Nome:"}),p.jsx("span",{children:m.nome})]}),p.jsxs("div",{className:lw.detailItem,children:[p.jsx("strong",{children:"Telefone:"}),p.jsx("span",{children:m.telefone||"N/A"})]}),p.jsxs("div",{className:lw.detailItem,children:[p.jsx("strong",{children:"Endereço:"}),p.jsxs("span",{children:[m.endereco||"N/A",", ",m.numero||"S/N"]})]}),p.jsxs("div",{className:lw.detailItem,children:[p.jsx("strong",{children:"Bairro:"}),p.jsx("span",{children:m.bairro||"N/A"})]}),p.jsxs("div",{className:lw.detailItem,children:[p.jsx("strong",{children:"Cidade/UF:"}),p.jsxs("span",{children:[m.cidade||"N/A","/",m.uf||"N/A"]})]})]}),p.jsx("div",{className:lw.modalActions,children:p.jsx("button",{type:"button",className:lw.cancelButton,onClick:w,children:"Fechar"})})]})}),c&&p.jsx("div",{className:lw.modalOverlay,children:p.jsxs("div",{className:lw.modal,children:[p.jsxs("div",{className:lw.modalHeader,children:[p.jsx("h2",{children:"Confirmar Exclusão"}),p.jsx("button",{className:lw.closeButton,onClick:w,children:p.jsx(ss,{size:20})})]}),p.jsxs("div",{className:lw.confirmationContent,children:[p.jsx(Ki,{size:48,className:lw.warningIcon}),p.jsxs("p",{children:["Tem certeza que deseja excluir o posto ",p.jsx("strong",{children:m?.nome}),"?"]}),p.jsx("p",{children:"Esta ação não poderá ser desfeita."})]}),p.jsxs("div",{className:lw.modalActions,children:[p.jsx("button",{type:"button",className:lw.cancelButton,onClick:w,children:"Cancelar"}),p.jsxs("button",{type:"button",className:lw.dangerButton,onClick:async()=>{if(m)try{await r("deletar_posto",{id:m.id}),t(e.filter(e=>e.id!==m.id)),w()}catch(a){}},children:[p.jsx(Vi,{size:18}),"Excluir"]})]})]})})]})},hw={wrapper:"_wrapper_8l3jw_29",container:"_container_8l3jw_47",header:"_header_8l3jw_75",headerDetail:"_headerDetail_8l3jw_95",headerIcon:"_headerIcon_8l3jw_117",title:"_title_8l3jw_125",scrollContainer:"_scrollContainer_8l3jw_141",form:"_form_8l3jw_191",card:"_card_8l3jw_207",cardHeader:"_cardHeader_8l3jw_223",cardTitle:"_cardTitle_8l3jw_251",cardContent:"_cardContent_8l3jw_267",expanded:"_expanded_8l3jw_277",collapsed:"_collapsed_8l3jw_287",headerFields:"_headerFields_8l3jw_297",dateTimeField:"_dateTimeField_8l3jw_309",dateInputGroup:"_dateInputGroup_8l3jw_321",label:"_label_8l3jw_333",inputWithIcon:"_inputWithIcon_8l3jw_353",input:"_input_8l3jw_353",inputIcon:"_inputIcon_8l3jw_399",greenHighlight:"_greenHighlight_8l3jw_411",textAreaContainer:"_textAreaContainer_8l3jw_439",textArea:"_textArea_8l3jw_439",row:"_row_8l3jw_493",selectGroup:"_selectGroup_8l3jw_505",selectWrapper:"_selectWrapper_8l3jw_517",selectContainer:"_selectContainer_8l3jw_527",select:"_select_8l3jw_505",selectIcon:"_selectIcon_8l3jw_585",selectButtons:"_selectButtons_8l3jw_599",iconButton:"_iconButton_8l3jw_609",inputGroup:"_inputGroup_8l3jw_645",field:"_field_8l3jw_657",submitButton:"_submitButton_8l3jw_669",buttonIcon:"_buttonIcon_8l3jw_719",buttonDetail:"_buttonDetail_8l3jw_735",footer:"_footer_8l3jw_757",footerDetail:"_footerDetail_8l3jw_775"},mw=()=>(new Date).toISOString().split("T")[0],pw=()=>(new Date).toTimeString().slice(0,5),fw=()=>{const[e,t]=f.useState({motorista:"",veiculo:"",quilometragemInicial:"",quilometragemFinal:"",descricao:"",inicioData:mw(),inicioHora:pw(),terminoData:"",terminoHora:"",descricaoInicio:"",descricaoTermino:""}),[a,n]=f.useState([]),[i,s]=f.useState("periodo"),[o,l]=f.useState([]),[c,d]=f.useState(!1),u=e=>{const{name:a,value:r}=e.target;t(e=>({...e,[a]:r}))};f.useEffect(()=>{(async()=>{try{const e=await r("buscar_motoristas");l(e)}catch(e){}})()},[]),f.useEffect(()=>{(async()=>{try{const e=await r("buscar_veiculos_e_marcas");n(e)}catch(e){}})()},[]);const h=e=>{s(i===e?"":e)};return p.jsx("div",{className:hw.wrapper,children:p.jsxs("div",{className:hw.container,children:[p.jsxs("div",{className:hw.header,children:[p.jsx(ti,{size:32,className:hw.headerIcon}),p.jsx("h1",{className:hw.title,children:"Cadastrar Viagem"}),p.jsx("div",{className:hw.headerDetail})]}),p.jsx("div",{className:hw.scrollContainer,children:p.jsxs("form",{onSubmit:async n=>{n.preventDefault(),d(!0);try{if(!(e.motorista&&e.veiculo&&e.quilometragemInicial&&e.descricaoInicio&&e.inicioData&&e.inicioHora))return void alert("Por favor, preencha todos os campos obrigatórios.");const n=parseFloat(e.quilometragemInicial),i=e.quilometragemFinal?parseFloat(e.quilometragemFinal):null;if(isNaN(n)||n<0)return void alert("A quilometragem inicial deve ser um número válido e positivo.");if(null!==i&&(isNaN(i)||i<=n))return void alert("A quilometragem final deve ser um número válido e maior que a inicial.");const s=`${e.inicioData}T${e.inicioHora}:00`,l=e.terminoData&&e.terminoHora?`${e.terminoData}T${e.terminoHora}:00`:null,c=new Date(s);if(isNaN(c.getTime()))return void alert("Data e hora de início inválidas.");if(l){const e=new Date(l);if(isNaN(e.getTime()))return void alert("Data e hora de término inválidas.");if(e<=c)return void alert("A data de término deve ser posterior à data de início.")}const d=o.find(t=>t.nome===e.motorista),u=a.find(t=>t.nome===e.veiculo);if(!d)return void alert("Motorista selecionado não encontrado. Por favor, selecione novamente.");if(!u)return void alert("Veículo selecionado não encontrado. Por favor, selecione novamente.");const h={descricao:e.descricao||"",origem:e.descricaoInicio,destino:e.descricaoTermino||"",data_inicio:s,quilometragem_inicial:n,quilometragem_final:i,veiculo:u.id,motorista:d.id,data_termino:l};await r("criar_frota_viagem",{payload:h});alert("Viagem cadastrada com sucesso!"),t({motorista:"",veiculo:"",quilometragemInicial:"",quilometragemFinal:"",descricao:"",inicioData:mw(),inicioHora:pw(),terminoData:"",terminoHora:"",descricaoInicio:"",descricaoTermino:""})}catch(i){let e="Erro desconhecido ao cadastrar viagem.";"string"==typeof i?e=i:i instanceof Error&&(e=i.message),alert(`Erro ao cadastrar viagem: ${e}`)}finally{d(!1)}},className:hw.form,children:[p.jsxs("div",{className:hw.card,children:[p.jsxs("div",{className:hw.cardHeader,onClick:()=>h("periodo"),children:[p.jsxs("div",{className:hw.cardTitle,children:[p.jsx(pn,{size:20}),p.jsx("span",{children:"Período da Viagem"})]}),"periodo"===i?p.jsx(nn,{size:20}):p.jsx(tn,{size:20})]}),p.jsx("div",{className:`${hw.cardContent} ${"periodo"===i?hw.expanded:hw.collapsed}`,children:p.jsxs("div",{className:hw.headerFields,children:[p.jsxs("div",{className:hw.dateTimeField,children:[p.jsxs("label",{htmlFor:"inicioData",className:hw.label,children:[p.jsx(Kr,{size:16}),"Início *"]}),p.jsxs("div",{className:hw.dateInputGroup,children:[p.jsxs("div",{className:hw.inputWithIcon,children:[p.jsx("input",{type:"date",id:"inicioData",name:"inicioData",value:e.inicioData,onChange:u,className:hw.input,required:!0}),p.jsx("div",{className:hw.greenHighlight})]}),p.jsxs("div",{className:hw.inputWithIcon,children:[p.jsx("input",{type:"time",id:"inicioHora",name:"inicioHora",value:e.inicioHora,onChange:u,className:hw.input,required:!0}),p.jsx(pn,{size:18,className:hw.inputIcon}),p.jsx("div",{className:hw.greenHighlight})]})]}),p.jsxs("div",{className:hw.textAreaContainer,children:[p.jsx("textarea",{id:"descricaoInicio",name:"descricaoInicio",rows:2,value:e.descricaoInicio,onChange:u,className:hw.textArea,placeholder:"Descreva o local e a situação de início... *",required:!0}),p.jsx("div",{className:hw.greenHighlight})]})]}),p.jsxs("div",{className:hw.dateTimeField,children:[p.jsxs("label",{htmlFor:"terminoData",className:hw.label,children:[p.jsx(Kr,{size:16}),"Término"]}),p.jsxs("div",{className:hw.dateInputGroup,children:[p.jsxs("div",{className:hw.inputWithIcon,children:[p.jsx("input",{type:"date",id:"terminoData",name:"terminoData",value:e.terminoData,onChange:u,className:hw.input}),p.jsx("div",{className:hw.greenHighlight})]}),p.jsxs("div",{className:hw.inputWithIcon,children:[p.jsx("input",{type:"time",id:"terminoHora",name:"terminoHora",value:e.terminoHora,onChange:u,className:hw.input}),p.jsx(pn,{size:18,className:hw.inputIcon}),p.jsx("div",{className:hw.greenHighlight})]})]}),p.jsxs("div",{className:hw.textAreaContainer,children:[p.jsx("textarea",{id:"descricaoTermino",name:"descricaoTermino",rows:2,value:e.descricaoTermino,onChange:u,className:hw.textArea,placeholder:"Descreva o local e a situação de término..."}),p.jsx("div",{className:hw.greenHighlight})]})]})]})})]}),p.jsxs("div",{className:hw.card,children:[p.jsxs("div",{className:hw.cardHeader,onClick:()=>h("descricao"),children:[p.jsxs("div",{className:hw.cardTitle,children:[p.jsx(Mn,{size:20}),p.jsx("span",{children:"Descrição"})]}),"descricao"===i?p.jsx(nn,{size:20}):p.jsx(tn,{size:20})]}),p.jsx("div",{className:`${hw.cardContent} ${"descricao"===i?hw.expanded:hw.collapsed}`,children:p.jsxs("div",{className:hw.fieldGroup,children:[p.jsx("label",{htmlFor:"descricao",className:hw.label,children:"Detalhes da Viagem"}),p.jsxs("div",{className:hw.textAreaContainer,children:[p.jsx("textarea",{id:"descricao",name:"descricao",rows:4,value:e.descricao,onChange:u,className:hw.textArea,placeholder:"Descreva o propósito e destino da viagem..."}),p.jsx("div",{className:hw.greenHighlight})]})]})})]}),p.jsxs("div",{className:hw.row,children:[p.jsxs("div",{className:hw.card,children:[p.jsxs("div",{className:hw.cardHeader,onClick:()=>h("motorista"),children:[p.jsxs("div",{className:hw.cardTitle,children:[p.jsx(ts,{size:20}),p.jsx("span",{children:"Motorista"})]}),"motorista"===i?p.jsx(nn,{size:20}):p.jsx(tn,{size:20})]}),p.jsx("div",{className:`${hw.cardContent} ${"motorista"===i?hw.expanded:hw.collapsed}`,children:p.jsxs("div",{className:hw.selectGroup,children:[p.jsx("label",{htmlFor:"motorista",className:hw.label,children:"Selecione o Motorista *"}),p.jsxs("div",{className:hw.selectWrapper,children:[p.jsxs("div",{className:hw.selectContainer,children:[p.jsxs("select",{id:"motorista",name:"motorista",value:e.motorista,onChange:u,className:hw.select,required:!0,children:[p.jsx("option",{value:"",children:"-- Selecione um motorista --"}),o.map(e=>p.jsx("option",{value:e.nome,children:e.nome},e.id))]}),p.jsx(ts,{size:18,className:hw.selectIcon}),p.jsx("div",{className:hw.greenHighlight})]}),p.jsxs("div",{className:hw.selectButtons,children:[p.jsx("button",{type:"button",className:hw.iconButton,children:p.jsx(vi,{size:18})}),p.jsx("button",{type:"button",className:hw.iconButton,children:p.jsx(wi,{size:18})})]})]})]})})]}),p.jsxs("div",{className:hw.card,children:[p.jsxs("div",{className:hw.cardHeader,onClick:()=>h("veiculo"),children:[p.jsxs("div",{className:hw.cardTitle,children:[p.jsx(Yr,{size:20}),p.jsx("span",{children:"Veículo"})]}),"veiculo"===i?p.jsx(nn,{size:20}):p.jsx(tn,{size:20})]}),p.jsx("div",{className:`${hw.cardContent} ${"veiculo"===i?hw.expanded:hw.collapsed}`,children:p.jsxs("div",{className:hw.selectGroup,children:[p.jsx("label",{htmlFor:"veiculo",className:hw.label,children:"Selecione o Veículo *"}),p.jsxs("div",{className:hw.selectWrapper,children:[p.jsxs("div",{className:hw.selectContainer,children:[p.jsxs("select",{id:"veiculo",name:"veiculo",value:e.veiculo,onChange:u,className:hw.select,required:!0,children:[p.jsx("option",{value:"",children:"-- Selecione um veículo --"}),a.map(e=>p.jsxs("option",{value:e.nome,children:[e.nome," - ",e.placa]},e.id))]}),p.jsx(Yr,{size:18,className:hw.selectIcon}),p.jsx("div",{className:hw.greenHighlight})]}),p.jsxs("div",{className:hw.selectButtons,children:[p.jsx("button",{type:"button",className:hw.iconButton,children:p.jsx(vi,{size:18})}),p.jsx("button",{type:"button",className:hw.iconButton,children:p.jsx(wi,{size:18})})]})]})]})})]})]}),p.jsxs("div",{className:hw.card,children:[p.jsxs("div",{className:hw.cardHeader,onClick:()=>h("quilometragem"),children:[p.jsxs("div",{className:hw.cardTitle,children:[p.jsx(Ln,{size:20}),p.jsx("span",{children:"Quilometragem"})]}),"quilometragem"===i?p.jsx(nn,{size:20}):p.jsx(tn,{size:20})]}),p.jsx("div",{className:`${hw.cardContent} ${"quilometragem"===i?hw.expanded:hw.collapsed}`,children:p.jsxs("div",{className:hw.inputGroup,children:[p.jsxs("div",{className:hw.field,children:[p.jsx("label",{htmlFor:"quilometragemInicial",className:hw.label,children:"Quilometragem Inicial *"}),p.jsxs("div",{className:hw.inputWithIcon,children:[p.jsx("input",{type:"number",id:"quilometragemInicial",name:"quilometragemInicial",value:e.quilometragemInicial,onChange:u,className:hw.input,placeholder:"0",min:"0",step:"0.1",required:!0}),p.jsx(Ln,{size:18,className:hw.inputIcon}),p.jsx("div",{className:hw.greenHighlight})]})]}),p.jsxs("div",{className:hw.field,children:[p.jsx("label",{htmlFor:"quilometragemFinal",className:hw.label,children:"Quilometragem Final"}),p.jsxs("div",{className:hw.inputWithIcon,children:[p.jsx("input",{type:"number",id:"quilometragemFinal",name:"quilometragemFinal",value:e.quilometragemFinal,onChange:u,className:hw.input,placeholder:"0",min:"0",step:"0.1"}),p.jsx(Ln,{size:18,className:hw.inputIcon}),p.jsx("div",{className:hw.greenHighlight})]})]})]})})]}),p.jsxs("button",{type:"submit",className:hw.submitButton,disabled:c,children:[p.jsx(Ei,{size:20,className:hw.buttonIcon}),c?"Cadastrando...":"Cadastrar Viagem",p.jsx("div",{className:hw.buttonDetail})]})]})}),p.jsx("div",{className:hw.footer,children:p.jsx("div",{className:hw.footerDetail})})]})})},gw={container:"_container_dyhsi_75",header:"_header_dyhsi_93",title:"_title_dyhsi_141",titleIcon:"_titleIcon_dyhsi_163",headerStats:"_headerStats_dyhsi_171",statCard:"_statCard_dyhsi_183",statNumber:"_statNumber_dyhsi_205",statLabel:"_statLabel_dyhsi_219",filterIndicator:"_filterIndicator_dyhsi_235",pulse:"_pulse_dyhsi_1",filterBar:"_filterBar_dyhsi_273",filterSection:"_filterSection_dyhsi_315",filterSectionTitle:"_filterSectionTitle_dyhsi_323",filterGrid:"_filterGrid_dyhsi_347",filterRow:"_filterRow_dyhsi_359",filterGroup:"_filterGroup_dyhsi_373",textInput:"_textInput_dyhsi_411",filterInput:"_filterInput_dyhsi_413",dateInput:"_dateInput_dyhsi_415",selectWrapper:"_selectWrapper_dyhsi_475",customSelect:"_customSelect_dyhsi_487",selectArrow:"_selectArrow_dyhsi_557",dateInputContainer:"_dateInputContainer_dyhsi_591",dateIcon:"_dateIcon_dyhsi_603",clearButton:"_clearButton_dyhsi_637",paginationControls:"_paginationControls_dyhsi_707",paginationInfo:"_paginationInfo_dyhsi_733",itemsPerPageControl:"_itemsPerPageControl_dyhsi_745",itemsPerPageSelect:"_itemsPerPageSelect_dyhsi_771",primaryButton:"_primaryButton_dyhsi_811",secondaryButton:"_secondaryButton_dyhsi_901",tableWrapper:"_tableWrapper_dyhsi_963",table:"_table_dyhsi_963",tableHeader:"_tableHeader_dyhsi_1017",tableHead:"_tableHead_dyhsi_1017",tableRow:"_tableRow_dyhsi_1055",tableCell:"_tableCell_dyhsi_1087",cellContent:"_cellContent_dyhsi_1105",cellIcon:"_cellIcon_dyhsi_1117",periodoBadge:"_periodoBadge_dyhsi_1129",periodoManha:"_periodoManha_dyhsi_1153",periodoTarde:"_periodoTarde_dyhsi_1165",periodoNoite:"_periodoNoite_dyhsi_1177",periodoIntegral:"_periodoIntegral_dyhsi_1189",emptyState:"_emptyState_dyhsi_1203",emptyStateContent:"_emptyStateContent_dyhsi_1215",emptyStateIcon:"_emptyStateIcon_dyhsi_1229",actions:"_actions_dyhsi_1267",editButton:"_editButton_dyhsi_1279",dangerButton:"_dangerButton_dyhsi_1317",paginationWrapper:"_paginationWrapper_dyhsi_1357",paginationNavigation:"_paginationNavigation_dyhsi_1383",paginationButton:"_paginationButton_dyhsi_1395",pageNumbers:"_pageNumbers_dyhsi_1453",pageNumber:"_pageNumber_dyhsi_1453",activePageNumber:"_activePageNumber_dyhsi_1513",paginationSummary:"_paginationSummary_dyhsi_1539",loadingState:"_loadingState_dyhsi_1555",loadingIcon:"_loadingIcon_dyhsi_1581",spin:"_spin_dyhsi_1",errorState:"_errorState_dyhsi_1631",errorIcon:"_errorIcon_dyhsi_1659",slideInFromLeft:"_slideInFromLeft_dyhsi_1",modal:"_modal_dyhsi_2057","primary-button":"_primary-button_dyhsi_2083","success-button":"_success-button_dyhsi_2101","error-button":"_error-button_dyhsi_2109",modalOverlay:"_modalOverlay_dyhsi_2123",fadeIn:"_fadeIn_dyhsi_1",modalContent:"_modalContent_dyhsi_2173",slideIn:"_slideIn_dyhsi_1",editModalContent:"_editModalContent_dyhsi_2195",modalHeader:"_modalHeader_dyhsi_2227",modalIcon:"_modalIcon_dyhsi_2245",modalTitle:"_modalTitle_dyhsi_2265",modalCloseButton:"_modalCloseButton_dyhsi_2281",warningIcon:"_warningIcon_dyhsi_2325",successIcon:"_successIcon_dyhsi_2341",editIcon:"_editIcon_dyhsi_2357",modalBody:"_modalBody_dyhsi_2375",modalMessage:"_modalMessage_dyhsi_2383",modalSubMessage:"_modalSubMessage_dyhsi_2397",modalActions:"_modalActions_dyhsi_2411",cancelButton:"_cancelButton_dyhsi_2429",confirmDeleteButton:"_confirmDeleteButton_dyhsi_2469",saveButton:"_saveButton_dyhsi_2511",editForm:"_editForm_dyhsi_2597",formGrid:"_formGrid_dyhsi_2605",formGroup:"_formGroup_dyhsi_2617",formInput:"_formInput_dyhsi_2641",formSelect:"_formSelect_dyhsi_2643","scrollable-container":"_scrollable-container_dyhsi_2819","chart-wrapper":"_chart-wrapper_dyhsi_2873"},xw=["Manhã","Tarde","Noite","Integral"],vw=()=>{const[e,t]=f.useState([]),[a,n]=f.useState([]),[i,s]=f.useState([]),[o,l]=f.useState([]),[c,d]=f.useState(!0),[u,h]=f.useState(null),[m,g]=f.useState(""),[x,v]=f.useState(""),[b,y]=f.useState(""),[_,j]=f.useState(""),[w,N]=f.useState(""),[C,k]=f.useState(""),[S,M]=f.useState(""),[E,O]=f.useState(!1),[P,A]=f.useState(1),[D,I]=f.useState(10),[T,z]=f.useState(!1),[R,L]=f.useState(!1),[$,B]=f.useState(!1),[q,F]=f.useState(null),[W,G]=f.useState(null),[H,V]=f.useState(""),[U,K]=f.useState({descricao:"",origem:"",destino:"",data_inicio:"",quilometragem_inicial:0,quilometragem_final:void 0,veiculo:0,motorista:0,data_termino:void 0}),Y=e=>{try{const t=new Date(e).getHours();return t>=6&&t<12?"Manhã":t>=12&&t<18?"Tarde":t>=18||t<6?"Noite":"Integral"}catch{return"Não informado"}},X=(e,t)=>{try{const a=new Date(e),r=t?new Date(t):new Date;if(isNaN(a.getTime())||isNaN(r.getTime()))return"Data inválida";let n=r.getTime()-a.getTime();if(n<0)return"0h 0m";const i=Math.floor(n/36e5),s=n%36e5;return`${i}h ${Math.floor(s/6e4)}m`}catch{return"Erro no cálculo"}},J=e=>{try{return new Date(e).toLocaleDateString("pt-BR")}catch{return"Data inválida"}},Z=e=>{try{return new Date(e).toISOString().slice(0,16)}catch{return""}},Q=e=>{const t=i.find(t=>t.id===e);return t?`${t.nome} ${t.marca||""}`.trim():`Veículo ${e}`},ee=e=>{const t=o.find(t=>t.id===e);return t?t.nome:`Motorista ${e}`};f.useEffect(()=>{(async()=>{try{const e=await r("buscar_motoristas");l(e)}catch(e){}})()},[]),f.useEffect(()=>{(async()=>{try{const e=await r("buscar_veiculos_e_marcas");s(e)}catch(e){}})()},[]),f.useEffect(()=>{(async()=>{try{d(!0),h(null);const e=await r("buscar_viagens");t(e)}catch(e){h(e),t([])}finally{d(!1)}})()},[]),f.useEffect(()=>{if(e.length>0&&i.length>0&&o.length>0){const t=e.map(e=>{return{id:e.id,veiculo:Q(e.veiculo),motorista:ee(e.motorista),data:J(e.data_inicio),totalHoras:X(e.data_inicio,e.data_termino),totalKm:(t=e.quilometragem_inicial,a=e.quilometragem_final,t&&a&&a>t?(a-t).toString():"0"),origem:e.origem||"Não informada",destino:e.destino||"Não informado",periodo:Y(e.data_inicio),descricao:e.descricao};var t,a});n(t)}},[e,i,o]),f.useEffect(()=>{O(!!(m||x||b||_||w||C||S))},[m,x,b,_,w,C,S]),f.useEffect(()=>{A(1)},[m,x,b,_,w,C,S]);const te=e=>{const t=e.split("/");if(3===t.length){const e=parseInt(t[0]),a=parseInt(t[1])-1,r=parseInt(t[2]);return new Date(r,a,e)}return null},ae=()=>{F(null),z(!1)},re=()=>{G(null),B(!1)},ne=(e,t)=>{K(a=>({...a,[e]:t}))},ie=async()=>{try{d(!0);const e=await r("buscar_viagens");t(e)}catch(e){h(e)}finally{d(!1)}},se=f.useMemo(()=>a.filter(e=>{const t=!m||e.veiculo.includes(m),a=!x||e.motorista.includes(x),r=!w||e.periodo===w,n=!C||e.origem?.toLowerCase().includes(C.toLowerCase()),i=!S||e.destino?.toLowerCase().includes(S.toLowerCase());let s=!0;if(b||_){const t=te(e.data);if(t){if(b){const e=te(b);e&&t<e&&(s=!1)}if(_){const e=te(_);e&&t>e&&(s=!1)}}}return t&&a&&s&&r&&n&&i}),[a,m,x,b,_,w,C,S]),oe=se.length,le=Math.ceil(oe/D),ce=(P-1)*D,de=ce+D,ue=se.slice(ce,de);return c?p.jsx("div",{className:gw.container,children:p.jsxs("div",{className:gw.loadingState,children:[p.jsx(pn,{size:48,className:gw.loadingIcon}),p.jsx("h3",{children:"Carregando viagens..."}),p.jsx("p",{children:"Aguarde enquanto buscamos os dados."})]})}):u?p.jsx("div",{className:gw.container,children:p.jsxs("div",{className:gw.errorState,children:[p.jsx(Ki,{size:48,className:gw.errorIcon}),p.jsx("h3",{children:"Erro ao carregar viagens"}),p.jsx("p",{children:u}),p.jsx("button",{className:gw.primaryButton,onClick:ie,children:"Tentar Novamente"})]})}):p.jsxs("div",{className:gw.container,children:[p.jsxs("div",{className:gw.header,children:[p.jsxs("h1",{className:gw.title,children:[p.jsx(ti,{className:gw.titleIcon}),"Visualizar Viagens"]}),p.jsxs("div",{className:gw.headerStats,children:[p.jsxs("div",{className:gw.statCard,children:[p.jsx("span",{className:gw.statNumber,children:oe}),p.jsx("span",{className:gw.statLabel,children:"Viagens"})]}),E&&p.jsxs("div",{className:gw.filterIndicator,children:[p.jsx(zn,{size:16}),"Filtros ativos"]})]})]}),p.jsx("div",{className:gw.filterBar,children:p.jsxs("div",{className:gw.filterSection,children:[p.jsxs("h3",{className:gw.filterSectionTitle,children:[p.jsx(Mi,{size:18}),"Filtros de Busca"]}),p.jsxs("div",{className:gw.filterGrid,children:[p.jsxs("div",{className:gw.filterRow,children:[p.jsxs("div",{className:gw.filterGroup,children:[p.jsx("label",{htmlFor:"selectVeiculo",children:"Veículo"}),p.jsxs("div",{className:gw.selectWrapper,children:[p.jsxs("select",{id:"selectVeiculo",className:gw.customSelect,value:m,onChange:e=>g(e.target.value),children:[p.jsx("option",{value:"",children:"Todos os veículos"}),i.map(e=>p.jsxs("option",{value:`${e.nome} ${e.marca||""}`.trim(),children:[e.nome," ",e.marca&&`- ${e.marca}`]},e.id))]}),p.jsx("div",{className:gw.selectArrow,children:"▼"})]})]}),p.jsxs("div",{className:gw.filterGroup,children:[p.jsx("label",{htmlFor:"selectMotorista",children:"Motorista"}),p.jsxs("div",{className:gw.selectWrapper,children:[p.jsxs("select",{id:"selectMotorista",className:gw.customSelect,value:x,onChange:e=>v(e.target.value),children:[p.jsx("option",{value:"",children:"Todos os motoristas"}),o.map(e=>p.jsx("option",{value:e.nome,children:e.nome},e.id))]}),p.jsx("div",{className:gw.selectArrow,children:"▼"})]})]}),p.jsxs("div",{className:gw.filterGroup,children:[p.jsx("label",{htmlFor:"selectPeriodo",children:"Período"}),p.jsxs("div",{className:gw.selectWrapper,children:[p.jsxs("select",{id:"selectPeriodo",className:gw.customSelect,value:w,onChange:e=>N(e.target.value),children:[p.jsx("option",{value:"",children:"Todos os períodos"}),xw.map(e=>p.jsx("option",{value:e,children:e},e))]}),p.jsx("div",{className:gw.selectArrow,children:"▼"})]})]})]}),p.jsxs("div",{className:gw.filterRow,children:[p.jsxs("div",{className:gw.filterGroup,children:[p.jsx("label",{htmlFor:"filterDataInicio",children:"Data Início"}),p.jsxs("div",{className:gw.dateInputContainer,children:[p.jsx(Kr,{className:gw.dateIcon,size:18}),p.jsx("input",{type:"date",id:"filterDataInicio",className:gw.dateInput,value:b?b.split("/").reverse().join("-"):"",onChange:e=>{if(e.target.value){const[t,a,r]=e.target.value.split("-");y(`${r}/${a}/${t}`)}else y("")}})]})]}),p.jsxs("div",{className:gw.filterGroup,children:[p.jsx("label",{htmlFor:"filterDataFim",children:"Data Fim"}),p.jsxs("div",{className:gw.dateInputContainer,children:[p.jsx(Kr,{className:gw.dateIcon,size:18}),p.jsx("input",{type:"date",id:"filterDataFim",className:gw.dateInput,value:_?_.split("/").reverse().join("-"):"",onChange:e=>{if(e.target.value){const[t,a,r]=e.target.value.split("-");j(`${r}/${a}/${t}`)}else j("")}})]})]})]}),p.jsxs("div",{className:gw.filterRow,children:[p.jsxs("div",{className:gw.filterGroup,children:[p.jsx("label",{htmlFor:"filterOrigem",children:"Origem"}),p.jsx("input",{type:"text",id:"filterOrigem",className:gw.textInput,placeholder:"Digite a origem...",value:C,onChange:e=>k(e.target.value)})]}),p.jsxs("div",{className:gw.filterGroup,children:[p.jsx("label",{htmlFor:"filterDestino",children:"Destino"}),p.jsx("input",{type:"text",id:"filterDestino",className:gw.textInput,placeholder:"Digite o destino...",value:S,onChange:e=>M(e.target.value)})]}),p.jsxs("div",{className:gw.filterGroup,children:[p.jsx("label",{children:" "}),p.jsxs("button",{className:gw.clearButton,onClick:()=>{g(""),v(""),y(""),j(""),N(""),k(""),M("")},disabled:!E,children:[p.jsx(ss,{size:18}),"Limpar Filtros"]})]})]})]})]})}),oe>0&&p.jsxs("div",{className:gw.paginationControls,children:[p.jsx("div",{className:gw.paginationInfo,children:p.jsxs("span",{children:["Mostrando ",ce+1," a ",Math.min(de,oe)," de ",oe," viagens"]})}),p.jsxs("div",{className:gw.itemsPerPageControl,children:[p.jsx("label",{htmlFor:"itemsPerPage",children:"Itens por página:"}),p.jsxs("select",{id:"itemsPerPage",className:gw.itemsPerPageSelect,value:D,onChange:e=>{I(Number(e.target.value)),A(1)},children:[p.jsx("option",{value:5,children:"5"}),p.jsx("option",{value:10,children:"10"}),p.jsx("option",{value:25,children:"25"}),p.jsx("option",{value:50,children:"50"}),p.jsx("option",{value:100,children:"100"})]})]})]}),p.jsx("div",{className:gw.tableWrapper,children:p.jsxs("table",{className:gw.table,children:[p.jsx("thead",{className:gw.tableHeader,children:p.jsxs("tr",{children:[p.jsx("th",{className:gw.tableHead,children:"Veículo"}),p.jsx("th",{className:gw.tableHead,children:"Motorista"}),p.jsx("th",{className:gw.tableHead,children:"Data"}),p.jsx("th",{className:gw.tableHead,children:"Período"}),p.jsx("th",{className:gw.tableHead,children:"Origem"}),p.jsx("th",{className:gw.tableHead,children:"Destino"}),p.jsx("th",{className:gw.tableHead,children:"Total Horas"}),p.jsx("th",{className:gw.tableHead,children:"Total KM"}),p.jsx("th",{className:gw.tableHead,style:{textAlign:"center"},children:"Ações"})]})}),p.jsx("tbody",{children:0===ue.length?p.jsx("tr",{children:p.jsx("td",{colSpan:9,className:gw.emptyState,children:p.jsxs("div",{className:gw.emptyStateContent,children:[p.jsx(Ki,{size:48,className:gw.emptyStateIcon}),p.jsx("h3",{children:"Nenhuma viagem encontrada"}),p.jsx("p",{children:0===a.length?"Não há viagens cadastradas no sistema.":"Tente ajustar os filtros para encontrar as viagens desejadas."})]})})}):ue.map(t=>p.jsxs("tr",{className:gw.tableRow,children:[p.jsx("td",{className:gw.tableCell,children:p.jsx("div",{className:gw.cellContent,children:p.jsx("strong",{children:t.veiculo})})}),p.jsx("td",{className:gw.tableCell,children:p.jsx("div",{className:gw.cellContent,children:t.motorista})}),p.jsx("td",{className:gw.tableCell,children:p.jsxs("div",{className:gw.cellContent,children:[p.jsx(Kr,{size:16,className:gw.cellIcon}),t.data]})}),p.jsx("td",{className:gw.tableCell,children:p.jsxs("span",{className:`${gw.periodoBadge} ${gw[`periodo${t.periodo?.replace("ã","a")?.replace("ñ","n")}`]}`,children:[p.jsx(pn,{size:14}),t.periodo]})}),p.jsx("td",{className:gw.tableCell,children:p.jsxs("div",{className:gw.cellContent,children:[p.jsx(ti,{size:16,className:gw.cellIcon}),t.origem]})}),p.jsx("td",{className:gw.tableCell,children:p.jsxs("div",{className:gw.cellContent,children:[p.jsx(ti,{size:16,className:gw.cellIcon}),t.destino]})}),p.jsx("td",{className:gw.tableCell,children:p.jsxs("div",{className:gw.cellContent,children:[p.jsx(pn,{size:16,className:gw.cellIcon}),t.totalHoras]})}),p.jsx("td",{className:gw.tableCell,children:p.jsx("div",{className:gw.cellContent,children:p.jsxs("strong",{children:[t.totalKm," km"]})})}),p.jsx("td",{className:gw.tableCell,style:{textAlign:"center"},children:p.jsxs("div",{className:gw.actions,children:[p.jsx("button",{className:gw.editButton,onClick:()=>(t=>{const a=e.find(e=>e.id===t);a&&(G(a),K({descricao:a.descricao||"",origem:a.origem||"",destino:a.destino||"",data_inicio:Z(a.data_inicio),quilometragem_inicial:a.quilometragem_inicial||0,quilometragem_final:a.quilometragem_final,veiculo:a.veiculo,motorista:a.motorista,data_termino:a.data_termino?Z(a.data_termino):void 0}),B(!0))})(t.id),title:"Editar viagem",children:p.jsx(fi,{size:18})}),p.jsx("button",{className:gw.dangerButton,onClick:()=>{return e=t.id,F(e),void z(!0);var e},title:"Excluir viagem",children:p.jsx(Vi,{size:18})})]})})]},t.id))})]})}),le>1&&p.jsxs("div",{className:gw.paginationWrapper,children:[p.jsxs("div",{className:gw.paginationNavigation,children:[p.jsx("button",{className:gw.paginationButton,onClick:()=>A(1),disabled:1===P,title:"Primeira página",children:p.jsx(sn,{size:18})}),p.jsx("button",{className:gw.paginationButton,onClick:()=>A(e=>Math.max(e-1,1)),disabled:1===P,title:"Página anterior",children:p.jsx(an,{size:18})}),p.jsx("div",{className:gw.pageNumbers,children:(()=>{const e=[];if(le<=5)for(let t=1;t<=le;t++)e.push(t);else{const t=Math.max(1,P-Math.floor(2.5)),a=Math.min(le,t+5-1);for(let r=t;r<=a;r++)e.push(r)}return e})().map(e=>p.jsx("button",{className:`${gw.pageNumber} ${P===e?gw.activePageNumber:""}`,onClick:()=>A(e),children:e},e))}),p.jsx("button",{className:gw.paginationButton,onClick:()=>A(e=>Math.min(e+1,le)),disabled:P===le,title:"Próxima página",children:p.jsx(rn,{size:18})}),p.jsx("button",{className:gw.paginationButton,onClick:()=>A(le),disabled:P===le,title:"Última página",children:p.jsx(on,{size:18})})]}),p.jsxs("div",{className:gw.paginationSummary,children:["Página ",P," de ",le]})]}),T&&p.jsx("div",{className:gw.modalOverlay,children:p.jsxs("div",{className:gw.modalContent,children:[p.jsxs("div",{className:gw.modalHeader,children:[p.jsx("div",{className:gw.modalIcon,children:p.jsx(Ki,{size:24,className:gw.warningIcon})}),p.jsx("h3",{className:gw.modalTitle,children:"Confirmar Exclusão"}),p.jsx("button",{className:gw.modalCloseButton,onClick:ae,children:p.jsx(ss,{size:20})})]}),p.jsxs("div",{className:gw.modalBody,children:[p.jsx("p",{className:gw.modalMessage,children:"Tem certeza de que deseja excluir esta viagem?"}),p.jsx("p",{className:gw.modalSubMessage,children:"Esta ação não pode ser desfeita."})]}),p.jsxs("div",{className:gw.modalActions,children:[p.jsx("button",{className:gw.cancelButton,onClick:ae,children:"Cancelar"}),p.jsxs("button",{className:gw.confirmDeleteButton,onClick:async()=>{if(q)try{await r("deletar_frota_viagem",{id:q}),n(a.filter(e=>e.id!==q)),t(e.filter(e=>e.id!==q)),V("Viagem excluída com sucesso!"),L(!0)}catch(i){h("Erro ao excluir viagem: "+i)}finally{ae()}},children:[p.jsx(Vi,{size:18}),"Excluir"]})]})]})}),R&&p.jsx("div",{className:gw.modalOverlay,children:p.jsxs("div",{className:gw.modalContent,children:[p.jsxs("div",{className:gw.modalHeader,children:[p.jsx("div",{className:gw.modalIcon,children:p.jsx(cn,{size:24,className:gw.successIcon})}),p.jsx("h3",{className:gw.modalTitle,children:"Sucesso!"}),p.jsx("button",{className:gw.modalCloseButton,onClick:()=>L(!1),children:p.jsx(ss,{size:20})})]}),p.jsx("div",{className:gw.modalBody,children:p.jsx("p",{className:gw.modalMessage,children:H})}),p.jsx("div",{className:gw.modalActions,children:p.jsx("button",{className:gw.primaryButton,onClick:()=>L(!1),children:"OK"})})]})}),$&&W&&p.jsx("div",{className:gw.modalOverlay,children:p.jsxs("div",{className:gw.modalContent+" "+gw.editModalContent,children:[p.jsxs("div",{className:gw.modalHeader,children:[p.jsx("div",{className:gw.modalIcon,children:p.jsx(fi,{size:24,className:gw.editIcon})}),p.jsx("h3",{className:gw.modalTitle,children:"Editar Viagem"}),p.jsx("button",{className:gw.modalCloseButton,onClick:re,children:p.jsx(ss,{size:20})})]}),p.jsx("div",{className:gw.modalBody,children:p.jsx("form",{className:gw.editForm,children:p.jsxs("div",{className:gw.formGrid,children:[p.jsxs("div",{className:gw.formGroup,children:[p.jsx("label",{htmlFor:"editDescricao",children:"Descrição"}),p.jsx("input",{type:"text",id:"editDescricao",className:gw.formInput,value:U.descricao,onChange:e=>ne("descricao",e.target.value),placeholder:"Descrição da viagem"})]}),p.jsxs("div",{className:gw.formGroup,children:[p.jsx("label",{htmlFor:"editVeiculo",children:"Veículo"}),p.jsxs("select",{id:"editVeiculo",className:gw.formSelect,value:U.veiculo,onChange:e=>ne("veiculo",Number(e.target.value)),children:[p.jsx("option",{value:0,children:"Selecione um veículo"}),i.map(e=>p.jsxs("option",{value:e.id,children:[e.nome," ",e.marca&&`- ${e.marca}`]},e.id))]})]}),p.jsxs("div",{className:gw.formGroup,children:[p.jsx("label",{htmlFor:"editMotorista",children:"Motorista"}),p.jsxs("select",{id:"editMotorista",className:gw.formSelect,value:U.motorista,onChange:e=>ne("motorista",Number(e.target.value)),children:[p.jsx("option",{value:0,children:"Selecione um motorista"}),o.map(e=>p.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),p.jsxs("div",{className:gw.formGroup,children:[p.jsx("label",{htmlFor:"editOrigem",children:"Origem"}),p.jsx("input",{type:"text",id:"editOrigem",className:gw.formInput,value:U.origem,onChange:e=>ne("origem",e.target.value),placeholder:"Local de origem"})]}),p.jsxs("div",{className:gw.formGroup,children:[p.jsx("label",{htmlFor:"editDestino",children:"Destino"}),p.jsx("input",{type:"text",id:"editDestino",className:gw.formInput,value:U.destino,onChange:e=>ne("destino",e.target.value),placeholder:"Local de destino"})]}),p.jsxs("div",{className:gw.formGroup,children:[p.jsx("label",{htmlFor:"editDataInicio",children:"Data e Hora de Início"}),p.jsx("input",{type:"datetime-local",id:"editDataInicio",className:gw.formInput,value:U.data_inicio,onChange:e=>ne("data_inicio",e.target.value)})]}),p.jsxs("div",{className:gw.formGroup,children:[p.jsx("label",{htmlFor:"editDataTermino",children:"Data e Hora de Término"}),p.jsx("input",{type:"datetime-local",id:"editDataTermino",className:gw.formInput,value:U.data_termino||"",onChange:e=>ne("data_termino",e.target.value||void 0)})]}),p.jsxs("div",{className:gw.formGroup,children:[p.jsx("label",{htmlFor:"editKmInicial",children:"Quilometragem Inicial"}),p.jsx("input",{type:"number",id:"editKmInicial",className:gw.formInput,value:U.quilometragem_inicial,onChange:e=>ne("quilometragem_inicial",Number(e.target.value)),min:"0"})]}),p.jsxs("div",{className:gw.formGroup,children:[p.jsx("label",{htmlFor:"editKmFinal",children:"Quilometragem Final"}),p.jsx("input",{type:"number",id:"editKmFinal",className:gw.formInput,value:U.quilometragem_final||"",onChange:e=>ne("quilometragem_final",e.target.value?Number(e.target.value):void 0),min:U.quilometragem_inicial})]})]})})}),p.jsxs("div",{className:gw.modalActions,children:[p.jsx("button",{className:gw.cancelButton,onClick:re,children:"Cancelar"}),p.jsxs("button",{className:gw.saveButton,onClick:async()=>{if(W)try{const a={descricao:U.descricao||void 0,origem:U.origem||void 0,destino:U.destino||void 0,data_inicio:U.data_inicio||void 0,quilometragem_inicial:U.quilometragem_inicial||void 0,quilometragem_final:U.quilometragem_final||void 0,veiculo:U.veiculo||void 0,motorista:U.motorista||void 0,data_termino:U.data_termino||void 0};await r("atualizar_frota_viagem",{id:W.id,payload:a});const n=e.map(e=>e.id===W.id?{...e,...U,data_inicio:U.data_inicio,data_termino:U.data_termino}:e);t(n),V("Viagem atualizada com sucesso!"),L(!0)}catch(a){h("Erro ao atualizar viagem: "+a)}finally{re()}},children:[p.jsx(Si,{size:18}),"Salvar Alterações"]})]})]})})]})},bw="_container_15gik_55",yw="_header_15gik_89",_w="_titleSection_15gik_129",jw="_titleIcon_15gik_145",ww="_title_15gik_129",Nw="_subtitle_15gik_185",Cw="_content_15gik_205",kw="_errorMessage_15gik_217",Sw="_successMessage_15gik_217",Mw="_loadingContainer_15gik_323",Ew="_spinner_15gik_341",Ow="_formGrid_15gik_375",Pw="_formGroup_15gik_389",Aw="_label_15gik_439",Dw="_inputField_15gik_483",Iw="_selectField_15gik_483",Tw="_selectContainer_15gik_547",zw="_selectArrow_15gik_571",Rw="_inputWithPrefix_15gik_599",Lw="_currencySymbol_15gik_611",$w="_buttonGroup_15gik_639",Bw="_iconButton_15gik_651",qw="_actionBar_15gik_739",Fw="_cancelButton_15gik_761",Ww="_submitButton_15gik_799",Gw=()=>{const[e,t]=f.useState(""),[a,n]=f.useState(""),[i,s]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(""),[u,h]=f.useState(""),[m,g]=f.useState(""),[x,v]=f.useState(""),[b,y]=f.useState(""),[_,j]=f.useState(""),[w,N]=f.useState(""),[C,k]=f.useState([]),[S,M]=f.useState([]),[E,O]=f.useState([]),[P,A]=f.useState(!0),[D,I]=f.useState(null),[T,z]=f.useState(null),[R,L]=f.useState(!1),$=async()=>{try{const e=await r("buscar_veiculos_e_marcas");k(e)}catch(e){I("Erro ao carregar veículos.")}},B=async()=>{try{const e=await r("buscar_motoristas");M(e)}catch(e){I("Erro ao carregar motoristas.")}},q=async()=>{try{const e=await r("buscar_postos");O(e)}catch(e){I("Erro ao carregar postos.")}};f.useEffect(()=>{(async()=>{A(!0),I(null),await Promise.all([$(),B(),q()]),A(!1)})()},[]),f.useEffect(()=>{y("number"==typeof m&&"number"==typeof x&&m>0&&x>0?parseFloat((m*x).toFixed(2)):"")},[m,x]),f.useEffect(()=>{if(D){const e=setTimeout(()=>I(null),5e3);return()=>clearTimeout(e)}},[D]),f.useEffect(()=>{if(T){const e=setTimeout(()=>z(null),3e3);return()=>clearTimeout(e)}},[T]);const F=()=>{t(""),n(""),s(""),l(""),d(""),h(""),g(""),v(""),y(""),j(""),N(""),I(null),z(null)};return P?p.jsxs("div",{className:Mw,children:[p.jsx("div",{className:Ew}),p.jsx("p",{children:"Carregando dados..."})]}):p.jsxs("div",{className:bw,children:[p.jsxs("div",{className:yw,children:[p.jsxs("div",{className:_w,children:[p.jsx(os,{size:32,className:jw}),p.jsx("h1",{className:ww,children:"Cadastro de Abastecimento"})]}),p.jsx("p",{className:Nw,children:"Registre todos os detalhes do abastecimento de forma rápida e eficiente"})]}),p.jsxs("div",{className:Cw,children:[D&&p.jsxs("div",{className:kw,children:[p.jsx("span",{children:D}),p.jsx("button",{onClick:()=>I(null),"aria-label":"Fechar mensagem de erro",children:p.jsx(ss,{size:18})})]}),T&&p.jsx("div",{className:Sw,children:p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[p.jsx(en,{size:18}),p.jsx("span",{children:T})]})}),p.jsxs("div",{className:Ow,children:[p.jsxs("div",{className:Pw,children:[p.jsxs("label",{htmlFor:"dataAbastecimento",className:Aw,children:[p.jsx(Kr,{size:18}),p.jsx("span",{children:"Data do Abastecimento"})]}),p.jsx("input",{type:"date",id:"dataAbastecimento",className:Dw,value:e,onChange:e=>t(e.target.value),required:!0})]}),p.jsxs("div",{className:Pw,children:[p.jsxs("label",{htmlFor:"horaAbastecimento",className:Aw,children:[p.jsx(pn,{size:18}),p.jsx("span",{children:"Hora do Abastecimento"})]}),p.jsx("input",{type:"time",id:"horaAbastecimento",className:Dw,value:a,onChange:e=>n(e.target.value),required:!0})]}),p.jsxs("div",{className:Pw,children:[p.jsxs("label",{htmlFor:"veiculoSelecionado",className:Aw,children:[p.jsx(Yr,{size:18}),p.jsx("span",{children:"Veículo"})]}),p.jsxs("div",{className:Tw,children:[p.jsxs("select",{id:"veiculoSelecionado",className:Iw,value:i,onChange:e=>s(Number(e.target.value)),required:!0,children:[p.jsx("option",{value:"",children:"Selecione um veículo..."}),C.map(e=>p.jsxs("option",{value:e.id,children:[e.nome," ",e.marca&&`- ${e.marca}`," ",e.placa&&`(${e.placa})`]},e.id))]}),p.jsx(tn,{size:18,className:zw}),p.jsxs("div",{className:$w,children:[p.jsx("button",{className:Bw,onClick:()=>tp.openGerenciarVeiculos(),title:"Adicionar veículo",type:"button",children:p.jsx(vi,{size:18})}),p.jsx("button",{className:Bw,onClick:$,title:"Recarregar veículos",type:"button",children:p.jsx(wi,{size:18})})]})]})]}),p.jsxs("div",{className:Pw,children:[p.jsxs("label",{htmlFor:"motoristaSelecionado",className:Aw,children:[p.jsx(ts,{size:18}),p.jsx("span",{children:"Motorista"})]}),p.jsxs("div",{className:Tw,children:[p.jsxs("select",{id:"motoristaSelecionado",className:Iw,value:o,onChange:e=>l(Number(e.target.value)),required:!0,children:[p.jsx("option",{value:"",children:"Selecione um motorista..."}),S.map(e=>p.jsx("option",{value:e.id,children:e.nome},e.id))]}),p.jsx(tn,{size:18,className:zw}),p.jsxs("div",{className:$w,children:[p.jsx("button",{className:Bw,onClick:()=>tp.openCastrarCondutor(),title:"Adicionar motorista",type:"button",children:p.jsx(vi,{size:18})}),p.jsx("button",{className:Bw,onClick:B,title:"Recarregar motoristas",type:"button",children:p.jsx(wi,{size:18})})]})]})]}),p.jsxs("div",{className:Pw,children:[p.jsxs("label",{htmlFor:"kmAtual",className:Aw,children:[p.jsx(Ln,{size:18}),p.jsx("span",{children:"Quilometragem Atual"})]}),p.jsx("input",{type:"number",id:"kmAtual",className:Dw,value:c,onChange:e=>d(""===e.target.value?"":Number(e.target.value)),placeholder:"Ex: 12500",min:"0",required:!0})]}),p.jsxs("div",{className:Pw,children:[p.jsxs("label",{htmlFor:"combustivelSelecionado",className:Aw,children:[p.jsx(Tn,{size:18}),p.jsx("span",{children:"Tipo de Combustível"})]}),p.jsxs("div",{className:Tw,children:[p.jsxs("select",{id:"combustivelSelecionado",className:Iw,value:u,onChange:e=>h(Number(e.target.value)),required:!0,children:[p.jsx("option",{value:"",children:"Selecione o combustível..."}),[{id:1,nome:"Gasolina"},{id:2,nome:"Etanol"},{id:3,nome:"Diesel"},{id:4,nome:"GNV"}].map(e=>p.jsx("option",{value:e.id,children:e.nome},e.id))]}),p.jsx(tn,{size:18,className:zw})]})]}),p.jsxs("div",{className:Pw,children:[p.jsxs("label",{htmlFor:"valorPorLitro",className:Aw,children:[p.jsx(bn,{size:18}),p.jsx("span",{children:"Valor por Litro (R$)"})]}),p.jsxs("div",{className:Rw,children:[p.jsx("span",{className:Lw,children:"R$"}),p.jsx("input",{type:"number",id:"valorPorLitro",className:Dw,value:m,onChange:e=>g(""===e.target.value?"":Number(e.target.value)),placeholder:"0,000",step:"0.001",min:"0",required:!0})]})]}),p.jsxs("div",{className:Pw,children:[p.jsxs("label",{htmlFor:"litrosAbastecidos",className:Aw,children:[p.jsx(Tn,{size:18}),p.jsx("span",{children:"Litros Abastecidos"})]}),p.jsx("input",{type:"number",id:"litrosAbastecidos",className:Dw,value:x,onChange:e=>v(""===e.target.value?"":Number(e.target.value)),placeholder:"0,000",step:"0.001",min:"0",required:!0})]}),p.jsxs("div",{className:Pw,children:[p.jsxs("label",{htmlFor:"valorTotal",className:Aw,children:[p.jsx(bn,{size:18}),p.jsx("span",{children:"Valor Total (R$)"})]}),p.jsxs("div",{className:Rw,children:[p.jsx("span",{className:Lw,children:"R$"}),p.jsx("input",{type:"text",id:"valorTotal",className:Dw,value:"number"==typeof b?b.toFixed(2).replace(".",","):"",readOnly:!0,placeholder:"0,00",style:{backgroundColor:"#f9fafb",cursor:"not-allowed"}})]})]}),p.jsxs("div",{className:Pw,children:[p.jsxs("label",{htmlFor:"postoSelecionado",className:Aw,children:[p.jsx(ti,{size:18}),p.jsx("span",{children:"Posto de Combustível"})]}),p.jsxs("div",{className:Tw,children:[p.jsxs("select",{id:"postoSelecionado",className:Iw,value:_,onChange:e=>j(Number(e.target.value)),required:!0,children:[p.jsx("option",{value:"",children:"Selecione um posto..."}),E.map(e=>p.jsx("option",{value:e.id,children:e.nome},e.id))]}),p.jsx(tn,{size:18,className:zw}),p.jsxs("div",{className:$w,children:[p.jsx("button",{className:Bw,onClick:()=>tp.openCadastrarPosto(),title:"Adicionar posto",type:"button",children:p.jsx(vi,{size:18})}),p.jsx("button",{className:Bw,onClick:q,title:"Recarregar postos",type:"button",children:p.jsx(wi,{size:18})})]})]})]}),p.jsxs("div",{className:Pw,children:[p.jsxs("label",{htmlFor:"nf",className:Aw,children:[p.jsx(yi,{size:18}),p.jsx("span",{children:"Número da Nota Fiscal"})]}),p.jsx("input",{type:"text",id:"nf",className:Dw,value:w,onChange:e=>N(e.target.value),placeholder:"Opcional"})]})]}),p.jsxs("div",{className:qw,children:[p.jsxs("button",{className:Fw,onClick:F,type:"button",disabled:R,children:[p.jsx(ss,{size:18}),"Limpar Formulário"]}),p.jsx("button",{className:Ww,onClick:async()=>{if(I(null),z(null),!(e&&a&&i&&o&&c&&u&&m&&x&&b&&_))return void I("Por favor, preencha todos os campos obrigatórios.");L(!0);const t={data:`${e}T${a}:00`,veiculo:i,motorista:o,quilometragem:c,combustivel:u,valor_litro:String(m),litro:String(x),valor:String(b),posto:_,notafiscal:w||null,foto:null};try{await r("criar_frota_abastecimento",{payload:t}),z("Abastecimento cadastrado com sucesso!"),setTimeout(()=>{F()},2e3)}catch(n){I(`Erro: ${n.toString()}`)}finally{L(!1)}},disabled:R||!b,type:"button",children:R?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:Ew,style:{width:"18px",height:"18px",margin:0}}),"Cadastrando..."]}):p.jsxs(p.Fragment,{children:[p.jsx(Si,{size:18}),"Cadastrar Abastecimento"]})})]})]})]})};var Hw,Vw={},Uw={};function Kw(){return Hw||(Hw=1,e=Uw,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isUnsafeProperty=function(e){return"__proto__"===e}),Uw;var e}var Yw,Xw={};function Jw(){return Yw||(Yw=1,e=Xw,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}),Xw;var e}var Zw,Qw={};function eN(){return Zw||(Zw=1,e=Qw,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toKey=function(e){return"string"==typeof e||"symbol"==typeof e?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}),Qw;var e}var tN,aN,rN,nN,iN={};function sN(){return tN||(tN=1,e=iN,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toPath=function(e){const t=[],a=e.length;if(0===a)return t;let r=0,n="",i="",s=!1;for(46===e.charCodeAt(0)&&(t.push(""),r++);r<a;){const o=e[r];i?"\\"===o&&r+1<a?(r++,n+=e[r]):o===i?i="":n+=o:s?'"'===o||"'"===o?i=o:"]"===o?(s=!1,t.push(n),n=""):n+=o:"["===o?(s=!0,n&&(t.push(n),n="")):"."===o?n&&(t.push(n),n=""):n+=o,r++}return n&&t.push(n),t}),iN;var e}function oN(){return aN||(aN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kw(),a=Jw(),r=eN(),n=sN();e.get=function e(i,s,o){if(null==i)return o;switch(typeof s){case"string":{if(t.isUnsafeProperty(s))return o;const r=i[s];return void 0===r?a.isDeepKey(s)?e(i,n.toPath(s),o):o:r}case"number":case"symbol":{"number"==typeof s&&(s=r.toKey(s));const e=i[s];return void 0===e?o:e}default:{if(Array.isArray(s))return function(e,a,r){if(0===a.length)return r;let n=e;for(let i=0;i<a.length;i++){if(null==n)return r;if(t.isUnsafeProperty(a[i]))return r;n=n[a[i]]}if(void 0===n)return r;return n}(i,s,o);if(s=Object.is(s?.valueOf(),-0)?"-0":String(s),t.isUnsafeProperty(s))return o;const e=i[s];return void 0===e?o:e}}}}(Vw)),Vw}function lN(){return nN?rN:(nN=1,rN=oN().get)}const cN=t(lN());var dN,uN,hN={exports:{}},mN={};function pN(){if(dN)return mN;dN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function p(m){if("object"==typeof m&&null!==m){var p=m.$$typeof;switch(p){case e:switch(m=m.type){case a:case n:case r:case l:case c:case h:return m;default:switch(m=m&&m.$$typeof){case s:case o:case u:case d:case i:return m;default:return p}}case t:return p}}}return mN.ContextConsumer=i,mN.ContextProvider=s,mN.Element=e,mN.ForwardRef=o,mN.Fragment=a,mN.Lazy=u,mN.Memo=d,mN.Portal=t,mN.Profiler=n,mN.StrictMode=r,mN.Suspense=l,mN.SuspenseList=c,mN.isContextConsumer=function(e){return p(e)===i},mN.isContextProvider=function(e){return p(e)===s},mN.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===e},mN.isForwardRef=function(e){return p(e)===o},mN.isFragment=function(e){return p(e)===a},mN.isLazy=function(e){return p(e)===u},mN.isMemo=function(e){return p(e)===d},mN.isPortal=function(e){return p(e)===t},mN.isProfiler=function(e){return p(e)===n},mN.isStrictMode=function(e){return p(e)===r},mN.isSuspense=function(e){return p(e)===l},mN.isSuspenseList=function(e){return p(e)===c},mN.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===n||e===r||e===l||e===c||"object"==typeof e&&null!==e&&(e.$$typeof===u||e.$$typeof===d||e.$$typeof===s||e.$$typeof===i||e.$$typeof===o||e.$$typeof===m||void 0!==e.getModuleId)},mN.typeOf=p,mN}function fN(){return uN||(uN=1,hN.exports=pN()),hN.exports}var gN=fN(),xN=e=>0===e?0:e>0?1:-1,vN=e=>"number"==typeof e&&e!=+e,bN=e=>"string"==typeof e&&e.indexOf("%")===e.length-1,yN=e=>("number"==typeof e||e instanceof Number)&&!vN(e),_N=e=>yN(e)||"string"==typeof e,jN=0,wN=e=>{var t=++jN;return"".concat(e||"").concat(t)},NN=function(e,t){var a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!yN(e)&&"string"!=typeof e)return r;if(bN(e)){if(null==t)return r;var i=e.indexOf("%");a=t*parseFloat(e.slice(0,i))/100}else a=+e;return vN(a)&&(a=r),n&&null!=t&&a>t&&(a=t),a},CN=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,a={},r=0;r<t;r++){if(a[e[r]])return!0;a[e[r]]=!0}return!1};function kN(e,t,a){return yN(e)&&yN(t)?e+a*(t-e):t}function SN(e,t,a){if(e&&e.length)return e.find(e=>e&&("function"==typeof t?t(e):cN(e,t))===a)}var MN=e=>null==e,EN=e=>MN(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),ON=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function PN(e){return"string"==typeof e&&ON.includes(e)}var AN=["points","pathLength"],DN={svg:["viewBox","children"],polygon:AN,polyline:AN},IN=(e,t)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var a=e;if(f.isValidElement(e)&&(a=e.props),"object"!=typeof a&&"function"!=typeof a)return null;var r={};return Object.keys(a).forEach(e=>{PN(e)&&(r[e]=t=>a[e](a,t))}),r},TN=(e,t,a)=>{if(null===e||"object"!=typeof e&&"function"!=typeof e)return null;var r=null;return Object.keys(e).forEach(n=>{var i=e[n];PN(n)&&"function"==typeof i&&(r||(r={}),r[n]=((e,t,a)=>r=>(e(t,a,r),null))(i,t,a))}),r},zN=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function RN(e){return"string"==typeof e&&zN.includes(e)}function LN(e){var t=Object.entries(e).filter(e=>{var[t]=e;return RN(t)});return Object.fromEntries(t)}var $N=e=>"string"==typeof e?e:e?e.displayName||e.name||"Component":"",BN=null,qN=null,FN=e=>{if(e===BN&&Array.isArray(qN))return qN;var t=[];return f.Children.forEach(e,e=>{MN(e)||(gN.isFragment(e)?t=t.concat(FN(e.props.children)):t.push(e))}),qN=t,BN=e,t};function WN(e,t){var a=[],r=[];return r=Array.isArray(t)?t.map(e=>$N(e)):[$N(t)],FN(e).forEach(e=>{var t=cN(e,"type.displayName")||cN(e,"type.name");-1!==r.indexOf(t)&&a.push(e)}),a}var GN=e=>!e||"object"!=typeof e||!("clipDot"in e)||Boolean(e.clipDot),HN=(e,t,a)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(f.isValidElement(e)&&(r=e.props),"object"!=typeof r&&"function"!=typeof r)return null;var n={};return Object.keys(r).forEach(e=>{var i;((e,t,a,r)=>{var n;if("symbol"==typeof t||"number"==typeof t)return!0;var i=null!==(n=r&&(null==DN?void 0:DN[r]))&&void 0!==n?n:[],s=t.startsWith("data-"),o="function"!=typeof e&&(Boolean(r)&&i.includes(t)||RN(t)),l=Boolean(a)&&PN(t);return s||o||l})(null===(i=r)||void 0===i?void 0:i[e],e,t,a)&&(n[e]=r[e])}),n},VN=["children","width","height","viewBox","className","style","title","desc"];function UN(){return UN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},UN.apply(null,arguments)}var KN=f.forwardRef((e,t)=>{var{children:a,width:r,height:n,viewBox:i,className:s,style:o,title:l,desc:c}=e,d=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,VN),u=i||{width:r,height:n,x:0,y:0},h=Ce("recharts-surface",s);return f.createElement("svg",UN({},HN(d,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height),ref:t}),f.createElement("title",null,l),f.createElement("desc",null,c),a)}),YN=["children","className"];function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},XN.apply(null,arguments)}var JN=f.forwardRef((e,t)=>{var{children:a,className:r}=e,n=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,YN),i=Ce("recharts-layer",r);return f.createElement("g",XN({className:i},HN(n,!0),{ref:t}),a)}),ZN=a();const QN=t(ZN);var eC=f.createContext(null);function tC(e){return function(){return e}}const aC=Math.cos,rC=Math.sin,nC=Math.sqrt,iC=Math.PI,sC=2*iC,oC=Math.PI,lC=2*oC,cC=1e-6,dC=lC-cC;function uC(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=arguments[t]+e[t]}class hC{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?uC:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return uC;const a=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*a)/a+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,a,r){this._append`Q${+e},${+t},${this._x1=+a},${this._y1=+r}`}bezierCurveTo(e,t,a,r,n,i){this._append`C${+e},${+t},${+a},${+r},${this._x1=+n},${this._y1=+i}`}arcTo(e,t,a,r,n){if(e=+e,t=+t,a=+a,r=+r,(n=+n)<0)throw new Error(`negative radius: ${n}`);let i=this._x1,s=this._y1,o=a-e,l=r-t,c=i-e,d=s-t,u=c*c+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(u>cC)if(Math.abs(d*o-l*c)>cC&&n){let h=a-i,m=r-s,p=o*o+l*l,f=h*h+m*m,g=Math.sqrt(p),x=Math.sqrt(u),v=n*Math.tan((oC-Math.acos((p+u-f)/(2*g*x)))/2),b=v/x,y=v/g;Math.abs(b-1)>cC&&this._append`L${e+b*c},${t+b*d}`,this._append`A${n},${n},0,0,${+(d*h>c*m)},${this._x1=e+y*o},${this._y1=t+y*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,a,r,n,i){if(e=+e,t=+t,i=!!i,(a=+a)<0)throw new Error(`negative radius: ${a}`);let s=a*Math.cos(r),o=a*Math.sin(r),l=e+s,c=t+o,d=1^i,u=i?r-n:n-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>cC||Math.abs(this._y1-c)>cC)&&this._append`L${l},${c}`,a&&(u<0&&(u=u%lC+lC),u>dC?this._append`A${a},${a},0,1,${d},${e-s},${t-o}A${a},${a},0,1,${d},${this._x1=l},${this._y1=c}`:u>cC&&this._append`A${a},${a},0,${+(u>=oC)},${d},${this._x1=e+a*Math.cos(n)},${this._y1=t+a*Math.sin(n)}`)}rect(e,t,a,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${a=+a}v${+r}h${-a}Z`}toString(){return this._}}function mC(e){let t=3;return e.digits=function(a){if(!arguments.length)return t;if(null==a)t=null;else{const e=Math.floor(a);if(!(e>=0))throw new RangeError(`invalid digits: ${a}`);t=e}return e},()=>new hC(t)}function pC(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function fC(e){this._context=e}function gC(e){return new fC(e)}function xC(e){return e[0]}function vC(e){return e[1]}function bC(e,t){var a=tC(!0),r=null,n=gC,i=null,s=mC(o);function o(o){var l,c,d,u=(o=pC(o)).length,h=!1;for(null==r&&(i=n(d=s())),l=0;l<=u;++l)!(l<u&&a(c=o[l],l,o))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(c,l,o),+t(c,l,o));if(d)return i=null,d+""||null}return e="function"==typeof e?e:void 0===e?xC:tC(e),t="function"==typeof t?t:void 0===t?vC:tC(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:tC(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:tC(+e),o):t},o.defined=function(e){return arguments.length?(a="function"==typeof e?e:tC(!!e),o):a},o.curve=function(e){return arguments.length?(n=e,null!=r&&(i=n(r)),o):n},o.context=function(e){return arguments.length?(null==e?r=i=null:i=n(r=e),o):r},o}function yC(e,t,a){var r=null,n=tC(!0),i=null,s=gC,o=null,l=mC(c);function c(c){var d,u,h,m,p,f=(c=pC(c)).length,g=!1,x=new Array(f),v=new Array(f);for(null==i&&(o=s(p=l())),d=0;d<=f;++d){if(!(d<f&&n(m=c[d],d,c))===g)if(g=!g)u=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=d-1;h>=u;--h)o.point(x[h],v[h]);o.lineEnd(),o.areaEnd()}g&&(x[d]=+e(m,d,c),v[d]=+t(m,d,c),o.point(r?+r(m,d,c):x[d],a?+a(m,d,c):v[d]))}if(p)return o=null,p+""||null}function d(){return bC().defined(n).curve(s).context(i)}return e="function"==typeof e?e:void 0===e?xC:tC(+e),t="function"==typeof t?t:tC(void 0===t?0:+t),a="function"==typeof a?a:void 0===a?vC:tC(+a),c.x=function(t){return arguments.length?(e="function"==typeof t?t:tC(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:tC(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:tC(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:tC(+e),a=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:tC(+e),c):t},c.y1=function(e){return arguments.length?(a=null==e?null:"function"==typeof e?e:tC(+e),c):a},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(a)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(e){return arguments.length?(n="function"==typeof e?e:tC(!!e),c):n},c.curve=function(e){return arguments.length?(s=e,null!=i&&(o=s(i)),c):s},c.context=function(e){return arguments.length?(null==e?i=o=null:o=s(i=e),c):i},c}fC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class _C{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const jC={draw(e,t){const a=nC(t/iC);e.moveTo(a,0),e.arc(0,0,a,0,sC)}},wC={draw(e,t){const a=nC(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}},NC=nC(1/3),CC=2*NC,kC={draw(e,t){const a=nC(t/CC),r=a*NC;e.moveTo(0,-a),e.lineTo(r,0),e.lineTo(0,a),e.lineTo(-r,0),e.closePath()}},SC={draw(e,t){const a=nC(t),r=-a/2;e.rect(r,r,a,a)}},MC=rC(iC/10)/rC(7*iC/10),EC=rC(sC/10)*MC,OC=-aC(sC/10)*MC,PC={draw(e,t){const a=nC(.8908130915292852*t),r=EC*a,n=OC*a;e.moveTo(0,-a),e.lineTo(r,n);for(let i=1;i<5;++i){const t=sC*i/5,s=aC(t),o=rC(t);e.lineTo(o*a,-s*a),e.lineTo(s*r-o*n,o*r+s*n)}e.closePath()}},AC=nC(3),DC={draw(e,t){const a=-nC(t/(3*AC));e.moveTo(0,2*a),e.lineTo(-AC*a,-a),e.lineTo(AC*a,-a),e.closePath()}},IC=-.5,TC=nC(3)/2,zC=1/nC(12),RC=3*(zC/2+1),LC={draw(e,t){const a=nC(t/RC),r=a/2,n=a*zC,i=r,s=a*zC+a,o=-i,l=s;e.moveTo(r,n),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(IC*r-TC*n,TC*r+IC*n),e.lineTo(IC*i-TC*s,TC*i+IC*s),e.lineTo(IC*o-TC*l,TC*o+IC*l),e.lineTo(IC*r+TC*n,IC*n-TC*r),e.lineTo(IC*i+TC*s,IC*s-TC*i),e.lineTo(IC*o+TC*l,IC*l-TC*o),e.closePath()}};function $C(){}function BC(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function qC(e){this._context=e}function FC(e){this._context=e}function WC(e){this._context=e}function GC(e){this._context=e}function HC(e){return e<0?-1:1}function VC(e,t,a){var r=e._x1-e._x0,n=t-e._x1,i=(e._y1-e._y0)/(r||n<0&&-0),s=(a-e._y1)/(n||r<0&&-0),o=(i*n+s*r)/(r+n);return(HC(i)+HC(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function UC(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function KC(e,t,a){var r=e._x0,n=e._y0,i=e._x1,s=e._y1,o=(i-r)/3;e._context.bezierCurveTo(r+o,n+o*t,i-o,s-o*a,i,s)}function YC(e){this._context=e}function XC(e){this._context=new JC(e)}function JC(e){this._context=e}function ZC(e){this._context=e}function QC(e){var t,a,r=e.length-1,n=new Array(r),i=new Array(r),s=new Array(r);for(n[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)n[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(n[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=n[t]/i[t-1],i[t]-=a,s[t]-=a*s[t-1];for(n[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)n[t]=(s[t]-n[t+1])/i[t];for(i[r-1]=(e[r]+n[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-n[t+1];return[n,i]}function ek(e,t){this._context=e,this._t=t}function tk(e,t){if((n=e.length)>1)for(var a,r,n,i=1,s=e[t[0]],o=s.length;i<n;++i)for(r=s,s=e[t[i]],a=0;a<o;++a)s[a][1]+=s[a][0]=isNaN(r[a][1])?r[a][0]:r[a][1]}function ak(e){for(var t=e.length,a=new Array(t);--t>=0;)a[t]=t;return a}function rk(e,t){return e[t]}function nk(e){const t=[];return t.key=e,t}qC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:BC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:BC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},FC.prototype={areaStart:$C,areaEnd:$C,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:BC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},WC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:BC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},GC.prototype={areaStart:$C,areaEnd:$C,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},YC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:KC(this,this._t0,UC(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,KC(this,UC(this,a=VC(this,e,t)),a);break;default:KC(this,this._t0,a=VC(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}},(XC.prototype=Object.create(YC.prototype)).point=function(e,t){YC.prototype.point.call(this,t,e)},JC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,n,i){this._context.bezierCurveTo(t,e,r,a,i,n)}},ZC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===a)this._context.lineTo(e[1],t[1]);else for(var r=QC(e),n=QC(t),i=0,s=1;s<a;++i,++s)this._context.bezierCurveTo(r[0][i],n[0][i],r[1][i],n[1][i],e[s],t[s]);(this._line||0!==this._line&&1===a)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},ek.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}}this._x=e,this._y=t}};var ik=["type","size","sizeType"];function sk(){return sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},sk.apply(null,arguments)}function ok(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function lk(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ok(Object(a),!0).forEach(function(t){ck(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ok(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function ck(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var dk={symbolCircle:jC,symbolCross:wC,symbolDiamond:kC,symbolSquare:SC,symbolStar:PC,symbolTriangle:DC,symbolWye:LC},uk=Math.PI/180,hk=e=>{var{type:t="circle",size:a=64,sizeType:r="area"}=e,n=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,ik),i=lk(lk({},n),{},{type:t,size:a,sizeType:r}),s="circle";"string"==typeof t&&(s=t);var o,l,{className:c,cx:d,cy:u}=i,h=HN(i,!0);return d===+d&&u===+u&&a===+a?f.createElement("path",sk({},h,{className:Ce("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:(o=(e=>{var t="symbol".concat(EN(e));return dk[t]||jC})(s),l=function(e,t){let a=null,r=mC(n);function n(){let n;if(a||(a=n=r()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),n)return a=null,n+""||null}return e="function"==typeof e?e:tC(e||jC),t="function"==typeof t?t:tC(void 0===t?64:+t),n.type=function(t){return arguments.length?(e="function"==typeof t?t:tC(t),n):e},n.size=function(e){return arguments.length?(t="function"==typeof e?e:tC(+e),n):t},n.context=function(e){return arguments.length?(a=null==e?null:e,n):a},n}().type(o).size(((e,t,a)=>{if("area"===t)return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*uk;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(a,r,s)),l())})):null};function mk(){return mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},mk.apply(null,arguments)}function pk(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function fk(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}hk.registerSymbol=(e,t)=>{dk["symbol".concat(EN(e))]=t};var gk=32;class xk extends f.PureComponent{renderIcon(e,t){var{inactiveColor:a}=this.props,r=16,n=gk/6,i=gk/3,s=e.inactive?a:e.color,o=null!=t?t:e.type;if("none"===o)return null;if("plainline"===o)return f.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:gk,y2:r,className:"recharts-legend-icon"});if("line"===o)return f.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(r,"h").concat(i,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(2*i,",").concat(r,"\n            H").concat(gk,"M").concat(2*i,",").concat(r,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(i,",").concat(r),className:"recharts-legend-icon"});if("rect"===o)return f.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(gk,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(f.isValidElement(e.legendIcon)){var l=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pk(Object(a),!0).forEach(function(t){fk(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pk(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return delete l.legendIcon,f.cloneElement(e.legendIcon,l)}return f.createElement(hk,{fill:s,cx:r,cy:r,size:gk,sizeType:"diameter",type:o})}renderItems(){var{payload:e,iconSize:t,layout:a,formatter:r,inactiveColor:n,iconType:i}=this.props,s={x:0,y:0,width:gk,height:gk},o={display:"horizontal"===a?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,a)=>{var c=e.formatter||r,d=Ce({"recharts-legend-item":!0,["legend-item-".concat(a)]:!0,inactive:e.inactive});if("none"===e.type)return null;var u=e.inactive?n:e.color,h=c?c(e.value,e,a):e.value;return f.createElement("li",mk({className:d,style:o,key:"legend-item-".concat(a)},TN(this.props,e,a)),f.createElement(KN,{width:t,height:t,viewBox:s,style:l,"aria-label":"".concat(h," legend icon")},this.renderIcon(e,i)),f.createElement("span",{className:"recharts-legend-item-text",style:{color:u}},h))})}render(){var{payload:e,layout:t,align:a}=this.props;if(!e||!e.length)return null;var r={padding:0,margin:0,textAlign:"horizontal"===t?a:"left"};return f.createElement("ul",{className:"recharts-default-legend",style:r},this.renderItems())}}fk(xk,"displayName","Legend"),fk(xk,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var vk,bk={},yk={};function _k(){return vk||(vk=1,e=yk,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.uniqBy=function(e,t){const a=new Map;for(let r=0;r<e.length;r++){const n=e[r],i=t(n);a.has(i)||a.set(i,n)}return Array.from(a.values())}),yk;var e}var jk,wk={};function Nk(){return jk||(jk=1,e=wk,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.identity=function(e){return e}),wk;var e}var Ck,kk,Sk={},Mk={},Ek={};function Ok(){return Ck||(Ck=1,e=Ek,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}),Ek;var e}function Pk(){return kk||(kk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ok();e.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&t.isLength(e.length)}}(Mk)),Mk}var Ak,Dk,Ik={};function Tk(){return Ak||(Ak=1,e=Ik,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObjectLike=function(e){return"object"==typeof e&&null!==e}),Ik;var e}function zk(){return Dk||(Dk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pk(),a=Tk();e.isArrayLikeObject=function(e){return a.isObjectLike(e)&&t.isArrayLike(e)}}(Sk)),Sk}var Rk,Lk={},$k={};function Bk(){return Rk||(Rk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oN();e.property=function(e){return function(a){return t.get(a,e)}}}($k)),$k}var qk,Fk={},Wk={},Gk={},Hk={};function Vk(){return qk||(qk=1,e=Hk,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}),Hk;var e}var Uk,Kk={};function Yk(){return Uk||(Uk=1,e=Kk,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}),Kk;var e}var Xk,Jk,Zk,Qk={};function eS(){return Xk||(Xk=1,e=Qk,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}),Qk;var e}function tS(){return Jk||(Jk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aS(),a=Vk(),r=Yk(),n=eS();function i(e,t,l,c){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,a,n){if(null==t)return!0;if(Array.isArray(t))return s(e,t,a,n);if(t instanceof Map)return function(e,t,a,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[n,i]of t.entries()){if(!1===a(e.get(n),i,n,e,t,r))return!1}return!0}(e,t,a,n);if(t instanceof Set)return o(e,t,a,n);const i=Object.keys(t);if(null==e)return 0===i.length;if(0===i.length)return!0;if(n&&n.has(t))return n.get(t)===e;n&&n.set(t,e);try{for(let s=0;s<i.length;s++){const o=i[s];if(!r.isPrimitive(e)&&!(o in e))return!1;if(void 0===t[o]&&void 0!==e[o])return!1;if(null===t[o]&&null!==e[o])return!1;if(!a(e[o],t[o],o,e,t,n))return!1}return!0}finally{n&&n.delete(t)}}(e,t,l,c);case"function":return Object.keys(t).length>0?i(e,{...t},l,c):n.eq(e,t);default:return a.isObject(e)?"string"!=typeof t||""===t:n.eq(e,t)}}function s(e,t,a,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const n=new Set;for(let i=0;i<t.length;i++){const s=t[i];let o=!1;for(let l=0;l<e.length;l++){if(n.has(l))continue;let c=!1;if(a(e[l],s,i,e,t,r)&&(c=!0),c){n.add(l),o=!0;break}}if(!o)return!1}return!0}function o(e,t,a,r){return 0===t.size||e instanceof Set&&s([...e],[...t],a,r)}e.isMatchWith=function(e,a,r){return"function"!=typeof r?t.isMatch(e,a):i(e,a,function e(t,a,n,s,o,l){const c=r(t,a,n,s,o,l);return void 0!==c?Boolean(c):i(t,a,e,l)},new Map)},e.isSetMatch=o}(Gk)),Gk}function aS(){return Zk||(Zk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tS();e.isMatch=function(e,a){return t.isMatchWith(e,a,()=>{})}}(Wk)),Wk}var rS,nS={},iS={},sS={};function oS(){return rS||(rS=1,e=sS,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}),sS;var e}var lS,cS={};function dS(){return lS||(lS=1,e=cS,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}),cS;var e}var uS,hS={};function mS(){return uS||(uS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});e.argumentsTag="[object Arguments]",e.arrayBufferTag="[object ArrayBuffer]",e.arrayTag="[object Array]",e.bigInt64ArrayTag="[object BigInt64Array]",e.bigUint64ArrayTag="[object BigUint64Array]",e.booleanTag="[object Boolean]",e.dataViewTag="[object DataView]",e.dateTag="[object Date]",e.errorTag="[object Error]",e.float32ArrayTag="[object Float32Array]",e.float64ArrayTag="[object Float64Array]",e.functionTag="[object Function]",e.int16ArrayTag="[object Int16Array]",e.int32ArrayTag="[object Int32Array]",e.int8ArrayTag="[object Int8Array]",e.mapTag="[object Map]",e.numberTag="[object Number]",e.objectTag="[object Object]",e.regexpTag="[object RegExp]",e.setTag="[object Set]",e.stringTag="[object String]",e.symbolTag="[object Symbol]",e.uint16ArrayTag="[object Uint16Array]",e.uint32ArrayTag="[object Uint32Array]",e.uint8ArrayTag="[object Uint8Array]",e.uint8ClampedArrayTag="[object Uint8ClampedArray]"}(hS)),hS}var pS,fS,gS,xS,vS={};function bS(){return pS||(pS=1,e=vS,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}),vS;var e}function yS(){return fS||(fS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oS(),a=dS(),r=mS(),n=Yk(),i=bS();function s(e,t,l,c=new Map,d=void 0){const u=d?.(e,t,l,c);if(void 0!==u)return u;if(n.isPrimitive(e))return e;if(c.has(e))return c.get(e);if(Array.isArray(e)){const t=new Array(e.length);c.set(e,t);for(let a=0;a<e.length;a++)t[a]=s(e[a],a,l,c,d);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;c.set(e,t);for(const[a,r]of e)t.set(a,s(r,a,l,c,d));return t}if(e instanceof Set){const t=new Set;c.set(e,t);for(const a of e)t.add(s(a,void 0,l,c,d));return t}if("undefined"!=typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(i.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);c.set(e,t);for(let a=0;a<e.length;a++)t[a]=s(e[a],a,l,c,d);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return c.set(e,t),o(t,e,l,c,d),t}if("undefined"!=typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return c.set(e,t),o(t,e,l,c,d),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return c.set(e,t),o(t,e,l,c,d),t}if(e instanceof Error){const t=new e.constructor;return c.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,o(t,e,l,c,d),t}if("object"==typeof e&&function(e){switch(a.getTag(e)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return c.set(e,t),o(t,e,l,c,d),t}return e}function o(e,a,r=e,n,i){const o=[...Object.keys(a),...t.getSymbols(a)];for(let t=0;t<o.length;t++){const l=o[t],c=Object.getOwnPropertyDescriptor(e,l);(null==c||c.writable)&&(e[l]=s(a[l],l,r,n,i))}}e.cloneDeepWith=function(e,t){return s(e,void 0,e,new Map,t)},e.cloneDeepWithImpl=s,e.copyProperties=o}(iS)),iS}function _S(){return gS||(gS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yS();e.cloneDeep=function(e){return t.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}}(nS)),nS}function jS(){return xS||(xS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aS(),a=_S();e.matches=function(e){return e=a.cloneDeep(e),a=>t.isMatch(a,e)}}(Fk)),Fk}var wS,NS,CS={},kS={},SS={};function MS(){return wS||(wS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yS(),a=mS();e.cloneDeepWith=function(e,r){return t.cloneDeepWith(e,(n,i,s,o)=>{const l=r?.(n,i,s,o);if(void 0!==l)return l;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case a.numberTag:case a.stringTag:case a.booleanTag:{const a=new e.constructor(e?.valueOf());return t.copyProperties(a,e),a}case a.argumentsTag:{const a={};return t.copyProperties(a,e),a.length=e.length,a[Symbol.iterator]=e[Symbol.iterator],a}default:return}})}}(SS)),SS}function ES(){return NS||(NS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MS();e.cloneDeep=function(e){return t.cloneDeepWith(e)}}(kS)),kS}var OS,PS={},AS={};function DS(){return OS||(OS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;e.isIndex=function(e,a=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<a;case"symbol":return!1;case"string":return t.test(e)}}}(AS)),AS}var IS,TS,zS,RS,LS,$S,BS,qS={};function FS(){return IS||(IS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dS();e.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===t.getTag(e)}}(qS)),qS}function WS(){return TS||(TS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jw(),a=DS(),r=FS(),n=sN();e.has=function(e,i){let s;if(s=Array.isArray(i)?i:"string"==typeof i&&t.isDeepKey(i)&&null==e?.[i]?n.toPath(i):[i],0===s.length)return!1;let o=e;for(let t=0;t<s.length;t++){const e=s[t];if(null==o||!Object.hasOwn(o,e)){if(!((Array.isArray(o)||r.isArguments(o))&&a.isIndex(e)&&e<o.length))return!1}o=o[e]}return!0}}(PS)),PS}function GS(){return zS||(zS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aS(),a=eN(),r=ES(),n=oN(),i=WS();e.matchesProperty=function(e,s){switch(typeof e){case"object":Object.is(e?.valueOf(),-0)&&(e="-0");break;case"number":e=a.toKey(e)}return s=r.cloneDeep(s),function(a){const r=n.get(a,e);return void 0===r?i.has(a,e):void 0===s?void 0===r:t.isMatch(r,s)}}}(CS)),CS}function HS(){return RS||(RS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nk(),a=Bk(),r=jS(),n=GS();e.iteratee=function(e){if(null==e)return t.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?n.matchesProperty(e[0],e[1]):r.matches(e);case"string":case"symbol":case"number":return a.property(e)}}}(Lk)),Lk}function VS(){return LS||(LS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_k(),a=Nk(),r=zk(),n=HS();e.uniqBy=function(e,i=a.identity){return r.isArrayLikeObject(e)?t.uniqBy(Array.from(e),n.iteratee(i)):[]}}(bk)),bk}function US(){return BS?$S:(BS=1,$S=VS().uniqBy)}const KS=t(US());function YS(e,t,a){return!0===t?KS(e,a):"function"==typeof t?KS(e,t):e}var XS,JS,ZS,QS,eM={exports:{}},tM={},aM={exports:{}},rM={};function nM(){return JS||(JS=1,aM.exports=function(){if(XS)return rM;XS=1;var t=e(),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=t.useState,n=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function o(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(n){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),l=r({inst:{value:a,getSnapshot:t}}),c=l[0].inst,d=l[1];return i(function(){c.value=a,c.getSnapshot=t,o(c)&&d({inst:c})},[e,a,t]),n(function(){return o(c)&&d({inst:c}),e(function(){o(c)&&d({inst:c})})},[e]),s(a),a};return rM.useSyncExternalStore=void 0!==t.useSyncExternalStore?t.useSyncExternalStore:l,rM}()),aM.exports}
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iM=(QS||(QS=1,eM.exports=function(){if(ZS)return tM;ZS=1;var t=e(),a=nM(),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=a.useSyncExternalStore,i=t.useRef,s=t.useEffect,o=t.useMemo,l=t.useDebugValue;return tM.useSyncExternalStoreWithSelector=function(e,t,a,c,d){var u=i(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=o(function(){function e(e){if(!s){if(s=!0,n=e,e=c(e),void 0!==d&&h.hasValue){var t=h.value;if(d(t,e))return i=t}return i=e}if(t=i,r(n,e))return t;var a=c(e);return void 0!==d&&d(t,a)?(n=e,t):(n=e,i=a)}var n,i,s=!1,o=void 0===a?null:a;return[function(){return e(t())},null===o?void 0:function(){return e(o())}]},[t,a,c,d]);var m=n(e,u[0],u[1]);return s(function(){h.hasValue=!0,h.value=m},[m]),l(m),m},tM}()),eM.exports),sM=f.createContext(null),oM=e=>e,lM=()=>{var e=f.useContext(sM);return e?e.store.dispatch:oM},cM=()=>{},dM=()=>cM,uM=(e,t)=>e===t;function hM(e){var t=f.useContext(sM);return iM.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:dM,t?t.store.getState:cM,t?t.store.getState:cM,t?e:cM,uM)}var mM=e=>Array.isArray(e)?e:[e];function pM(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){const a=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${a}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}var fM="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function gM(){return{s:0,v:void 0,o:null,p:null}}function xM(e,t={}){let a={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let n,i=0;function s(){let t=a;const{length:s}=arguments;for(let e=0,a=s;e<a;e++){const a=arguments[e];if("function"==typeof a||"object"==typeof a&&null!==a){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(a);void 0===r?(t=gM(),e.set(a,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(a);void 0===r?(t=gM(),e.set(a,t)):t=r}}const o=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),i++,r){const e=n?.deref?.()??n;null!=e&&r(e,l)&&(l=e,0!==i&&i--);n="object"==typeof l&&null!==l||"function"==typeof l?new fM(l):l}return o.s=1,o.v=l,l}return s.clearCache=()=>{a={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function vM(e,...t){const a="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,n=0,i={},s=e.pop();"object"==typeof s&&(i=s,s=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(s,`createSelector expects an output function after the inputs, but received: [${typeof s}]`);const o={...a,...i},{memoize:l,memoizeOptions:c=[],argsMemoize:d=xM,argsMemoizeOptions:u=[]}=o,h=mM(c),m=mM(u),p=pM(e),f=l(function(){return r++,s.apply(null,arguments)},...h),g=d(function(){n++;const e=function(e,t){const a=[],{length:r}=e;for(let n=0;n<r;n++)a.push(e[n].apply(null,t));return a}(p,arguments);return t=f.apply(null,e),t},...m);return Object.assign(g,{resultFunc:s,memoizedResultFunc:f,dependencies:p,dependencyRecomputations:()=>n,resetDependencyRecomputations:()=>{n=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:l,argsMemoize:d})};return Object.assign(r,{withTypes:()=>r}),r}var bM,yM=vM(xM),_M=Object.assign((e,t=yM)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const a=Object.keys(e);return t(a.map(t=>e[t]),(...e)=>e.reduce((e,t,r)=>(e[a[r]]=t,e),{}))},{withTypes:()=>_M}),jM={},wM={},NM={};function CM(){return bM||(bM=1,function(e){function t(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:e!=e?4:0}Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});e.compareValues=(e,a,r)=>{if(e!==a){const n=t(e),i=t(a);if(n===i&&0===n){if(e<a)return"desc"===r?1:-1;if(e>a)return"desc"===r?-1:1}return"desc"===r?i-n:n-i}return 0}}(NM)),NM}var kM,SM,MM,EM={},OM={};function PM(){return kM||(kM=1,e=OM,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}),OM;var e}function AM(){return SM||(SM=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PM(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;e.isKey=function(e,n){return!Array.isArray(e)&&(!("number"!=typeof e&&"boolean"!=typeof e&&null!=e&&!t.isSymbol(e))||("string"==typeof e&&(r.test(e)||!a.test(e))||null!=n&&Object.hasOwn(n,e)))}}(EM)),EM}function DM(){return MM||(MM=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CM(),a=AM(),r=sN();e.orderBy=function(e,n,i,s){if(null==e)return[];i=s?void 0:i,Array.isArray(e)||(e=Object.values(e)),Array.isArray(n)||(n=null==n?[null]:[n]),0===n.length&&(n=[null]),Array.isArray(i)||(i=null==i?[]:[i]),i=i.map(e=>String(e));const o=(e,t)=>{let a=e;for(let r=0;r<t.length&&null!=a;++r)a=a[t[r]];return a},l=n.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||a.isKey(e)?e:{key:e,path:r.toPath(e)})),c=e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"==typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:o(t,e.path):"function"==typeof e?e(t):Array.isArray(e)?o(t,e):"object"==typeof t?t[e]:t)(t,e))}));return c.slice().sort((e,a)=>{for(let r=0;r<l.length;r++){const n=t.compareValues(e.criteria[r],a.criteria[r],i[r]);if(0!==n)return n}return 0}).map(e=>e.original)}}(wM)),wM}var IM,TM={};function zM(){return IM||(IM=1,e=TM,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.flatten=function(e,t=1){const a=[],r=Math.floor(t),n=(e,t)=>{for(let i=0;i<e.length;i++){const s=e[i];Array.isArray(s)&&t<r?n(s,t+1):a.push(s)}};return n(e,0),a}),TM;var e}var RM,LM,$M,BM,qM={};function FM(){return RM||(RM=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DS(),a=Pk(),r=Vk(),n=eS();e.isIterateeCall=function(e,i,s){return!!r.isObject(s)&&(!!("number"==typeof i&&a.isArrayLike(s)&&t.isIndex(i)&&i<s.length||"string"==typeof i&&i in s)&&n.eq(s[i],e))}}(qM)),qM}function WM(){return LM||(LM=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DM(),a=zM(),r=FM();e.sortBy=function(e,...n){const i=n.length;return i>1&&r.isIterateeCall(e,n[0],n[1])?n=[]:i>2&&r.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),t.orderBy(e,a.flatten(n),["asc"])}}(jM)),jM}function GM(){return BM?$M:(BM=1,$M=WM().sortBy)}const HM=t(GM());var VM=e=>e.legend.settings,UM=yM([e=>e.legend.payload,VM],(e,t)=>{var{itemSorter:a}=t,r=e.flat(1);return a?HM(r,a):r});function KM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,a]=f.useState({height:0,left:0,top:0,width:0}),r=f.useCallback(e=>{if(null!=e){var r=e.getBoundingClientRect(),n={height:r.height,left:r.left,top:r.top,width:r.width};(Math.abs(n.height-t.height)>1||Math.abs(n.left-t.left)>1||Math.abs(n.top-t.top)>1||Math.abs(n.width-t.width)>1)&&a({height:n.height,left:n.left,top:n.top,width:n.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function YM(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var XM=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),JM=()=>Math.random().toString(36).substring(7).split("").join("."),ZM={INIT:`@@redux/INIT${JM()}`,REPLACE:`@@redux/REPLACE${JM()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${JM()}`};function QM(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function eE(e,t,a){if("function"!=typeof e)throw new Error(YM(2));if("function"==typeof t&&"function"==typeof a||"function"==typeof a&&"function"==typeof arguments[3])throw new Error(YM(0));if("function"==typeof t&&void 0===a&&(a=t,t=void 0),void 0!==a){if("function"!=typeof a)throw new Error(YM(1));return a(eE)(e,t)}let r=e,n=t,i=new Map,s=i,o=0,l=!1;function c(){s===i&&(s=new Map,i.forEach((e,t)=>{s.set(t,e)}))}function d(){if(l)throw new Error(YM(3));return n}function u(e){if("function"!=typeof e)throw new Error(YM(4));if(l)throw new Error(YM(5));let t=!0;c();const a=o++;return s.set(a,e),function(){if(t){if(l)throw new Error(YM(6));t=!1,c(),s.delete(a),i=null}}}function h(e){if(!QM(e))throw new Error(YM(7));if(void 0===e.type)throw new Error(YM(8));if("string"!=typeof e.type)throw new Error(YM(17));if(l)throw new Error(YM(9));try{l=!0,n=r(n,e)}finally{l=!1}return(i=s).forEach(e=>{e()}),e}h({type:ZM.INIT});return{dispatch:h,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(YM(10));r=e,h({type:ZM.REPLACE})},[XM]:function(){const e=u;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(YM(11));function a(){const e=t;e.next&&e.next(d())}a();return{unsubscribe:e(a)}},[XM](){return this}}}}}function tE(e){const t=Object.keys(e),a={};for(let s=0;s<t.length;s++){const r=t[s];"function"==typeof e[r]&&(a[r]=e[r])}const r=Object.keys(a);let n;try{!function(e){Object.keys(e).forEach(t=>{const a=e[t];if(void 0===a(void 0,{type:ZM.INIT}))throw new Error(YM(12));if(void 0===a(void 0,{type:ZM.PROBE_UNKNOWN_ACTION()}))throw new Error(YM(13))})}(a)}catch(i){n=i}return function(e={},t){if(n)throw n;let i=!1;const s={};for(let n=0;n<r.length;n++){const o=r[n],l=a[o],c=e[o],d=l(c,t);if(void 0===d)throw t&&t.type,new Error(YM(14));s[o]=d,i=i||d!==c}return i=i||r.length!==Object.keys(e).length,i?s:e}}function aE(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...a)=>e(t(...a)))}function rE(e){return QM(e)&&"type"in e&&"string"==typeof e.type}var nE=Symbol.for("immer-nothing"),iE=Symbol.for("immer-draftable"),sE=Symbol.for("immer-state");function oE(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var lE=Object.getPrototypeOf;function cE(e){return!!e&&!!e[sE]}function dE(e){return!!e&&(hE(e)||Array.isArray(e)||!!e[iE]||!!e.constructor?.[iE]||xE(e)||vE(e))}var uE=Object.prototype.constructor.toString();function hE(e){if(!e||"object"!=typeof e)return!1;const t=lE(e);if(null===t)return!0;const a=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return a===Object||"function"==typeof a&&Function.toString.call(a)===uE}function mE(e,t){0===pE(e)?Reflect.ownKeys(e).forEach(a=>{t(a,e[a],e)}):e.forEach((a,r)=>t(r,a,e))}function pE(e){const t=e[sE];return t?t.type_:Array.isArray(e)?1:xE(e)?2:vE(e)?3:0}function fE(e,t){return 2===pE(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function gE(e,t,a){const r=pE(e);2===r?e.set(t,a):3===r?e.add(a):e[t]=a}function xE(e){return e instanceof Map}function vE(e){return e instanceof Set}function bE(e){return e.copy_||e.base_}function yE(e,t){if(xE(e))return new Map(e);if(vE(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const a=hE(e);if(!0===t||"class_only"===t&&!a){const t=Object.getOwnPropertyDescriptors(e);delete t[sE];let a=Reflect.ownKeys(t);for(let r=0;r<a.length;r++){const n=a[r],i=t[n];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[n]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[n]})}return Object.create(lE(e),t)}{const t=lE(e);if(null!==t&&a)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function _E(e,t=!1){return wE(e)||cE(e)||!dE(e)||(pE(e)>1&&Object.defineProperties(e,{set:{value:jE},add:{value:jE},clear:{value:jE},delete:{value:jE}}),Object.freeze(e),t&&Object.values(e).forEach(e=>_E(e,!0))),e}function jE(){oE(2)}function wE(e){return Object.isFrozen(e)}var NE,CE={};function kE(e){const t=CE[e];return t||oE(0),t}function SE(){return NE}function ME(e,t){t&&(kE("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function EE(e){OE(e),e.drafts_.forEach(AE),e.drafts_=null}function OE(e){e===NE&&(NE=e.parent_)}function PE(e){return NE={drafts_:[],parent_:NE,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function AE(e){const t=e[sE];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function DE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];return void 0!==e&&e!==a?(a[sE].modified_&&(EE(t),oE(4)),dE(e)&&(e=IE(t,e),t.parent_||zE(t,e)),t.patches_&&kE("Patches").generateReplacementPatches_(a[sE].base_,e,t.patches_,t.inversePatches_)):e=IE(t,a,[]),EE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nE?e:void 0}function IE(e,t,a){if(wE(t))return t;const r=t[sE];if(!r)return mE(t,(n,i)=>TE(e,r,t,n,i,a)),t;if(r.scope_!==e)return t;if(!r.modified_)return zE(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let n=t,i=!1;3===r.type_&&(n=new Set(t),t.clear(),i=!0),mE(n,(n,s)=>TE(e,r,t,n,s,a,i)),zE(e,t,!1),a&&e.patches_&&kE("Patches").generatePatches_(r,a,e.patches_,e.inversePatches_)}return r.copy_}function TE(e,t,a,r,n,i,s){if(cE(n)){const s=IE(e,n,i&&t&&3!==t.type_&&!fE(t.assigned_,r)?i.concat(r):void 0);if(gE(a,r,s),!cE(s))return;e.canAutoFreeze_=!1}else s&&a.add(n);if(dE(n)&&!wE(n)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;IE(e,n),t&&t.scope_.parent_||"symbol"==typeof r||!(xE(a)?a.has(r):Object.prototype.propertyIsEnumerable.call(a,r))||zE(e,n)}}function zE(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&_E(t,a)}var RE={get(e,t){if(t===sE)return e;const a=bE(e);if(!fE(a,t))return function(e,t,a){const r=BE(t,a);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,a,t);const r=a[t];return e.finalized_||!dE(r)?r:r===$E(e.base_,t)?(FE(e),e.copy_[t]=WE(r,e)):r},has:(e,t)=>t in bE(e),ownKeys:e=>Reflect.ownKeys(bE(e)),set(e,t,a){const r=BE(bE(e),t);if(r?.set)return r.set.call(e.draft_,a),!0;if(!e.modified_){const r=$E(bE(e),t),n=r?.[sE];if(n&&n.base_===a)return e.copy_[t]=a,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(a,r)&&(void 0!==a||fE(e.base_,t)))return!0;FE(e),qE(e)}return e.copy_[t]===a&&(void 0!==a||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==$E(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,FE(e),qE(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const a=bE(e),r=Reflect.getOwnPropertyDescriptor(a,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:a[t]}:r},defineProperty(){oE(11)},getPrototypeOf:e=>lE(e.base_),setPrototypeOf(){oE(12)}},LE={};function $E(e,t){const a=e[sE];return(a?bE(a):e)[t]}function BE(e,t){if(!(t in e))return;let a=lE(e);for(;a;){const e=Object.getOwnPropertyDescriptor(a,t);if(e)return e;a=lE(a)}}function qE(e){e.modified_||(e.modified_=!0,e.parent_&&qE(e.parent_))}function FE(e){e.copy_||(e.copy_=yE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}mE(RE,(e,t)=>{LE[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),LE.deleteProperty=function(e,t){return LE.set.call(this,e,t,void 0)},LE.set=function(e,t,a){return RE.set.call(this,e[0],t,a,e[0])};function WE(e,t){const a=xE(e)?kE("MapSet").proxyMap_(e,t):vE(e)?kE("MapSet").proxySet_(e,t):function(e,t){const a=Array.isArray(e),r={type_:a?1:0,scope_:t?t.scope_:SE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=r,i=RE;a&&(n=[r],i=LE);const{revoke:s,proxy:o}=Proxy.revocable(n,i);return r.draft_=o,r.revoke_=s,o}(e,t);return(t?t.scope_:SE()).drafts_.push(a),a}function GE(e){return cE(e)||oE(10),HE(e)}function HE(e){if(!dE(e)||wE(e))return e;const t=e[sE];let a;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=yE(e,t.scope_.immer_.useStrictShallowCopy_)}else a=yE(e,!0);return mE(a,(e,t)=>{gE(a,e,HE(t))}),t&&(t.finalized_=!1),a}var VE=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,a)=>{if("function"==typeof e&&"function"!=typeof t){const a=t;t=e;const r=this;return function(e=a,...n){return r.produce(e,e=>t.call(this,e,...n))}}let r;if("function"!=typeof t&&oE(6),void 0!==a&&"function"!=typeof a&&oE(7),dE(e)){const n=PE(this),i=WE(e,void 0);let s=!0;try{r=t(i),s=!1}finally{s?EE(n):OE(n)}return ME(n,a),DE(r,n)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===nE&&(r=void 0),this.autoFreeze_&&_E(r,!0),a){const t=[],n=[];kE("Patches").generateReplacementPatches_(e,r,t,n),a(t,n)}return r}oE(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...a)=>this.produceWithPatches(t,t=>e(t,...a));let a,r;return[this.produce(e,t,(e,t)=>{a=e,r=t}),a,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){dE(e)||oE(8),cE(e)&&(e=GE(e));const t=PE(this),a=WE(e,void 0);return a[sE].isManual_=!0,OE(t),a}finishDraft(e,t){const a=e&&e[sE];a&&a.isManual_||oE(9);const{scope_:r}=a;return ME(r,t),DE(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let a;for(a=t.length-1;a>=0;a--){const r=t[a];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}a>-1&&(t=t.slice(a+1));const r=kE("Patches").applyPatches_;return cE(e)?r(e,t):this.produce(e,e=>r(e,t))}},UE=VE.produce;function KE(e){return({dispatch:t,getState:a})=>r=>n=>"function"==typeof n?n(t,a,e):r(n)}var YE=KE(),XE=KE,JE="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?aE:aE.apply(null,arguments)};function ZE(e,t){function a(...a){if(t){let r=t(...a);if(!r)throw new Error(HO(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:a[0]}}return a.toString=()=>`${e}`,a.type=e,a.match=t=>rE(t)&&t.type===e,a}var QE=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function eO(e){return dE(e)?UE(e,()=>{}):e}function tO(e,t,a){return e.has(t)?e.get(t):e.set(t,a(t)).get(t)}var aO=e=>t=>{setTimeout(t,e)},rO=e=>function(t){const{autoBatch:a=!0}=t??{};let r=new QE(e);return a&&r.push(((e={type:"raf"})=>t=>(...a)=>{const r=t(...a);let n=!0,i=!1,s=!1;const o=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:aO(10):"callback"===e.type?e.queueNotification:aO(e.timeout),c=()=>{s=!1,i&&(i=!1,o.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>n&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{return n=!e?.meta?.RTK_autoBatch,i=!n,i&&(s||(s=!0,l(c))),r.dispatch(e)}finally{n=!0}}})})("object"==typeof a?a:void 0)),r};function nO(e){const t=function(e){const{thunk:t=!0,immutableCheck:a=!0,serializableCheck:r=!0,actionCreatorCheck:n=!0}=e??{};let i=new QE;return t&&(function(e){return"boolean"==typeof e}(t)?i.push(YE):i.push(XE(t.extraArgument))),i},{reducer:a,middleware:r,devTools:n=!0,preloadedState:i,enhancers:s}=e||{};let o,l;if("function"==typeof a)o=a;else{if(!QM(a))throw new Error(HO(1));o=tE(a)}l="function"==typeof r?r(t):t();let c=aE;n&&(c=JE({trace:!1,..."object"==typeof n&&n}));const d=function(...e){return t=>(a,r)=>{const n=t(a,r);let i=()=>{throw new Error(YM(15))};const s={getState:n.getState,dispatch:(e,...t)=>i(e,...t)},o=e.map(e=>e(s));return i=aE(...o)(n.dispatch),{...n,dispatch:i}}}(...l),u=rO(d);return eE(o,i,c(..."function"==typeof s?s(u):u()))}function iO(e){const t={},a=[];let r;const n={addCase(e,a){const r="string"==typeof e?e:e.type;if(!r)throw new Error(HO(28));if(r in t)throw new Error(HO(29));return t[r]=a,n},addAsyncThunk:(e,r)=>(r.pending&&(t[e.pending.type]=r.pending),r.rejected&&(t[e.rejected.type]=r.rejected),r.fulfilled&&(t[e.fulfilled.type]=r.fulfilled),r.settled&&a.push({matcher:e.settled,reducer:r.settled}),n),addMatcher:(e,t)=>(a.push({matcher:e,reducer:t}),n),addDefaultCase:e=>(r=e,n)};return e(n),[t,a,r]}var sO=(e=21)=>{let t="",a=e;for(;a--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},oO=Symbol.for("rtk-slice-createasyncthunk");function lO(e,t){return`${e}/${t}`}function cO({creators:e}={}){const t=e?.asyncThunk?.[oO];return function(e){const{name:a,reducerPath:r=a}=e;if(!a)throw new Error(HO(11));const n=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},i=Object.keys(n),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const a="string"==typeof e?e:e.type;if(!a)throw new Error(HO(12));if(a in s.sliceCaseReducersByType)throw new Error(HO(13));return s.sliceCaseReducersByType[a]=t,o},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(s.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},a=[],r]="function"==typeof e.extraReducers?iO(e.extraReducers):[e.extraReducers],n={...t,...s.sliceCaseReducersByType};return function(e,t){let a,[r,n,i]=iO(t);if(function(e){return"function"==typeof e}(e))a=()=>eO(e());else{const t=eO(e);a=()=>t}function s(e=a(),t){let s=[r[t.type],...n.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===s.filter(e=>!!e).length&&(s=[i]),s.reduce((e,a)=>{if(a){if(cE(e)){const r=a(e,t);return void 0===r?e:r}if(dE(e))return UE(e,e=>a(e,t));{const r=a(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return s.getInitialState=a,s}(e.initialState,e=>{for(let t in n)e.addCase(t,n[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of a)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}i.forEach(r=>{const i=n[r],s={reducerName:r,type:lO(a,r),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function({type:e,reducerName:t,createNotation:a},r,n){let i,s;if("reducer"in r){if(a&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(r))throw new Error(HO(17));i=r.reducer,s=r.prepare}else i=r;n.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?ZE(e,s):ZE(e))}(s,i,o):function({type:e,reducerName:t},a,r,n){if(!n)throw new Error(HO(18));const{payloadCreator:i,fulfilled:s,pending:o,rejected:l,settled:c,options:d}=a,u=n(e,i,d);r.exposeAction(t,u),s&&r.addCase(u.fulfilled,s);o&&r.addCase(u.pending,o);l&&r.addCase(u.rejected,l);c&&r.addMatcher(u.settled,c);r.exposeCaseReducer(t,{fulfilled:s||hO,pending:o||hO,rejected:l||hO,settled:c||hO})}(s,i,o,t)});const c=e=>e,d=new Map,u=new WeakMap;let h;function m(e,t){return h||(h=l()),h(e,t)}function p(){return h||(h=l()),h.getInitialState()}function f(t,a=!1){function r(e){let n=e[t];return void 0===n&&a&&(n=tO(u,r,p)),n}function n(t=c){const r=tO(d,a,()=>new WeakMap);return tO(r,t,()=>{const r={};for(const[n,i]of Object.entries(e.selectors??{}))r[n]=dO(i,t,()=>tO(u,t,p),a);return r})}return{reducerPath:t,getSelectors:n,get selectors(){return n(r)},selectSlice:r}}const g={name:a,reducer:m,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:p,...f(r),injectInto(e,{reducerPath:t,...a}={}){const n=t??r;return e.inject({reducerPath:n,reducer:m},a),{...g,...f(n,!0)}}};return g}}function dO(e,t,a,r){function n(n,...i){let s=t(n);return void 0===s&&r&&(s=a()),e(s,...i)}return n.unwrapped=e,n}var uO=cO();function hO(){}var mO="listener",pO="completed",fO="cancelled",gO=`task-${fO}`,xO=`task-${pO}`,vO=`${mO}-${fO}`,bO=`${mO}-${pO}`,yO=class{constructor(e){this.code=e,this.message=`task ${fO} (reason: ${e})`}name="TaskAbortError";message},_O=(e,t)=>{if("function"!=typeof e)throw new TypeError(HO(32))},jO=()=>{},wO=(e,t=jO)=>(e.catch(t),e),NO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),CO=(e,t)=>{const a=e.signal;a.aborted||("reason"in a||Object.defineProperty(a,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},kO=e=>{if(e.aborted){const{reason:t}=e;throw new yO(t)}};function SO(e,t){let a=jO;return new Promise((r,n)=>{const i=()=>n(new yO(e.reason));e.aborted?i():(a=NO(e,i),t.finally(()=>a()).then(r,n))}).finally(()=>{a=jO})}var MO=e=>t=>wO(SO(e,t).then(t=>(kO(e),t))),EO=e=>{const t=MO(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:OO}=Object,PO={},AO="listenerMiddleware",DO=(e,t)=>(a,r)=>{_O(a);const n=new AbortController;var i;i=n,NO(e,()=>CO(i,e.reason));const s=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(a){return{status:a instanceof yO?"cancelled":"rejected",error:a}}finally{t?.()}})(async()=>{kO(e),kO(n.signal);const t=await a({pause:MO(n.signal),delay:EO(n.signal),signal:n.signal});return kO(n.signal),t},()=>CO(n,xO));return r?.autoJoin&&t.push(s.catch(jO)),{result:MO(e)(s),cancel(){CO(n,gO)}}},IO=(e,t)=>(a,r)=>wO((async(a,r)=>{kO(t);let n=()=>{};const i=new Promise((t,r)=>{let i=e({predicate:a,effect:(e,a)=>{a.unsubscribe(),t([e,a.getState(),a.getOriginalState()])}});n=()=>{i(),r()}}),s=[i];null!=r&&s.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await SO(t,Promise.race(s));return kO(t),e}finally{n()}})(a,r)),TO=e=>{let{type:t,actionCreator:a,matcher:r,predicate:n,effect:i}=e;if(t)n=ZE(t).match;else if(a)t=a.type,n=a.match;else if(r)n=r;else if(!n)throw new Error(HO(21));return _O(i),{predicate:n,type:t,effect:i}},zO=OO(e=>{const{type:t,predicate:a,effect:r}=TO(e);return{id:sO(),effect:r,type:t,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(HO(22))}}},{withTypes:()=>zO}),RO=(e,t)=>{const{type:a,effect:r,predicate:n}=TO(t);return Array.from(e.values()).find(e=>("string"==typeof a?e.type===a:e.predicate===n)&&e.effect===r)},LO=e=>{e.pending.forEach(e=>{CO(e,vO)})},$O=(e,t,a)=>{try{e(t,a)}catch(r){setTimeout(()=>{throw r},0)}},BO=OO(ZE(`${AO}/add`),{withTypes:()=>BO}),qO=ZE(`${AO}/removeAll`),FO=OO(ZE(`${AO}/remove`),{withTypes:()=>FO}),WO=(...e)=>{},GO=(e={})=>{const t=new Map,{extra:a,onError:r=WO}=e;_O(r);const n=e=>(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),t?.cancelActive&&LO(e)}))(RO(t,e)??zO(e));OO(n,{withTypes:()=>n});const i=e=>{const a=RO(t,e);return a&&(a.unsubscribe(),e.cancelActive&&LO(a)),!!a};OO(i,{withTypes:()=>i});const s=async(e,i,s,o)=>{const l=new AbortController,c=IO(n,l.signal),d=[];try{e.pending.add(l),await Promise.resolve(e.effect(i,OO({},s,{getOriginalState:o,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:EO(l.signal),pause:MO(l.signal),extra:a,signal:l.signal,fork:DO(l.signal,d),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,a)=>{e!==l&&(CO(e,vO),a.delete(e))})},cancel:()=>{CO(l,vO),e.pending.delete(l)},throwIfCancelled:()=>{kO(l.signal)}})))}catch(u){u instanceof yO||$O(r,u,{raisedBy:"effect"})}finally{await Promise.all(d),CO(l,bO),e.pending.delete(l)}},o=(e=>()=>{e.forEach(LO),e.clear()})(t);return{middleware:e=>a=>l=>{if(!rE(l))return a(l);if(BO.match(l))return n(l.payload);if(qO.match(l))return void o();if(FO.match(l))return i(l.payload);let c=e.getState();const d=()=>{if(c===PO)throw new Error(HO(23));return c};let u;try{if(u=a(l),t.size>0){const a=e.getState(),n=Array.from(t.values());for(const t of n){let n=!1;try{n=t.predicate(l,a,c)}catch(h){n=!1,$O(r,h,{raisedBy:"predicate"})}n&&s(t,l,e,d)}}}finally{c=PO}return u},startListening:n,stopListening:i,clearListeners:o}};function HO(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var VO=uO({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var a,r,n,i;e.margin.top=null!==(a=t.payload.top)&&void 0!==a?a:0,e.margin.right=null!==(r=t.payload.right)&&void 0!==r?r:0,e.margin.bottom=null!==(n=t.payload.bottom)&&void 0!==n?n:0,e.margin.left=null!==(i=t.payload.left)&&void 0!==i?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:UO,setLayout:KO,setChartSize:YO,setScale:XO}=VO.actions,JO=VO.reducer;function ZO(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function QO(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ZO(Object(a),!0).forEach(function(t){eP(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ZO(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function eP(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var tP=Math.PI/180,aP=e=>180*e/Math.PI,rP=(e,t,a,r)=>({x:e+Math.cos(-tP*r)*a,y:t+Math.sin(-tP*r)*a}),nP=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(a.left||0)-(a.right||0)),Math.abs(t-(a.top||0)-(a.bottom||0)))/2},iP=(e,t)=>{var{x:a,y:r}=e,{cx:n,cy:i}=t,s=((e,t)=>{var{x:a,y:r}=e,{x:n,y:i}=t;return Math.sqrt((a-n)**2+(r-i)**2)})({x:a,y:r},{x:n,y:i});if(s<=0)return{radius:s,angle:0};var o=(a-n)/s,l=Math.acos(o);return r>i&&(l=2*Math.PI-l),{radius:s,angle:aP(l),angleInRadian:l}},sP=(e,t)=>{var{startAngle:a,endAngle:r}=t,n=Math.floor(a/360),i=Math.floor(r/360);return e+360*Math.min(n,i)},oP=(e,t)=>{var{x:a,y:r}=e,{radius:n,angle:i}=iP({x:a,y:r},t),{innerRadius:s,outerRadius:o}=t;if(n<s||n>o)return null;if(0===n)return null;var l,{startAngle:c,endAngle:d}=(e=>{var{startAngle:t,endAngle:a}=e,r=Math.floor(t/360),n=Math.floor(a/360),i=Math.min(r,n);return{startAngle:t-360*i,endAngle:a-360*i}})(t),u=i;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;l=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;l=u>=d&&u<=c}return l?QO(QO({},t),{},{radius:n,angle:sP(u,t)}):null};function lP(e,t,a){return Array.isArray(e)&&e&&t+a!==0?e.slice(t,a+1):e}function cP(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function dP(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?cP(Object(a),!0).forEach(function(t){uP(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):cP(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function uP(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function hP(e,t,a){return MN(e)||MN(t)?a:_N(t)?cN(e,t,a):"function"==typeof t?t(e):a}var mP=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,pP=(e,t,a,r)=>{if(r)return e.map(e=>e.coordinate);var n,i,s=e.map(e=>(e.coordinate===t&&(n=!0),e.coordinate===a&&(i=!0),e.coordinate));return n||s.push(t),i||s.push(a),s},fP=(e,t,a)=>{if(!e)return null;var{duplicateDomain:r,type:n,range:i,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:u,niceTicks:h,axisType:m}=e;if(!s)return null;var p="scaleBand"===o&&s.bandwidth?s.bandwidth()/2:2,f="category"===n&&s.bandwidth?s.bandwidth()/p:0;return f="angleAxis"===m&&i&&i.length>=2?2*xN(i[0]-i[1])*f:f,u||h?(u||h||[]).map((e,t)=>{var a=r?r.indexOf(e):e;return{coordinate:s(a)+f,value:e,offset:f,index:t}}).filter(e=>!vN(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:s(e)+f,value:e,index:t,offset:f})):s.ticks&&null!=d?s.ticks(d).map((e,t)=>({coordinate:s(e)+f,value:e,offset:f,index:t})):s.domain().map((e,t)=>({coordinate:s(e)+f,value:r?r[e]:e,index:t,offset:f}))},gP=1e-4,xP={sign:e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var n=0,i=0,s=0;s<t;++s){var o=vN(e[s][a][1])?e[s][a][0]:e[s][a][1];o>=0?(e[s][a][0]=n,e[s][a][1]=n+o,n=e[s][a][1]):(e[s][a][0]=i,e[s][a][1]=i+o,i=e[s][a][1])}},expand:function(e,t){if((r=e.length)>0){for(var a,r,n,i=0,s=e[0].length;i<s;++i){for(n=a=0;a<r;++a)n+=e[a][i][1]||0;if(n)for(a=0;a<r;++a)e[a][i][1]/=n}tk(e,t)}},none:tk,silhouette:function(e,t){if((a=e.length)>0){for(var a,r=0,n=e[t[0]],i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}tk(e,t)}},wiggle:function(e,t){if((n=e.length)>0&&(r=(a=e[t[0]]).length)>0){for(var a,r,n,i=0,s=1;s<r;++s){for(var o=0,l=0,c=0;o<n;++o){for(var d=e[t[o]],u=d[s][1]||0,h=(u-(d[s-1][1]||0))/2,m=0;m<o;++m){var p=e[t[m]];h+=(p[s][1]||0)-(p[s-1][1]||0)}l+=u,c+=h*u}a[s-1][1]+=a[s-1][0]=i,l&&(i-=c/l)}a[s-1][1]+=a[s-1][0]=i,tk(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var n=0,i=0;i<t;++i){var s=vN(e[i][a][1])?e[i][a][0]:e[i][a][1];s>=0?(e[i][a][0]=n,e[i][a][1]=n+s,n=e[i][a][1]):(e[i][a][0]=0,e[i][a][1]=0)}}},vP=(e,t,a)=>{var r=xP[a],n=function(){var e=tC([]),t=ak,a=tk,r=rk;function n(n){var i,s,o=Array.from(e.apply(this,arguments),nk),l=o.length,c=-1;for(const e of n)for(i=0,++c;i<l;++i)(o[i][c]=[0,+r(e,o[i].key,c,n)]).data=e;for(i=0,s=pC(t(o));i<l;++i)o[s[i]].index=i;return a(o,s),o}return n.keys=function(t){return arguments.length?(e="function"==typeof t?t:tC(Array.from(t)),n):e},n.value=function(e){return arguments.length?(r="function"==typeof e?e:tC(+e),n):r},n.order=function(e){return arguments.length?(t=null==e?ak:"function"==typeof e?e:tC(Array.from(e)),n):t},n.offset=function(e){return arguments.length?(a=null==e?tk:e,n):a},n}().keys(t).value((e,t)=>+hP(e,t,0)).order(ak).offset(r);return n(e)};function bP(e){var{axis:t,ticks:a,bandSize:r,entry:n,index:i,dataKey:s}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!MN(n[t.dataKey])){var o=SN(a,"value",n[t.dataKey]);if(o)return o.coordinate+r/2}return a[i]?a[i].coordinate+r/2:null}var l=hP(n,MN(s)?t.dataKey:s);return MN(l)?null:t.scale(l)}var yP=e=>{var{axis:t,ticks:a,offset:r,bandSize:n,entry:i,index:s}=e;if("category"===t.type)return a[s]?a[s].coordinate+r:null;var o=hP(i,t.dataKey,t.scale.domain()[s]);return MN(o)?null:t.scale(o)-n/2+r},_P=(e,t,a)=>{var r;if(null!=e)return r=Object.keys(e).reduce((r,n)=>{var i=e[n],{stackedData:s}=i,o=s.reduce((e,r)=>{var n,i=lP(r,t,a),s=(n=i.flat(2).filter(yN),[Math.min(...n),Math.max(...n)]);return[Math.min(e[0],s[0]),Math.max(e[1],s[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},jP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NP=(e,t,a)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!a||r>0)return r}if(e&&t&&t.length>=2){for(var n=HM(t,e=>e.coordinate),i=1/0,s=1,o=n.length;s<o;s++){var l=n[s],c=n[s-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return a?void 0:0};function CP(e){var{tooltipEntrySettings:t,dataKey:a,payload:r,value:n,name:i}=e;return dP(dP({},t),{},{dataKey:a,payload:r,value:n,name:i})}function kP(e,t){return e?String(e):"string"==typeof t?t:void 0}var SP=e=>e.layout.width,MP=e=>e.layout.height,EP=e=>e.layout.scale,OP=e=>e.layout.margin,PP=yM(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),AP=yM(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),DP="data-recharts-item-index",IP="data-recharts-item-data-key";function TP(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function zP(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?TP(Object(a),!0).forEach(function(t){RP(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):TP(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function RP(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var LP=yM([SP,MP,OP,e=>e.brush.height,function(e){return AP(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return AP(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return PP(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return PP(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},VM,e=>e.legend.size],(e,t,a,r,n,i,s,o,l,c)=>{var d={left:(a.left||0)+n,right:(a.right||0)+i},u=zP(zP({},{top:(a.top||0)+s,bottom:(a.bottom||0)+o}),d),h=u.bottom;u.bottom+=r,u=((e,t,a)=>{if(t&&a){var{width:r,height:n}=a,{align:i,verticalAlign:s,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===s)&&"center"!==i&&yN(e[i]))return dP(dP({},e),{},{[i]:e[i]+(r||0)});if(("horizontal"===o||"vertical"===o&&"center"===i)&&"middle"!==s&&yN(e[s]))return dP(dP({},e),{},{[s]:e[s]+(n||0)})}return e})(u,l,c);var m=e-u.left-u.right,p=t-u.top-u.bottom;return zP(zP({brushBottom:h},u),{},{width:Math.max(m,0),height:Math.max(p,0)})}),$P=yM(LP,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),BP=yM(SP,MP,(e,t)=>({x:0,y:0,width:e,height:t})),qP=f.createContext(null),FP=()=>null!=f.useContext(qP),WP=e=>e.brush,GP=yM([WP,LP,OP],(e,t,a)=>({height:e.height,x:yN(e.x)?e.x:t.left,y:yN(e.y)?e.y:t.top+t.height+t.brushBottom-((null==a?void 0:a.bottom)||0),width:yN(e.width)?e.width:t.width})),HP=()=>{var e,t=FP(),a=hM($P),r=hM(GP),n=null===(e=hM(WP))||void 0===e?void 0:e.padding;return t&&r&&n?{width:r.width-n.left-n.right,height:r.height-n.top-n.bottom,x:n.left,y:n.top}:a},VP={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},UP=()=>{var e;return null!==(e=hM(LP))&&void 0!==e?e:VP},KP=()=>hM(SP),YP=()=>hM(MP),XP=e=>e.layout.layoutType,JP=()=>hM(XP),ZP=uO({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var a=GE(e).payload.indexOf(t.payload);a>-1&&e.payload.splice(a,1)}}}),{setLegendSize:QP,setLegendSettings:eA,addLegendPayload:tA,removeLegendPayload:aA}=ZP.actions,rA=ZP.reducer,nA=["contextPayload"];function iA(){return iA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},iA.apply(null,arguments)}function sA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function oA(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?sA(Object(a),!0).forEach(function(t){lA(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sA(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function lA(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function cA(e){return e.value}function dA(e){var{contextPayload:t}=e,a=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,nA),r=YS(t,e.payloadUniqBy,cA),n=oA(oA({},a),{},{payload:r});return f.isValidElement(e.content)?f.cloneElement(e.content,n):"function"==typeof e.content?f.createElement(e.content,n):f.createElement(xk,n)}function uA(e){var t=lM();return f.useEffect(()=>{t(eA(e))},[t,e]),null}function hA(e){var t=lM();return f.useEffect(()=>(t(QP(e)),()=>{t(QP({width:0,height:0}))}),[t,e]),null}function mA(e){var t=hM(UM),a=f.useContext(eC),r=hM(e=>e.layout.margin),{width:n,height:i,wrapperStyle:s,portal:o}=e,[l,c]=KM([t]),d=KP(),u=YP();if(null==d||null==u)return null;var h=d-(r.left||0)-(r.right||0),m=pA.getWidthOrHeight(e.layout,i,n,h),p=o?s:oA(oA({position:"absolute",width:(null==m?void 0:m.width)||n||"auto",height:(null==m?void 0:m.height)||i||"auto"},function(e,t,a,r,n,i){var s,o,{layout:l,align:c,verticalAlign:d}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(s="center"===c&&"vertical"===l?{left:((r||0)-i.width)/2}:"right"===c?{right:a&&a.right||0}:{left:a&&a.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===d?{top:((n||0)-i.height)/2}:"bottom"===d?{bottom:a&&a.bottom||0}:{top:a&&a.top||0}),oA(oA({},s),o)}(s,e,r,d,u,l)),s),g=null!=o?o:a;if(null==g)return null;var x=f.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:c},f.createElement(uA,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),f.createElement(hA,{width:l.width,height:l.height}),f.createElement(dA,iA({},e,m,{margin:r,chartWidth:d,chartHeight:u,contextPayload:t})));return ZN.createPortal(x,g)}class pA extends f.PureComponent{static getWidthOrHeight(e,t,a,r){return"vertical"===e&&yN(t)?{height:t}:"horizontal"===e?{width:a||r}:null}render(){return f.createElement(mA,this.props)}}function fA(){return fA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},fA.apply(null,arguments)}function gA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function xA(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?gA(Object(a),!0).forEach(function(t){vA(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gA(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function vA(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function bA(e){return Array.isArray(e)&&_N(e[0])&&_N(e[1])?e.join(" ~ "):e}lA(pA,"displayName","Legend"),lA(pA,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var yA=e=>{var{separator:t=" : ",contentStyle:a={},itemStyle:r={},labelStyle:n={},payload:i,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:u,accessibilityLayer:h=!1}=e,m=xA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),p=xA({margin:0},n),g=!MN(d),x=g?d:"",v=Ce("recharts-default-tooltip",l),b=Ce("recharts-tooltip-label",c);g&&u&&null!=i&&(x=u(d,i));var y=h?{role:"status","aria-live":"assertive"}:{};return f.createElement("div",fA({className:v,style:m},y),f.createElement("p",{className:b,style:p},f.isValidElement(x)?x:"".concat(x)),(()=>{if(i&&i.length){var e=(o?HM(i,o):i).map((e,a)=>{if("none"===e.type)return null;var n=e.formatter||s||bA,{value:o,name:l}=e,c=o,d=l;if(n){var u=n(o,l,e,a,i);if(Array.isArray(u))[c,d]=u;else{if(null==u)return null;c=u}}var h=xA({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},r);return f.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(a),style:h},_N(d)?f.createElement("span",{className:"recharts-tooltip-item-name"},d):null,_N(d)?f.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,f.createElement("span",{className:"recharts-tooltip-item-value"},c),f.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return f.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},_A="recharts-tooltip-wrapper",jA={visibility:"hidden"};function wA(e){var{coordinate:t,translateX:a,translateY:r}=e;return Ce(_A,{["".concat(_A,"-right")]:yN(a)&&t&&yN(t.x)&&a>=t.x,["".concat(_A,"-left")]:yN(a)&&t&&yN(t.x)&&a<t.x,["".concat(_A,"-bottom")]:yN(r)&&t&&yN(t.y)&&r>=t.y,["".concat(_A,"-top")]:yN(r)&&t&&yN(t.y)&&r<t.y})}function NA(e){var{allowEscapeViewBox:t,coordinate:a,key:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(i&&yN(i[r]))return i[r];var d=a[r]-o-(n>0?n:0),u=a[r]+n;if(t[r])return s[r]?d:u;var h=l[r];return null==h?0:s[r]?d<h?Math.max(u,h):Math.max(d,h):null==c?0:u+o>h+c?Math.max(d,h):Math.max(u,h)}function CA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function kA(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?CA(Object(a),!0).forEach(function(t){SA(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):CA(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function SA(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class MA extends f.PureComponent{constructor(){super(...arguments),SA(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),SA(this,"handleKeyDown",e=>{var t,a,r,n;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(a=this.props.coordinate)||void 0===a?void 0:a.x)&&void 0!==t?t:0,y:null!==(r=null===(n=this.props.coordinate)||void 0===n?void 0:n.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:t,animationDuration:a,animationEasing:r,children:n,coordinate:i,hasPayload:s,isAnimationActive:o,offset:l,position:c,reverseDirection:d,useTranslate3d:u,viewBox:h,wrapperStyle:m,lastBoundingBox:p,innerRef:g,hasPortalFromProps:x}=this.props,{cssClasses:v,cssProperties:b}=function(e){var t,a,r,{allowEscapeViewBox:n,coordinate:i,offsetTopLeft:s,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:u}=e;return t=c.height>0&&c.width>0&&i?function(e){var{translateX:t,translateY:a,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(a,"px, 0)"):"translate(".concat(t,"px, ").concat(a,"px)")}}({translateX:a=NA({allowEscapeViewBox:n,coordinate:i,key:"x",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),translateY:r=NA({allowEscapeViewBox:n,coordinate:i,key:"y",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:d}):jA,{cssProperties:t,cssClasses:wA({translateX:a,translateY:r,coordinate:i})}}({allowEscapeViewBox:t,coordinate:i,offsetTopLeft:l,position:c,reverseDirection:d,tooltipBox:{height:p.height,width:p.width},useTranslate3d:u,viewBox:h}),y=x?{}:kA(kA({transition:o&&e?"transform ".concat(a,"ms ").concat(r):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),_=kA(kA({},y),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},m);return f.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:_,ref:g},n)}}var EA=!("undefined"!=typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout),OA=()=>hM(e=>e.rootProps.accessibilityLayer);function PA(e){return Number.isFinite(e)}function AA(e){return"number"==typeof e&&e>0&&Number.isFinite(e)}function DA(){return DA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},DA.apply(null,arguments)}function IA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function TA(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?IA(Object(a),!0).forEach(function(t){zA(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):IA(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function zA(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var RA={curveBasisClosed:function(e){return new FC(e)},curveBasisOpen:function(e){return new WC(e)},curveBasis:function(e){return new qC(e)},curveBumpX:function(e){return new _C(e,!0)},curveBumpY:function(e){return new _C(e,!1)},curveLinearClosed:function(e){return new GC(e)},curveLinear:gC,curveMonotoneX:function(e){return new YC(e)},curveMonotoneY:function(e){return new XC(e)},curveNatural:function(e){return new ZC(e)},curveStep:function(e){return new ek(e,.5)},curveStepAfter:function(e){return new ek(e,1)},curveStepBefore:function(e){return new ek(e,0)}},LA=e=>PA(e.x)&&PA(e.y),$A=e=>e.x,BA=e=>e.y,qA=e=>{var t,{type:a="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,o=((e,t)=>{if("function"==typeof e)return e;var a="curve".concat(EN(e));return"curveMonotone"!==a&&"curveBump"!==a||!t?RA[a]||gC:RA["".concat(a).concat("vertical"===t?"Y":"X")]})(a,i),l=s?r.filter(LA):r;if(Array.isArray(n)){var c=s?n.filter(e=>LA(e)):n,d=l.map((e,t)=>TA(TA({},e),{},{base:c[t]}));return(t="vertical"===i?yC().y(BA).x1($A).x0(e=>e.base.x):yC().x($A).y1(BA).y0(e=>e.base.y)).defined(LA).curve(o),t(d)}return(t="vertical"===i&&yN(n)?yC().y(BA).x1($A).x0(n):yN(n)?yC().x($A).y1(BA).y0(n):bC().x($A).y(BA)).defined(LA).curve(o),t(l)},FA=e=>{var{className:t,points:a,path:r,pathRef:n}=e;if(!(a&&a.length||r))return null;var i=a&&a.length?qA(e):r;return f.createElement("path",DA({},LN(e),IN(e),{className:Ce("recharts-curve",t),d:null===i?void 0:i,ref:n}))},WA=["x","y","top","left","width","height","className"];function GA(){return GA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},GA.apply(null,arguments)}function HA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function VA(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var UA=(e,t,a,r,n,i)=>"M".concat(e,",").concat(n,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(a),KA=e=>{var{x:t=0,y:a=0,top:r=0,left:n=0,width:i=0,height:s=0,className:o}=e,l=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,WA),c=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?HA(Object(a),!0).forEach(function(t){VA(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):HA(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({x:t,y:a,top:r,left:n,width:i,height:s},l);return yN(t)&&yN(a)&&yN(i)&&yN(s)&&yN(r)&&yN(n)?f.createElement("path",GA({},HN(c,!0),{className:Ce("recharts-cross",o),d:UA(t,a,i,s,r,n)})):null};function YA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function XA(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function JA(e,t){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?YA(Object(a),!0).forEach(function(t){XA(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):YA(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),a)}function ZA(){}function QA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function eD(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?QA(Object(a),!0).forEach(function(t){tD(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):QA(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function tD(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var aD=(e,t,a)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(a);var r}).join(","),rD=(e,t)=>Object.keys(t).reduce((a,r)=>eD(eD({},a),{},{[r]:e(r,t[r])}),{});function nD(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function iD(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?nD(Object(a),!0).forEach(function(t){sD(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nD(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function sD(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var oD=(e,t,a)=>e+(t-e)*a,lD=e=>{var{from:t,to:a}=e;return t!==a},cD=(e,t,a)=>{var r=rD((t,a)=>{if(lD(a)){var[r,n]=e(a.from,a.to,a.velocity);return iD(iD({},a),{},{from:r,velocity:n})}return a},t);return a<1?rD((e,t)=>lD(t)?iD(iD({},t),{},{velocity:oD(t.velocity,r[e].velocity,a),from:oD(t.from,r[e].from,a)}):t,t):cD(e,r,a-1)};function dD(e,t,a,r,n,i){var s,o=r.reduce((a,r)=>iD(iD({},a),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{s||(s=r);var d=(r-s)/a.dt;o=cD(a,o,d),n(iD(iD(iD({},e),t),rD((e,t)=>t.from,o))),s=r,Object.values(o).filter(lD).length&&(l=i.setTimeout(c))};return()=>(l=i.setTimeout(c),()=>{l()})}const uD=(e,t,a,r,n,i)=>{var s,o,l=(s=e,o=t,[Object.keys(s),Object.keys(o)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===a.isStepper?dD(e,t,a,l,n,i):function(e,t,a,r,n,i,s){var o,l=null,c=n.reduce((a,r)=>iD(iD({},a),{},{[r]:[e[r],t[r]]}),{}),d=n=>{o||(o=n);var u=(n-o)/r,h=rD((e,t)=>oD(...t,a(u)),c);if(i(iD(iD(iD({},e),t),h)),u<1)l=s.setTimeout(d);else{var m=rD((e,t)=>oD(...t,a(1)),c);i(iD(iD(iD({},e),t),m))}};return()=>(l=s.setTimeout(d),()=>{l()})}(e,t,a,r,l,n,i)};var hD=1e-4,mD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],pD=(e,t)=>e.map((e,a)=>e*t**a).reduce((e,t)=>e+t),fD=(e,t)=>a=>{var r=mD(e,t);return pD(r,a)},gD=function(){for(var e,t,a,r,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];if(1===i.length)switch(i[0]){case"linear":[e,a,t,r]=[0,0,1,1];break;case"ease":[e,a,t,r]=[.25,.1,.25,1];break;case"ease-in":[e,a,t,r]=[.42,0,1,1];break;case"ease-out":[e,a,t,r]=[.42,0,.58,1];break;case"ease-in-out":[e,a,t,r]=[0,0,.58,1];break;default:var o=i[0].split("(");"cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length&&([e,a,t,r]=o[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===i.length&&([e,a,t,r]=i);var l,c,d=fD(e,t),u=fD(a,r),h=(l=e,c=t,e=>{var t=[...mD(l,c).map((e,t)=>e*t).slice(1),0];return pD(t,e)}),m=e=>e>1?1:e<0?0:e,p=e=>{for(var t=e>1?1:e,a=t,r=0;r<8;++r){var n=d(a)-t,i=h(a);if(Math.abs(n-t)<hD||i<hD)return u(a);a=m(a-n/i)}return u(a)};return p.isStepper=!1,p},xD=e=>{if("string"==typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gD(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:a=8,dt:r=17}=e,n=(e,n,i)=>{var s=i+(-(e-n)*t-i*a)*r/1e3,o=i*r/1e3+e;return Math.abs(o-n)<hD&&Math.abs(s)<hD?[n,0]:[o,s]};return n.isStepper=!0,n.dt=r,n}();default:if("cubic-bezier"===e.split("(")[0])return gD(e)}return"function"==typeof e?e:null};class vD{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=performance.now(),r=null,n=i=>{i-a>=t?e(i):"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(n))};return r=requestAnimationFrame(n),()=>{cancelAnimationFrame(r)}}}function bD(){return function(e){var t=()=>null,a=!1,r=null,n=i=>{if(!a){if(Array.isArray(i)){if(!i.length)return;var s=i,[o,...l]=s;return"number"==typeof o?void(r=e.setTimeout(n.bind(null,l),o)):(n(o),void(r=e.setTimeout(n.bind(null,l))))}"string"==typeof i&&t(i),"object"==typeof i&&t(i),"function"==typeof i&&i()}};return{stop:()=>{a=!0},start:e=>{a=!1,r&&(r(),r=null),n(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new vD)}var yD=f.createContext(bD);var _D={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},jD={t:0},wD={t:1};function ND(e){var t,a,r,n=JA(e,_D),{isActive:i,canBegin:s,duration:o,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:u,children:h}=n,m=(t=n.animationId,a=n.animationManager,r=f.useContext(yD),f.useMemo(()=>null!=a?a:r(t),[t,a,r])),[p,g]=f.useState(i?jD:wD),x=f.useRef(null);return f.useEffect(()=>{i||g(wD)},[i]),f.useEffect(()=>{if(!i||!s)return ZA;var e=uD(jD,wD,xD(l),o,g,m.getTimeoutController());return m.start([u,c,()=>{x.current=e()},o,d]),()=>{m.stop(),x.current&&x.current(),d()}},[i,s,o,l,c,u,d,m]),h(p.t)}function CD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",a=f.useRef(wN(t)),r=f.useRef(e);return r.current!==e&&(a.current=wN(t),r.current=e),a.current}function kD(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function SD(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?kD(Object(a),!0).forEach(function(t){MD(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kD(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function MD(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ED(){return ED=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ED.apply(null,arguments)}var OD=(e,t,a,r,n)=>{var i,s=Math.min(Math.abs(a)/2,Math.abs(r)/2),o=r>=0?1:-1,l=a>=0?1:-1,c=r>=0&&a>=0||r<0&&a<0?1:0;if(s>0&&n instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=n[u]>s?s:n[u];i="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(i+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),i+="L ".concat(e+a-l*d[1],",").concat(t),d[1]>0&&(i+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+a,",").concat(t+o*d[1])),i+="L ".concat(e+a,",").concat(t+r-o*d[2]),d[2]>0&&(i+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+a-l*d[2],",").concat(t+r)),i+="L ".concat(e+l*d[3],",").concat(t+r),d[3]>0&&(i+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-o*d[3])),i+="Z"}else if(s>0&&n===+n&&n>0){var h=Math.min(s,n);i="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+a-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+a,",").concat(t+o*h,"\n            L ").concat(e+a,",").concat(t+r-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+a-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*h," Z")}else i="M ".concat(e,",").concat(t," h ").concat(a," v ").concat(r," h ").concat(-a," Z");return i},PD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AD=e=>{var t=JA(e,PD),a=f.useRef(null),[r,n]=f.useState(-1);f.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var e=a.current.getTotalLength();e&&n(e)}catch(t){}},[]);var{x:i,y:s,width:o,height:l,radius:c,className:d}=t,{animationEasing:u,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t,x=f.useRef(o),v=f.useRef(l),b=f.useRef(i),y=f.useRef(s),_=CD(f.useMemo(()=>({x:i,y:s,width:o,height:l,radius:c}),[i,s,o,l,c]),"rectangle-");if(i!==+i||s!==+s||o!==+o||l!==+l||0===o||0===l)return null;var j=Ce("recharts-rectangle",d);if(!g)return f.createElement("path",ED({},HN(t,!0),{className:j,d:OD(i,s,o,l,c)}));var w=x.current,N=v.current,C=b.current,k=y.current,S="0px ".concat(-1===r?1:r,"px"),M="".concat(r,"px 0px"),E=aD(["strokeDasharray"],h,"string"==typeof u?u:void 0);return f.createElement(ND,{animationId:_,key:_,canBegin:r>0,duration:h,easing:u,isActive:g,begin:m},e=>{var r,n=kN(w,o,e),d=kN(N,l,e),u=kN(C,i,e),h=kN(k,s,e);return a.current&&(x.current=n,v.current=d,b.current=u,y.current=h),r=p?e>0?{transition:E,strokeDasharray:M}:{strokeDasharray:S}:{strokeDasharray:M},f.createElement("path",ED({},HN(t,!0),{className:j,d:OD(u,h,n,d,c),ref:a,style:SD(SD({},r),t.style)}))})};function DD(e){var{cx:t,cy:a,radius:r,startAngle:n,endAngle:i}=e;return{points:[rP(t,a,r,n),rP(t,a,r,i)],cx:t,cy:a,radius:r,startAngle:n,endAngle:i}}function ID(){return ID=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ID.apply(null,arguments)}var TD=e=>{var{cx:t,cy:a,radius:r,angle:n,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,d=Math.asin(o/c)/tP,u=l?n:n+i*d,h=l?n-i*d:n;return{center:rP(t,a,c,u),circleTangency:rP(t,a,r,u),lineTangency:rP(t,a,c*Math.cos(d*tP),h),theta:d}},zD=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:n,startAngle:i,endAngle:s}=e,o=((e,t)=>xN(t-e)*Math.min(Math.abs(t-e),359.999))(i,s),l=i+o,c=rP(t,a,n,i),d=rP(t,a,n,l),u="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(n,",").concat(n,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(i>l),",\n    ").concat(d.x,",").concat(d.y,"\n  ");if(r>0){var h=rP(t,a,r,i),m=rP(t,a,r,l);u+="L ".concat(m.x,",").concat(m.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(i<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else u+="L ".concat(t,",").concat(a," Z");return u},RD={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LD=e=>{var t=JA(e,RD),{cx:a,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:u}=t;if(i<n||c===d)return null;var h,m=Ce("recharts-sector",u),p=i-n,g=NN(s,p,0,!0);return h=g>0&&Math.abs(c-d)<360?(e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:n,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=xN(c-l),{circleTangency:u,lineTangency:h,theta:m}=TD({cx:t,cy:a,radius:n,angle:l,sign:d,cornerRadius:i,cornerIsExternal:o}),{circleTangency:p,lineTangency:f,theta:g}=TD({cx:t,cy:a,radius:n,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:o}),x=o?Math.abs(l-c):Math.abs(l-c)-m-g;if(x<0)return s?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):zD({cx:t,cy:a,innerRadius:r,outerRadius:n,startAngle:l,endAngle:c});var v="M ".concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(u.x,",").concat(u.y,"\n    A").concat(n,",").concat(n,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,"\n  ");if(r>0){var{circleTangency:b,lineTangency:y,theta:_}=TD({cx:t,cy:a,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:j,lineTangency:w,theta:N}=TD({cx:t,cy:a,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),C=o?Math.abs(l-c):Math.abs(l-c)-_-N;if(C<0&&0===i)return"".concat(v,"L").concat(t,",").concat(a,"Z");v+="L".concat(w.x,",").concat(w.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(C>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,"Z")}else v+="L".concat(t,",").concat(a,"Z");return v})({cx:a,cy:r,innerRadius:n,outerRadius:i,cornerRadius:Math.min(g,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):zD({cx:a,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:d}),f.createElement("path",ID({},HN(t,!0),{className:m,d:h}))};function $D(e,t,a){var r,n,i,s;if("horizontal"===e)i=r=t.x,n=a.top,s=a.top+a.height;else if("vertical"===e)s=n=t.y,r=a.left,i=a.left+a.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return DD(t);var{cx:o,cy:l,innerRadius:c,outerRadius:d,angle:u}=t,h=rP(o,l,c,u),m=rP(o,l,d,u);r=h.x,n=h.y,i=m.x,s=m.y}return[{x:r,y:n},{x:i,y:s}]}var BD,qD,FD,WD,GD,HD={},VD={},UD={};function KD(){return BD||(BD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PM();e.toNumber=function(e){return t.isSymbol(e)?NaN:Number(e)}}(UD)),UD}function YD(){return qD||(qD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KD();e.toFinite=function(e){if(!e)return 0===e?e:0;if((e=t.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e==e?e:0}}(VD)),VD}function XD(){return FD||(FD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FM(),a=YD();e.range=function(e,r,n){n&&"number"!=typeof n&&t.isIterateeCall(e,r,n)&&(r=n=void 0),e=a.toFinite(e),void 0===r?(r=e,e=0):r=a.toFinite(r),n=void 0===n?e<r?1:-1:a.toFinite(n);const i=Math.max(Math.ceil((r-e)/(n||1)),0),s=new Array(i);for(let t=0;t<i;t++)s[t]=e,e+=n;return s}}(HD)),HD}function JD(){return GD?WD:(GD=1,WD=XD().range)}const ZD=t(JD());function QD(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function eI(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tI(e){let t,a,r;function n(e,r,n=0,i=e.length){if(n<i){if(0!==t(r,r))return i;do{const t=n+i>>>1;a(e[t],r)<0?n=t+1:i=t}while(n<i)}return n}return 2!==e.length?(t=QD,a=(t,a)=>QD(e(t),a),r=(t,a)=>e(t)-a):(t=e===QD||e===eI?e:aI,a=e,r=e),{left:n,center:function(e,t,a=0,i=e.length){const s=n(e,t,a,i-1);return s>a&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r,n=0,i=e.length){if(n<i){if(0!==t(r,r))return i;do{const t=n+i>>>1;a(e[t],r)<=0?n=t+1:i=t}while(n<i)}return n}}}function aI(){return 0}function rI(e){return null===e?NaN:+e}const nI=tI(QD).right;tI(rI).center;class iI extends Map{constructor(e,t=oI){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[a,r]of e)this.set(a,r)}get(e){return super.get(sI(this,e))}has(e){return super.has(sI(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):(e.set(r,a),a)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},a){const r=t(a);e.has(r)&&(a=e.get(r),e.delete(r));return a}(this,e))}}function sI({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):a}function oI(e){return null!==e&&"object"==typeof e?e.valueOf():e}function lI(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const cI=Math.sqrt(50),dI=Math.sqrt(10),uI=Math.sqrt(2);function hI(e,t,a){const r=(t-e)/Math.max(0,a),n=Math.floor(Math.log10(r)),i=r/Math.pow(10,n),s=i>=cI?10:i>=dI?5:i>=uI?2:1;let o,l,c;return n<0?(c=Math.pow(10,-n)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,n)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=a&&a<2?hI(e,t,2*a):[o,l,c]}function mI(e,t,a){if(!((a=+a)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[n,i,s]=r?hI(t,e,a):hI(e,t,a);if(!(i>=n))return[];const o=i-n+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(n+c)/-s;else for(let c=0;c<o;++c)l[c]=(n+c)*s;return l}function pI(e,t,a){return hI(e=+e,t=+t,a=+a)[2]}function fI(e,t,a){a=+a;const r=(t=+t)<(e=+e),n=r?pI(t,e,a):pI(e,t,a);return(r?-1:1)*(n<0?1/-n:n)}function gI(e,t){let a;for(const r of e)null!=r&&(a<r||void 0===a&&r>=r)&&(a=r);return a}function xI(e,t){let a;for(const r of e)null!=r&&(a>r||void 0===a&&r>=r)&&(a=r);return a}function vI(e,t,a=0,r=1/0,n){if(t=Math.floor(t),a=Math.floor(Math.max(0,a)),r=Math.floor(Math.min(e.length-1,r)),!(a<=t&&t<=r))return e;for(n=void 0===n?lI:function(e=QD){if(e===QD)return lI;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,a)=>{const r=e(t,a);return r||0===r?r:(0===e(a,a))-(0===e(t,t))}}(n);r>a;){if(r-a>600){const i=r-a+1,s=t-a+1,o=Math.log(i),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(i-l)/i)*(s-i/2<0?-1:1);vI(e,t,Math.max(a,Math.floor(t-s*l/i+c)),Math.min(r,Math.floor(t+(i-s)*l/i+c)),n)}const i=e[t];let s=a,o=r;for(bI(e,a,t),n(e[r],i)>0&&bI(e,a,r);s<o;){for(bI(e,s,o),++s,--o;n(e[s],i)<0;)++s;for(;n(e[o],i)>0;)--o}0===n(e[a],i)?bI(e,a,o):(++o,bI(e,o,r)),o<=t&&(a=o+1),t<=o&&(r=o-1)}return e}function bI(e,t,a){const r=e[t];e[t]=e[a],e[a]=r}function yI(e,t,a=rI){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+a(e[0],0,e);if(t>=1)return+a(e[r-1],r-1,e);var r,n=(r-1)*t,i=Math.floor(n),s=+a(e[i],i,e);return s+(+a(e[i+1],i+1,e)-s)*(n-i)}}function _I(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function jI(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const wI=Symbol("implicit");function NI(){var e=new iI,t=[],a=[],r=wI;function n(n){let i=e.get(n);if(void 0===i){if(r!==wI)return r;e.set(n,i=t.push(n)-1)}return a[i%a.length]}return n.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new iI;for(const r of a)e.has(r)||e.set(r,t.push(r)-1);return n},n.range=function(e){return arguments.length?(a=Array.from(e),n):a.slice()},n.unknown=function(e){return arguments.length?(r=e,n):r},n.copy=function(){return NI(t,a).unknown(r)},_I.apply(n,arguments),n}function CI(){var e,t,a=NI().unknown(void 0),r=a.domain,n=a.range,i=0,s=1,o=!1,l=0,c=0,d=.5;function u(){var a=r().length,u=s<i,h=u?s:i,m=u?i:s;e=(m-h)/Math.max(1,a-l+2*c),o&&(e=Math.floor(e)),h+=(m-h-e*(a-l))*d,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,a){e=+e,t=+t,a=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+a;for(var r=-1,n=0|Math.max(0,Math.ceil((t-e)/a)),i=new Array(n);++r<n;)i[r]=e+r*a;return i}(a).map(function(t){return h+e*t});return n(u?p.reverse():p)}return delete a.unknown,a.domain=function(e){return arguments.length?(r(e),u()):r()},a.range=function(e){return arguments.length?([i,s]=e,i=+i,s=+s,u()):[i,s]},a.rangeRound=function(e){return[i,s]=e,i=+i,s=+s,o=!0,u()},a.bandwidth=function(){return t},a.step=function(){return e},a.round=function(e){return arguments.length?(o=!!e,u()):o},a.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},a.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},a.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},a.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},a.copy=function(){return CI(r(),[i,s]).round(o).paddingInner(l).paddingOuter(c).align(d)},_I.apply(u(),arguments)}function kI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kI(t())},e}function SI(e,t,a){e.prototype=t.prototype=a,a.constructor=e}function MI(e,t){var a=Object.create(e.prototype);for(var r in t)a[r]=t[r];return a}function EI(){}var OI=.7,PI=1/OI,AI="\\s*([+-]?\\d+)\\s*",DI="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",II="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TI=/^#([0-9a-f]{3,8})$/,zI=new RegExp(`^rgb\\(${AI},${AI},${AI}\\)$`),RI=new RegExp(`^rgb\\(${II},${II},${II}\\)$`),LI=new RegExp(`^rgba\\(${AI},${AI},${AI},${DI}\\)$`),$I=new RegExp(`^rgba\\(${II},${II},${II},${DI}\\)$`),BI=new RegExp(`^hsl\\(${DI},${II},${II}\\)$`),qI=new RegExp(`^hsla\\(${DI},${II},${II},${DI}\\)$`),FI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function WI(){return this.rgb().formatHex()}function GI(){return this.rgb().formatRgb()}function HI(e){var t,a;return e=(e+"").trim().toLowerCase(),(t=TI.exec(e))?(a=t[1].length,t=parseInt(t[1],16),6===a?VI(t):3===a?new YI(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===a?UI(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===a?UI(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=zI.exec(e))?new YI(t[1],t[2],t[3],1):(t=RI.exec(e))?new YI(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=LI.exec(e))?UI(t[1],t[2],t[3],t[4]):(t=$I.exec(e))?UI(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=BI.exec(e))?tT(t[1],t[2]/100,t[3]/100,1):(t=qI.exec(e))?tT(t[1],t[2]/100,t[3]/100,t[4]):FI.hasOwnProperty(e)?VI(FI[e]):"transparent"===e?new YI(NaN,NaN,NaN,0):null}function VI(e){return new YI(e>>16&255,e>>8&255,255&e,1)}function UI(e,t,a,r){return r<=0&&(e=t=a=NaN),new YI(e,t,a,r)}function KI(e,t,a,r){return 1===arguments.length?((n=e)instanceof EI||(n=HI(n)),n?new YI((n=n.rgb()).r,n.g,n.b,n.opacity):new YI):new YI(e,t,a,null==r?1:r);var n}function YI(e,t,a,r){this.r=+e,this.g=+t,this.b=+a,this.opacity=+r}function XI(){return`#${eT(this.r)}${eT(this.g)}${eT(this.b)}`}function JI(){const e=ZI(this.opacity);return`${1===e?"rgb(":"rgba("}${QI(this.r)}, ${QI(this.g)}, ${QI(this.b)}${1===e?")":`, ${e})`}`}function ZI(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function QI(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function eT(e){return((e=QI(e))<16?"0":"")+e.toString(16)}function tT(e,t,a,r){return r<=0?e=t=a=NaN:a<=0||a>=1?e=t=NaN:t<=0&&(e=NaN),new rT(e,t,a,r)}function aT(e){if(e instanceof rT)return new rT(e.h,e.s,e.l,e.opacity);if(e instanceof EI||(e=HI(e)),!e)return new rT;if(e instanceof rT)return e;var t=(e=e.rgb()).r/255,a=e.g/255,r=e.b/255,n=Math.min(t,a,r),i=Math.max(t,a,r),s=NaN,o=i-n,l=(i+n)/2;return o?(s=t===i?(a-r)/o+6*(a<r):a===i?(r-t)/o+2:(t-a)/o+4,o/=l<.5?i+n:2-i-n,s*=60):o=l>0&&l<1?0:s,new rT(s,o,l,e.opacity)}function rT(e,t,a,r){this.h=+e,this.s=+t,this.l=+a,this.opacity=+r}function nT(e){return(e=(e||0)%360)<0?e+360:e}function iT(e){return Math.max(0,Math.min(1,e||0))}function sT(e,t,a){return 255*(e<60?t+(a-t)*e/60:e<180?a:e<240?t+(a-t)*(240-e)/60:t)}SI(EI,HI,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:WI,formatHex:WI,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return aT(this).formatHsl()},formatRgb:GI,toString:GI}),SI(YI,KI,MI(EI,{brighter(e){return e=null==e?PI:Math.pow(PI,e),new YI(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?OI:Math.pow(OI,e),new YI(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new YI(QI(this.r),QI(this.g),QI(this.b),ZI(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XI,formatHex:XI,formatHex8:function(){return`#${eT(this.r)}${eT(this.g)}${eT(this.b)}${eT(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:JI,toString:JI})),SI(rT,function(e,t,a,r){return 1===arguments.length?aT(e):new rT(e,t,a,null==r?1:r)},MI(EI,{brighter(e){return e=null==e?PI:Math.pow(PI,e),new rT(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?OI:Math.pow(OI,e),new rT(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,r=a+(a<.5?a:1-a)*t,n=2*a-r;return new YI(sT(e>=240?e-240:e+120,n,r),sT(e,n,r),sT(e<120?e+240:e-120,n,r),this.opacity)},clamp(){return new rT(nT(this.h),iT(this.s),iT(this.l),ZI(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ZI(this.opacity);return`${1===e?"hsl(":"hsla("}${nT(this.h)}, ${100*iT(this.s)}%, ${100*iT(this.l)}%${1===e?")":`, ${e})`}`}}));const oT=e=>()=>e;function lT(e){return 1===(e=+e)?cT:function(t,a){return a-t?function(e,t,a){return e=Math.pow(e,a),t=Math.pow(t,a)-e,a=1/a,function(r){return Math.pow(e+r*t,a)}}(t,a,e):oT(isNaN(t)?a:t)}}function cT(e,t){var a=t-e;return a?function(e,t){return function(a){return e+a*t}}(e,a):oT(isNaN(e)?t:e)}const dT=function e(t){var a=lT(t);function r(e,t){var r=a((e=KI(e)).r,(t=KI(t)).r),n=a(e.g,t.g),i=a(e.b,t.b),s=cT(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=n(t),e.b=i(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function uT(e,t){t||(t=[]);var a,r=e?Math.min(t.length,e.length):0,n=t.slice();return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function hT(e,t){var a,r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r);for(a=0;a<n;++a)i[a]=bT(e[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(e){for(a=0;a<n;++a)s[a]=i[a](e);return s}}function mT(e,t){var a=new Date;return e=+e,t=+t,function(r){return a.setTime(e*(1-r)+t*r),a}}function pT(e,t){return e=+e,t=+t,function(a){return e*(1-a)+t*a}}function fT(e,t){var a,r={},n={};for(a in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)a in e?r[a]=bT(e[a],t[a]):n[a]=t[a];return function(e){for(a in r)n[a]=r[a](e);return n}}var gT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xT=new RegExp(gT.source,"g");function vT(e,t){var a,r,n,i=gT.lastIndex=xT.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(a=gT.exec(e))&&(r=xT.exec(t));)(n=r.index)>i&&(n=t.slice(i,n),o[s]?o[s]+=n:o[++s]=n),(a=a[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,l.push({i:s,x:pT(a,r)})),i=xT.lastIndex;return i<t.length&&(n=t.slice(i),o[s]?o[s]+=n:o[++s]=n),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var a,r=0;r<t;++r)o[(a=l[r]).i]=a.x(e);return o.join("")})}function bT(e,t){var a,r=typeof t;return null==t||"boolean"===r?oT(t):("number"===r?pT:"string"===r?(a=HI(t))?(t=a,dT):vT:t instanceof HI?dT:t instanceof Date?mT:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?uT:Array.isArray(t)?hT:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?fT:pT)(e,t)}function yT(e,t){return e=+e,t=+t,function(a){return Math.round(e*(1-a)+t*a)}}function _T(e,t){void 0===t&&(t=e,e=bT);for(var a=0,r=t.length-1,n=t[0],i=new Array(r<0?0:r);a<r;)i[a]=e(n,n=t[++a]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}function jT(e){return+e}var wT=[0,1];function NT(e){return e}function CT(e,t){return(t-=e=+e)?function(a){return(a-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function kT(e,t,a){var r=e[0],n=e[1],i=t[0],s=t[1];return n<r?(r=CT(n,r),i=a(s,i)):(r=CT(r,n),i=a(i,s)),function(e){return i(r(e))}}function ST(e,t,a){var r=Math.min(e.length,t.length)-1,n=new Array(r),i=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)n[s]=CT(e[s],e[s+1]),i[s]=a(t[s],t[s+1]);return function(t){var a=nI(e,t,1,r)-1;return i[a](n[a](t))}}function MT(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ET(){var e,t,a,r,n,i,s=wT,o=wT,l=bT,c=NT;function d(){var e=Math.min(s.length,o.length);return c!==NT&&(c=function(e,t){var a;return e>t&&(a=e,e=t,t=a),function(a){return Math.max(e,Math.min(t,a))}}(s[0],s[e-1])),r=e>2?ST:kT,n=i=null,u}function u(t){return null==t||isNaN(t=+t)?a:(n||(n=r(s.map(e),o,l)))(e(c(t)))}return u.invert=function(a){return c(t((i||(i=r(o,s.map(e),pT)))(a)))},u.domain=function(e){return arguments.length?(s=Array.from(e,jT),d()):s.slice()},u.range=function(e){return arguments.length?(o=Array.from(e),d()):o.slice()},u.rangeRound=function(e){return o=Array.from(e),l=yT,d()},u.clamp=function(e){return arguments.length?(c=!!e||NT,d()):c!==NT},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(a=e,u):a},function(a,r){return e=a,t=r,d()}}function OT(){return ET()(NT,NT)}function PT(e,t){if((a=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var a,r=e.slice(0,a);return[r.length>1?r[0]+r.slice(2):r,+e.slice(a+1)]}function AT(e){return(e=PT(Math.abs(e)))?e[1]:NaN}var DT,IT=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function TT(e){if(!(t=IT.exec(e)))throw new Error("invalid format: "+e);var t;return new zT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function zT(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function RT(e,t){var a=PT(e,t);if(!a)return e+"";var r=a[0],n=a[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}TT.prototype=zT.prototype,zT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const LT={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>RT(100*e,t),r:RT,s:function(e,t){var a=PT(e,t);if(!a)return e+"";var r=a[0],n=a[1],i=n-(DT=3*Math.max(-8,Math.min(8,Math.floor(n/3))))+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+PT(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $T(e){return e}var BT,qT,FT,WT=Array.prototype.map,GT=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function HT(e){var t,a,r=void 0===e.grouping||void 0===e.thousands?$T:(t=WT.call(e.grouping,Number),a=e.thousands+"",function(e,r){for(var n=e.length,i=[],s=0,o=t[0],l=0;n>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),i.push(e.substring(n-=o,n+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return i.reverse().join(a)}),n=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?$T:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(WT.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=TT(e)).fill,a=e.align,u=e.sign,h=e.symbol,m=e.zero,p=e.width,f=e.comma,g=e.precision,x=e.trim,v=e.type;"n"===v?(f=!0,v="g"):LT[v]||(void 0===g&&(g=12),x=!0,v="g"),(m||"0"===t&&"="===a)&&(m=!0,t="0",a="=");var b="$"===h?n:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",y="$"===h?i:/[%p]/.test(v)?l:"",_=LT[v],j=/[defgprs%]/.test(v);function w(e){var n,i,l,h=b,w=y;if("c"===v)w=_(e)+w,e="";else{var N=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:_(Math.abs(e),g),x&&(e=function(e){e:for(var t,a=e.length,r=1,n=-1;r<a;++r)switch(e[r]){case".":n=t=r;break;case"0":0===n&&(n=r),t=r;break;default:if(!+e[r])break e;n>0&&(n=0)}return n>0?e.slice(0,n)+e.slice(t+1):e}(e)),N&&0===+e&&"+"!==u&&(N=!1),h=(N?"("===u?u:c:"-"===u||"("===u?"":u)+h,w=("s"===v?GT[8+DT/3]:"")+w+(N&&"("===u?")":""),j)for(n=-1,i=e.length;++n<i;)if(48>(l=e.charCodeAt(n))||l>57){w=(46===l?s+e.slice(n+1):e.slice(n))+w,e=e.slice(0,n);break}}f&&!m&&(e=r(e,1/0));var C=h.length+e.length+w.length,k=C<p?new Array(p-C+1).join(t):"";switch(f&&m&&(e=r(k+e,k.length?p-w.length:1/0),k=""),a){case"<":e=h+e+w+k;break;case"=":e=h+k+e+w;break;case"^":e=k.slice(0,C=k.length>>1)+h+e+w+k.slice(C);break;default:e=k+h+e+w}return o(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),w.toString=function(){return e+""},w}return{format:u,formatPrefix:function(e,t){var a=u(((e=TT(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(AT(t)/3))),n=Math.pow(10,-r),i=GT[8+r/3];return function(e){return a(n*e)+i}}}}function VT(e,t,a,r){var n,i=fI(e,t,a);switch((r=TT(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(n=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(AT(t)/3)))-AT(Math.abs(e)))}(i,s))||(r.precision=n),FT(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(n=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,AT(t)-AT(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=n-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(n=function(e){return Math.max(0,-AT(Math.abs(e)))}(i))||(r.precision=n-2*("%"===r.type))}return qT(r)}function UT(e){var t=e.domain;return e.ticks=function(e){var a=t();return mI(a[0],a[a.length-1],null==e?10:e)},e.tickFormat=function(e,a){var r=t();return VT(r[0],r[r.length-1],null==e?10:e,a)},e.nice=function(a){null==a&&(a=10);var r,n,i=t(),s=0,o=i.length-1,l=i[s],c=i[o],d=10;for(c<l&&(n=l,l=c,c=n,n=s,s=o,o=n);d-- >0;){if((n=pI(l,c,a))===r)return i[s]=l,i[o]=c,t(i);if(n>0)l=Math.floor(l/n)*n,c=Math.ceil(c/n)*n;else{if(!(n<0))break;l=Math.ceil(l*n)/n,c=Math.floor(c*n)/n}r=n}return e},e}function KT(e,t){var a,r=0,n=(e=e.slice()).length-1,i=e[r],s=e[n];return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),e[r]=t.floor(i),e[n]=t.ceil(s),e}function YT(e){return Math.log(e)}function XT(e){return Math.exp(e)}function JT(e){return-Math.log(-e)}function ZT(e){return-Math.exp(-e)}function QT(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ez(e){return(t,a)=>-e(-t,a)}function tz(e){const t=e(YT,XT),a=t.domain;let r,n,i=10;function s(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),n=function(e){return 10===e?QT:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),a()[0]<0?(r=ez(r),n=ez(n),e(JT,ZT)):e(YT,XT),t}return t.base=function(e){return arguments.length?(i=+e,s()):i},t.domain=function(e){return arguments.length?(a(e),s()):a()},t.ticks=e=>{const t=a();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,d,u=r(s),h=r(o);const m=null==e?10:+e;let p=[];if(!(i%1)&&h-u<m){if(u=Math.floor(u),h=Math.ceil(h),s>0){for(;u<=h;++u)for(c=1;c<i;++c)if(d=u<0?c/n(-u):c*n(u),!(d<s)){if(d>o)break;p.push(d)}}else for(;u<=h;++u)for(c=i-1;c>=1;--c)if(d=u>0?c/n(-u):c*n(u),!(d<s)){if(d>o)break;p.push(d)}2*p.length<m&&(p=mI(s,o,m))}else p=mI(u,h,Math.min(h-u,m)).map(n);return l?p.reverse():p},t.tickFormat=(e,a)=>{if(null==e&&(e=10),null==a&&(a=10===i?"s":","),"function"!=typeof a&&(i%1||null!=(a=TT(a)).precision||(a.trim=!0),a=qT(a)),e===1/0)return a;const s=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/n(Math.round(r(e)));return t*i<i-.5&&(t*=i),t<=s?a(e):""}},t.nice=()=>a(KT(a(),{floor:e=>n(Math.floor(r(e))),ceil:e=>n(Math.ceil(r(e)))})),t}function az(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rz(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function nz(e){var t=1,a=e(az(t),rz(t));return a.constant=function(a){return arguments.length?e(az(t=+a),rz(t)):t},UT(a)}function iz(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function sz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function oz(e){return e<0?-e*e:e*e}function lz(e){var t=e(NT,NT),a=1;return t.exponent=function(t){return arguments.length?1===(a=+t)?e(NT,NT):.5===a?e(sz,oz):e(iz(a),iz(1/a)):a},UT(t)}function cz(){var e=lz(ET());return e.copy=function(){return MT(e,cz()).exponent(e.exponent())},_I.apply(e,arguments),e}function dz(e){return Math.sign(e)*e*e}BT=HT({thousands:",",grouping:[3],currency:["$",""]}),qT=BT.format,FT=BT.formatPrefix;const uz=new Date,hz=new Date;function mz(e,t,a,r){function n(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return n.floor=t=>(e(t=new Date(+t)),t),n.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),n.round=e=>{const t=n(e),a=n.ceil(e);return e-t<a-e?t:a},n.offset=(e,a)=>(t(e=new Date(+e),null==a?1:Math.floor(a)),e),n.range=(a,r,i)=>{const s=[];if(a=n.ceil(a),i=null==i?1:Math.floor(i),!(a<r&&i>0))return s;let o;do{s.push(o=new Date(+a)),t(a,i),e(a)}while(o<a&&a<r);return s},n.filter=a=>mz(t=>{if(t>=t)for(;e(t),!a(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!a(e););else for(;--r>=0;)for(;t(e,1),!a(e););}),a&&(n.count=(t,r)=>(uz.setTime(+t),hz.setTime(+r),e(uz),e(hz),Math.floor(a(uz,hz))),n.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?n.filter(r?t=>r(t)%e===0:t=>n.count(0,t)%e===0):n:null)),n}const pz=mz(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);pz.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?mz(t=>{t.setTime(Math.floor(t/e)*e)},(t,a)=>{t.setTime(+t+a*e)},(t,a)=>(a-t)/e):pz:null),pz.range;const fz=1e3,gz=6e4,xz=36e5,vz=864e5,bz=6048e5,yz=2592e6,_z=31536e6,jz=mz(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*fz)},(e,t)=>(t-e)/fz,e=>e.getUTCSeconds());jz.range;const wz=mz(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fz)},(e,t)=>{e.setTime(+e+t*gz)},(e,t)=>(t-e)/gz,e=>e.getMinutes());wz.range;const Nz=mz(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gz)},(e,t)=>(t-e)/gz,e=>e.getUTCMinutes());Nz.range;const Cz=mz(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fz-e.getMinutes()*gz)},(e,t)=>{e.setTime(+e+t*xz)},(e,t)=>(t-e)/xz,e=>e.getHours());Cz.range;const kz=mz(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*xz)},(e,t)=>(t-e)/xz,e=>e.getUTCHours());kz.range;const Sz=mz(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gz)/vz,e=>e.getDate()-1);Sz.range;const Mz=mz(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vz,e=>e.getUTCDate()-1);Mz.range;const Ez=mz(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vz,e=>Math.floor(e/vz));function Oz(e){return mz(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gz)/bz)}Ez.range;const Pz=Oz(0),Az=Oz(1),Dz=Oz(2),Iz=Oz(3),Tz=Oz(4),zz=Oz(5),Rz=Oz(6);function Lz(e){return mz(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/bz)}Pz.range,Az.range,Dz.range,Iz.range,Tz.range,zz.range,Rz.range;const $z=Lz(0),Bz=Lz(1),qz=Lz(2),Fz=Lz(3),Wz=Lz(4),Gz=Lz(5),Hz=Lz(6);$z.range,Bz.range,qz.range,Fz.range,Wz.range,Gz.range,Hz.range;const Vz=mz(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());Vz.range;const Uz=mz(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());Uz.range;const Kz=mz(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Kz.every=e=>isFinite(e=Math.floor(e))&&e>0?mz(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,a)=>{t.setFullYear(t.getFullYear()+a*e)}):null,Kz.range;const Yz=mz(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function Xz(e,t,a,r,n,i){const s=[[jz,1,fz],[jz,5,5e3],[jz,15,15e3],[jz,30,3e4],[i,1,gz],[i,5,3e5],[i,15,9e5],[i,30,18e5],[n,1,xz],[n,3,108e5],[n,6,216e5],[n,12,432e5],[r,1,vz],[r,2,1728e5],[a,1,bz],[t,1,yz],[t,3,7776e6],[e,1,_z]];function o(t,a,r){const n=Math.abs(a-t)/r,i=tI(([,,e])=>e).right(s,n);if(i===s.length)return e.every(fI(t/_z,a/_z,r));if(0===i)return pz.every(Math.max(fI(t,a,r),1));const[o,l]=s[n/s[i-1][2]<s[i][2]/n?i-1:i];return o.every(l)}return[function(e,t,a){const r=t<e;r&&([e,t]=[t,e]);const n=a&&"function"==typeof a.range?a:o(e,t,a),i=n?n.range(e,+t+1):[];return r?i.reverse():i},o]}Yz.every=e=>isFinite(e=Math.floor(e))&&e>0?mz(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCFullYear(t.getUTCFullYear()+a*e)}):null,Yz.range;const[Jz,Zz]=Xz(Yz,Uz,$z,Ez,kz,Nz),[Qz,eR]=Xz(Kz,Vz,Pz,Sz,Cz,wz);function tR(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function aR(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function rR(e,t,a){return{y:e,m:t,d:a,H:0,M:0,S:0,L:0}}var nR,iR,sR,oR={"-":"",_:" ",0:"0"},lR=/^\s*\d+/,cR=/^%/,dR=/[\\^$*+?|[\]().{}]/g;function uR(e,t,a){var r=e<0?"-":"",n=(r?-e:e)+"",i=n.length;return r+(i<a?new Array(a-i+1).join(t)+n:n)}function hR(e){return e.replace(dR,"\\$&")}function mR(e){return new RegExp("^(?:"+e.map(hR).join("|")+")","i")}function pR(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function fR(e,t,a){var r=lR.exec(t.slice(a,a+1));return r?(e.w=+r[0],a+r[0].length):-1}function gR(e,t,a){var r=lR.exec(t.slice(a,a+1));return r?(e.u=+r[0],a+r[0].length):-1}function xR(e,t,a){var r=lR.exec(t.slice(a,a+2));return r?(e.U=+r[0],a+r[0].length):-1}function vR(e,t,a){var r=lR.exec(t.slice(a,a+2));return r?(e.V=+r[0],a+r[0].length):-1}function bR(e,t,a){var r=lR.exec(t.slice(a,a+2));return r?(e.W=+r[0],a+r[0].length):-1}function yR(e,t,a){var r=lR.exec(t.slice(a,a+4));return r?(e.y=+r[0],a+r[0].length):-1}function _R(e,t,a){var r=lR.exec(t.slice(a,a+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),a+r[0].length):-1}function jR(e,t,a){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),a+r[0].length):-1}function wR(e,t,a){var r=lR.exec(t.slice(a,a+1));return r?(e.q=3*r[0]-3,a+r[0].length):-1}function NR(e,t,a){var r=lR.exec(t.slice(a,a+2));return r?(e.m=r[0]-1,a+r[0].length):-1}function CR(e,t,a){var r=lR.exec(t.slice(a,a+2));return r?(e.d=+r[0],a+r[0].length):-1}function kR(e,t,a){var r=lR.exec(t.slice(a,a+3));return r?(e.m=0,e.d=+r[0],a+r[0].length):-1}function SR(e,t,a){var r=lR.exec(t.slice(a,a+2));return r?(e.H=+r[0],a+r[0].length):-1}function MR(e,t,a){var r=lR.exec(t.slice(a,a+2));return r?(e.M=+r[0],a+r[0].length):-1}function ER(e,t,a){var r=lR.exec(t.slice(a,a+2));return r?(e.S=+r[0],a+r[0].length):-1}function OR(e,t,a){var r=lR.exec(t.slice(a,a+3));return r?(e.L=+r[0],a+r[0].length):-1}function PR(e,t,a){var r=lR.exec(t.slice(a,a+6));return r?(e.L=Math.floor(r[0]/1e3),a+r[0].length):-1}function AR(e,t,a){var r=cR.exec(t.slice(a,a+1));return r?a+r[0].length:-1}function DR(e,t,a){var r=lR.exec(t.slice(a));return r?(e.Q=+r[0],a+r[0].length):-1}function IR(e,t,a){var r=lR.exec(t.slice(a));return r?(e.s=+r[0],a+r[0].length):-1}function TR(e,t){return uR(e.getDate(),t,2)}function zR(e,t){return uR(e.getHours(),t,2)}function RR(e,t){return uR(e.getHours()%12||12,t,2)}function LR(e,t){return uR(1+Sz.count(Kz(e),e),t,3)}function $R(e,t){return uR(e.getMilliseconds(),t,3)}function BR(e,t){return $R(e,t)+"000"}function qR(e,t){return uR(e.getMonth()+1,t,2)}function FR(e,t){return uR(e.getMinutes(),t,2)}function WR(e,t){return uR(e.getSeconds(),t,2)}function GR(e){var t=e.getDay();return 0===t?7:t}function HR(e,t){return uR(Pz.count(Kz(e)-1,e),t,2)}function VR(e){var t=e.getDay();return t>=4||0===t?Tz(e):Tz.ceil(e)}function UR(e,t){return e=VR(e),uR(Tz.count(Kz(e),e)+(4===Kz(e).getDay()),t,2)}function KR(e){return e.getDay()}function YR(e,t){return uR(Az.count(Kz(e)-1,e),t,2)}function XR(e,t){return uR(e.getFullYear()%100,t,2)}function JR(e,t){return uR((e=VR(e)).getFullYear()%100,t,2)}function ZR(e,t){return uR(e.getFullYear()%1e4,t,4)}function QR(e,t){var a=e.getDay();return uR((e=a>=4||0===a?Tz(e):Tz.ceil(e)).getFullYear()%1e4,t,4)}function eL(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+uR(t/60|0,"0",2)+uR(t%60,"0",2)}function tL(e,t){return uR(e.getUTCDate(),t,2)}function aL(e,t){return uR(e.getUTCHours(),t,2)}function rL(e,t){return uR(e.getUTCHours()%12||12,t,2)}function nL(e,t){return uR(1+Mz.count(Yz(e),e),t,3)}function iL(e,t){return uR(e.getUTCMilliseconds(),t,3)}function sL(e,t){return iL(e,t)+"000"}function oL(e,t){return uR(e.getUTCMonth()+1,t,2)}function lL(e,t){return uR(e.getUTCMinutes(),t,2)}function cL(e,t){return uR(e.getUTCSeconds(),t,2)}function dL(e){var t=e.getUTCDay();return 0===t?7:t}function uL(e,t){return uR($z.count(Yz(e)-1,e),t,2)}function hL(e){var t=e.getUTCDay();return t>=4||0===t?Wz(e):Wz.ceil(e)}function mL(e,t){return e=hL(e),uR(Wz.count(Yz(e),e)+(4===Yz(e).getUTCDay()),t,2)}function pL(e){return e.getUTCDay()}function fL(e,t){return uR(Bz.count(Yz(e)-1,e),t,2)}function gL(e,t){return uR(e.getUTCFullYear()%100,t,2)}function xL(e,t){return uR((e=hL(e)).getUTCFullYear()%100,t,2)}function vL(e,t){return uR(e.getUTCFullYear()%1e4,t,4)}function bL(e,t){var a=e.getUTCDay();return uR((e=a>=4||0===a?Wz(e):Wz.ceil(e)).getUTCFullYear()%1e4,t,4)}function yL(){return"+0000"}function _L(){return"%"}function jL(e){return+e}function wL(e){return Math.floor(+e/1e3)}function NL(e){return new Date(e)}function CL(e){return e instanceof Date?+e:+new Date(+e)}function kL(e,t,a,r,n,i,s,o,l,c){var d=OT(),u=d.invert,h=d.domain,m=c(".%L"),p=c(":%S"),f=c("%I:%M"),g=c("%I %p"),x=c("%a %d"),v=c("%b %d"),b=c("%B"),y=c("%Y");function _(e){return(l(e)<e?m:o(e)<e?p:s(e)<e?f:i(e)<e?g:r(e)<e?n(e)<e?x:v:a(e)<e?b:y)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?h(Array.from(e,CL)):h().map(NL)},d.ticks=function(t){var a=h();return e(a[0],a[a.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?_:c(t)},d.nice=function(e){var a=h();return e&&"function"==typeof e.range||(e=t(a[0],a[a.length-1],null==e?10:e)),e?h(KT(a,e)):d},d.copy=function(){return MT(d,kL(e,t,a,r,n,i,s,o,l,c))},d}function SL(){var e,t,a,r,n,i=0,s=1,o=NT,l=!1;function c(t){return null==t||isNaN(t=+t)?n:o(0===a?.5:(t=(r(t)-e)*a,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var a,r;return arguments.length?([a,r]=t,o=e(a,r),c):[o(0),o(1)]}}return c.domain=function(n){return arguments.length?([i,s]=n,e=r(i=+i),t=r(s=+s),a=e===t?0:1/(t-e),c):[i,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=d(bT),c.rangeRound=d(yT),c.unknown=function(e){return arguments.length?(n=e,c):n},function(n){return r=n,e=n(i),t=n(s),a=e===t?0:1/(t-e),c}}function ML(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function EL(){var e=lz(SL());return e.copy=function(){return ML(e,EL()).exponent(e.exponent())},jI.apply(e,arguments)}function OL(){var e,t,a,r,n,i,s,o=0,l=.5,c=1,d=1,u=NT,h=!1;function m(e){return isNaN(e=+e)?s:(e=.5+((e=+i(e))-t)*(d*e<d*t?r:n),u(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var a,r,n;return arguments.length?([a,r,n]=t,u=_T(e,[a,r,n]),m):[u(0),u(.5),u(1)]}}return m.domain=function(s){return arguments.length?([o,l,c]=s,e=i(o=+o),t=i(l=+l),a=i(c=+c),r=e===t?0:.5/(t-e),n=t===a?0:.5/(a-t),d=t<e?-1:1,m):[o,l,c]},m.clamp=function(e){return arguments.length?(h=!!e,m):h},m.interpolator=function(e){return arguments.length?(u=e,m):u},m.range=p(bT),m.rangeRound=p(yT),m.unknown=function(e){return arguments.length?(s=e,m):s},function(s){return i=s,e=s(o),t=s(l),a=s(c),r=e===t?0:.5/(t-e),n=t===a?0:.5/(a-t),d=t<e?-1:1,m}}function PL(){var e=lz(OL());return e.copy=function(){return ML(e,PL()).exponent(e.exponent())},jI.apply(e,arguments)}!function(e){nR=function(e){var t=e.dateTime,a=e.date,r=e.time,n=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=mR(n),d=pR(n),u=mR(i),h=pR(i),m=mR(s),p=pR(s),f=mR(o),g=pR(o),x=mR(l),v=pR(l),b={a:function(e){return s[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:TR,e:TR,f:BR,g:JR,G:QR,H:zR,I:RR,j:LR,L:$R,m:qR,M:FR,p:function(e){return n[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:jL,s:wL,S:WR,u:GR,U:HR,V:UR,w:KR,W:YR,x:null,X:null,y:XR,Y:ZR,Z:eL,"%":_L},y={a:function(e){return s[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:tL,e:tL,f:sL,g:xL,G:bL,H:aL,I:rL,j:nL,L:iL,m:oL,M:lL,p:function(e){return n[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:jL,s:wL,S:cL,u:dL,U:uL,V:mL,w:pL,W:fL,x:null,X:null,y:gL,Y:vL,Z:yL,"%":_L},_={a:function(e,t,a){var r=m.exec(t.slice(a));return r?(e.w=p.get(r[0].toLowerCase()),a+r[0].length):-1},A:function(e,t,a){var r=u.exec(t.slice(a));return r?(e.w=h.get(r[0].toLowerCase()),a+r[0].length):-1},b:function(e,t,a){var r=x.exec(t.slice(a));return r?(e.m=v.get(r[0].toLowerCase()),a+r[0].length):-1},B:function(e,t,a){var r=f.exec(t.slice(a));return r?(e.m=g.get(r[0].toLowerCase()),a+r[0].length):-1},c:function(e,a,r){return N(e,t,a,r)},d:CR,e:CR,f:PR,g:_R,G:yR,H:SR,I:SR,j:kR,L:OR,m:NR,M:MR,p:function(e,t,a){var r=c.exec(t.slice(a));return r?(e.p=d.get(r[0].toLowerCase()),a+r[0].length):-1},q:wR,Q:DR,s:IR,S:ER,u:gR,U:xR,V:vR,w:fR,W:bR,x:function(e,t,r){return N(e,a,t,r)},X:function(e,t,a){return N(e,r,t,a)},y:_R,Y:yR,Z:jR,"%":AR};function j(e,t){return function(a){var r,n,i,s=[],o=-1,l=0,c=e.length;for(a instanceof Date||(a=new Date(+a));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(n=oR[r=e.charAt(++o)])?r=e.charAt(++o):n="e"===r?" ":"0",(i=t[r])&&(r=i(a,n)),s.push(r),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function w(e,t){return function(a){var r,n,i=rR(1900,void 0,1);if(N(i,e,a+="",0)!=a.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(n=(r=aR(rR(i.y,0,1))).getUTCDay(),r=n>4||0===n?Bz.ceil(r):Bz(r),r=Mz.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(n=(r=tR(rR(i.y,0,1))).getDay(),r=n>4||0===n?Az.ceil(r):Az(r),r=Sz.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),n="Z"in i?aR(rR(i.y,0,1)).getUTCDay():tR(rR(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(n+5)%7:i.w+7*i.U-(n+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,aR(i)):tR(i)}}function N(e,t,a,r){for(var n,i,s=0,o=t.length,l=a.length;s<o;){if(r>=l)return-1;if(37===(n=t.charCodeAt(s++))){if(n=t.charAt(s++),!(i=_[n in oR?t.charAt(s++):n])||(r=i(e,a,r))<0)return-1}else if(n!=a.charCodeAt(r++))return-1}return r}return b.x=j(a,b),b.X=j(r,b),b.c=j(t,b),y.x=j(a,y),y.X=j(r,y),y.c=j(t,y),{format:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=w(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",y);return t.toString=function(){return e},t},utcParse:function(e){var t=w(e+="",!0);return t.toString=function(){return e},t}}}(e),iR=nR.format,nR.parse,sR=nR.utcFormat,nR.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const AL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:CI,scaleDiverging:function e(){var t=UT(OL()(NT));return t.copy=function(){return ML(t,e())},jI.apply(t,arguments)},scaleDivergingLog:function e(){var t=tz(OL()).domain([.1,1,10]);return t.copy=function(){return ML(t,e()).base(t.base())},jI.apply(t,arguments)},scaleDivergingPow:PL,scaleDivergingSqrt:function(){return PL.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=nz(OL());return t.copy=function(){return ML(t,e()).constant(t.constant())},jI.apply(t,arguments)},scaleIdentity:function e(t){var a;function r(e){return null==e||isNaN(e=+e)?a:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,jT),r):t.slice()},r.unknown=function(e){return arguments.length?(a=e,r):a},r.copy=function(){return e(t).unknown(a)},t=arguments.length?Array.from(t,jT):[0,1],UT(r)},scaleImplicit:wI,scaleLinear:function e(){var t=OT();return t.copy=function(){return MT(t,e())},_I.apply(t,arguments),UT(t)},scaleLog:function e(){const t=tz(ET()).domain([1,10]);return t.copy=()=>MT(t,e()).base(t.base()),_I.apply(t,arguments),t},scaleOrdinal:NI,scalePoint:function(){return kI(CI.apply(null,arguments).paddingInner(1))},scalePow:cz,scaleQuantile:function e(){var t,a=[],r=[],n=[];function i(){var e=0,t=Math.max(1,r.length);for(n=new Array(t-1);++e<t;)n[e-1]=yI(a,e/t);return s}function s(e){return null==e||isNaN(e=+e)?t:r[nI(n,e)]}return s.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?n[t-1]:a[0],t<n.length?n[t]:a[a.length-1]]},s.domain=function(e){if(!arguments.length)return a.slice();a=[];for(let t of e)null==t||isNaN(t=+t)||a.push(t);return a.sort(QD),i()},s.range=function(e){return arguments.length?(r=Array.from(e),i()):r.slice()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.quantiles=function(){return n.slice()},s.copy=function(){return e().domain(a).range(r).unknown(t)},_I.apply(s,arguments)},scaleQuantize:function e(){var t,a=0,r=1,n=1,i=[.5],s=[0,1];function o(e){return null!=e&&e<=e?s[nI(i,e,0,n)]:t}function l(){var e=-1;for(i=new Array(n);++e<n;)i[e]=((e+1)*r-(e-n)*a)/(n+1);return o}return o.domain=function(e){return arguments.length?([a,r]=e,a=+a,r=+r,l()):[a,r]},o.range=function(e){return arguments.length?(n=(s=Array.from(e)).length-1,l()):s.slice()},o.invertExtent=function(e){var t=s.indexOf(e);return t<0?[NaN,NaN]:t<1?[a,i[0]]:t>=n?[i[n-1],r]:[i[t-1],i[t]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return e().domain([a,r]).range(s).unknown(t)},_I.apply(UT(o),arguments)},scaleRadial:function e(){var t,a=OT(),r=[0,1],n=!1;function i(e){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(a(e));return isNaN(r)?t:n?Math.round(r):r}return i.invert=function(e){return a.invert(dz(e))},i.domain=function(e){return arguments.length?(a.domain(e),i):a.domain()},i.range=function(e){return arguments.length?(a.range((r=Array.from(e,jT)).map(dz)),i):r.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(n=!!e,i):n},i.clamp=function(e){return arguments.length?(a.clamp(e),i):a.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e(a.domain(),r).round(n).clamp(a.clamp()).unknown(t)},_I.apply(i,arguments),UT(i)},scaleSequential:function e(){var t=UT(SL()(NT));return t.copy=function(){return ML(t,e())},jI.apply(t,arguments)},scaleSequentialLog:function e(){var t=tz(SL()).domain([1,10]);return t.copy=function(){return ML(t,e()).base(t.base())},jI.apply(t,arguments)},scaleSequentialPow:EL,scaleSequentialQuantile:function e(){var t=[],a=NT;function r(e){if(null!=e&&!isNaN(e=+e))return a((nI(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let a of e)null==a||isNaN(a=+a)||t.push(a);return t.sort(QD),r},r.interpolator=function(e){return arguments.length?(a=e,r):a},r.range=function(){return t.map((e,r)=>a(r/(t.length-1)))},r.quantiles=function(e){return Array.from({length:e+1},(a,r)=>function(e,t){if((a=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||a<2)return xI(e);if(t>=1)return gI(e);var a,r=(a-1)*t,n=Math.floor(r),i=gI(vI(e,n).subarray(0,n+1));return i+(xI(e.subarray(n+1))-i)*(r-n)}}(t,r/e))},r.copy=function(){return e(a).domain(t)},jI.apply(r,arguments)},scaleSequentialSqrt:function(){return EL.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=nz(SL());return t.copy=function(){return ML(t,e()).constant(t.constant())},jI.apply(t,arguments)},scaleSqrt:function(){return cz.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=nz(ET());return t.copy=function(){return MT(t,e()).constant(t.constant())},_I.apply(t,arguments)},scaleThreshold:function e(){var t,a=[.5],r=[0,1],n=1;function i(e){return null!=e&&e<=e?r[nI(a,e,0,n)]:t}return i.domain=function(e){return arguments.length?(a=Array.from(e),n=Math.min(a.length,r.length-1),i):a.slice()},i.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(a.length,r.length-1),i):r.slice()},i.invertExtent=function(e){var t=r.indexOf(e);return[a[t-1],a[t]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e().domain(a).range(r).unknown(t)},_I.apply(i,arguments)},scaleTime:function(){return _I.apply(kL(Qz,eR,Kz,Vz,Pz,Sz,Cz,wz,jz,iR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return _I.apply(kL(Jz,Zz,Yz,Uz,$z,Mz,kz,Nz,jz,sR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:VT},Symbol.toStringTag,{value:"Module"}));var DL=e=>e.chartData,IL=yM([DL],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),TL=(e,t,a,r)=>r?IL(e):DL(e);function zL(e){if(Array.isArray(e)&&2===e.length){var[t,a]=e;if(PA(t)&&PA(a))return!0}return!1}function RL(e,t,a){return a?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var LL,$L=1e9,BL=!0,qL="[DecimalError] ",FL=qL+"Invalid argument: ",WL=qL+"Exponent out of range: ",GL=Math.floor,HL=Math.pow,VL=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,UL=1e7,KL=9007199254740991,YL=GL(1286742750677284.5),XL={};function JL(e,t){var a,r,n,i,s,o,l,c,d=e.constructor,u=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),BL?o$(t,u):t;if(l=e.d,c=t.d,s=e.e,n=t.e,l=l.slice(),i=s-n){for(i<0?(r=l,i=-i,o=c.length):(r=c,n=s,o=l.length),i>(o=(s=Math.ceil(u/7))>o?s+1:o+1)&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((o=l.length)-(i=c.length)<0&&(i=o,r=c,c=l,l=r),a=0;i;)a=(l[--i]=l[i]+c[i]+a)/UL|0,l[i]%=UL;for(a&&(l.unshift(a),++n),o=l.length;0==l[--o];)l.pop();return t.d=l,t.e=n,BL?o$(t,u):t}function ZL(e,t,a){if(e!==~~e||e<t||e>a)throw Error(FL+e)}function QL(e){var t,a,r,n=e.length-1,i="",s=e[0];if(n>0){for(i+=s,t=1;t<n;t++)(a=7-(r=e[t]+"").length)&&(i+=n$(a)),i+=r;(a=7-(r=(s=e[t])+"").length)&&(i+=n$(a))}else if(0===s)return"0";for(;s%10==0;)s/=10;return i+s}XL.absoluteValue=XL.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},XL.comparedTo=XL.cmp=function(e){var t,a,r,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,a=(r=i.d.length)<(n=e.d.length)?r:n;t<a;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===n?0:r>n^i.s<0?1:-1},XL.decimalPlaces=XL.dp=function(){var e=this,t=e.d.length-1,a=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)a--;return a<0?0:a},XL.dividedBy=XL.div=function(e){return e$(this,new this.constructor(e))},XL.dividedToIntegerBy=XL.idiv=function(e){var t=this.constructor;return o$(e$(this,new t(e),0,1),t.precision)},XL.equals=XL.eq=function(e){return!this.cmp(e)},XL.exponent=function(){return a$(this)},XL.greaterThan=XL.gt=function(e){return this.cmp(e)>0},XL.greaterThanOrEqualTo=XL.gte=function(e){return this.cmp(e)>=0},XL.isInteger=XL.isint=function(){return this.e>this.d.length-2},XL.isNegative=XL.isneg=function(){return this.s<0},XL.isPositive=XL.ispos=function(){return this.s>0},XL.isZero=function(){return 0===this.s},XL.lessThan=XL.lt=function(e){return this.cmp(e)<0},XL.lessThanOrEqualTo=XL.lte=function(e){return this.cmp(e)<1},XL.logarithm=XL.log=function(e){var t,a=this,r=a.constructor,n=r.precision,i=n+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(LL))throw Error(qL+"NaN");if(a.s<1)throw Error(qL+(a.s?"NaN":"-Infinity"));return a.eq(LL)?new r(0):(BL=!1,t=e$(i$(a,i),i$(e,i),i),BL=!0,o$(t,n))},XL.minus=XL.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?l$(t,e):JL(t,(e.s=-e.s,e))},XL.modulo=XL.mod=function(e){var t,a=this,r=a.constructor,n=r.precision;if(!(e=new r(e)).s)throw Error(qL+"NaN");return a.s?(BL=!1,t=e$(a,e,0,1).times(e),BL=!0,a.minus(t)):o$(new r(a),n)},XL.naturalExponential=XL.exp=function(){return t$(this)},XL.naturalLogarithm=XL.ln=function(){return i$(this)},XL.negated=XL.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},XL.plus=XL.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?JL(t,e):l$(t,(e.s=-e.s,e))},XL.precision=XL.sd=function(e){var t,a,r,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(FL+e);if(t=a$(n)+1,a=7*(r=n.d.length-1)+1,r=n.d[r]){for(;r%10==0;r/=10)a--;for(r=n.d[0];r>=10;r/=10)a++}return e&&t>a?t:a},XL.squareRoot=XL.sqrt=function(){var e,t,a,r,n,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(qL+"NaN")}for(e=a$(o),BL=!1,0==(n=Math.sqrt(+o))||n==1/0?(((t=QL(o.d)).length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=GL((e+1)/2)-(e<0||e%2),r=new l(t=n==1/0?"5e"+e:(t=n.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(n.toString()),n=s=(a=l.precision)+3;;)if(r=(i=r).plus(e$(o,i,s+2)).times(.5),QL(i.d).slice(0,s)===(t=QL(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),n==s&&"4999"==t){if(o$(i,a+1,0),i.times(i).eq(o)){r=i;break}}else if("9999"!=t)break;s+=4}return BL=!0,o$(r,a)},XL.times=XL.mul=function(e){var t,a,r,n,i,s,o,l,c,d=this,u=d.constructor,h=d.d,m=(e=new u(e)).d;if(!d.s||!e.s)return new u(0);for(e.s*=d.s,a=d.e+e.e,(l=h.length)<(c=m.length)&&(i=h,h=m,m=i,s=l,l=c,c=s),i=[],r=s=l+c;r--;)i.push(0);for(r=c;--r>=0;){for(t=0,n=l+r;n>r;)o=i[n]+m[r]*h[n-r-1]+t,i[n--]=o%UL|0,t=o/UL|0;i[n]=(i[n]+t)%UL|0}for(;!i[--s];)i.pop();return t?++a:i.shift(),e.d=i,e.e=a,BL?o$(e,u.precision):e},XL.toDecimalPlaces=XL.todp=function(e,t){var a=this,r=a.constructor;return a=new r(a),void 0===e?a:(ZL(e,0,$L),void 0===t?t=r.rounding:ZL(t,0,8),o$(a,e+a$(a)+1,t))},XL.toExponential=function(e,t){var a,r=this,n=r.constructor;return void 0===e?a=c$(r,!0):(ZL(e,0,$L),void 0===t?t=n.rounding:ZL(t,0,8),a=c$(r=o$(new n(r),e+1,t),!0,e+1)),a},XL.toFixed=function(e,t){var a,r,n=this,i=n.constructor;return void 0===e?c$(n):(ZL(e,0,$L),void 0===t?t=i.rounding:ZL(t,0,8),a=c$((r=o$(new i(n),e+a$(n)+1,t)).abs(),!1,e+a$(r)+1),n.isneg()&&!n.isZero()?"-"+a:a)},XL.toInteger=XL.toint=function(){var e=this,t=e.constructor;return o$(new t(e),a$(e)+1,t.rounding)},XL.toNumber=function(){return+this},XL.toPower=XL.pow=function(e){var t,a,r,n,i,s,o=this,l=o.constructor,c=+(e=new l(e));if(!e.s)return new l(LL);if(!(o=new l(o)).s){if(e.s<1)throw Error(qL+"Infinity");return o}if(o.eq(LL))return o;if(r=l.precision,e.eq(LL))return o$(o,r);if(s=(t=e.e)>=(a=e.d.length-1),i=o.s,s){if((a=c<0?-c:c)<=KL){for(n=new l(LL),t=Math.ceil(r/7+4),BL=!1;a%2&&d$((n=n.times(o)).d,t),0!==(a=GL(a/2));)d$((o=o.times(o)).d,t);return BL=!0,e.s<0?new l(LL).div(n):o$(n,r)}}else if(i<0)throw Error(qL+"NaN");return i=i<0&&1&e.d[Math.max(t,a)]?-1:1,o.s=1,BL=!1,n=e.times(i$(o,r+12)),BL=!0,(n=t$(n)).s=i,n},XL.toPrecision=function(e,t){var a,r,n=this,i=n.constructor;return void 0===e?r=c$(n,(a=a$(n))<=i.toExpNeg||a>=i.toExpPos):(ZL(e,1,$L),void 0===t?t=i.rounding:ZL(t,0,8),r=c$(n=o$(new i(n),e,t),e<=(a=a$(n))||a<=i.toExpNeg,e)),r},XL.toSignificantDigits=XL.tosd=function(e,t){var a=this.constructor;return void 0===e?(e=a.precision,t=a.rounding):(ZL(e,1,$L),void 0===t?t=a.rounding:ZL(t,0,8)),o$(new a(this),e,t)},XL.toString=XL.valueOf=XL.val=XL.toJSON=XL[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=a$(e),a=e.constructor;return c$(e,t<=a.toExpNeg||t>=a.toExpPos)};var e$=function(){function e(e,t){var a,r=0,n=e.length;for(e=e.slice();n--;)a=e[n]*t+r,e[n]=a%UL|0,r=a/UL|0;return r&&e.unshift(r),e}function t(e,t,a,r){var n,i;if(a!=r)i=a>r?1:-1;else for(n=i=0;n<a;n++)if(e[n]!=t[n]){i=e[n]>t[n]?1:-1;break}return i}function a(e,t,a){for(var r=0;a--;)e[a]-=r,r=e[a]<t[a]?1:0,e[a]=r*UL+e[a]-t[a];for(;!e[0]&&e.length>1;)e.shift()}return function(r,n,i,s){var o,l,c,d,u,h,m,p,f,g,x,v,b,y,_,j,w,N,C=r.constructor,k=r.s==n.s?1:-1,S=r.d,M=n.d;if(!r.s)return new C(r);if(!n.s)throw Error(qL+"Division by zero");for(l=r.e-n.e,w=M.length,_=S.length,p=(m=new C(k)).d=[],c=0;M[c]==(S[c]||0);)++c;if(M[c]>(S[c]||0)&&--l,(v=null==i?i=C.precision:s?i+(a$(r)-a$(n))+1:i)<0)return new C(0);if(v=v/7+2|0,c=0,1==w)for(d=0,M=M[0],v++;(c<_||d)&&v--;c++)b=d*UL+(S[c]||0),p[c]=b/M|0,d=b%M|0;else{for((d=UL/(M[0]+1)|0)>1&&(M=e(M,d),S=e(S,d),w=M.length,_=S.length),y=w,g=(f=S.slice(0,w)).length;g<w;)f[g++]=0;(N=M.slice()).unshift(0),j=M[0],M[1]>=UL/2&&++j;do{d=0,(o=t(M,f,w,g))<0?(x=f[0],w!=g&&(x=x*UL+(f[1]||0)),(d=x/j|0)>1?(d>=UL&&(d=UL-1),1==(o=t(u=e(M,d),f,h=u.length,g=f.length))&&(d--,a(u,w<h?N:M,h))):(0==d&&(o=d=1),u=M.slice()),(h=u.length)<g&&u.unshift(0),a(f,u,g),-1==o&&(o=t(M,f,w,g=f.length))<1&&(d++,a(f,w<g?N:M,g)),g=f.length):0===o&&(d++,f=[0]),p[c++]=d,o&&f[0]?f[g++]=S[y]||0:(f=[S[y]],g=1)}while((y++<_||void 0!==f[0])&&v--)}return p[0]||p.shift(),m.e=l,o$(m,s?i+a$(m)+1:i)}}();function t$(e,t){var a,r,n,i,s,o=0,l=0,c=e.constructor,d=c.precision;if(a$(e)>16)throw Error(WL+a$(e));if(!e.s)return new c(LL);for(BL=!1,s=d,i=new c(.03125);e.abs().gte(.1);)e=e.times(i),l+=5;for(s+=Math.log(HL(2,l))/Math.LN10*2+5|0,a=r=n=new c(LL),c.precision=s;;){if(r=o$(r.times(e),s),a=a.times(++o),QL((i=n.plus(e$(r,a,s))).d).slice(0,s)===QL(n.d).slice(0,s)){for(;l--;)n=o$(n.times(n),s);return c.precision=d,null==t?(BL=!0,o$(n,d)):n}n=i}}function a$(e){for(var t=7*e.e,a=e.d[0];a>=10;a/=10)t++;return t}function r$(e,t,a){if(t>e.LN10.sd())throw BL=!0,a&&(e.precision=a),Error(qL+"LN10 precision limit exceeded");return o$(new e(e.LN10),t)}function n$(e){for(var t="";e--;)t+="0";return t}function i$(e,t){var a,r,n,i,s,o,l,c,d,u=1,h=e,m=h.d,p=h.constructor,f=p.precision;if(h.s<1)throw Error(qL+(h.s?"NaN":"-Infinity"));if(h.eq(LL))return new p(0);if(null==t?(BL=!1,c=f):c=t,h.eq(10))return null==t&&(BL=!0),r$(p,c);if(c+=10,p.precision=c,r=(a=QL(m)).charAt(0),i=a$(h),!(Math.abs(i)<15e14))return l=r$(p,c+2,f).times(i+""),h=i$(new p(r+"."+a.slice(1)),c-10).plus(l),p.precision=f,null==t?(BL=!0,o$(h,f)):h;for(;r<7&&1!=r||1==r&&a.charAt(1)>3;)r=(a=QL((h=h.times(e)).d)).charAt(0),u++;for(i=a$(h),r>1?(h=new p("0."+a),i++):h=new p(r+"."+a.slice(1)),o=s=h=e$(h.minus(LL),h.plus(LL),c),d=o$(h.times(h),c),n=3;;){if(s=o$(s.times(d),c),QL((l=o.plus(e$(s,new p(n),c))).d).slice(0,c)===QL(o.d).slice(0,c))return o=o.times(2),0!==i&&(o=o.plus(r$(p,c+2,f).times(i+""))),o=e$(o,new p(u),c),p.precision=f,null==t?(BL=!0,o$(o,f)):o;o=l,n+=2}}function s$(e,t){var a,r,n;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(a<0&&(a=r),a+=+t.slice(r+1),t=t.substring(0,r)):a<0&&(a=t.length),r=0;48===t.charCodeAt(r);)++r;for(n=t.length;48===t.charCodeAt(n-1);)--n;if(t=t.slice(r,n)){if(n-=r,a=a-r-1,e.e=GL(a/7),e.d=[],r=(a+1)%7,a<0&&(r+=7),r<n){for(r&&e.d.push(+t.slice(0,r)),n-=7;r<n;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=n;for(;r--;)t+="0";if(e.d.push(+t),BL&&(e.e>YL||e.e<-YL))throw Error(WL+a)}else e.s=0,e.e=0,e.d=[0];return e}function o$(e,t,a){var r,n,i,s,o,l,c,d,u=e.d;for(s=1,i=u[0];i>=10;i/=10)s++;if((r=t-s)<0)r+=7,n=t,c=u[d=0];else{if((d=Math.ceil((r+1)/7))>=(i=u.length))return e;for(c=i=u[d],s=1;i>=10;i/=10)s++;n=(r%=7)-7+s}if(void 0!==a&&(o=c/(i=HL(10,s-n-1))%10|0,l=t<0||void 0!==u[d+1]||c%i,l=a<4?(o||l)&&(0==a||a==(e.s<0?3:2)):o>5||5==o&&(4==a||l||6==a&&(r>0?n>0?c/HL(10,s-n):0:u[d-1])%10&1||a==(e.s<0?8:7))),t<1||!u[0])return l?(i=a$(e),u.length=1,t=t-i-1,u[0]=HL(10,(7-t%7)%7),e.e=GL(-t/7)||0):(u.length=1,u[0]=e.e=e.s=0),e;if(0==r?(u.length=d,i=1,d--):(u.length=d+1,i=HL(10,7-r),u[d]=n>0?(c/HL(10,s-n)%HL(10,n)|0)*i:0),l)for(;;){if(0==d){(u[0]+=i)==UL&&(u[0]=1,++e.e);break}if(u[d]+=i,u[d]!=UL)break;u[d--]=0,i=1}for(r=u.length;0===u[--r];)u.pop();if(BL&&(e.e>YL||e.e<-YL))throw Error(WL+a$(e));return e}function l$(e,t){var a,r,n,i,s,o,l,c,d,u,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),BL?o$(t,m):t;if(l=e.d,u=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r){for((d=s<0)?(a=l,s=-s,o=u.length):(a=u,r=c,o=l.length),s>(n=Math.max(Math.ceil(m/7),o)+2)&&(s=n,a.length=1),a.reverse(),n=s;n--;)a.push(0);a.reverse()}else{for((d=(n=l.length)<(o=u.length))&&(o=n),n=0;n<o;n++)if(l[n]!=u[n]){d=l[n]<u[n];break}s=0}for(d&&(a=l,l=u,u=a,t.s=-t.s),o=l.length,n=u.length-o;n>0;--n)l[o++]=0;for(n=u.length;n>s;){if(l[--n]<u[n]){for(i=n;i&&0===l[--i];)l[i]=UL-1;--l[i],l[n]+=UL}l[n]-=u[n]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,BL?o$(t,m):t):new h(0)}function c$(e,t,a){var r,n=a$(e),i=QL(e.d),s=i.length;return t?(a&&(r=a-s)>0?i=i.charAt(0)+"."+i.slice(1)+n$(r):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+n$(-n-1)+i,a&&(r=a-s)>0&&(i+=n$(r))):n>=s?(i+=n$(n+1-s),a&&(r=a-n-1)>0&&(i=i+"."+n$(r))):((r=n+1)<s&&(i=i.slice(0,r)+"."+i.slice(r)),a&&(r=a-s)>0&&(n+1===s&&(i+="."),i+=n$(r))),e.s<0?"-"+i:i}function d$(e,t){if(e.length>t)return e.length=t,!0}function u$(e){if(!e||"object"!=typeof e)throw Error(qL+"Object expected");var t,a,r,n=["precision",1,$L,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if(void 0!==(r=e[a=n[t]])){if(!(GL(r)===r&&r>=n[t+1]&&r<=n[t+2]))throw Error(FL+a+": "+r);this[a]=r}if(void 0!==(r=e[a="LN10"])){if(r!=Math.LN10)throw Error(FL+a+": "+r);this[a]=new this(r)}return this}var h$=function e(t){var a,r,n;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(FL+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):s$(t,e.toString())}if("string"!=typeof e)throw Error(FL+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!VL.test(e))throw Error(FL+e);s$(t,e)}if(i.prototype=XL,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=u$,void 0===t&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],a=0;a<n.length;)t.hasOwnProperty(r=n[a++])||(t[r]=this[r]);return i.config(t),i}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});LL=new h$(1);const m$=h$;var p$=e=>e,f$={},g$=e=>e===f$,x$=e=>function t(){return 0===arguments.length||1===arguments.length&&g$(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},v$=(e,t)=>1===e?t:x$(function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];var i=r.filter(e=>e!==f$).length;return i>=e?t(...r):v$(e-i,x$(function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];var i=r.map(e=>g$(e)?a.shift():e);return t(...i,...a)}))}),b$=e=>v$(e.length,e),y$=(e,t)=>{for(var a=[],r=e;r<t;++r)a[r-e]=r;return a},_$=b$((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),j$=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),w$=e=>{var t=null,a=null;return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t&&n.every((e,a)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[a])})?a:(t=n,a=e(...n))}};function N$(e){return 0===e?1:Math.floor(new m$(e).abs().log(10).toNumber())+1}function C$(e,t,a){for(var r=new m$(e),n=0,i=[];r.lt(t)&&n<1e5;)i.push(r.toNumber()),r=r.add(a),n++;return i}b$((e,t,a)=>{var r=+e;return r+a*(+t-r)}),b$((e,t,a)=>{var r=t-+e;return(a-e)/(r=r||1/0)}),b$((e,t,a)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(a-e)/r))});var k$=e=>{var[t,a]=e,[r,n]=[t,a];return t>a&&([r,n]=[a,t]),[r,n]},S$=(e,t,a)=>{if(e.lte(0))return new m$(0);var r=N$(e.toNumber()),n=new m$(10).pow(r),i=e.div(n),s=1!==r?.05:.1,o=new m$(Math.ceil(i.div(s).toNumber())).add(a).mul(s).mul(n);return new m$(t?o.toNumber():Math.ceil(o.toNumber()))},M$=(e,t,a)=>{var r=new m$(1),n=new m$(e);if(!n.isint()&&a){var i=Math.abs(e);i<1?(r=new m$(10).pow(N$(e)-1),n=new m$(Math.floor(n.div(r).toNumber())).mul(r)):i>1&&(n=new m$(Math.floor(e)))}else 0===e?n=new m$(Math.floor((t-1)/2)):a||(n=new m$(Math.floor(e)));var s=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if(!t.length)return p$;var r=t.reverse(),n=r[0],i=r.slice(1);return function(){return i.reduce((e,t)=>t(e),n(...arguments))}}(_$(e=>n.add(new m$(e-s).mul(r)).toNumber()),y$)(0,t)},E$=function(e,t,a,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(a-1)))return{step:new m$(0),tickMin:new m$(0),tickMax:new m$(0)};var i,s=S$(new m$(t).sub(e).div(a-1),r,n);i=e<=0&&t>=0?new m$(0):(i=new m$(e).add(t).div(2)).sub(new m$(i).mod(s));var o=Math.ceil(i.sub(e).div(s).toNumber()),l=Math.ceil(new m$(t).sub(i).div(s).toNumber()),c=o+l+1;return c>a?E$(e,t,a,r,n+1):(c<a&&(l=t>0?l+(a-c):l,o=t>0?o:o+(a-c)),{step:s,tickMin:i.sub(new m$(o).mul(s)),tickMax:i.add(new m$(l).mul(s))})};var O$=w$(function(e){var[t,a]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(r,2),[s,o]=k$([t,a]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...y$(0,r-1).map(()=>1/0)]:[...y$(0,r-1).map(()=>-1/0),o];return t>a?j$(l):l}if(s===o)return M$(s,r,n);var{step:c,tickMin:d,tickMax:u}=E$(s,o,i,n,0),h=C$(d,u.add(new m$(.1).mul(c)),c);return t>a?j$(h):h}),P$=w$(function(e,t){var[a,r]=e,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[i,s]=k$([a,r]);if(i===-1/0||s===1/0)return[a,r];if(i===s)return[i];var o=Math.max(t,2),l=S$(new m$(s).sub(i).div(o-1),n,0),c=[...C$(new m$(i),new m$(s),l),s];return!1===n&&(c=c.map(e=>Math.round(e))),a>r?j$(c):c}),A$=e=>e.rootProps.maxBarSize,D$=e=>e.rootProps.barCategoryGap,I$=e=>e.rootProps.stackOffset,T$=e=>e.options.chartName,z$=e=>e.rootProps.syncId,R$=e=>e.rootProps.syncMethod,L$=e=>e.options.eventEmitter,$$=0,B$="auto",q$=!0,F$=!1,W$=!0,G$=0,H$="auto",V$=!0,U$=5,K$=(e,t)=>{if(e&&t)return null!=e&&e.reversed?[t[1],t[0]]:t},Y$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:$$,includeHidden:!1,name:void 0,reversed:!1,scale:B$,tick:q$,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},X$={allowDataOverflow:F$,allowDecimals:!1,allowDuplicatedCategory:W$,dataKey:void 0,domain:void 0,id:G$,includeHidden:!1,name:void 0,reversed:!1,scale:H$,tick:V$,tickCount:U$,ticks:void 0,type:"number",unit:void 0},J$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:$$,includeHidden:!1,name:void 0,reversed:!1,scale:B$,tick:q$,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Z$={allowDataOverflow:F$,allowDecimals:!1,allowDuplicatedCategory:W$,dataKey:void 0,domain:void 0,id:G$,includeHidden:!1,name:void 0,reversed:!1,scale:H$,tick:V$,tickCount:U$,ticks:void 0,type:"category",unit:void 0},Q$=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?J$:Y$,eB=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?Z$:X$,tB=e=>e.polarOptions,aB=yM([SP,MP,LP],nP),rB=yM([tB,aB],(e,t)=>{if(null!=e)return NN(e.innerRadius,t,0)}),nB=yM([tB,aB],(e,t)=>{if(null!=e)return NN(e.outerRadius,t,.8*t)}),iB=yM([tB],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:a}=e;return[t,a]});yM([Q$,iB],K$);var sB=yM([aB,rB,nB],(e,t,a)=>{if(null!=e&&null!=t&&null!=a)return[t,a]});yM([eB,sB],K$);var oB=yM([XP,tB,rB,nB,SP,MP],(e,t,a,r,n,i)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=a&&null!=r){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:NN(s,n,n/2),cy:NN(o,i,i/2),innerRadius:a,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),lB=(e,t)=>t,cB=(e,t,a)=>a;function dB(e){return null==e?void 0:e.id}var uB=e=>{var t=XP(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},hB=e=>e.tooltip.settings.axisId,mB=e=>{var t=uB(e),a=hB(e);return OB(e,t,a)},pB=yM([mB],e=>null==e?void 0:e.dataKey);function fB(e,t,a){var{chartData:r=[]}=t,{allowDuplicatedCategory:n,dataKey:i}=a,s=new Map;return e.forEach(e=>{var t,a=null!==(t=e.data)&&void 0!==t?t:r;if(null!=a&&0!==a.length){var o=dB(e);a.forEach((t,a)=>{var r,l=null==i||n?a:String(hP(t,i,null)),c=hP(t,e.dataKey,0);r=s.has(l)?s.get(l):{},Object.assign(r,{[o]:c}),s.set(l,r)})}}),Array.from(s.values())}function gB(e){return null!=e.stackId&&null!=e.dataKey}function xB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function vB(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xB(Object(a),!0).forEach(function(t){bB(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xB(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function bB(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var yB=[0,"auto"],_B={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},jB=(e,t)=>e.cartesianAxis.xAxis[t],wB=(e,t)=>{var a=jB(e,t);return null==a?_B:a},NB={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:yB,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},CB=(e,t)=>e.cartesianAxis.yAxis[t],kB=(e,t)=>{var a=CB(e,t);return null==a?NB:a},SB={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},MB=(e,t)=>{var a=e.cartesianAxis.zAxis[t];return null==a?SB:a},EB=(e,t,a)=>{switch(t){case"xAxis":return wB(e,a);case"yAxis":return kB(e,a);case"zAxis":return MB(e,a);case"angleAxis":return Q$(e,a);case"radiusAxis":return eB(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},OB=(e,t,a)=>{switch(t){case"xAxis":return wB(e,a);case"yAxis":return kB(e,a);case"angleAxis":return Q$(e,a);case"radiusAxis":return eB(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},PB=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function AB(e,t){return a=>{switch(e){case"xAxis":return"xAxisId"in a&&a.xAxisId===t;case"yAxis":return"yAxisId"in a&&a.yAxisId===t;case"zAxis":return"zAxisId"in a&&a.zAxisId===t;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===t;default:return!1}}}var DB=e=>e.graphicalItems.cartesianItems,IB=yM([lB,cB],AB),TB=(e,t,a)=>e.filter(a).filter(e=>!0===(null==t?void 0:t.includeHidden)||!e.hide),zB=yM([DB,EB,IB],TB),RB=yM([zB],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(gB)),LB=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),$B=yM([zB],LB),BB=e=>e.map(e=>e.data).filter(Boolean).flat(1),qB=yM([zB],BB),FB=(e,t)=>{var{chartData:a=[],dataStartIndex:r,dataEndIndex:n}=t;return e.length>0?e:a.slice(r,n+1)},WB=yM([qB,TL],FB),GB=(e,t,a)=>null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:hP(e,t.dataKey)})):a.length>0?a.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:hP(e,t)}))):e.map(e=>({value:e})),HB=yM([WB,EB,zB],GB);function VB(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function UB(e){return e.filter(e=>_N(e)||e instanceof Date).map(Number).filter(e=>!1===vN(e))}function KB(e,t,a){return!a||"number"!=typeof t||vN(t)?[]:a.length?UB(a.flatMap(a=>{var r,n,i=hP(e,a.dataKey);if(Array.isArray(i)?[r,n]=i:r=n=i,PA(r)&&PA(n))return[t-r,t+n]})):[]}var YB=yM([RB,TL,mB],fB),XB=(e,t,a)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,n]=t,i=n.map(dB);return[r,{stackedData:vP(e,i,a),graphicalItems:n}]}))},JB=yM([YB,RB,I$],XB),ZB=(e,t,a)=>{var{dataStartIndex:r,dataEndIndex:n}=t;if("zAxis"!==a){var i=_P(e,r,n);if(null==i||0!==i[0]||0!==i[1])return i}},QB=yM([JB,DL,lB],ZB),eq=(e,t,a,r,n)=>a.length>0?e.flatMap(e=>a.flatMap(a=>{var i,s,o=null===(i=r[a.id])||void 0===i?void 0:i.filter(e=>VB(n,e)),l=hP(e,null!==(s=t.dataKey)&&void 0!==s?s:a.dataKey);return{value:l,errorDomain:KB(e,l,o)}})).filter(Boolean):null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:hP(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),tq=e=>e.errorBars,aq=(e,t,a)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>VB(a,e));yM([$B,tq,lB],aq);var rq=yM([WB,EB,$B,tq,lB],eq);function nq(e){var{value:t}=e;if(_N(t)||t instanceof Date)return t}var iq=e=>{var t=UB(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]},sq=e=>{var t;if(null==e||!("domain"in e))return yB;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var a=UB(e.ticks);return[Math.min(...a),Math.max(...a)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null==e?void 0:e.domain)&&void 0!==t?t:yB},oq=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var r=t.filter(Boolean);if(0!==r.length){var n=r.flat();return[Math.min(...n),Math.max(...n)]}},lq=e=>e.referenceElements.dots,cq=(e,t,a)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===a:e.yAxisId===a),dq=yM([lq,lB,cB],cq),uq=e=>e.referenceElements.areas,hq=yM([uq,lB,cB],cq),mq=e=>e.referenceElements.lines,pq=yM([mq,lB,cB],cq),fq=(e,t)=>{var a=UB(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==a.length)return[Math.min(...a),Math.max(...a)]},gq=yM(dq,lB,fq),xq=(e,t)=>{var a=UB(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==a.length)return[Math.min(...a),Math.max(...a)]},vq=yM([hq,lB],xq),bq=(e,t)=>{var a=UB(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==a.length)return[Math.min(...a),Math.max(...a)]},yq=yM(pq,lB,bq),_q=yM(gq,yq,vq,(e,t,a)=>oq(e,a,t)),jq=yM([EB],sq),wq=(e,t,a,r,n,i,s)=>{var o=function(e,t){if(t&&"function"!=typeof e&&Array.isArray(e)&&2===e.length){var a,r,[n,i]=e;if(PA(n))a=n;else if("function"==typeof n)return;if(PA(i))r=i;else if("function"==typeof i)return;var s=[a,r];if(zL(s))return s}}(t,e.allowDataOverflow);return null!=o?o:function(e,t,a){if(a||null!=t){if("function"==typeof e&&null!=t)try{var r=e(t,a);if(zL(r))return RL(r,t,a)}catch(m){}if(Array.isArray(e)&&2===e.length){var n,i,[s,o]=e;if("auto"===s)null!=t&&(n=Math.min(...t));else if(yN(s))n=s;else if("function"==typeof s)try{null!=t&&(n=s(null==t?void 0:t[0]))}catch(p){}else if("string"==typeof s&&jP.test(s)){var l=jP.exec(s);if(null==l||null==t)n=void 0;else{var c=+l[1];n=t[0]-c}}else n=null==t?void 0:t[0];if("auto"===o)null!=t&&(i=Math.max(...t));else if(yN(o))i=o;else if("function"==typeof o)try{null!=t&&(i=o(null==t?void 0:t[1]))}catch(f){}else if("string"==typeof o&&wP.test(o)){var d=wP.exec(o);if(null==d||null==t)i=void 0;else{var u=+d[1];i=t[1]+u}}else i=null==t?void 0:t[1];var h=[n,i];if(zL(h))return null==t?h:RL(h,t,a)}}}(t,"vertical"===i&&"xAxis"===s||"horizontal"===i&&"yAxis"===s?oq(a,n,iq(r)):oq(n,iq(r)),e.allowDataOverflow)},Nq=yM([EB,jq,QB,rq,_q,XP,lB],wq),Cq=[0,1],kq=(e,t,a,r,n,i,s)=>{if(null!=e&&null!=a&&0!==a.length||void 0!==s){var{dataKey:o,type:l}=e,c=mP(t,i);return c&&null==o?ZD(0,a.length):"category"===l?((e,t,a)=>{var r=e.map(nq).filter(e=>null!=e);return a&&(null==t.dataKey||t.allowDuplicatedCategory&&CN(r))?ZD(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===n?Cq:s}},Sq=yM([EB,XP,WB,HB,I$,lB,Nq],kq),Mq=(e,t,a,r,n)=>{if(null!=e){var{scale:i,type:s}=e;if("auto"===i)return"radial"===t&&"radiusAxis"===n?"band":"radial"===t&&"angleAxis"===n?"linear":"category"===s&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?"point":"category"===s?"band":"linear";if("string"==typeof i){var o="scale".concat(EN(i));return o in AL?o:"point"}}},Eq=yM([EB,XP,PB,T$,lB],Mq);function Oq(e,t,a,r){if(null!=a&&null!=r){if("function"==typeof e.scale)return e.scale.copy().domain(a).range(r);var n=function(e){if(null!=e){if(e in AL)return AL[e]();var t="scale".concat(EN(e));return t in AL?AL[t]():void 0}}(t);if(null!=n){var i=n.domain(a).range(r);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var a=t.length,r=e.range(),n=Math.min(r[0],r[1])-gP,i=Math.max(r[0],r[1])+gP,s=e(t[0]),o=e(t[a-1]);(s<n||s>i||o<n||o>i)&&e.domain([t[0],t[a-1]])}})(i),i}}}var Pq=(e,t,a)=>{var r=sq(t);if("auto"===a||"linear"===a)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&zL(e)?O$(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&zL(e)?P$(e,t.tickCount,t.allowDecimals):void 0},Aq=yM([Sq,OB,Eq],Pq),Dq=(e,t,a,r)=>{if("angleAxis"!==r&&"number"===(null==e?void 0:e.type)&&zL(t)&&Array.isArray(a)&&a.length>0){var n=t[0],i=a[0],s=t[1],o=a[a.length-1];return[Math.min(n,i),Math.max(s,o)]}return t},Iq=yM([EB,Sq,Aq,lB],Dq),Tq=yM(HB,EB,(e,t)=>{if(t&&"number"===t.type){var a=1/0,r=Array.from(UB(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var n=r[r.length-1]-r[0];if(0===n)return 1/0;for(var i=0;i<r.length-1;i++){var s=r[i+1]-r[i];a=Math.min(a,s)}return a/n}}),zq=yM(Tq,XP,D$,LP,(e,t,a,r)=>r,(e,t,a,r,n)=>{if(!PA(e))return 0;var i="vertical"===t?r.height:r.width;if("gap"===n)return e*i/2;if("no-gap"===n){var s=NN(a,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),Rq=yM(wB,(e,t)=>{var a=wB(e,t);return null==a||"string"!=typeof a.padding?0:zq(e,"xAxis",t,a.padding)},(e,t)=>{var a,r;if(null==e)return{left:0,right:0};var{padding:n}=e;return"string"==typeof n?{left:t,right:t}:{left:(null!==(a=n.left)&&void 0!==a?a:0)+t,right:(null!==(r=n.right)&&void 0!==r?r:0)+t}}),Lq=yM(kB,(e,t)=>{var a=kB(e,t);return null==a||"string"!=typeof a.padding?0:zq(e,"yAxis",t,a.padding)},(e,t)=>{var a,r;if(null==e)return{top:0,bottom:0};var{padding:n}=e;return"string"==typeof n?{top:t,bottom:t}:{top:(null!==(a=n.top)&&void 0!==a?a:0)+t,bottom:(null!==(r=n.bottom)&&void 0!==r?r:0)+t}}),$q=yM([LP,Rq,GP,WP,(e,t,a)=>a],(e,t,a,r,n)=>{var{padding:i}=r;return n?[i.left,a.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Bq=yM([LP,XP,Lq,GP,WP,(e,t,a)=>a],(e,t,a,r,n,i)=>{var{padding:s}=n;return i?[r.height-s.bottom,s.top]:"horizontal"===t?[e.top+e.height-a.bottom,e.top+a.top]:[e.top+a.top,e.top+e.height-a.bottom]}),qq=(e,t,a,r)=>{var n;switch(t){case"xAxis":return $q(e,a,r);case"yAxis":return Bq(e,a,r);case"zAxis":return null===(n=MB(e,a))||void 0===n?void 0:n.range;case"angleAxis":return iB(e);case"radiusAxis":return sB(e,a);default:return}},Fq=yM([EB,qq],K$),Wq=yM([EB,Eq,Iq,Fq],Oq);function Gq(e,t){return e.id<t.id?-1:e.id>t.id?1:0}yM([zB,tq,lB],aq);var Hq=(e,t)=>t,Vq=(e,t,a)=>a,Uq=yM(PP,Hq,Vq,(e,t,a)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===a).sort(Gq)),Kq=yM(AP,Hq,Vq,(e,t,a)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===a).sort(Gq)),Yq=(e,t)=>({width:e.width,height:t.height}),Xq=yM(LP,wB,Yq),Jq=yM(MP,LP,Uq,Hq,Vq,(e,t,a,r,n)=>{var i,s={};return a.forEach(a=>{var o=Yq(t,a);null==i&&(i=((e,t,a)=>{switch(t){case"top":return e.top;case"bottom":return a-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!n||"bottom"===r&&n;s[a.id]=i-Number(l)*o.height,i+=(l?-1:1)*o.height}),s}),Zq=yM(SP,LP,Kq,Hq,Vq,(e,t,a,r,n)=>{var i,s={};return a.forEach(a=>{var o=((e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height}))(t,a);null==i&&(i=((e,t,a)=>{switch(t){case"left":return e.left;case"right":return a-e.right;default:return 0}})(t,r,e));var l="left"===r&&!n||"right"===r&&n;s[a.id]=i-Number(l)*o.width,i+=(l?-1:1)*o.width}),s}),Qq=yM(LP,kB,(e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height})),eF=(e,t,a)=>{switch(t){case"xAxis":return Xq(e,a).width;case"yAxis":return Qq(e,a).height;default:return}},tF=(e,t,a,r)=>{if(null!=a){var{allowDuplicatedCategory:n,type:i,dataKey:s}=a,o=mP(e,r),l=t.map(e=>e.value);return s&&o&&"category"===i&&n&&CN(l)?l:void 0}},aF=yM([XP,HB,EB,lB],tF),rF=(e,t,a,r)=>{if(null!=a&&null!=a.dataKey){var{type:n,scale:i}=a;return!mP(e,r)||"number"!==n&&"auto"===i?void 0:t.map(e=>e.value)}},nF=yM([XP,HB,OB,lB],rF),iF=yM([XP,(e,t,a)=>{switch(t){case"xAxis":return wB(e,a);case"yAxis":return kB(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},Eq,Wq,aF,nF,qq,Aq,lB],(e,t,a,r,n,i,s,o,l)=>{if(null==t)return null;var c=mP(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:n,isCategorical:c,niceTicks:o,range:s,realScaleType:a,scale:r}}),sF=yM([XP,OB,Eq,Wq,Aq,qq,aF,nF,lB],(e,t,a,r,n,i,s,o,l)=>{if(null!=t&&null!=r){var c=mP(e,l),{type:d,ticks:u,tickCount:h}=t,m="scaleBand"===a&&"function"==typeof r.bandwidth?r.bandwidth()/2:2,p="category"===d&&r.bandwidth?r.bandwidth()/m:0;p="angleAxis"===l&&null!=i&&i.length>=2?2*xN(i[0]-i[1])*p:p;var f=u||n;return f?f.map((e,t)=>{var a=s?s.indexOf(e):e;return{index:t,coordinate:r(a)+p,value:e,offset:p}}).filter(e=>!vN(e.coordinate)):c&&o?o.map((e,t)=>({coordinate:r(e)+p,value:e,index:t,offset:p})):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+p,value:e,offset:p})):r.domain().map((e,t)=>({coordinate:r(e)+p,value:s?s[e]:e,index:t,offset:p}))}}),oF=yM([XP,OB,Wq,qq,aF,nF,lB],(e,t,a,r,n,i,s)=>{if(null!=t&&null!=a&&null!=r&&r[0]!==r[1]){var o=mP(e,s),{tickCount:l}=t,c=0;return c="angleAxis"===s&&(null==r?void 0:r.length)>=2?2*xN(r[0]-r[1])*c:c,o&&i?i.map((e,t)=>({coordinate:a(e)+c,value:e,index:t,offset:c})):a.ticks?a.ticks(l).map(e=>({coordinate:a(e)+c,value:e,offset:c})):a.domain().map((e,t)=>({coordinate:a(e)+c,value:n?n[e]:e,index:t,offset:c}))}}),lF=yM(EB,Wq,(e,t)=>{if(null!=e&&null!=t)return vB(vB({},e),{},{scale:t})}),cF=yM([EB,Eq,Sq,Fq],Oq);yM((e,t,a)=>MB(e,a),cF,(e,t)=>{if(null!=e&&null!=t)return vB(vB({},e),{},{scale:t})});var dF=yM([XP,PP,AP],(e,t,a)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),uF=e=>e.options.defaultTooltipEventType,hF=e=>e.options.validateTooltipEventTypes;function mF(e,t,a){if(null==e)return t;var r=e?"axis":"item";return null==a?t:a.includes(r)?r:t}function pF(e,t){return mF(t,uF(e),hF(e))}var fF=(e,t)=>{var a,r=Number(t);if(!vN(r)&&null!=t)return r>=0?null==e||null===(a=e[r])||void 0===a?void 0:a.value:void 0},gF={active:!1,index:null,dataKey:void 0,coordinate:void 0},xF=uO({name:"tooltip",initialState:{itemInteraction:{click:gF,hover:gF},axisInteraction:{click:gF,hover:gF},keyboardInteraction:gF,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var a=GE(e).tooltipItemPayloads.indexOf(t.payload);a>-1&&e.tooltipItemPayloads.splice(a,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:vF,removeTooltipEntrySettings:bF,setTooltipSettingsState:yF,setActiveMouseOverItemIndex:_F,mouseLeaveItem:jF,mouseLeaveChart:wF,setActiveClickItemIndex:NF,setMouseOverAxisIndex:CF,setMouseClickAxisIndex:kF,setSyncInteraction:SF,setKeyboardInteraction:MF}=xF.actions,EF=xF.reducer;function OF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function PF(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?OF(Object(a),!0).forEach(function(t){AF(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):OF(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function AF(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var DF=(e,t,a,r)=>{if(null==t)return gF;var n=function(e,t,a){return"axis"===t?"click"===a?e.axisInteraction.click:e.axisInteraction.hover:"click"===a?e.itemInteraction.click:e.itemInteraction.hover}(e,t,a);if(null==n)return gF;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var i=!0===e.settings.active;if(null!=n.index){if(i)return PF(PF({},n),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return PF(PF({},gF),{},{coordinate:n.coordinate})},IF=(e,t)=>{var a=null==e?void 0:e.index;if(null==a)return null;var r=Number(a);if(!PA(r))return a;var n=1/0;return t.length>0&&(n=t.length-1),String(Math.max(0,Math.min(r,n)))},TF=(e,t,a,r,n,i,s,o)=>{if(null!=i&&null!=o){var l=s[0],c=null==l?void 0:o(l.positions,i);if(null!=c)return c;var d=null==n?void 0:n[Number(i)];if(d)return"horizontal"===a?{x:d.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:d.coordinate}}},zF=(e,t,a,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(n="hover"===a?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===n});var n},RF=e=>e.options.tooltipPayloadSearcher,LF=e=>e.tooltip;function $F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function BF(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$F(Object(a),!0).forEach(function(t){qF(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$F(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function qF(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var FF=(e,t,a,r,n,i,s)=>{if(null!=t&&null!=i){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=a;return e.reduce((e,a)=>{var u,h,m,{dataDefinedOnItem:p,settings:f}=a,g=function(e,t){return null!=e?e:t}(p,o),x=Array.isArray(g)?lP(g,c,d):g,v=null!==(u=null==f?void 0:f.dataKey)&&void 0!==u?u:r,b=null==f?void 0:f.nameKey;(h=r&&Array.isArray(x)&&!Array.isArray(x[0])&&"axis"===s?SN(x,r,n):i(x,t,l,b),Array.isArray(h))?h.forEach(t=>{var a=BF(BF({},f),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(CP({tooltipEntrySettings:a,dataKey:t.dataKey,payload:t.payload,value:hP(t.payload,t.dataKey),name:t.name}))}):e.push(CP({tooltipEntrySettings:f,dataKey:v,payload:h,value:hP(h,v),name:null!==(m=hP(h,b))&&void 0!==m?m:null==f?void 0:f.name}));return e},[])}},WF=yM([mB,XP,PB,T$,uB],Mq),GF=yM([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),HF=yM([uB,hB],AB),VF=yM([GF,mB,HF],TB),UF=yM([VF],e=>e.filter(gB)),KF=yM([VF],BB),YF=yM([KF,DL],FB),XF=yM([UF,DL,mB],fB),JF=yM([YF,mB,VF],GB),ZF=yM([mB],sq),QF=yM([VF],e=>e.filter(gB)),eW=yM([XF,QF,I$],XB),tW=yM([eW,DL,uB],ZB),aW=yM([VF],LB),rW=yM([YF,mB,aW,tq,uB],eq),nW=yM([lq,uB,hB],cq),iW=yM([nW,uB],fq),sW=yM([uq,uB,hB],cq),oW=yM([sW,uB],xq),lW=yM([mq,uB,hB],cq),cW=yM([lW,uB],bq),dW=yM([iW,cW,oW],oq),uW=yM([mB,ZF,tW,rW,dW,XP,uB],wq),hW=yM([mB,XP,YF,JF,I$,uB,uW],kq),mW=yM([hW,mB,WF],Pq),pW=yM([mB,hW,mW,uB],Dq),fW=e=>{var t=uB(e),a=hB(e);return qq(e,t,a,!1)},gW=yM([mB,fW],K$),xW=yM([mB,WF,pW,gW],Oq),vW=yM([XP,JF,mB,uB],tF),bW=yM([XP,JF,mB,uB],rF),yW=yM([XP,mB,WF,xW,fW,vW,bW,uB],(e,t,a,r,n,i,s,o)=>{if(t){var{type:l}=t,c=mP(e,o);if(r){var d="scaleBand"===a&&r.bandwidth?r.bandwidth()/2:2,u="category"===l&&r.bandwidth?r.bandwidth()/d:0;return u="angleAxis"===o&&null!=n&&(null==n?void 0:n.length)>=2?2*xN(n[0]-n[1])*u:u,c&&s?s.map((e,t)=>({coordinate:r(e)+u,value:e,index:t,offset:u})):r.domain().map((e,t)=>({coordinate:r(e)+u,value:i?i[e]:e,index:t,offset:u}))}}}),_W=yM([uF,hF,e=>e.tooltip.settings],(e,t,a)=>mF(a.shared,e,t)),jW=e=>e.tooltip.settings.trigger,wW=e=>e.tooltip.settings.defaultIndex,NW=yM([LF,_W,jW,wW],DF),CW=yM([NW,YF],IF),kW=yM([yW,CW],fF),SW=yM([NW],e=>{if(e)return e.dataKey}),MW=yM([LF,_W,jW,wW],zF),EW=yM([SP,MP,XP,LP,yW,wW,MW,RF],TF),OW=yM([NW,EW],(e,t)=>null!=e&&e.coordinate?e.coordinate:t),PW=yM([NW],e=>e.active),AW=yM([MW,CW,DL,pB,kW,RF,_W],FF),DW=yM([AW],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}});function IW(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function TW(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?IW(Object(a),!0).forEach(function(t){zW(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):IW(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function zW(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var RW=()=>{var e=hM(mB),t=hM(yW),a=hM(xW);return NP(TW(TW({},e),{},{scale:a}),t)},LW=(e,t)=>t,$W=(e,t,a)=>a,BW=(e,t,a,r)=>r,qW=yM(yW,e=>HM(e,e=>e.coordinate)),FW=yM([LF,LW,$W,BW],DF),WW=yM([FW,YF],IF),GW=yM([LF,LW,$W,BW],zF),HW=yM([SP,MP,XP,LP,yW,BW,GW,RF],TF),VW=yM([FW,HW],(e,t)=>{var a;return null!==(a=e.coordinate)&&void 0!==a?a:t}),UW=yM(yW,WW,fF),KW=yM([GW,WW,DL,pB,UW,RF,LW],FF),YW=yM([FW],e=>({isActive:e.active,activeIndex:e.index}));function XW(){return XW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},XW.apply(null,arguments)}function JW(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function ZW(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?JW(Object(a),!0).forEach(function(t){QW(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):JW(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function QW(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function eG(e){var t,a,{coordinate:r,payload:n,index:i,offset:s,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:d,chartName:u}=e,h=r,m=n,p=i;if(!c||!h||"ScatterChart"!==u&&"axis"!==d)return null;if("ScatterChart"===u)t=h,a=KA;else if("BarChart"===u)t=function(e,t,a,r){var n=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-n:a.left+.5,y:"horizontal"===e?a.top+.5:t.y-n,width:"horizontal"===e?r:a.width-1,height:"horizontal"===e?a.height-1:r}}(l,h,s,o),a=AD;else if("radial"===l){var{cx:g,cy:x,radius:v,startAngle:b,endAngle:y}=DD(h);t={cx:g,cy:x,startAngle:b,endAngle:y,innerRadius:v,outerRadius:v},a=LD}else t={points:$D(l,h,s)},a=FA;var _="object"==typeof c&&"className"in c?c.className:void 0,j=ZW(ZW(ZW(ZW({stroke:"#ccc",pointerEvents:"none"},s),t),HN(c,!1)),{},{payload:m,payloadIndex:p,className:Ce("recharts-tooltip-cursor",_)});return f.isValidElement(c)?f.cloneElement(c,j):f.createElement(a,j)}function tG(e){var t=RW(),a=UP(),r=JP(),n=hM(T$);return f.createElement(eG,XW({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:a,layout:r,tooltipAxisBandSize:t,chartName:n}))}var aG,rG=f.createContext(null),nG={exports:{}};var iG=(aG||(aG=1,function(e){var t=Object.prototype.hasOwnProperty,a="~";function r(){}function n(e,t,a){this.fn=e,this.context=t,this.once=a||!1}function i(e,t,r,i,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new n(r,i||e,s),l=a?a+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(a=!1)),o.prototype.eventNames=function(){var e,r,n=[];if(0===this._eventsCount)return n;for(r in e=this._events)t.call(e,r)&&n.push(a?r.slice(1):r);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,s=new Array(i);n<i;n++)s[n]=r[n].fn;return s},o.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,n,i,s){var o=a?a+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,n),!0;case 5:return d.fn.call(d.context,t,r,n,i),!0;case 6:return d.fn.call(d.context,t,r,n,i,s),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var h,m=d.length;for(c=0;c<m;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,n);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,a){return i(this,e,t,a,!1)},o.prototype.once=function(e,t,a){return i(this,e,t,a,!0)},o.prototype.removeListener=function(e,t,r,n){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||s(this,i);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||n&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=a,o.EventEmitter=o,e.exports=o}(nG)),nG.exports);var sG=new(t(iG)),oG="recharts.syncEvent.tooltip",lG="recharts.syncEvent.brush";function cG(e,t){if(t){var a=Number.parseInt(t,10);if(!vN(a))return null==e?void 0:e[a]}}var dG=uO({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),uG=dG.reducer,{createEventEmitter:hG}=dG.actions;function mG(e){return e.tooltip.syncInteraction}var pG=uO({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:a,endIndex:r}=t.payload;null!=a&&(e.dataStartIndex=a),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:fG,setDataStartEndIndexes:gG,setComputedData:xG}=pG.actions,vG=pG.reducer,bG=["x","y"];function yG(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function _G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yG(Object(a),!0).forEach(function(t){jG(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yG(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function jG(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var wG=()=>{};function NG(){var e=hM(z$),t=hM(L$),a=lM(),r=hM(R$),n=hM(yW),i=JP(),s=HP(),o=hM(e=>e.rootProps.className);f.useEffect(()=>{if(null==e)return wG;var o=(o,l,c)=>{var d;if(t!==c&&e===o)if("index"!==r){if(null!=n){var u;if("function"==typeof r){var h={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},m=r(n,h);u=n[m]}else"value"===r&&(u=n.find(e=>String(e.value)===l.payload.label));var{coordinate:p}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=p&&null!=s){var{x:f,y:g}=p,x=Math.min(f,s.x+s.width),v=Math.min(g,s.y+s.height),b={x:"horizontal"===i?u.coordinate:x,y:"horizontal"===i?v:u.coordinate},y=SF({active:l.payload.active,coordinate:b,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label});a(y)}else a(SF({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else if(s&&null!=l&&null!==(d=l.payload)&&void 0!==d&&d.coordinate){var _=l.payload.coordinate,{x:j,y:w}=_,N=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(_,bG),C=_G(_G(_G({},N),"number"==typeof j&&{x:Math.max(s.x,Math.min(j,s.x+s.width))}),"number"==typeof w&&{y:Math.max(s.y,Math.min(w,s.y+s.height))}),k=_G(_G({},l),{},{payload:_G(_G({},l.payload),{},{coordinate:C})});a(k)}else a(l)};return sG.on(oG,o),()=>{sG.off(oG,o)}},[o,a,t,e,r,n,i,s])}function CG(){var e=lM();f.useEffect(()=>{e(hG())},[e]),NG(),function(){var e=hM(z$),t=hM(L$),a=lM();f.useEffect(()=>{if(null==e)return wG;var r=(r,n,i)=>{t!==i&&e===r&&a(gG(n))};return sG.on(lG,r),()=>{sG.off(lG,r)}},[a,t,e])}()}function kG(e,t,a,r,n,i){var s=hM(a=>((e,t,a)=>{if(null!=t){var r=LF(e);return"axis"===t?"hover"===a?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===a?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(a,e,t)),o=hM(L$),l=hM(z$),c=hM(R$),d=hM(mG),u=null==d?void 0:d.active;f.useEffect(()=>{if(!u&&null!=l&&null!=o){var e=SF({active:i,coordinate:a,dataKey:s,index:n,label:"number"==typeof r?String(r):r});sG.emit(oG,l,e,o)}},[u,a,s,n,r,o,l,c,i])}function SG(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function MG(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?SG(Object(a),!0).forEach(function(t){EG(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):SG(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function EG(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function OG(e){return e.dataKey}var PG=[],AG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!EA,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function DG(e){var t=JA(e,AG),{active:a,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,content:s,filterNull:o,isAnimationActive:l,offset:c,payloadUniqBy:d,position:u,reverseDirection:h,useTranslate3d:m,wrapperStyle:p,cursor:g,shared:x,trigger:v,defaultIndex:b,portal:y,axisId:_}=t,j=lM(),w="number"==typeof b?String(b):b;f.useEffect(()=>{j(yF({shared:x,trigger:v,axisId:_,active:a,defaultIndex:w}))},[j,x,v,_,a,w]);var N=HP(),C=OA(),k=function(e){return hM(t=>pF(t,e))}(x),{activeIndex:S,isActive:M}=hM(e=>YW(e,k,v,w)),E=hM(e=>KW(e,k,v,w)),O=hM(e=>UW(e,k,v,w)),P=hM(e=>VW(e,k,v,w)),A=E,D=f.useContext(rG),I=null!=a?a:M,[T,z]=KM([A,I]),R="axis"===k?O:void 0;kG(k,v,P,R,S,I);var L=null!=y?y:D;if(null==L)return null;var $=null!=A?A:PG;I||($=PG),o&&$.length&&($=YS(A.filter(e=>null!=e.value&&(!0!==e.hide||t.includeHidden)),d,OG));var B=$.length>0,q=f.createElement(MA,{allowEscapeViewBox:r,animationDuration:n,animationEasing:i,isAnimationActive:l,active:I,coordinate:P,hasPayload:B,offset:c,position:u,reverseDirection:h,useTranslate3d:m,viewBox:N,wrapperStyle:p,lastBoundingBox:T,innerRef:z,hasPortalFromProps:Boolean(y)},function(e,t){return f.isValidElement(e)?f.cloneElement(e,t):"function"==typeof e?f.createElement(e,t):f.createElement(yA,t)}(s,MG(MG({},t),{},{payload:$,label:R,active:I,coordinate:P,accessibilityLayer:C})));return f.createElement(f.Fragment,null,ZN.createPortal(q,L),I&&f.createElement(tG,{cursor:g,tooltipEventType:k,coordinate:P,payload:A,index:S}))}var IG,TG,zG,RG,LG,$G={},BG={},qG={};function FG(){return IG||(IG=1,e=qG,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.debounce=function(e,t,{signal:a,edges:r}={}){let n,i=null;const s=null!=r&&r.includes("leading"),o=null==r||r.includes("trailing"),l=()=>{null!==i&&(e.apply(n,i),n=void 0,i=null)};let c=null;const d=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),u()},t)},u=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,i=null},h=function(...e){if(a?.aborted)return;n=this,i=e;const t=null==c;d(),s&&t&&l()};return h.schedule=d,h.cancel=u,h.flush=()=>{l()},a?.addEventListener("abort",u,{once:!0}),h}),qG;var e}function WG(){return TG||(TG=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FG();e.debounce=function(e,a=0,r={}){"object"!=typeof r&&(r={});const{leading:n=!1,trailing:i=!0,maxWait:s}=r,o=Array(2);let l;n&&(o[0]="leading"),i&&(o[1]="trailing");let c=null;const d=t.debounce(function(...t){l=e.apply(this,t),c=null},a,{edges:o}),u=function(...t){return null!=s&&(null===c&&(c=Date.now()),Date.now()-c>=s)?(l=e.apply(this,t),c=Date.now(),d.cancel(),d.schedule(),l):(d.apply(this,t),l)};return u.cancel=d.cancel,u.flush=()=>(d.flush(),l),u}}(BG)),BG}function GG(){return zG||(zG=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WG();e.throttle=function(e,a=0,r={}){const{leading:n=!0,trailing:i=!0}=r;return t.debounce(e,a,{leading:n,maxWait:a,trailing:i})}}($G)),$G}function HG(){return LG?RG:(LG=1,RG=GG().throttle)}const VG=t(HG());var UG=function(e,t){for(var a=arguments.length,r=new Array(a>2?a-2:0),n=2;n<a;n++)r[n-2]=arguments[n]};function KG(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function YG(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?KG(Object(a),!0).forEach(function(t){XG(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):KG(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function XG(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var JG=f.forwardRef((e,t)=>{var{aspect:a,initialDimension:r={width:-1,height:-1},width:n="100%",height:i="100%",minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:d=0,id:u,className:h,onResize:m,style:p={}}=e,g=f.useRef(null),x=f.useRef();x.current=m,f.useImperativeHandle(t,()=>g.current);var[v,b]=f.useState({containerWidth:r.width,containerHeight:r.height}),y=f.useCallback((e,t)=>{b(a=>{var r=Math.round(e),n=Math.round(t);return a.containerWidth===r&&a.containerHeight===n?a:{containerWidth:r,containerHeight:n}})},[]);f.useEffect(()=>{var e=e=>{var t,{width:a,height:r}=e[0].contentRect;y(a,r),null===(t=x.current)||void 0===t||t.call(x,a,r)};d>0&&(e=VG(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:a,height:r}=g.current.getBoundingClientRect();return y(a,r),t.observe(g.current),()=>{t.disconnect()}},[y,d]);var _=f.useMemo(()=>{var{containerWidth:e,containerHeight:t}=v;if(e<0||t<0)return null;UG(bN(n)||bN(i),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",n,i),UG(!a||a>0,"The aspect(%s) must be greater than zero.",a);var r=bN(n)?e:n,d=bN(i)?t:i;return a&&a>0&&(r?d=r/a:d&&(r=d*a),l&&d>l&&(d=l)),UG(r>0||d>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,d,n,i,s,o,a),f.Children.map(c,e=>f.cloneElement(e,{width:r,height:d,style:YG({width:r,height:d},e.props.style)}))},[a,c,i,l,o,s,v,n]);return f.createElement("div",{id:u?"".concat(u):void 0,className:Ce("recharts-responsive-container",h),style:YG(YG({},p),{},{width:n,height:i,minWidth:s,minHeight:o,maxHeight:l}),ref:g},f.createElement("div",{style:{width:0,height:0,overflow:"visible"}},_))}),ZG=e=>null;function QG(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}ZG.displayName="Cell";function eH(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function tH(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var aH=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?eH(Object(a),!0).forEach(function(t){tH(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eH(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},{cacheSize:2e3,enableCache:!0}),rH=new class{constructor(e){QG(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(aH.cacheSize),nH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iH="recharts_measurement_span";var sH=(e,t)=>{try{var a=document.getElementById(iH);a||((a=document.createElement("span")).setAttribute("id",iH),a.setAttribute("aria-hidden","true"),document.body.appendChild(a)),Object.assign(a.style,nH,t),a.textContent="".concat(e);var r=a.getBoundingClientRect();return{width:r.width,height:r.height}}catch(n){return{width:0,height:0}}},oH=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||EA)return{width:0,height:0};if(!aH.enableCache)return sH(e,t);var a=function(e,t){var a=t.fontSize||"",r=t.fontFamily||"",n=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(a,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(o)}(e,t),r=rH.get(a);if(r)return r;var n=sH(e,t);return rH.set(a,n),n},lH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,uH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},mH=Object.keys(hH),pH="NaN";class fH{static parse(e){var t,[,a,r]=null!==(t=uH.exec(e))&&void 0!==t?t:[];return new fH(parseFloat(a),null!=r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,vN(e)&&(this.unit=""),""===t||dH.test(t)||(this.num=NaN,this.unit=""),mH.includes(t)&&(this.num=function(e,t){return e*hH[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new fH(NaN,""):new fH(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new fH(NaN,""):new fH(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new fH(NaN,""):new fH(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new fH(NaN,""):new fH(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return vN(this.num)}}function gH(e){if(e.includes(pH))return pH;for(var t=e;t.includes("*")||t.includes("/");){var a,[,r,n,i]=null!==(a=lH.exec(t))&&void 0!==a?a:[],s=fH.parse(null!=r?r:""),o=fH.parse(null!=i?i:""),l="*"===n?s.multiply(o):s.divide(o);if(l.isNaN())return pH;t=t.replace(lH,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,u,h]=null!==(c=cH.exec(t))&&void 0!==c?c:[],m=fH.parse(null!=d?d:""),p=fH.parse(null!=h?h:""),f="+"===u?m.add(p):m.subtract(p);if(f.isNaN())return pH;t=t.replace(cH,f.toString())}return t}var xH=/\(([^()]*)\)/;function vH(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,a=e;null!=(t=xH.exec(a));){var[,r]=t;a=a.replace(xH,gH(r))}return a}(t),t=gH(t)}function bH(e){var t=function(e){try{return vH(e)}catch(t){return pH}}(e.slice(5,-1));return t===pH?"":t}var yH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_H=["dx","dy","angle","className","breakAll"];function jH(){return jH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},jH.apply(null,arguments)}function wH(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var NH=/[ \f\n\r\t\v\u2028\u2029]+/,CH=e=>{var{children:t,breakAll:a,style:r}=e;try{var n=[];return MN(t)||(n=a?t.toString().split(""):t.toString().split(NH)),{wordsWithComputedWidth:n.map(e=>({word:e,width:oH(e,r).width})),spaceWidth:a?0:oH(" ",r).width}}catch(i){return null}},kH=e=>[{words:MN(e)?[]:e.toString().split(NH)}],SH=e=>{var{width:t,scaleToFit:a,children:r,style:n,breakAll:i,maxLines:s}=e;if((t||a)&&!EA){var o=CH({breakAll:i,children:r,style:n});if(!o)return kH(r);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,a,r,n)=>{var{maxLines:i,children:s,style:o,breakAll:l}=e,c=yN(i),d=s,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:i,width:s}=t,o=e[e.length-1];if(o&&(null==r||n||o.width+s+a<Number(r)))o.words.push(i),o.width+=s+a;else{var l={words:[i],width:s};e.push(l)}return e},[])},h=u(t),m=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||n)return h;if(!(h.length>i||m(h).width>Number(r)))return h;for(var p,f=e=>{var t=d.slice(0,e),a=CH({breakAll:l,style:o,children:t+"…"}).wordsWithComputedWidth,n=u(a);return[n.length>i||m(n).width>Number(r),n]},g=0,x=d.length-1,v=0;g<=x&&v<=d.length-1;){var b=Math.floor((g+x)/2),y=b-1,[_,j]=f(y),[w]=f(b);if(_||w||(g=b+1),_&&w&&(x=b-1),!_&&w){p=j;break}v++}return p||h})({breakAll:i,children:r,maxLines:s,style:n},l,c,t,a)}return kH(r)},MH="#808080",EH=f.forwardRef((e,t)=>{var{x:a=0,y:r=0,lineHeight:n="1em",capHeight:i="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:l="end",fill:c=MH}=e,d=wH(e,yH),u=f.useMemo(()=>SH({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:h,dy:m,angle:p,className:g,breakAll:x}=d,v=wH(d,_H);if(!_N(a)||!_N(r)||0===u.length)return null;var b,y=a+(yN(h)?h:0),_=r+(yN(m)?m:0);switch(l){case"start":b=bH("calc(".concat(i,")"));break;case"middle":b=bH("calc(".concat((u.length-1)/2," * -").concat(n," + (").concat(i," / 2))"));break;default:b=bH("calc(".concat(u.length-1," * -").concat(n,")"))}var j=[];if(s){var w=u[0].width,{width:N}=d;j.push("scale(".concat(yN(N)?N/w:1,")"))}return p&&j.push("rotate(".concat(p,", ").concat(y,", ").concat(_,")")),j.length&&(v.transform=j.join(" ")),f.createElement("text",jH({},HN(v,!0),{ref:t,x:y,y:_,className:Ce("recharts-text",g),textAnchor:o,fill:c.includes("url")?MH:c}),u.map((e,t)=>{var a=e.words.join(x?"":" ");return f.createElement("tspan",{x:y,dy:0===t?b:n,key:"".concat(a,"-").concat(t)},a)}))});EH.displayName="Text";var OH=["labelRef"];function PH(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function AH(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?PH(Object(a),!0).forEach(function(t){DH(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):PH(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function DH(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function IH(){return IH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},IH.apply(null,arguments)}var TH=f.createContext(null),zH=e=>{var{x:t,y:a,width:r,height:n,children:i}=e,s=f.useMemo(()=>({x:t,y:a,width:r,height:n}),[t,a,r,n]);return f.createElement(TH.Provider,{value:s},i)},RH=()=>{var e=f.useContext(TH),t=HP();return e||t},LH=f.createContext(null),$H=e=>null!=e&&"function"==typeof e,BH=(e,t,a,r,n)=>{var i,s,{offset:o,className:l}=e,{cx:c,cy:d,innerRadius:u,outerRadius:h,startAngle:m,endAngle:p,clockWise:g}=n,x=(u+h)/2,v=((e,t)=>xN(t-e)*Math.min(Math.abs(t-e),360))(m,p),b=v>=0?1:-1;switch(t){case"insideStart":i=m+b*o,s=g;break;case"insideEnd":i=p-b*o,s=!g;break;case"end":i=p+b*o,s=g;break;default:throw new Error("Unsupported position ".concat(t))}s=v<=0?s:!s;var y=rP(c,d,x,i),_=rP(c,d,x,i+359*(s?1:-1)),j="M".concat(y.x,",").concat(y.y,"\n    A").concat(x,",").concat(x,",0,1,").concat(s?0:1,",\n    ").concat(_.x,",").concat(_.y),w=MN(e.id)?wN("recharts-radial-line-"):e.id;return f.createElement("text",IH({},r,{dominantBaseline:"central",className:Ce("recharts-radial-bar-label",l)}),f.createElement("defs",null,f.createElement("path",{id:w,d:j})),f.createElement("textPath",{xlinkHref:"#".concat(w)},a))},qH=e=>"cx"in e&&yN(e.cx),FH={offset:5};function WH(e){var t,a,r=JA(e,FH),{viewBox:n,position:i,value:s,children:o,content:l,className:c="",textBreakAll:d,labelRef:u}=r,h=(t=f.useContext(LH),a=hM(oB),t||a),m=RH(),p=n||("center"===i?m:null!=h?h:m);if(!p||MN(s)&&MN(o)&&!f.isValidElement(l)&&"function"!=typeof l)return null;var g,x=AH(AH({},r),{},{viewBox:p});if(f.isValidElement(l)){var{labelRef:v}=x,b=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(x,OH);return f.cloneElement(l,b)}if("function"==typeof l){if(g=f.createElement(l,x),f.isValidElement(g))return g}else g=(e=>{var{value:t,formatter:a}=e,r=MN(e.children)?t:e.children;return"function"==typeof a?a(r):r})(r);var y=qH(p),_=HN(r,!0);if(y&&("insideStart"===i||"insideEnd"===i||"end"===i))return BH(r,i,g,_,p);var j=y?((e,t,a)=>{var{cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if("outside"===a){var{x:d,y:u}=rP(r,n,s+t,c);return{x:d,y:u,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if("center"===a)return{x:r,y:n,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===a)return{x:r,y:n,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===a)return{x:r,y:n,textAnchor:"middle",verticalAnchor:"end"};var h=(i+s)/2,{x:m,y:p}=rP(r,n,h,c);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(p,r.offset,r.position):((e,t)=>{var a,{parentViewBox:r,offset:n,position:i}=e;null==r||qH(r)||(a=r);var{x:s,y:o,width:l,height:c}=t,d=c>=0?1:-1,u=d*n,h=d>0?"end":"start",m=d>0?"start":"end",p=l>=0?1:-1,f=p*n,g=p>0?"end":"start",x=p>0?"start":"end";if("top"===i)return AH(AH({},{x:s+l/2,y:o-d*n,textAnchor:"middle",verticalAnchor:h}),a?{height:Math.max(o-a.y,0),width:l}:{});if("bottom"===i)return AH(AH({},{x:s+l/2,y:o+c+u,textAnchor:"middle",verticalAnchor:m}),a?{height:Math.max(a.y+a.height-(o+c),0),width:l}:{});if("left"===i){var v={x:s-f,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return AH(AH({},v),a?{width:Math.max(v.x-a.x,0),height:c}:{})}if("right"===i){var b={x:s+l+f,y:o+c/2,textAnchor:x,verticalAnchor:"middle"};return AH(AH({},b),a?{width:Math.max(a.x+a.width-b.x,0),height:c}:{})}var y=a?{width:l,height:c}:{};return"insideLeft"===i?AH({x:s+f,y:o+c/2,textAnchor:x,verticalAnchor:"middle"},y):"insideRight"===i?AH({x:s+l-f,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},y):"insideTop"===i?AH({x:s+l/2,y:o+u,textAnchor:"middle",verticalAnchor:m},y):"insideBottom"===i?AH({x:s+l/2,y:o+c-u,textAnchor:"middle",verticalAnchor:h},y):"insideTopLeft"===i?AH({x:s+f,y:o+u,textAnchor:x,verticalAnchor:m},y):"insideTopRight"===i?AH({x:s+l-f,y:o+u,textAnchor:g,verticalAnchor:m},y):"insideBottomLeft"===i?AH({x:s+f,y:o+c-u,textAnchor:x,verticalAnchor:h},y):"insideBottomRight"===i?AH({x:s+l-f,y:o+c-u,textAnchor:g,verticalAnchor:h},y):i&&"object"==typeof i&&(yN(i.x)||bN(i.x))&&(yN(i.y)||bN(i.y))?AH({x:s+NN(i.x,l),y:o+NN(i.y,c),textAnchor:"end",verticalAnchor:"end"},y):AH({x:s+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},y)})(r,p);return f.createElement(EH,IH({ref:u,className:Ce("recharts-label",c)},_,j,{breakAll:d}),g)}WH.displayName="Label";function GH(e){var{label:t}=e;return((e,t,a)=>{if(!e)return null;var r={viewBox:t,labelRef:a};return!0===e?f.createElement(WH,IH({key:"label-implicit"},r)):_N(e)?f.createElement(WH,IH({key:"label-implicit",value:e},r)):f.isValidElement(e)?e.type===WH?f.cloneElement(e,AH({key:"label-implicit"},r)):f.createElement(WH,IH({key:"label-implicit",content:e},r)):$H(e)?f.createElement(WH,IH({key:"label-implicit",content:e},r)):e&&"object"==typeof e?f.createElement(WH,IH({},e,{key:"label-implicit"},r)):null})(t,RH())||null}var HH,VH={},UH={};function KH(){return HH||(HH=1,e=UH,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.last=function(e){return e[e.length-1]}),UH;var e}var YH,XH,JH,ZH,QH={};function eV(){return YH||(YH=1,e=QH,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}),QH;var e}function tV(){return XH||(XH=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KH(),a=eV(),r=Pk();e.last=function(e){if(r.isArrayLike(e))return t.last(a.toArray(e))}}(VH)),VH}function aV(){return ZH?JH:(ZH=1,JH=tV().last)}const rV=t(aV());var nV=["valueAccessor"],iV=["dataKey","clockWise","id","textBreakAll"];function sV(){return sV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},sV.apply(null,arguments)}function oV(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var lV=e=>Array.isArray(e.value)?rV(e.value):e.value,cV=f.createContext(void 0),dV=cV.Provider,uV=f.createContext(void 0),hV=uV.Provider;function mV(e){var{valueAccessor:t=lV}=e,a=oV(e,nV),{dataKey:r,clockWise:n,id:i,textBreakAll:s}=a,o=oV(a,iV),l=f.useContext(cV),c=f.useContext(uV),d=l||c;return d&&d.length?f.createElement(JN,{className:"recharts-label-list"},d.map((e,n)=>{var l,c=MN(r)?t(e,n):hP(e&&e.payload,r),d=MN(i)?{}:{id:"".concat(i,"-").concat(n)};return f.createElement(WH,sV({},HN(e,!0),o,d,{fill:null!==(l=a.fill)&&void 0!==l?l:e.fill,parentViewBox:e.parentViewBox,value:c,textBreakAll:s,viewBox:e.viewBox,key:"label-".concat(n),index:n}))})):null}function pV(e){var{label:t}=e;return t?!0===t?f.createElement(mV,{key:"labelList-implicit"}):f.isValidElement(t)||$H(t)?f.createElement(mV,{key:"labelList-implicit",content:t}):"object"==typeof t?f.createElement(mV,sV({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function fV(){return fV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},fV.apply(null,arguments)}mV.displayName="LabelList";var gV=e=>{var{cx:t,cy:a,r:r,className:n}=e,i=Ce("recharts-dot",n);return t===+t&&a===+a&&r===+r?f.createElement("circle",fV({},LN(e),IN(e),{className:i,cx:t,cy:a,r:r})):null},xV=e=>e.graphicalItems.polarItems,vV=yM([lB,cB],AB),bV=yM([xV,EB,vV],TB),yV=yM([bV],BB),_V=yM([yV,IL],FB),jV=yM([_V,EB,bV],GB),wV=yM([_V,EB,bV],(e,t,a)=>a.length>0?e.flatMap(e=>a.flatMap(a=>{var r;return{value:hP(e,null!==(r=t.dataKey)&&void 0!==r?r:a.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:hP(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),NV=()=>{},CV=yM([EB,jq,NV,wV,NV,XP,lB],wq),kV=yM([EB,XP,_V,jV,I$,lB,CV],kq),SV=yM([kV,EB,Eq],Pq);yM([EB,kV,SV,lB],Dq);var MV=uO({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:EV,removeRadiusAxis:OV,addAngleAxis:PV,removeAngleAxis:AV}=MV.actions,DV=MV.reducer;function IV(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function TV(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?IV(Object(a),!0).forEach(function(t){zV(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):IV(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function zV(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var RV,LV,$V,BV=yM([xV,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),qV=[],FV=(e,t,a)=>0===(null==a?void 0:a.length)?qV:a,WV=yM([IL,BV,FV],(e,t,a)=>{var r,{chartData:n}=e;if(null!=t&&((r=null!=(null==t?void 0:t.data)&&t.data.length>0?t.data:n)&&r.length||null==a||(r=a.map(e=>TV(TV({},t.presentationProps),e.props))),null!=r))return r}),GV=yM([WV,BV,FV],(e,t,a)=>{if(null!=e&&null!=t)return e.map((e,r)=>{var n,i,s=hP(e,t.nameKey,t.name);return i=null!=a&&null!==(n=a[r])&&void 0!==n&&null!==(n=n.props)&&void 0!==n&&n.fill?a[r].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:kP(s,t.dataKey),color:i,payload:e,type:t.legendType}})}),HV=yM([WV,BV,FV,LP],(e,t,a,r)=>{if(null!=t&&null!=e)return function(e){var t,a,r,{pieSettings:n,displayedData:i,cells:s,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:d,dataKey:u,nameKey:h,tooltipType:m}=n,p=Math.abs(n.minAngle),f=FU(c,d),g=Math.abs(f),x=i.length<=1?0:null!==(t=n.paddingAngle)&&void 0!==t?t:0,v=i.filter(e=>0!==hP(e,u,0)).length,b=g-v*p-(g>=360?v:v-1)*x,y=i.reduce((e,t)=>{var a=hP(t,u,0);return e+(yN(a)?a:0)},0);y>0&&(a=i.map((e,t)=>{var a,i=hP(e,u,0),d=hP(e,h,t),g=qU(n,o,e),v=(yN(i)?i:0)/y,_=TU(TU({},e),s&&s[t]&&s[t].props),j=(a=t?r.endAngle+xN(f)*x*(0!==i?1:0):c)+xN(f)*((0!==i?p:0)+v*b),w=(a+j)/2,N=(g.innerRadius+g.outerRadius)/2,C=[{name:d,value:i,payload:_,dataKey:u,type:m}],k=rP(g.cx,g.cy,N,w);return r=TU(TU(TU(TU({},n.presentationProps),{},{percent:v,cornerRadius:l,name:d,tooltipPayload:C,midAngle:w,middleRadius:N,tooltipPosition:k},_),g),{},{value:hP(e,u),startAngle:a,endAngle:j,payload:_,paddingAngle:xN(f)*x})}));return a}({offset:r,pieSettings:t,displayedData:e,cells:a})}),VV={};function UV(){return RV||(RV=1,e=VV,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPlainObject=function(e){if("object"!=typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const t=e[Symbol.toStringTag];return null!=t&&(!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`)}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}),VV;var e}function KV(){return $V?LV:($V=1,LV=UV().isPlainObject)}const YV=t(KV());function XV(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function JV(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?XV(Object(a),!0).forEach(function(t){ZV(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):XV(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function ZV(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function QV(){return QV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},QV.apply(null,arguments)}var eU=(e,t,a,r,n)=>{var i,s=a-r;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+a,",").concat(t),i+="L ".concat(e+a-s/2,",").concat(t+n),i+="L ".concat(e+a-s/2-r,",").concat(t+n),i+="L ".concat(e,",").concat(t," Z")},tU={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aU=e=>{var t=JA(e,tU),{x:a,y:r,upperWidth:n,lowerWidth:i,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:u}=t,h=f.useRef(),[m,p]=f.useState(-1),g=f.useRef(n),x=f.useRef(i),v=f.useRef(s),b=f.useRef(a),y=f.useRef(r),_=CD(e,"trapezoid-");if(f.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var e=h.current.getTotalLength();e&&p(e)}catch(t){}},[]),a!==+a||r!==+r||n!==+n||i!==+i||s!==+s||0===n&&0===i||0===s)return null;var j=Ce("recharts-trapezoid",o);if(!u)return f.createElement("g",null,f.createElement("path",QV({},HN(t,!0),{className:j,d:eU(a,r,n,i,s)})));var w=g.current,N=x.current,C=v.current,k=b.current,S=y.current,M="0px ".concat(-1===m?1:m,"px"),E="".concat(m,"px 0px"),O=aD(["strokeDasharray"],c,l);return f.createElement(ND,{animationId:_,key:_,canBegin:m>0,duration:c,easing:l,isActive:u,begin:d},e=>{var o=kN(w,n,e),l=kN(N,i,e),c=kN(C,s,e),d=kN(k,a,e),u=kN(S,r,e);h.current&&(g.current=o,x.current=l,v.current=c,b.current=d,y.current=u);var m=e>0?{transition:O,strokeDasharray:E}:{strokeDasharray:M};return f.createElement("path",QV({},HN(t,!0),{className:j,d:eU(d,u,o,l,c),ref:h,style:JV(JV({},m),t.style)}))})},rU=["option","shapeType","propTransformer","activeClassName","isActive"];function nU(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function iU(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?nU(Object(a),!0).forEach(function(t){sU(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nU(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function sU(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function oU(e,t){return iU(iU({},t),e)}function lU(e){var{shapeType:t,elementProps:a}=e;switch(t){case"rectangle":return f.createElement(AD,a);case"trapezoid":return f.createElement(aU,a);case"sector":return f.createElement(LD,a);case"symbols":if(function(e){return"symbols"===e}(t))return f.createElement(hk,a);break;default:return null}}function cU(e){var t,{option:a,shapeType:r,propTransformer:n=oU,activeClassName:i="recharts-active-shape",isActive:s}=e,o=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,rU);if(f.isValidElement(a))t=f.cloneElement(a,iU(iU({},o),function(e){return f.isValidElement(e)?e.props:e}(a)));else if("function"==typeof a)t=a(o);else if(YV(a)&&"boolean"!=typeof a){var l=n(a,o);t=f.createElement(lU,{shapeType:r,elementProps:l})}else{var c=o;t=f.createElement(lU,{shapeType:r,elementProps:c})}return s?f.createElement(JN,{className:i},t):t}var dU=(e,t)=>{var a=lM();return(r,n)=>i=>{null==e||e(r,n,i),a(_F({activeIndex:String(n),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},uU=e=>{var t=lM();return(a,r)=>n=>{null==e||e(a,r,n),t(jF())}},hU=(e,t)=>{var a=lM();return(r,n)=>i=>{null==e||e(r,n,i),a(NF({activeIndex:String(n),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function mU(e){var{fn:t,args:a}=e,r=lM(),n=FP();return f.useEffect(()=>{if(!n){var e=t(a);return r(vF(e)),()=>{r(bF(e))}}},[t,a,r,n]),null}var pU,fU=()=>{};function gU(e){var{legendPayload:t}=e,a=lM(),r=FP();return f.useEffect(()=>r?fU:(a(tA(t)),()=>{a(aA(t))}),[a,r,t]),null}function xU(e){var{legendPayload:t}=e,a=lM(),r=hM(XP);return f.useEffect(()=>"centric"!==r&&"radial"!==r?fU:(a(tA(t)),()=>{a(aA(t))}),[a,r,t]),null}var vU=null!==(pU=x["useId".toString()])&&void 0!==pU?pU:()=>{var[e]=f.useState(()=>wN("uid-"));return e};var bU=f.createContext(void 0),yU=e=>{var{id:t,type:a,children:r}=e,n=function(e,t){var a=vU();return t||(e?"".concat(e,"-").concat(a):a)}("recharts-".concat(a),t);return f.createElement(bU.Provider,{value:n},r(n))},_U=uO({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:a,next:r}=t.payload,n=GE(e).cartesianItems.indexOf(a);n>-1&&(e.cartesianItems[n]=r)},removeCartesianGraphicalItem(e,t){var a=GE(e).cartesianItems.indexOf(t.payload);a>-1&&e.cartesianItems.splice(a,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var a=GE(e).polarItems.indexOf(t.payload);a>-1&&e.polarItems.splice(a,1)}}}),{addCartesianGraphicalItem:jU,replaceCartesianGraphicalItem:wU,removeCartesianGraphicalItem:NU,addPolarGraphicalItem:CU,removePolarGraphicalItem:kU}=_U.actions,SU=_U.reducer;function MU(e){var t=lM(),a=f.useRef(null);return f.useEffect(()=>{null===a.current?t(jU(e)):a.current!==e&&t(wU({prev:a.current,next:e})),a.current=e},[t,e]),f.useEffect(()=>()=>{a.current&&(t(NU(a.current)),a.current=null)},[t]),null}function EU(e){var t=lM();return f.useEffect(()=>(t(CU(e)),()=>{t(kU(e))}),[t,e]),null}var OU=["onMouseEnter","onClick","onMouseLeave"],PU=["id"],AU=["id"];function DU(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function IU(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function TU(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?IU(Object(a),!0).forEach(function(t){zU(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):IU(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function zU(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function RU(){return RU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},RU.apply(null,arguments)}function LU(e){var t=f.useMemo(()=>WN(e.children,ZG),[e.children]),a=hM(a=>GV(a,e.id,t));return null==a?null:f.createElement(xU,{legendPayload:a})}function $U(e){var{dataKey:t,nameKey:a,sectors:r,stroke:n,strokeWidth:i,fill:s,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:r.map(e=>e.tooltipPayload),positions:r.map(e=>e.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:s,dataKey:t,nameKey:a,name:kP(o,t),hide:l,type:c,color:s,unit:""}}}var BU=(e,t)=>e>t?"start":e<t?"end":"middle",qU=(e,t,a)=>{var{top:r,left:n,width:i,height:s}=t,o=nP(i,s),l=n+NN(e.cx,i,i/2),c=r+NN(e.cy,s,s/2),d=NN(e.innerRadius,o,0),u=((e,t,a)=>NN("function"==typeof t?t(e):t,a,.8*a))(a,e.outerRadius,o);return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:e.maxRadius||Math.sqrt(i*i+s*s)/2}},FU=(e,t)=>xN(t-e)*Math.min(Math.abs(t-e),360);function WU(e){var{sectors:t,props:a,showLabels:r}=e,{label:n,labelLine:i,dataKey:s}=a;if(!r||!n||!t)return null;var o=LN(a),l=HN(n,!1),c=HN(i,!1),d="object"==typeof n&&"offsetRadius"in n&&"number"==typeof n.offsetRadius&&n.offsetRadius||20,u=t.map((e,t)=>{var a=(e.startAngle+e.endAngle)/2,r=rP(e.cx,e.cy,e.outerRadius+d,a),u=TU(TU(TU(TU({},o),e),{},{stroke:"none"},l),{},{index:t,textAnchor:BU(r.x,e.cx)},r),h=TU(TU(TU(TU({},o),e),{},{fill:"none",stroke:e.fill},c),{},{index:t,points:[rP(e.cx,e.cy,e.outerRadius,a),r],key:"line"});return f.createElement(JN,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},i&&((e,t)=>{if(f.isValidElement(e))return f.cloneElement(e,t);if("function"==typeof e)return e(t);var a=Ce("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return f.createElement(FA,RU({},t,{type:"linear",className:a}))})(i,h),((e,t,a)=>{if(f.isValidElement(e))return f.cloneElement(e,t);var r=a;if("function"==typeof e&&(r=e(t),f.isValidElement(r)))return r;var n,i=Ce("recharts-pie-label-text",(n=e)&&"object"==typeof n&&"className"in n&&"string"==typeof n.className?n.className:"");return f.createElement(EH,RU({},t,{alignmentBaseline:"middle",className:i}),r)})(n,u,hP(e,s)))});return f.createElement(JN,{className:"recharts-pie-labels"},u)}function GU(e){var{sectors:t,props:a,showLabels:r}=e,{label:n}=a;return"object"==typeof n&&null!=n&&"position"in n?f.createElement(pV,{label:a.label}):f.createElement(WU,{sectors:t,props:a,showLabels:r})}function HU(e){var{sectors:t,activeShape:a,inactiveShape:r,allOtherPieProps:n}=e,i=hM(CW),{onMouseEnter:s,onClick:o,onMouseLeave:l}=n,c=DU(n,OU),d=dU(s,n.dataKey),u=uU(l),h=hU(o,n.dataKey);return null==t||0===t.length?null:f.createElement(f.Fragment,null,t.map((e,s)=>{if(0===(null==e?void 0:e.startAngle)&&0===(null==e?void 0:e.endAngle)&&1!==t.length)return null;var o=a&&String(s)===i,l=o?a:i?r:null,m=TU(TU({},e),{},{stroke:e.stroke,tabIndex:-1,[DP]:s,[IP]:n.dataKey});return f.createElement(JN,RU({tabIndex:-1,className:"recharts-pie-sector"},TN(c,e,s),{onMouseEnter:d(e,s),onMouseLeave:u(e,s),onClick:h(e,s),key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(s)}),f.createElement(cU,RU({option:l,isActive:o,shapeType:"sector"},m)))}))}function VU(e){var{showLabels:t,sectors:a,children:r}=e,n=f.useMemo(()=>t&&a?a.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[a,t]);return f.createElement(hV,{value:t?n:void 0},r)}function UU(e){var{props:t,previousSectorsRef:a}=e,{sectors:r,isAnimationActive:n,animationBegin:i,animationDuration:s,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:d,onAnimationEnd:u}=t,h=CD(t,"recharts-pie-"),m=a.current,[p,g]=f.useState(!1),x=f.useCallback(()=>{"function"==typeof u&&u(),g(!1)},[u]),v=f.useCallback(()=>{"function"==typeof d&&d(),g(!0)},[d]);return f.createElement(VU,{showLabels:!p,sectors:r},f.createElement(ND,{animationId:h,begin:i,duration:s,isActive:n,easing:o,onAnimationStart:v,onAnimationEnd:x,key:h},e=>{var n=[],i=r&&r[0],s=null==i?void 0:i.startAngle;return null==r||r.forEach((t,a)=>{var r=m&&m[a],i=a>0?cN(t,"paddingAngle",0):0;if(r){var o=kN(r.endAngle-r.startAngle,t.endAngle-t.startAngle,e),l=TU(TU({},t),{},{startAngle:s+i,endAngle:s+o+i});n.push(l),s=l.endAngle}else{var{endAngle:c,startAngle:d}=t,u=kN(0,c-d,e),h=TU(TU({},t),{},{startAngle:s+i,endAngle:s+u+i});n.push(h),s=h.endAngle}}),a.current=n,f.createElement(JN,null,f.createElement(HU,{sectors:n,activeShape:l,inactiveShape:c,allOtherPieProps:t}))}),f.createElement(GU,{showLabels:!p,sectors:r,props:t}),t.children)}var KU={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!EA,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function YU(e){var{id:t}=e,a=DU(e,PU),{hide:r,className:n,rootTabIndex:i}=e,s=f.useMemo(()=>WN(e.children,ZG),[e.children]),o=hM(e=>HV(e,t,s)),l=f.useRef(null),c=Ce("recharts-pie",n);return r||null==o?(l.current=null,f.createElement(JN,{tabIndex:i,className:c})):f.createElement(f.Fragment,null,f.createElement(mU,{fn:$U,args:TU(TU({},e),{},{sectors:o})}),f.createElement(JN,{tabIndex:i,className:c},f.createElement(UU,{props:TU(TU({},a),{},{sectors:o}),previousSectorsRef:l})))}function XU(e){var t=JA(e,KU),{id:a}=t,r=DU(t,AU),n=LN(r);return f.createElement(yU,{id:a,type:"pie"},e=>f.createElement(f.Fragment,null,f.createElement(EU,{type:"pie",id:e,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:n}),f.createElement(LU,RU({},r,{id:e})),f.createElement(YU,RU({},r,{id:e}))))}function JU(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function ZU(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?JU(Object(a),!0).forEach(function(t){QU(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):JU(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function QU(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}XU.displayName="Pie";var eK=uO({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:a,width:r}=t.payload;e.yAxis[a]&&(e.yAxis[a]=ZU(ZU({},e.yAxis[a]),{},{width:r}))}}}),{addXAxis:tK,removeXAxis:aK,addYAxis:rK,removeYAxis:nK,addZAxis:iK,removeZAxis:sK,updateYAxisWidth:oK}=eK.actions,lK=eK.reducer,cK=yM([LP],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),dK=yM([cK,SP,MP],(e,t,a)=>{if(e&&null!=t&&null!=a)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,a-e.top-e.bottom)}}),uK=()=>hM(dK);function hK(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function mK(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?hK(Object(a),!0).forEach(function(t){pK(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hK(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function pK(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fK(e){var{points:t,mainColor:a,activeDot:r,itemDataKey:n}=e,i=hM(CW),s=hM(DW);if(null==t||null==s)return null;var o=t.find(e=>s.includes(e.payload));return MN(o)?null:(e=>{var{point:t,childIndex:a,mainColor:r,activeDot:n,dataKey:i}=e;if(!1===n||null==t.x||null==t.y)return null;var s,o=mK(mK({index:a,dataKey:i,cx:t.x,cy:t.y,r:4,fill:null!=r?r:"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},HN(n,!1)),IN(n));return s=f.isValidElement(n)?f.cloneElement(n,o):"function"==typeof n?n(o):f.createElement(gV,o),f.createElement(JN,{className:"recharts-active-dot"},s)})({point:o,childIndex:Number(i),mainColor:a,dataKey:n,activeDot:r})}function gK(e,t){throw new Error("Invariant failed")}var xK=["x","y"];function vK(){return vK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},vK.apply(null,arguments)}function bK(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function yK(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?bK(Object(a),!0).forEach(function(t){_K(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bK(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function _K(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function jK(e,t){var{x:a,y:r}=e,n=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,xK),i="".concat(a),s=parseInt(i,10),o="".concat(r),l=parseInt(o,10),c="".concat(t.height||n.height),d=parseInt(c,10),u="".concat(t.width||n.width),h=parseInt(u,10);return yK(yK(yK(yK(yK({},t),n),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function wK(e){return f.createElement(cU,vK({shapeType:"rectangle",propTransformer:jK,activeClassName:"recharts-active-bar"},e))}var NK=uO({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]||(e[a]=[]),e[a].push(r)},replaceErrorBar:(e,t)=>{var{itemId:a,prev:r,next:n}=t.payload;e[a]&&(e[a]=e[a].map(e=>e.dataKey===r.dataKey&&e.direction===r.direction?n:e))},removeErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]&&(e[a]=e[a].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:CK,replaceErrorBar:kK,removeErrorBar:SK}=NK.actions,MK=NK.reducer,EK=["children"];var OK={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},PK=f.createContext(OK);function AK(e){var{children:t}=e,a=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,EK);return f.createElement(PK.Provider,{value:a},t)}function DK(e,t){var a,r,n=hM(t=>wB(t,e)),i=hM(e=>kB(e,t)),s=null!==(a=null==n?void 0:n.allowDataOverflow)&&void 0!==a?a:_B.allowDataOverflow,o=null!==(r=null==i?void 0:i.allowDataOverflow)&&void 0!==r?r:NB.allowDataOverflow;return{needClip:s||o,needClipX:s,needClipY:o}}function IK(e){var{xAxisId:t,yAxisId:a,clipPathId:r}=e,n=uK(),{needClipX:i,needClipY:s,needClip:o}=DK(t,a);if(!o)return null;var{x:l,y:c,width:d,height:u}=n;return f.createElement("clipPath",{id:"clipPath-".concat(r)},f.createElement("rect",{x:i?l:l-d/2,y:s?c:c-u/2,width:i?d:2*d,height:s?u:2*u}))}var TK=["onMouseEnter","onMouseLeave","onClick"],zK=["value","background","tooltipPosition"],RK=["id"],LK=["onMouseEnter","onClick","onMouseLeave"];function $K(){return $K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},$K.apply(null,arguments)}function BK(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function qK(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?BK(Object(a),!0).forEach(function(t){FK(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):BK(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function FK(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function WK(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var GK=e=>{var{dataKey:t,name:a,fill:r,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:r,value:kP(a,t),payload:e}]};function HK(e){var{dataKey:t,stroke:a,strokeWidth:r,fill:n,name:i,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:n,dataKey:t,nameKey:void 0,name:kP(i,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function VK(e){var t=hM(CW),{data:a,dataKey:r,background:n,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=i,c=WK(i,TK),d=dU(s,r),u=uU(o),h=hU(l,r);if(!n||null==a)return null;var m=HN(n,!1);return f.createElement(f.Fragment,null,a.map((e,a)=>{var{value:i,background:s,tooltipPosition:o}=e,l=WK(e,zK);if(!s)return null;var p=d(e,a),g=u(e,a),x=h(e,a),v=qK(qK(qK(qK(qK({option:n,isActive:String(a)===t},l),{},{fill:"#eee"},s),m),TN(c,e,a)),{},{onMouseEnter:p,onMouseLeave:g,onClick:x,dataKey:r,index:a,className:"recharts-bar-background-rectangle"});return f.createElement(wK,$K({key:"background-bar-".concat(a)},v))}))}function UK(e){var{showLabels:t,children:a,rects:r}=e,n=null==r?void 0:r.map(e=>{var t={x:e.x,y:e.y,width:e.width,height:e.height};return qK(qK({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return f.createElement(dV,{value:t?n:void 0},a)}function KK(e){var{shape:t,activeBar:a,baseProps:r,entry:n,index:i,dataKey:s}=e,o=hM(CW),l=hM(SW),c=a&&String(i)===o&&(null==l||s===l),d=c?a:t;return f.createElement(wK,$K({},r,n,{isActive:c,option:d,index:i,dataKey:s}))}function YK(e){var{shape:t,baseProps:a,entry:r,index:n,dataKey:i}=e;return f.createElement(wK,$K({},a,r,{isActive:!1,option:t,index:n,dataKey:i}))}function XK(e){var{data:t,props:a}=e,r=LN(a),{id:n}=r,i=WK(r,RK),{shape:s,dataKey:o,activeBar:l}=a,{onMouseEnter:c,onClick:d,onMouseLeave:u}=a,h=WK(a,LK),m=dU(c,o),p=uU(u),g=hU(d,o);return t?f.createElement(f.Fragment,null,t.map((e,t)=>f.createElement(JN,$K({className:"recharts-bar-rectangle"},TN(h,e,t),{onMouseEnter:m(e,t),onMouseLeave:p(e,t),onClick:g(e,t),key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(t)}),l?f.createElement(KK,{shape:s,activeBar:l,baseProps:i,entry:e,index:t,dataKey:o}):f.createElement(YK,{shape:s,baseProps:i,entry:e,index:t,dataKey:o})))):null}function JK(e){var{props:t,previousRectanglesRef:a}=e,{data:r,layout:n,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:d}=t,u=a.current,h=CD(t,"recharts-bar-"),[m,p]=f.useState(!1),g=!m,x=f.useCallback(()=>{"function"==typeof c&&c(),p(!1)},[c]),v=f.useCallback(()=>{"function"==typeof d&&d(),p(!0)},[d]);return f.createElement(UK,{showLabels:g,rects:r},f.createElement(ND,{animationId:h,begin:s,duration:o,isActive:i,easing:l,onAnimationEnd:x,onAnimationStart:v,key:h},e=>{var i=1===e?r:null==r?void 0:r.map((t,a)=>{var r=u&&u[a];if(r)return qK(qK({},t),{},{x:kN(r.x,t.x,e),y:kN(r.y,t.y,e),width:kN(r.width,t.width,e),height:kN(r.height,t.height,e)});if("horizontal"===n){var i=kN(0,t.height,e);return qK(qK({},t),{},{y:t.y+t.height-i,height:i})}var s=kN(0,t.width,e);return qK(qK({},t),{},{width:s})});return e>0&&(a.current=null!=i?i:null),null==i?null:f.createElement(JN,null,f.createElement(XK,{props:t,data:i}))}),f.createElement(pV,{label:t.label}),t.children)}function ZK(e){var t=f.useRef(null);return f.createElement(JK,{previousRectanglesRef:t,props:e})}var QK=(e,t)=>{var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:hP(e,t)}};class eY extends f.PureComponent{render(){var{hide:e,data:t,dataKey:a,className:r,xAxisId:n,yAxisId:i,needClip:s,background:o,id:l}=this.props;if(e||null==t)return null;var c=Ce("recharts-bar",r),d=l;return f.createElement(JN,{className:c,id:l},s&&f.createElement("defs",null,f.createElement(IK,{clipPathId:d,xAxisId:n,yAxisId:i})),f.createElement(JN,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},f.createElement(VK,{data:t,dataKey:a,background:o,allOtherBarProps:this.props}),f.createElement(ZK,this.props)))}}var tY={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!EA,legendType:"rect",minPointSize:0,xAxisId:0,yAxisId:0};function aY(e){var t,{xAxisId:a,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:h}=DK(a,r),m=JP(),p=FP(),g=WN(e.children,ZG),x=hM(t=>xY(t,a,r,p,e.id,g));if("vertical"!==m&&"horizontal"!==m)return null;var v=null==x?void 0:x[0];return t=null==v||null==v.height||null==v.width?0:"vertical"===m?v.height/2:v.width/2,f.createElement(AK,{xAxisId:a,yAxisId:r,data:x,dataPointFormatter:QK,errorBarOffset:t},f.createElement(eY,$K({},e,{layout:m,needClip:h,data:x,xAxisId:a,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function rY(e){var{layout:t,barSettings:{dataKey:a,minPointSize:r},pos:n,bandSize:i,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:d,displayedData:u,offset:h,cells:m,parentViewBox:p}=e,f="horizontal"===t?o:s,g=d?f.scale.domain():null,x=(e=>{var{numericAxis:t}=e,a=t.scale.domain();if("number"===t.type){var r=Math.min(a[0],a[1]),n=Math.max(a[0],a[1]);return r<=0&&n>=0?0:n<0?n:r}return a[0]})({numericAxis:f});return u.map((e,u)=>{var f,v,b,y,_,j;d?f=((e,t)=>{if(!t||2!==t.length||!yN(t[0])||!yN(t[1]))return e;var a=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),n=[e[0],e[1]];return(!yN(e[0])||e[0]<a)&&(n[0]=a),(!yN(e[1])||e[1]>r)&&(n[1]=r),n[0]>r&&(n[0]=r),n[1]<a&&(n[1]=a),n})(d[u],g):(f=hP(e,a),Array.isArray(f)||(f=[x,f]));var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(a,r)=>{if(yN(e))return e;var n=yN(a)||MN(a);return n?e(a,r):(n||gK(),t)}}(r,0)(f[1],u);if("horizontal"===t){var N,[C,k]=[o.scale(f[0]),o.scale(f[1])];v=yP({axis:s,ticks:l,bandSize:i,offset:n.offset,entry:e,index:u}),b=null!==(N=null!=k?k:C)&&void 0!==N?N:void 0,y=n.size;var S=C-k;if(_=vN(S)?0:S,j={x:v,y:h.top,width:y,height:h.height},Math.abs(w)>0&&Math.abs(_)<Math.abs(w)){var M=xN(_||w)*(Math.abs(w)-Math.abs(_));b-=M,_+=M}}else{var[E,O]=[s.scale(f[0]),s.scale(f[1])];if(v=E,b=yP({axis:o,ticks:c,bandSize:i,offset:n.offset,entry:e,index:u}),y=O-E,_=n.size,j={x:h.left,y:b,width:h.width,height:_},Math.abs(w)>0&&Math.abs(y)<Math.abs(w))y+=xN(y||w)*(Math.abs(w)-Math.abs(y))}return null==v||null==b||null==y||null==_?null:qK(qK({},e),{},{x:v,y:b,width:y,height:_,value:d?f:f[1],payload:e,background:j,tooltipPosition:{x:v+y/2,y:b+_/2},parentViewBox:p},m&&m[u]&&m[u].props)}).filter(Boolean)}function nY(e){var t=JA(e,tY),a=FP();return f.createElement(yU,{id:t.id,type:"bar"},e=>{return f.createElement(f.Fragment,null,f.createElement(gU,{legendPayload:GK(t)}),f.createElement(mU,{fn:HK,args:t}),f.createElement(MU,{type:"bar",id:e,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:(r=t.stackId,null==r?void 0:String(r)),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),f.createElement(aY,$K({},t,{id:e})));var r})}function iY(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function sY(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?iY(Object(a),!0).forEach(function(t){oY(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):iY(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function oY(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}nY.displayName="Bar";var lY=yM([DB,(e,t,a,r,n)=>n],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),cY=yM([lY],e=>null==e?void 0:e.maxBarSize),dY=(e,t,a)=>{var r=null!=a?a:e;if(!MN(r))return NN(r,t,0)},uY=yM([XP,DB,(e,t)=>t,(e,t,a)=>a,(e,t,a,r)=>r],(e,t,a,r,n)=>t.filter(t=>"horizontal"===e?t.xAxisId===a:t.yAxisId===r).filter(e=>e.isPanorama===n).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),hY=yM([uY,e=>e.rootProps.barSize,(e,t,a)=>"horizontal"===XP(e)?eF(e,"xAxis",t):eF(e,"yAxis",a)],(e,t,a)=>{var r=e.filter(gB),n=e.filter(e=>null==e.stackId),i=r.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{}),s=Object.entries(i).map(e=>{var[r,n]=e;return{stackId:r,dataKeys:n.map(e=>e.dataKey),barSize:dY(t,a,n[0].barSize)}});return[...s,...n.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:dY(t,a,e.barSize)}))]}),mY=(e,t,a,r)=>{var n,i;return"horizontal"===XP(e)?(n=lF(e,"xAxis",t,r),i=oF(e,"xAxis",t,r)):(n=lF(e,"yAxis",a,r),i=oF(e,"yAxis",a,r)),NP(n,i)};var pY=yM([hY,A$,e=>e.rootProps.barGap,D$,(e,t,a,r,n)=>{var i,s,o=lY(e,t,a,r,n);if(null!=o){var l,c,d=XP(e),u=A$(e),{maxBarSize:h}=o,m=MN(h)?u:h;return"horizontal"===d?(l=lF(e,"xAxis",t,r),c=oF(e,"xAxis",t,r)):(l=lF(e,"yAxis",a,r),c=oF(e,"yAxis",a,r)),null!==(i=null!==(s=NP(l,c,!0))&&void 0!==s?s:m)&&void 0!==i?i:0}},mY,cY],(e,t,a,r,n,i,s)=>{var o=MN(s)?t:s,l=function(e,t,a,r,n){var i=r.length;if(!(i<1)){var s,o=NN(e,a,0,!0),l=[];if(PA(r[0].barSize)){var c=!1,d=a/i,u=r.reduce((e,t)=>e+(t.barSize||0),0);(u+=(i-1)*o)>=a&&(u-=(i-1)*o,o=0),u>=a&&d>0&&(c=!0,u=i*(d*=.9));var h={offset:((a-u)/2|0)-o,size:0};s=r.reduce((e,t)=>{var a,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+o,size:c?d:null!==(a=t.barSize)&&void 0!==a?a:0}}];return h=r[r.length-1].position,r},l)}else{var m=NN(t,a,0,!0);a-2*m-(i-1)*o<=0&&(o=0);var p=(a-2*m-(i-1)*o)/i;p>1&&(p>>=0);var f=PA(n)?Math.min(p,n):p;s=r.reduce((e,t,a)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:m+(p+o)*a+(p-f)/2,size:f}}],l)}return s}}(a,r,n!==i?n:i,e,o);return n!==i&&null!=l&&(l=l.map(e=>sY(sY({},e),{},{position:sY(sY({},e.position),{},{offset:e.position.offset-n/2})}))),l}),fY=yM([pY,lY],(e,t)=>{if(null!=e&&null!=t){var a=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=a)return a.position}}),gY=yM([(e,t,a,r)=>"horizontal"===XP(e)?JB(e,"yAxis",a,r):JB(e,"xAxis",t,r),lY],(e,t)=>{var a=dB(t);if(e&&null!=a&&null!=t){var{stackId:r}=t;if(null!=r){var n=e[r];if(n){var{stackedData:i}=n;if(i)return i.find(e=>e.key===a)}}}}),xY=yM([LP,BP,(e,t,a,r)=>lF(e,"xAxis",t,r),(e,t,a,r)=>lF(e,"yAxis",a,r),(e,t,a,r)=>oF(e,"xAxis",t,r),(e,t,a,r)=>oF(e,"yAxis",a,r),fY,XP,TL,mY,gY,lY,(e,t,a,r,n,i)=>i],(e,t,a,r,n,i,s,o,l,c,d,u,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:f}=l;if(null!=u&&null!=s&&null!=t&&("horizontal"===o||"vertical"===o)&&null!=a&&null!=r&&null!=n&&null!=i&&null!=c){var g,{data:x}=u;if(null!=(g=null!=x&&x.length>0?x:null==m?void 0:m.slice(p,f+1)))return rY({layout:o,barSettings:u,pos:s,parentViewBox:t,bandSize:c,xAxis:a,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:d,displayedData:g,offset:e,cells:h})}}),vY=e=>{var{chartData:t}=e,a=lM(),r=FP();return f.useEffect(()=>r?()=>{}:(a(fG(t)),()=>{a(fG(void 0))}),[t,a,r]),null},bY={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},yY=uO({name:"brush",initialState:bY,reducers:{setBrushSettings:(e,t)=>null==t.payload?bY:t.payload}}),{setBrushSettings:_Y}=yY.actions,jY=yY.reducer;class wY{static create(e){return new wY(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(a)switch(a){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var n=this.bandwidth?this.bandwidth():0;return this.scale(e)+n}if(t){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}isInRange(e){var t=this.range(),a=t[0],r=t[t.length-1];return a<=r?e>=a&&e<=r:e>=r&&e<=a}}!function(e,t,a){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(wY,"EPS",1e-4);var NY=uO({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var a=GE(e).dots.findIndex(e=>e===t.payload);-1!==a&&e.dots.splice(a,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var a=GE(e).areas.findIndex(e=>e===t.payload);-1!==a&&e.areas.splice(a,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var a=GE(e).lines.findIndex(e=>e===t.payload);-1!==a&&e.lines.splice(a,1)}}}),{addDot:CY,removeDot:kY,addArea:SY,removeArea:MY,addLine:EY,removeLine:OY}=NY.actions,PY=NY.reducer,AY=f.createContext(void 0),DY=e=>{var{children:t}=e,[a]=f.useState("".concat(wN("recharts"),"-clip")),r=uK();if(null==r)return null;var{x:n,y:i,width:s,height:o}=r;return f.createElement(AY.Provider,{value:a},f.createElement("defs",null,f.createElement("clipPath",{id:a},f.createElement("rect",{x:n,y:i,height:o,width:s}))),t)};function IY(e,t){for(var a in e)if({}.hasOwnProperty.call(e,a)&&(!{}.hasOwnProperty.call(t,a)||e[a]!==t[a]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function TY(e,t,a){if(t<1)return[];if(1===t&&void 0===a)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function zY(e,t,a){return function(e){var{width:t,height:a}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=r*Math.PI/180,i=Math.atan(a/t),s=n>i&&n<Math.PI-i?a/Math.sin(n):t/Math.cos(n);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},a)}function RY(e,t,a,r,n){if(e*t<e*r||e*t>e*n)return!1;var i=a();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-n)<=0}function LY(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function $Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?LY(Object(a),!0).forEach(function(t){BY(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):LY(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function BY(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function qY(e,t,a){var r,{tick:n,ticks:i,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:h}=e;if(!i||!i.length||!n)return[];if(yN(c)||EA)return null!==(r=function(e,t){return TY(e,t+1)}(i,yN(c)?c:0))&&void 0!==r?r:[];var m=[],p="top"===l||"bottom"===l?"width":"height",f=u&&"width"===p?oH(u,{fontSize:t,letterSpacing:a}):{width:0,height:0},g=(e,r)=>{var n="function"==typeof d?d(e.value,r):e.value;return"width"===p?zY(oH(n,{fontSize:t,letterSpacing:a}),f,h):oH(n,{fontSize:t,letterSpacing:a})[p]},x=i.length>=2?xN(i[1].coordinate-i[0].coordinate):1,v=function(e,t,a){var r="width"===a,{x:n,y:i,width:s,height:o}=e;return 1===t?{start:r?n:i,end:r?n+s:i+o}:{start:r?n+s:i+o,end:r?n:i}}(s,x,p);return"equidistantPreserveStart"===c?function(e,t,a,r,n){for(var i,s=(r||[]).slice(),{start:o,end:l}=t,c=0,d=1,u=o,h=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:TY(r,d)};var i,s=c,h=()=>(void 0===i&&(i=a(t,s)),i),m=t.coordinate,p=0===c||RY(e,m,h,u,l);p||(c=0,u=o,d+=1),p&&(u=m+e*(h()/2+n),c+=d)};d<=s.length;)if(i=h())return i.v;return[]}(x,v,g,i,o):(m="preserveStart"===c||"preserveStartEnd"===c?function(e,t,a,r,n,i){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(i){var d=r[o-1],u=a(d,o-1),h=e*(d.coordinate+e*u/2-c);s[o-1]=d=$Y($Y({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),RY(e,d.tickCoord,()=>u,l,c)&&(c=d.tickCoord-e*(u/2+n),s[o-1]=$Y($Y({},d),{},{isShow:!0}))}for(var m=i?o-1:o,p=function(t){var r,i=s[t],o=()=>(void 0===r&&(r=a(i,t)),r);if(0===t){var d=e*(i.coordinate-e*o()/2-l);s[t]=i=$Y($Y({},i),{},{tickCoord:d<0?i.coordinate-d*e:i.coordinate})}else s[t]=i=$Y($Y({},i),{},{tickCoord:i.coordinate});RY(e,i.tickCoord,o,l,c)&&(l=i.tickCoord+e*(o()/2+n),s[t]=$Y($Y({},i),{},{isShow:!0}))},f=0;f<m;f++)p(f);return s}(x,v,g,i,o,"preserveStartEnd"===c):function(e,t,a,r,n){for(var i=(r||[]).slice(),s=i.length,{start:o}=t,{end:l}=t,c=function(t){var r,c=i[t],d=()=>(void 0===r&&(r=a(c,t)),r);if(t===s-1){var u=e*(c.coordinate+e*d()/2-l);i[t]=c=$Y($Y({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else i[t]=c=$Y($Y({},c),{},{tickCoord:c.coordinate});RY(e,c.tickCoord,d,o,l)&&(l=c.tickCoord-e*(d()/2+n),i[t]=$Y($Y({},c),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return i}(x,v,g,i,o),m.filter(e=>e.isShow))}var FY=["viewBox"],WY=["viewBox"];function GY(){return GY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},GY.apply(null,arguments)}function HY(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function VY(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?HY(Object(a),!0).forEach(function(t){KY(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):HY(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function UY(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function KY(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class YY extends f.Component{constructor(e){super(e),this.tickRefs=f.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:a}=e,r=UY(e,FY),n=this.props,{viewBox:i}=n,s=UY(n,WY);return!IY(a,i)||!IY(r,s)||!IY(t,this.state)}getTickLineCoord(e){var t,a,r,n,i,s,{x:o,y:l,width:c,height:d,orientation:u,tickSize:h,mirror:m,tickMargin:p}=this.props,f=m?-1:1,g=e.tickSize||h,x=yN(e.tickCoord)?e.tickCoord:e.coordinate;switch(u){case"top":t=a=e.coordinate,s=(r=(n=l+ +!m*d)-f*g)-f*p,i=x;break;case"left":r=n=e.coordinate,i=(t=(a=o+ +!m*c)-f*g)-f*p,s=x;break;case"right":r=n=e.coordinate,i=(t=(a=o+ +m*c)+f*g)+f*p,s=x;break;default:t=a=e.coordinate,s=(r=(n=l+ +m*d)+f*g)+f*p,i=x}return{line:{x1:t,y1:r,x2:a,y2:n},tick:{x:i,y:s}}}getTickTextAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:t,width:a,height:r,orientation:n,mirror:i,axisLine:s}=this.props,o=VY(VY(VY({},HN(this.props,!1)),HN(s,!1)),{},{fill:"none"});if("top"===n||"bottom"===n){var l=+("top"===n&&!i||"bottom"===n&&i);o=VY(VY({},o),{},{x1:e,y1:t+l*r,x2:e+a,y2:t+l*r})}else{var c=+("left"===n&&!i||"right"===n&&i);o=VY(VY({},o),{},{x1:e+c*a,y1:t,x2:e+c*a,y2:t+r})}return f.createElement("line",GY({},o,{className:Ce("recharts-cartesian-axis-line",cN(s,"className"))}))}static renderTickItem(e,t,a){var r,n=Ce(t.className,"recharts-cartesian-axis-tick-value");if(f.isValidElement(e))r=f.cloneElement(e,VY(VY({},t),{},{className:n}));else if("function"==typeof e)r=e(VY(VY({},t),{},{className:n}));else{var i="recharts-cartesian-axis-tick-value";"boolean"!=typeof e&&(i=Ce(i,e.className)),r=f.createElement(EH,GY({},t,{className:i}),a)}return r}renderTicks(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:r,stroke:n,tick:i,tickFormatter:s,unit:o,padding:l,tickTextProps:c}=this.props,d=qY(VY(VY({},this.props),{},{ticks:a}),e,t),u=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=LN(this.props),p=HN(i,!1),g=VY(VY({},m),{},{fill:"none"},HN(r,!1)),x=d.map((e,t)=>{var{line:a,tick:x}=this.getTickLineCoord(e),v=VY(VY(VY(VY({textAnchor:u,verticalAnchor:h},m),{},{stroke:"none",fill:n},p),x),{},{index:t,payload:e,visibleTicksCount:d.length,tickFormatter:s,padding:l},c);return f.createElement(JN,GY({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},TN(this.props,e,t)),r&&f.createElement("line",GY({},g,a,{className:Ce("recharts-cartesian-axis-tick-line",cN(r,"className"))})),i&&YY.renderTickItem(i,v,"".concat("function"==typeof s?s(e.value,t):e.value).concat(o||"")))});return x.length>0?f.createElement("g",{className:"recharts-cartesian-axis-ticks"},x):null}render(){var{axisLine:e,width:t,height:a,className:r,hide:n}=this.props;if(n)return null;var{ticks:i}=this.props;return null!=t&&t<=0||null!=a&&a<=0?null:f.createElement(JN,{className:Ce("recharts-cartesian-axis",r),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var a=t[0];if(a){var r=window.getComputedStyle(a).fontSize,n=window.getComputedStyle(a).letterSpacing;r===this.state.fontSize&&n===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,i),f.createElement(zH,{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height},f.createElement(GH,{label:this.props.label}),this.props.children))}}KY(YY,"displayName","CartesianAxis"),KY(YY,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var XY=["x1","y1","x2","y2","key"],JY=["offset"],ZY=["xAxisId","yAxisId"],QY=["xAxisId","yAxisId"];function eX(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function tX(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?eX(Object(a),!0).forEach(function(t){aX(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eX(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function aX(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function rX(){return rX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},rX.apply(null,arguments)}function nX(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var iX=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:a,x:r,y:n,width:i,height:s,ry:o}=e;return f.createElement("rect",{x:r,y:n,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function sX(e,t){var a;if(f.isValidElement(e))a=f.cloneElement(e,t);else if("function"==typeof e)a=e(t);else{var{x1:r,y1:n,x2:i,y2:s,key:o}=t,l=LN(nX(t,XY)),{offset:c}=l,d=nX(l,JY);a=f.createElement("line",rX({},d,{x1:r,y1:n,x2:i,y2:s,fill:"none",key:o}))}return a}function oX(e){var{x:t,width:a,horizontal:r=!0,horizontalPoints:n}=e;if(!r||!n||!n.length)return null;var{xAxisId:i,yAxisId:s}=e,o=nX(e,ZY),l=n.map((e,n)=>{var i=tX(tX({},o),{},{x1:t,y1:e,x2:t+a,y2:e,key:"line-".concat(n),index:n});return sX(r,i)});return f.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function lX(e){var{y:t,height:a,vertical:r=!0,verticalPoints:n}=e;if(!r||!n||!n.length)return null;var{xAxisId:i,yAxisId:s}=e,o=nX(e,QY),l=n.map((e,n)=>{var i=tX(tX({},o),{},{x1:e,y1:t,x2:e,y2:t+a,key:"line-".concat(n),index:n});return sX(r,i)});return f.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function cX(e){var{horizontalFill:t,fillOpacity:a,x:r,y:n,width:i,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=o.map(e=>Math.round(e+n-n)).sort((e,t)=>e-t);n!==c[0]&&c.unshift(0);var d=c.map((e,o)=>{var l=!c[o+1]?n+s-e:c[o+1]-e;if(l<=0)return null;var d=o%t.length;return f.createElement("rect",{key:"react-".concat(o),y:e,x:r,height:l,width:i,stroke:"none",fill:t[d],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return f.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function dX(e){var{vertical:t=!0,verticalFill:a,fillOpacity:r,x:n,y:i,width:s,height:o,verticalPoints:l}=e;if(!t||!a||!a.length)return null;var c=l.map(e=>Math.round(e+n-n)).sort((e,t)=>e-t);n!==c[0]&&c.unshift(0);var d=c.map((e,t)=>{var l=!c[t+1]?n+s-e:c[t+1]-e;if(l<=0)return null;var d=t%a.length;return f.createElement("rect",{key:"react-".concat(t),x:e,y:i,width:l,height:o,stroke:"none",fill:a[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return f.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var uX=(e,t)=>{var{xAxis:a,width:r,height:n,offset:i}=e;return pP(qY(tX(tX(tX({},YY.defaultProps),a),{},{ticks:fP(a),viewBox:{x:0,y:0,width:r,height:n}})),i.left,i.left+i.width,t)},hX=(e,t)=>{var{yAxis:a,width:r,height:n,offset:i}=e;return pP(qY(tX(tX(tX({},YY.defaultProps),a),{},{ticks:fP(a),viewBox:{x:0,y:0,width:r,height:n}})),i.top,i.top+i.height,t)},mX={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function pX(e){var t=KP(),a=YP(),r=UP(),n=tX(tX({},JA(e,mX)),{},{x:yN(e.x)?e.x:r.left,y:yN(e.y)?e.y:r.top,width:yN(e.width)?e.width:r.width,height:yN(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:s,x:o,y:l,width:c,height:d,syncWithTicks:u,horizontalValues:h,verticalValues:m}=n,p=FP(),g=hM(e=>iF(e,"xAxis",i,p)),x=hM(e=>iF(e,"yAxis",s,p));if(!yN(c)||c<=0||!yN(d)||d<=0||!yN(o)||o!==+o||!yN(l)||l!==+l)return null;var v=n.verticalCoordinatesGenerator||uX,b=n.horizontalCoordinatesGenerator||hX,{horizontalPoints:y,verticalPoints:_}=n;if(!(y&&y.length||"function"!=typeof b)){var j=h&&h.length,w=b({yAxis:x?tX(tX({},x),{},{ticks:j?h:x.ticks}):void 0,width:t,height:a,offset:r},!!j||u);UG(Array.isArray(w),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof w,"]")),Array.isArray(w)&&(y=w)}if(!(_&&_.length||"function"!=typeof v)){var N=m&&m.length,C=v({xAxis:g?tX(tX({},g),{},{ticks:N?m:g.ticks}):void 0,width:t,height:a,offset:r},!!N||u);UG(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(_=C)}return f.createElement("g",{className:"recharts-cartesian-grid"},f.createElement(iX,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),f.createElement(cX,rX({},n,{horizontalPoints:y})),f.createElement(dX,rX({},n,{verticalPoints:_})),f.createElement(oX,rX({},n,{offset:r,horizontalPoints:y,xAxis:g,yAxis:x})),f.createElement(lX,rX({},n,{offset:r,verticalPoints:_,xAxis:g,yAxis:x})))}pX.displayName="CartesianGrid";var fX=(e,t,a,r)=>lF(e,"xAxis",t,r),gX=(e,t,a,r)=>oF(e,"xAxis",t,r),xX=(e,t,a,r)=>lF(e,"yAxis",a,r),vX=(e,t,a,r)=>oF(e,"yAxis",a,r),bX=yM([XP,fX,xX,gX,vX],(e,t,a,r,n)=>mP(e,"xAxis")?NP(t,r,!1):NP(a,n,!1));function yX(e){return"line"===e.type}var _X=yM([DB,(e,t,a,r,n)=>n],(e,t)=>e.filter(yX).find(e=>e.id===t)),jX=yM([XP,fX,xX,gX,vX,_X,bX,TL],(e,t,a,r,n,i,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(null!=i&&null!=t&&null!=a&&null!=r&&null!=n&&0!==r.length&&0!==n.length&&null!=s){var u,{dataKey:h,data:m}=i;if(null!=(u=null!=m&&m.length>0?m:null==l?void 0:l.slice(c,d+1)))return function(e){var{layout:t,xAxis:a,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((e,l)=>{var c=hP(e,s);if("horizontal"===t)return{x:bP({axis:a,ticks:n,bandSize:o,entry:e,index:l}),y:MN(c)?null:r.scale(c),value:c,payload:e};var d=MN(c)?null:a.scale(c),u=bP({axis:r,ticks:i,bandSize:o,entry:e,index:l});return null==d||null==u?null:{x:d,y:u,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:n,dataKey:h,bandSize:s,displayedData:u})}}),wX=["id"],NX=["type","layout","connectNulls","needClip"],CX=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function kX(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function SX(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?kX(Object(a),!0).forEach(function(t){MX(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kX(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function MX(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function EX(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function OX(){return OX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},OX.apply(null,arguments)}var PX=e=>{var{dataKey:t,name:a,stroke:r,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:r,value:kP(a,t),payload:e}]};function AX(e){var{dataKey:t,data:a,stroke:r,strokeWidth:n,fill:i,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:kP(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var DX=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function IX(e,t){for(var a=e.length%2!=0?[...e,0]:e,r=[],n=0;n<t;++n)r=[...r,...a];return r}function TX(e){var{clipPathId:t,points:a,props:r}=e,{dot:n,dataKey:i,needClip:s}=r;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(a,n))return null;var{id:o}=r,l=EX(r,wX),c=GN(n),d=LN(l),u=HN(n,!0),h=a.map((e,t)=>{var r=SX(SX(SX({key:"dot-".concat(t),r:3},d),u),{},{index:t,cx:e.x,cy:e.y,dataKey:i,value:e.value,payload:e.payload,points:a});return function(e,t){var a;if(f.isValidElement(e))a=f.cloneElement(e,t);else if("function"==typeof e)a=e(t);else{var r=Ce("recharts-line-dot","boolean"!=typeof e?e.className:"");a=f.createElement(gV,OX({},t,{className:r}))}return a}(n,r)}),m={clipPath:s?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return f.createElement(JN,OX({className:"recharts-line-dots",key:"dots"},m),h)}function zX(e){var{showLabels:t,children:a,points:r}=e,n=f.useMemo(()=>null==r?void 0:r.map(e=>{var t={x:e.x,y:e.y,width:0,height:0};return SX(SX({},t),{},{value:e.value,payload:e.payload,viewBox:t,parentViewBox:void 0,fill:void 0})}),[r]);return f.createElement(dV,{value:t?n:null},a)}function RX(e){var{clipPathId:t,pathRef:a,points:r,strokeDasharray:n,props:i}=e,{type:s,layout:o,connectNulls:l,needClip:c}=i,d=EX(i,NX),u=SX(SX({},HN(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:null!=n?n:i.strokeDasharray});return f.createElement(f.Fragment,null,(null==r?void 0:r.length)>1&&f.createElement(FA,OX({},u,{pathRef:a})),f.createElement(TX,{points:r,clipPathId:t,props:i}))}function LX(e){var{clipPathId:t,props:a,pathRef:r,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:u,animateNewValues:h,width:m,height:p,onAnimationEnd:g,onAnimationStart:x}=a,v=n.current,b=CD(a,"recharts-line-"),[y,_]=f.useState(!1),j=!y,w=f.useCallback(()=>{"function"==typeof g&&g(),_(!1)},[g]),N=f.useCallback(()=>{"function"==typeof x&&x(),_(!0)},[x]),C=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(r.current),k=i.current;return f.createElement(zX,{points:s,showLabels:j},a.children,f.createElement(ND,{animationId:b,begin:c,duration:d,isActive:l,easing:u,onAnimationEnd:w,onAnimationStart:N,key:b},e=>{var c,d=kN(k,C+k,e),u=Math.min(d,C);if(l)if(o){var g="".concat(o).split(/[,\s]+/gim).map(e=>parseFloat(e));c=((e,t,a)=>{var r=a.reduce((e,t)=>e+t);if(!r)return DX(t,e);for(var n=Math.floor(e/r),i=e%r,s=t-e,o=[],l=0,c=0;l<a.length;c+=a[l],++l)if(c+a[l]>i){o=[...a.slice(0,l),i-c];break}var d=o.length%2==0?[0,s]:[s];return[...IX(a,n),...o,...d].map(e=>"".concat(e,"px")).join(", ")})(u,C,g)}else c=DX(C,u);else c=null==o?void 0:String(o);if(v){var x=v.length/s.length,b=1===e?s:s.map((t,a)=>{var r=Math.floor(a*x);if(v[r]){var n=v[r];return SX(SX({},t),{},{x:kN(n.x,t.x,e),y:kN(n.y,t.y,e)})}return SX(SX({},t),{},h?{x:kN(2*m,t.x,e),y:kN(p/2,t.y,e)}:{x:t.x,y:t.y})});return n.current=b,f.createElement(RX,{props:a,points:b,clipPathId:t,pathRef:r,strokeDasharray:c})}return e>0&&C>0&&(n.current=s,i.current=u),f.createElement(RX,{props:a,points:s,clipPathId:t,pathRef:r,strokeDasharray:c})}),f.createElement(pV,{label:a.label}))}function $X(e){var{clipPathId:t,props:a}=e,r=f.useRef(null),n=f.useRef(0),i=f.useRef(null);return f.createElement(LX,{props:a,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:n,pathRef:i})}var BX=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:hP(e.payload,t)});class qX extends f.Component{render(){var e,{hide:t,dot:a,points:r,className:n,xAxisId:i,yAxisId:s,top:o,left:l,width:c,height:d,id:u,needClip:h}=this.props;if(t)return null;var m=Ce("recharts-line",n),p=u,{r:g=3,strokeWidth:x=2}=null!==(e=HN(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},v=GN(a),b=2*g+x;return f.createElement(f.Fragment,null,f.createElement(JN,{className:m},h&&f.createElement("defs",null,f.createElement(IK,{clipPathId:p,xAxisId:i,yAxisId:s}),!v&&f.createElement("clipPath",{id:"clipPath-dots-".concat(p)},f.createElement("rect",{x:l-b/2,y:o-b/2,width:c+b,height:d+b}))),f.createElement(AK,{xAxisId:i,yAxisId:s,data:r,dataPointFormatter:BX,errorBarOffset:0},f.createElement($X,{props:this.props,clipPathId:p}))),f.createElement(fK,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var FX={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!EA,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function WX(e){var t=JA(e,FX),{activeDot:a,animateNewValues:r,animationBegin:n,animationDuration:i,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:d,label:u,legendType:h,xAxisId:m,yAxisId:p,id:g}=t,x=EX(t,CX),{needClip:v}=DK(m,p),b=uK(),y=JP(),_=FP(),j=hM(e=>jX(e,m,p,_,g));if("horizontal"!==y&&"vertical"!==y||null==j||null==b)return null;var{height:w,width:N,x:C,y:k}=b;return f.createElement(qX,OX({},x,{id:g,connectNulls:o,dot:l,activeDot:a,animateNewValues:r,animationBegin:n,animationDuration:i,animationEasing:s,isAnimationActive:d,hide:c,label:u,legendType:h,xAxisId:m,yAxisId:p,points:j,layout:y,height:w,width:N,left:C,top:k,needClip:v}))}function GX(e){var t=JA(e,FX),a=FP();return f.createElement(yU,{id:t.id,type:"line"},e=>f.createElement(f.Fragment,null,f.createElement(gU,{legendPayload:PX(t)}),f.createElement(mU,{fn:AX,args:t}),f.createElement(MU,{type:"line",id:e,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:a}),f.createElement(WX,OX({},t,{id:e}))))}GX.displayName="Line";var HX=["children"],VX=["dangerouslySetInnerHTML","ticks"],UX=["id"];function KX(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function YX(){return YX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},YX.apply(null,arguments)}function XX(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function JX(e){var t=lM(),a=f.useMemo(()=>{var{children:t}=e;return XX(e,HX)},[e]);return f.useEffect(()=>(t(tK(a)),()=>{t(aK(a))}),[a,t]),e.children}var ZX=e=>{var{xAxisId:t,className:a}=e,r=hM(BP),n=FP(),i="xAxis",s=hM(e=>Wq(e,i,t,n)),o=hM(e=>sF(e,i,t,n)),l=hM(e=>Xq(e,t)),c=hM(e=>((e,t)=>{var a=LP(e),r=wB(e,t);if(null!=r){var n=Jq(e,r.orientation,r.mirror)[t];return null==n?{x:a.left,y:0}:{x:a.left,y:n}}})(e,t)),d=hM(e=>jB(e,t));if(null==l||null==c||null==d)return null;var{dangerouslySetInnerHTML:u,ticks:h}=e,m=XX(e,VX),{id:p}=d,g=XX(d,UX);return f.createElement(YY,YX({},m,g,{scale:s,x:c.x,y:c.y,width:l.width,height:l.height,className:Ce("recharts-".concat(i," ").concat(i),a),viewBox:r,ticks:o}))},QX=e=>{var t,a,r,n,i;return f.createElement(JX,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(a=e.includeHidden)&&void 0!==a&&a,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(r=e.angle)&&void 0!==r?r:0,minTickGap:null!==(n=e.minTickGap)&&void 0!==n?n:5,tick:null===(i=e.tick)||void 0===i||i,tickFormatter:e.tickFormatter},f.createElement(ZX,e))};class eJ extends f.Component{render(){return f.createElement(QX,this.props)}}KX(eJ,"displayName","XAxis"),KX(eJ,"defaultProps",{allowDataOverflow:_B.allowDataOverflow,allowDecimals:_B.allowDecimals,allowDuplicatedCategory:_B.allowDuplicatedCategory,height:_B.height,hide:!1,mirror:_B.mirror,orientation:_B.orientation,padding:_B.padding,reversed:_B.reversed,scale:_B.scale,tickCount:_B.tickCount,type:_B.type,xAxisId:0});var tJ=["dangerouslySetInnerHTML","ticks"],aJ=["id"];function rJ(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function nJ(){return nJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},nJ.apply(null,arguments)}function iJ(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function sJ(e){var t=lM();return f.useEffect(()=>(t(rK(e)),()=>{t(nK(e))}),[e,t]),null}var oJ=e=>{var t,{yAxisId:a,className:r,width:n,label:i}=e,s=f.useRef(null),o=f.useRef(null),l=hM(BP),c=FP(),d=lM(),u="yAxis",h=hM(e=>Wq(e,u,a,c)),m=hM(e=>Qq(e,a)),p=hM(e=>((e,t)=>{var a=LP(e),r=kB(e,t);if(null!=r){var n=Zq(e,r.orientation,r.mirror)[t];return null==n?{x:0,y:a.top}:{x:n,y:a.top}}})(e,a)),g=hM(e=>sF(e,u,a,c)),x=hM(e=>CB(e,a));if(f.useLayoutEffect(()=>{var e;if("auto"===n&&m&&!$H(i)&&!f.isValidElement(i)&&null!=x){var t=s.current,r=null==t||null===(e=t.tickRefs)||void 0===e?void 0:e.current,{tickSize:l,tickMargin:c}=t.props,u=(e=>{var{ticks:t,label:a,labelGapWithTick:r=5,tickSize:n=0,tickMargin:i=0}=e,s=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>s&&(s=t.width)}});var o=a?a.getBoundingClientRect().width:0,l=s+(n+i)+o+(a?r:0);return Math.round(l)}return 0})({ticks:r,label:o.current,labelGapWithTick:5,tickSize:l,tickMargin:c});Math.round(m.width)!==Math.round(u)&&d(oK({id:a,width:u}))}},[s,null==s||null===(t=s.current)||void 0===t||null===(t=t.tickRefs)||void 0===t?void 0:t.current,null==m?void 0:m.width,m,d,i,a,n]),null==m||null==p||null==x)return null;var{dangerouslySetInnerHTML:v,ticks:b}=e,y=iJ(e,tJ),{id:_}=x,j=iJ(x,aJ);return f.createElement(YY,nJ({},y,j,{ref:s,labelRef:o,scale:h,x:p.x,y:p.y,tickTextProps:"auto"===n?{width:void 0}:{width:n},width:m.width,height:m.height,className:Ce("recharts-".concat(u," ").concat(u),r),viewBox:l,ticks:g}))},lJ=e=>{var t,a,r,n,i;return f.createElement(f.Fragment,null,f.createElement(sJ,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(a=e.includeHidden)&&void 0!==a&&a,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(r=e.angle)&&void 0!==r?r:0,minTickGap:null!==(n=e.minTickGap)&&void 0!==n?n:5,tick:null===(i=e.tick)||void 0===i||i,tickFormatter:e.tickFormatter}),f.createElement(oJ,e))},cJ={allowDataOverflow:NB.allowDataOverflow,allowDecimals:NB.allowDecimals,allowDuplicatedCategory:NB.allowDuplicatedCategory,hide:!1,mirror:NB.mirror,orientation:NB.orientation,padding:NB.padding,reversed:NB.reversed,scale:NB.scale,tickCount:NB.tickCount,type:NB.type,width:NB.width,yAxisId:0};class dJ extends f.Component{render(){return f.createElement(lJ,this.props)}}rJ(dJ,"displayName","YAxis"),rJ(dJ,"defaultProps",cJ);var uJ,hJ,mJ={exports:{}},pJ={};hJ||(hJ=1,mJ.exports=function(){if(uJ)return pJ;uJ=1;var t=e(),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=t.useSyncExternalStore,n=t.useRef,i=t.useEffect,s=t.useMemo,o=t.useDebugValue;return pJ.useSyncExternalStoreWithSelector=function(e,t,l,c,d){var u=n(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=s(function(){function e(e){if(!i){if(i=!0,r=e,e=c(e),void 0!==d&&h.hasValue){var t=h.value;if(d(t,e))return n=t}return n=e}if(t=n,a(r,e))return t;var s=c(e);return void 0!==d&&d(t,s)?(r=e,t):(r=e,n=s)}var r,n,i=!1,s=void 0===l?null:l;return[function(){return e(t())},null===s?void 0:function(){return e(s())}]},[t,l,c,d]);var m=r(e,u[0],u[1]);return i(function(){h.hasValue=!0,h.value=m},[m]),o(m),m},pJ}()),mJ.exports;var fJ={notify(){},get:()=>[]};var gJ=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),xJ=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),vJ=(()=>gJ||xJ?f.useLayoutEffect:f.useEffect)(),bJ=Symbol.for("react-redux-context"),yJ="undefined"!=typeof globalThis?globalThis:{};function _J(){if(!f.createContext)return{};const e=yJ[bJ]??=new Map;let t=e.get(f.createContext);return t||(t=f.createContext(null),e.set(f.createContext,t)),t}var jJ=_J();var wJ=function(e){const{children:t,context:a,serverState:r,store:n}=e,i=f.useMemo(()=>{const e=function(e){let t,a=fJ,r=0,n=!1;function i(){l.onStateChange&&l.onStateChange()}function s(){r++,t||(t=e.subscribe(i),a=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){!function(e){e()}(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let a=e;for(;a;)t.push(a),a=a.next;return t},subscribe(a){let r=!0;const n=t={callback:a,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){r&&null!==e&&(r=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}())}function o(){r--,t&&0===r&&(t(),t=void 0,a.clear(),a=fJ)}const l={addNestedSub:function(e){s();const t=a.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),o())}},notifyNestedSubs:function(){a.notify()},handleChangeWrapper:i,isSubscribed:function(){return n},trySubscribe:function(){n||(n=!0,s())},tryUnsubscribe:function(){n&&(n=!1,o())},getListeners:()=>a};return l}(n);return{store:n,subscription:e,getServerState:r?()=>r:void 0}},[n,r]),s=f.useMemo(()=>n.getState(),[n]);vJ(()=>{const{subscription:e}=i;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[i,s]);const o=a||jJ;return f.createElement(o.Provider,{value:i},t)},NJ=yM([(e,t)=>t,XP,oB,uB,gW,yW,qW,LP],(e,t,a,r,n,i,s,o)=>{if(e&&t&&r&&n&&i){var l=function(e,t,a,r,n){return"horizontal"===a||"vertical"===a?e>=n.left&&e<=n.left+n.width&&t>=n.top&&t<=n.top+n.height?{x:e,y:t}:null:r?oP({x:e,y:t},r):null}(e.chartX,e.chartY,t,a,o);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),d=((e,t,a,r,n)=>{var i,s=-1,o=null!==(i=null==t?void 0:t.length)&&void 0!==i?i:0;if(o<=1||null==e)return 0;if("angleAxis"===r&&null!=n&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?a[l-1].coordinate:a[o-1].coordinate,d=a[l].coordinate,u=l>=o-1?a[0].coordinate:a[l+1].coordinate,h=void 0;if(xN(d-c)!==xN(u-d)){var m=[];if(xN(u-d)===xN(n[1]-n[0])){h=u;var p=d+n[1]-n[0];m[0]=Math.min(p,(p+c)/2),m[1]=Math.max(p,(p+c)/2)}else{h=c;var f=u+n[1]-n[0];m[0]=Math.min(d,(f+d)/2),m[1]=Math.max(d,(f+d)/2)}var g=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>g[0]&&e<=g[1]||e>=m[0]&&e<=m[1]){({index:s}=a[l]);break}}else{var x=Math.min(c,u),v=Math.max(c,u);if(e>(x+d)/2&&e<=(v+d)/2){({index:s}=a[l]);break}}}else if(t)for(var b=0;b<o;b++)if(0===b&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:s}=t[b]);break}return s})(c,s,i,r,n),u=((e,t,a,r)=>{var n=t.find(e=>e&&e.index===a);if(n){if("horizontal"===e)return{x:n.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:n.coordinate};if("centric"===e){var i=n.coordinate,{radius:s}=r;return dP(dP(dP({},r),rP(r.cx,r.cy,s,i)),{},{angle:i,radius:s})}var o=n.coordinate,{angle:l}=r;return dP(dP(dP({},r),rP(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}})(t,i,d,l);return{activeIndex:String(d),activeCoordinate:u}}}}),CJ=e=>{var t=e.currentTarget.getBoundingClientRect(),a=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/a),chartY:Math.round((e.clientY-t.top)/r)}},kJ=ZE("mouseClick"),SJ=GO();SJ.startListening({actionCreator:kJ,effect:(e,t)=>{var a=e.payload,r=NJ(t.getState(),CJ(a));null!=(null==r?void 0:r.activeIndex)&&t.dispatch(kF({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var MJ=ZE("mouseMove"),EJ=GO();function OJ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}EJ.startListening({actionCreator:MJ,effect:(e,t)=>{var a=e.payload,r=t.getState(),n=pF(r,r.tooltip.settings.shared),i=NJ(r,CJ(a));"axis"===n&&(null!=(null==i?void 0:i.activeIndex)?t.dispatch(CF({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(wF()))}});var PJ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},AJ=uO({name:"rootProps",initialState:PJ,reducers:{updateOptions:(e,t)=>{var a;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(a=t.payload.barGap)&&void 0!==a?a:PJ.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),DJ=AJ.reducer,{updateOptions:IJ}=AJ.actions,TJ=uO({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:zJ}=TJ.actions,RJ=TJ.reducer,LJ=ZE("keyDown"),$J=ZE("focus"),BJ=GO();BJ.startListening({actionCreator:LJ,effect:(e,t)=>{var a=t.getState();if(!1!==a.rootProps.accessibilityLayer){var{keyboardInteraction:r}=a.tooltip,n=e.payload;if("ArrowRight"===n||"ArrowLeft"===n||"Enter"===n){var i=Number(IF(r,YF(a))),s=yW(a);if("Enter"!==n){var o=i+("ArrowRight"===n?1:-1)*("left-to-right"===dF(a)?1:-1);if(!(null==s||o>=s.length||o<0)){var l=HW(a,"axis","hover",String(o));t.dispatch(MF({active:!0,activeIndex:o.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=HW(a,"axis","hover",String(r.index));t.dispatch(MF({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),BJ.startListening({actionCreator:$J,effect:(e,t)=>{var a=t.getState();if(!1!==a.rootProps.accessibilityLayer){var{keyboardInteraction:r}=a.tooltip;if(!r.active&&null==r.index){var n=HW(a,"axis","hover",String("0"));t.dispatch(MF({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:n}))}}}});var qJ=ZE("externalEvent"),FJ=GO();FJ.startListening({actionCreator:qJ,effect:(e,t)=>{if(null!=e.payload.handler){var a=t.getState(),r={activeCoordinate:OW(a),activeDataKey:SW(a),activeIndex:CW(a),activeLabel:kW(a),activeTooltipIndex:CW(a),isTooltipActive:PW(a)};e.payload.handler(r,e.payload.reactEvent)}}});var WJ=yM([LF],e=>e.tooltipItemPayloads),GJ=yM([WJ,RF,(e,t,a)=>t,(e,t,a)=>a],(e,t,a,r)=>{var n=e.find(e=>e.settings.dataKey===r);if(null!=n){var{positions:i}=n;if(null!=i)return t(i,a)}}),HJ=ZE("touchMove"),VJ=GO();VJ.startListening({actionCreator:HJ,effect:(e,t)=>{var a=e.payload,r=t.getState(),n=pF(r,r.tooltip.settings.shared);if("axis"===n){var i=NJ(r,CJ({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));null!=(null==i?void 0:i.activeIndex)&&t.dispatch(CF({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if("item"===n){var s,o=a.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(DP),d=null!==(s=l.getAttribute(IP))&&void 0!==s?s:void 0,u=GJ(t.getState(),c,d);t.dispatch(_F({activeDataKey:d,activeIndex:c,activeCoordinate:u}))}}});var UJ=tE({brush:jY,cartesianAxis:lK,chartData:vG,errorBars:MK,graphicalItems:SU,layout:JO,legend:rA,options:uG,polarAxis:DV,polarOptions:RJ,referenceElements:PY,rootProps:DJ,tooltip:EF});function KJ(e){var{preloadedState:t,children:a,reduxStoreName:r}=e,n=FP(),i=f.useRef(null);if(n)return a;null==i.current&&(i.current=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart";return nO({reducer:UJ,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([SJ.middleware,EJ.middleware,BJ.middleware,FJ.middleware,VJ.middleware]),devTools:!!window.RECHARTS_DEV_TOOLS_ENABLED&&{serialize:{replacer:OJ},name:"recharts-".concat(t)}})}(t,r));var s=sM;return f.createElement(wJ,{context:s,store:i.current},a)}function YJ(e){var{layout:t,width:a,height:r,margin:n}=e,i=lM(),s=FP();return f.useEffect(()=>{s||(i(KO(t)),i(YO({width:a,height:r})),i(UO(n)))},[i,s,t,a,r,n]),null}function XJ(e){var t=lM();return f.useEffect(()=>{t(IJ(e))},[t,e]),null}var JJ=["children"];function ZJ(){return ZJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ZJ.apply(null,arguments)}var QJ={width:"100%",height:"100%"},eZ=f.forwardRef((e,t)=>{var a=KP(),r=YP(),n=OA();if(!AA(a)||!AA(r))return null;var i,s,{children:o,otherAttributes:l,title:c,desc:d}=e;return i="number"==typeof l.tabIndex?l.tabIndex:n?0:void 0,s="string"==typeof l.role?l.role:n?"application":void 0,f.createElement(KN,ZJ({},l,{title:c,desc:d,role:s,tabIndex:i,width:a,height:r,style:QJ,ref:t}),o)}),tZ=e=>{var{children:t}=e,a=hM(GP);if(!a)return null;var{width:r,height:n,y:i,x:s}=a;return f.createElement(KN,{width:r,height:n,x:s,y:i},t)},aZ=f.forwardRef((e,t)=>{var{children:a}=e,r=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,JJ);return FP()?f.createElement(tZ,null,a):f.createElement(eZ,ZJ({ref:t},r),a)});function rZ(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function nZ(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?rZ(Object(a),!0).forEach(function(t){iZ(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rZ(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function iZ(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var sZ=f.forwardRef((e,t)=>{var{children:a,className:r,height:n,onClick:i,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:u,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:x,width:v}=e,b=lM(),[y,_]=f.useState(null),[j,w]=f.useState(null);CG();var N=function(){var e=lM(),[t,a]=f.useState(null),r=hM(EP);return f.useEffect(()=>{if(null!=t){var a=t.getBoundingClientRect().width/t.offsetWidth;PA(a)&&a!==r&&e(XO(a))}},[t,e,r]),a}(),C=f.useCallback(e=>{N(e),"function"==typeof t&&t(e),_(e),w(e)},[N,t,_,w]),k=f.useCallback(e=>{b(kJ(e)),b(qJ({handler:i,reactEvent:e}))},[b,i]),S=f.useCallback(e=>{b(MJ(e)),b(qJ({handler:c,reactEvent:e}))},[b,c]),M=f.useCallback(e=>{b(wF()),b(qJ({handler:d,reactEvent:e}))},[b,d]),E=f.useCallback(e=>{b(MJ(e)),b(qJ({handler:u,reactEvent:e}))},[b,u]),O=f.useCallback(()=>{b($J())},[b]),P=f.useCallback(e=>{b(LJ(e.key))},[b]),A=f.useCallback(e=>{b(qJ({handler:s,reactEvent:e}))},[b,s]),D=f.useCallback(e=>{b(qJ({handler:o,reactEvent:e}))},[b,o]),I=f.useCallback(e=>{b(qJ({handler:l,reactEvent:e}))},[b,l]),T=f.useCallback(e=>{b(qJ({handler:h,reactEvent:e}))},[b,h]),z=f.useCallback(e=>{b(qJ({handler:g,reactEvent:e}))},[b,g]),R=f.useCallback(e=>{b(HJ(e)),b(qJ({handler:p,reactEvent:e}))},[b,p]),L=f.useCallback(e=>{b(qJ({handler:m,reactEvent:e}))},[b,m]);return f.createElement(rG.Provider,{value:y},f.createElement(eC.Provider,{value:j},f.createElement("div",{className:Ce("recharts-wrapper",r),style:nZ({position:"relative",cursor:"default",width:v,height:n},x),onClick:k,onContextMenu:A,onDoubleClick:D,onFocus:O,onKeyDown:P,onMouseDown:I,onMouseEnter:S,onMouseLeave:M,onMouseMove:E,onMouseUp:T,onTouchEnd:L,onTouchMove:R,onTouchStart:z,ref:C},a)))}),oZ=["children","className","width","height","style","compact","title","desc"];var lZ=f.forwardRef((e,t)=>{var{children:a,className:r,width:n,height:i,style:s,compact:o,title:l,desc:c}=e,d=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,oZ),u=LN(d);return o?f.createElement(aZ,{otherAttributes:u,title:l,desc:c},a):f.createElement(sZ,{className:r,style:s,width:n,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},f.createElement(aZ,{otherAttributes:u,title:l,desc:c,ref:t},f.createElement(DY,null,a)))}),cZ=["width","height"];function dZ(){return dZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},dZ.apply(null,arguments)}var uZ={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},hZ=f.forwardRef(function(e,t){var a,r=JA(e.categoricalChartProps,uZ),{width:n,height:i}=r,s=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(r,cZ);if(!AA(n)||!AA(i))return null;var{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:u}=e,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return f.createElement(KJ,{preloadedState:{options:h},reduxStoreName:null!==(a=u.id)&&void 0!==a?a:o},f.createElement(vY,{chartData:u.data}),f.createElement(YJ,{width:n,height:i,layout:r.layout,margin:r.margin}),f.createElement(XJ,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),f.createElement(lZ,dZ({},s,{width:n,height:i,ref:t})))}),mZ=["axis"],pZ=f.forwardRef((e,t)=>f.createElement(hZ,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mZ,tooltipPayloadSearcher:cG,categoricalChartProps:e,ref:t})),fZ=["axis","item"],gZ=f.forwardRef((e,t)=>f.createElement(hZ,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fZ,tooltipPayloadSearcher:cG,categoricalChartProps:e,ref:t}));function xZ(e){var t=lM();return f.useEffect(()=>{t(zJ(e))},[t,e]),null}var vZ=["width","height","layout"];function bZ(){return bZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},bZ.apply(null,arguments)}var yZ={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},_Z=f.forwardRef(function(e,t){var a,r=JA(e.categoricalChartProps,yZ),{width:n,height:i,layout:s}=r,o=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(r,vZ);if(!AA(n)||!AA(i))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u}=e,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u,eventEmitter:void 0};return f.createElement(KJ,{preloadedState:{options:h},reduxStoreName:null!==(a=r.id)&&void 0!==a?a:l},f.createElement(vY,{chartData:r.data}),f.createElement(YJ,{width:n,height:i,layout:s,margin:r.margin}),f.createElement(XJ,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),f.createElement(xZ,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),f.createElement(lZ,bZ({width:n,height:i},o,{ref:t})))}),jZ=["item"],wZ={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},NZ=f.forwardRef((e,t)=>{var a=JA(e,wZ);return f.createElement(_Z,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:jZ,tooltipPayloadSearcher:cG,categoricalChartProps:a,ref:t})});const CZ={"scrollable-container":"_scrollable-container_y8ohi_1","visualizar-abastecimentos":"_visualizar-abastecimentos_y8ohi_71",header:"_header_y8ohi_157","header-content":"_header-content_y8ohi_255","header-left":"_header-left_y8ohi_271","header-icon":"_header-icon_y8ohi_283","header-actions":"_header-actions_y8ohi_335","search-container":"_search-container_y8ohi_347","search-wrapper":"_search-wrapper_y8ohi_355","search-icon":"_search-icon_y8ohi_397","search-input":"_search-input_y8ohi_421","btn-primary":"_btn-primary_y8ohi_489","btn-secondary":"_btn-secondary_y8ohi_489","btn-clear":"_btn-clear_y8ohi_489","btn-toggle":"_btn-toggle_y8ohi_489",active:"_active_y8ohi_667",icon:"_icon_y8ohi_691",rotating:"_rotating_y8ohi_715","filtros-container":"_filtros-container_y8ohi_753","stat-card":"_stat-card_y8ohi_755","chart-controls":"_chart-controls_y8ohi_757","chart-wrapper":"_chart-wrapper_y8ohi_759","tabela-container":"_tabela-container_y8ohi_761","filtros-header":"_filtros-header_y8ohi_843","filtros-grid":"_filtros-grid_y8ohi_909","filtro-item":"_filtro-item_y8ohi_921","estatisticas-container":"_estatisticas-container_y8ohi_997","stat-icon":"_stat-icon_y8ohi_1097","stat-content":"_stat-content_y8ohi_1147","stat-value":"_stat-value_y8ohi_1165","stat-subtitle":"_stat-subtitle_y8ohi_1189","chart-header":"_chart-header_y8ohi_1215","chart-actions":"_chart-actions_y8ohi_1251","chart-type-selector":"_chart-type-selector_y8ohi_1261","charts-container":"_charts-container_y8ohi_1369","chart-subtitle":"_chart-subtitle_y8ohi_1467","tabela-header":"_tabela-header_y8ohi_1503","tabela-info":"_tabela-info_y8ohi_1567","tabela-wrapper":"_tabela-wrapper_y8ohi_1609","tabela-abastecimentos":"_tabela-abastecimentos_y8ohi_1617","cell-icon":"_cell-icon_y8ohi_1703","veiculo-info":"_veiculo-info_y8ohi_1717","motorista-info":"_motorista-info_y8ohi_1719","posto-info":"_posto-info_y8ohi_1721","combustivel-info":"_combustivel-info_y8ohi_1723","veiculo-nome":"_veiculo-nome_y8ohi_1747","veiculo-placa":"_veiculo-placa_y8ohi_1759","valor-destaque":"_valor-destaque_y8ohi_1779","nota-fiscal":"_nota-fiscal_y8ohi_1817","data-cell":"_data-cell_y8ohi_1837","no-data":"_no-data_y8ohi_1847","no-data-content":"_no-data-content_y8ohi_1857","no-data-icon":"_no-data-icon_y8ohi_1871"},kZ=()=>{const[e,t]=f.useState([]),[a,n]=f.useState([]),[i,s]=f.useState([]),[o,l]=f.useState([]),[c,d]=f.useState([]),[u,h]=f.useState(!1),[m,g]=f.useState("line"),[x,v]=f.useState(!0),[b,y]=f.useState(""),[_,j]=f.useState(1),[w]=f.useState(20),[N,C]=f.useState({veiculo:"",motorista:"",posto:"",combustivel:"",dataInicio:"",dataFim:"",periodo:"mes",valorMinimo:"",valorMaximo:""});f.useEffect(()=>{k()},[]),f.useEffect(()=>{const e=setTimeout(()=>{Object.values(N).some(e=>""!==e)?M():k()},500);return()=>clearTimeout(e)},[N]),f.useEffect(()=>{j(1)},[N,b]);const k=async()=>{h(!0);try{const e=await r("buscar_abastecimento");t(e),await S()}catch(e){t([]),await S()}h(!1)},S=async()=>{try{const e=await r("buscar_veiculos_e_marcas");n(e)}catch{}try{const e=await r("buscar_motoristas");s(e)}catch{}try{const e=await r("buscar_postos");l(e)}catch{}try{const e=await r("buscar_combustiveis");d(e)}catch{d([{id:1,nome:"Gasolina Comum",tipo:"Gasolina"},{id:2,nome:"Gasolina Aditivada",tipo:"Gasolina"},{id:3,nome:"Etanol",tipo:"Álcool"},{id:4,nome:"Diesel S10",tipo:"Diesel"}])}},M=async()=>{h(!0);try{const a={};N.veiculo&&(a.veiculo_id=parseInt(N.veiculo)),N.motorista&&(a.motorista_id=parseInt(N.motorista)),N.posto&&(a.posto_id=parseInt(N.posto)),N.combustivel&&(a.combustivel_id=parseInt(N.combustivel)),N.dataInicio&&(a.data_inicio=N.dataInicio),N.dataFim&&(a.data_fim=N.dataFim),N.valorMinimo&&(a.valor_minimo=parseFloat(N.valorMinimo)),N.valorMaximo&&(a.valor_maximo=parseFloat(N.valorMaximo));try{const e=await r("buscar_abastecimento_filtrado",{filtros:a});t(e)}catch(e){const a=await r("buscar_abastecimento");t(a)}}catch(e){try{const e=await r("buscar_abastecimento");t(e)}catch(a){t([])}}h(!1)},E=f.useMemo(()=>{let t=e;return b&&(t=t.filter(e=>{const t=a.find(t=>t.id===e.veiculo),r=i.find(t=>t.id===e.motorista),n=o.find(t=>t.id===e.posto),s=c.find(t=>t.id===e.combustivel);return[t?.nome,t?.placa,r?.nome,n?.nome,s?.nome,e.notafiscal,e.data].join(" ").toLowerCase().includes(b.toLowerCase())})),t.filter(e=>{const t=new Date(e.data),a=N.dataInicio?new Date(N.dataInicio):null,r=N.dataFim?new Date(N.dataFim):null,n=N.valorMinimo?parseFloat(N.valorMinimo):null,i=N.valorMaximo?parseFloat(N.valorMaximo):null;return!(N.veiculo&&e.veiculo.toString()!==N.veiculo||N.motorista&&e.motorista.toString()!==N.motorista||N.posto&&e.posto.toString()!==N.posto||N.combustivel&&e.combustivel.toString()!==N.combustivel||a&&!(t>=a)||r&&!(t<=r)||n&&!(e.valor>=n)||i&&!(e.valor<=i))})},[e,N,b,a,i,o,c]),O=E.length,P=Math.ceil(O/w),A=(_-1)*w,D=A+w,I=E.slice(A,D),T=()=>j(1),z=()=>j(e=>Math.max(e-1,1)),R=()=>j(e=>Math.min(e+1,P)),L=()=>j(P),$=e=>j(e),B=()=>{const e=[];if(P<=5)for(let t=1;t<=P;t++)e.push(t);else{const t=Math.max(1,_-Math.floor(2.5)),a=Math.min(P,t+5-1);for(let r=t;r<=a;r++)e.push(r)}return e},q=f.useMemo(()=>E.reduce((e,t)=>{const a=new Date(t.data).toLocaleDateString("pt-BR"),r=e.find(e=>e.data===a);return r?(r.litros+=parseFloat(t.litro)||0,r.valor+=parseFloat(t.valor)||0,r.abastecimentos+=1,r.kmTotal+=t.quilometragem):e.push({data:a,litros:parseFloat(t.litro)||0,valor:parseFloat(t.valor)||0,abastecimentos:1,kmTotal:t.quilometragem,eficiencia:t.quilometragem/t.litro}),e},[]).sort((e,t)=>new Date(e.data.split("/").reverse().join("-")).getTime()-new Date(t.data.split("/").reverse().join("-")).getTime()),[E]),F=f.useMemo(()=>E.reduce((e,t)=>{const r=a.find(e=>e.id===t.veiculo),n=r?`${r.nome}`:`Veículo ${t.veiculo}`,i=e.find(e=>e.veiculo===n);return i?(i.litros+=parseFloat(t.litro)||0,i.valor+=parseFloat(t.valor)||0,i.abastecimentos+=1,i.kmTotal+=t.quilometragem):e.push({veiculo:n,litros:parseFloat(t.litro)||0,valor:parseFloat(t.valor)||0,abastecimentos:1,kmTotal:t.quilometragem,eficiencia:t.quilometragem/t.litro}),e},[]).sort((e,t)=>t.valor-e.valor),[E,a]),W=f.useMemo(()=>{const e=E.reduce((e,t)=>{const a=c.find(e=>e.id===t.combustivel),r=a?a.nome:`Combustível ${t.combustivel}`,n=e.find(e=>e.name===r);return n?(n.value+=parseFloat(t.valor)||0,n.litros+=parseFloat(t.litro)||0):e.push({name:r,value:parseFloat(t.valor)||0,litros:parseFloat(t.litro)||0}),e},[]);return e.sort((e,t)=>t.value-e.value)},[E,c]),G=["#10b981","#059669","#34d399","#6ee7b7","#a7f3d0","#065f46","#047857"],H=(e,t)=>{C(a=>({...a,[e]:t}))},V=()=>{C({veiculo:"",motorista:"",posto:"",combustivel:"",dataInicio:"",dataFim:"",periodo:"mes",valorMinimo:"",valorMaximo:""}),y("")},U=f.useMemo(()=>{const e=E.reduce((e,t)=>({valor:e.valor+(parseFloat(t.valor)||0),litros:e.litros+(parseFloat(t.litro)||0),abastecimentos:e.abastecimentos+1,kmTotal:e.kmTotal+t.quilometragem}),{valor:0,litros:0,abastecimentos:0,kmTotal:0}),t=e.abastecimentos>0?e.valor/e.abastecimentos:0,a=e.abastecimentos>0?e.litros/e.abastecimentos:0,r=e.litros>0?e.kmTotal/e.litros:0;return{...e,mediaValor:parseFloat(t.toFixed(2)),mediaLitros:parseFloat(a.toFixed(2)),eficienciaMedia:parseFloat(r.toFixed(1))}},[E]);return p.jsx("div",{className:CZ["scrollable-container"],children:p.jsxs("div",{className:CZ["visualizar-abastecimentos"],children:[p.jsx("div",{className:CZ.header,children:p.jsxs("div",{className:CZ["header-content"],children:[p.jsxs("div",{className:CZ["header-left"],children:[p.jsx(Tn,{className:CZ["header-icon"]}),p.jsx("h1",{children:"Visualizar Abastecimentos"})]}),p.jsxs("div",{className:CZ["header-actions"],children:[p.jsxs("button",{onClick:k,disabled:u,className:CZ["btn-secondary"],children:[p.jsx(wi,{className:`${CZ.icon} ${u?CZ.rotating:""}`}),"Atualizar"]}),p.jsxs("button",{onClick:()=>{const e=E.map(e=>{const t=a.find(t=>t.id===e.veiculo),r=i.find(t=>t.id===e.motorista),n=o.find(t=>t.id===e.posto),s=c.find(t=>t.id===e.combustivel);return{Data:new Date(e.data).toLocaleDateString("pt-BR"),Veiculo:t?`${t.nome} (${t.placa})`:`Veículo ${e.veiculo}`,Motorista:r?r.nome:`Motorista ${e.motorista}`,Posto:n?n.nome:`Posto ${e.posto}`,Combustivel:s?s.nome:`Combustível ${e.combustivel}`,Litros:parseFloat(e.litro).toFixed(2),"Valor por Litro":parseFloat(e.valor_litro).toFixed(2),"Valor Total":parseFloat(e.valor).toFixed(2),Quilometragem:e.quilometragem,"Nota Fiscal":e.notafiscal}}),t=[Object.keys(e[0]||{}).join(","),...e.map(e=>Object.values(e).join(","))].join("\n"),r=new Blob([t],{type:"text/csv"}),n=window.URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=`abastecimentos_${(new Date).toISOString().split("T")[0]}.csv`,s.click(),window.URL.revokeObjectURL(n)},className:CZ["btn-primary"],disabled:0===E.length,children:[p.jsx(yn,{className:CZ.icon}),"Exportar CSV"]})]})]})}),p.jsx("div",{className:CZ["search-container"],children:p.jsxs("div",{className:CZ["search-wrapper"],children:[p.jsx(Mi,{className:CZ["search-icon"]}),p.jsx("input",{type:"text",placeholder:"Buscar por veículo, motorista, posto, nota fiscal...",value:b,onChange:e=>y(e.target.value),className:CZ["search-input"]})]})}),p.jsxs("div",{className:CZ["filtros-container"],children:[p.jsxs("div",{className:CZ["filtros-header"],children:[p.jsx(zn,{className:CZ.icon}),p.jsx("h2",{children:"Filtros Avançados"}),p.jsx("button",{onClick:V,className:CZ["btn-clear"],children:"Limpar Filtros"})]}),p.jsxs("div",{className:CZ["filtros-grid"],children:[p.jsxs("div",{className:CZ["filtro-item"],children:[p.jsxs("label",{children:[p.jsx(Yr,{className:CZ.icon}),"Veículo"]}),p.jsxs("select",{value:N.veiculo,onChange:e=>H("veiculo",e.target.value),children:[p.jsx("option",{value:"",children:"Todos os veículos"}),a.map(e=>p.jsxs("option",{value:e.id.toString(),children:[e.nome," - ",e.placa]},e.id))]})]}),p.jsxs("div",{className:CZ["filtro-item"],children:[p.jsxs("label",{children:[p.jsx(ts,{className:CZ.icon}),"Motorista"]}),p.jsxs("select",{value:N.motorista,onChange:e=>H("motorista",e.target.value),children:[p.jsx("option",{value:"",children:"Todos os motoristas"}),i.map(e=>p.jsx("option",{value:e.id.toString(),children:e.nome},e.id))]})]}),p.jsxs("div",{className:CZ["filtro-item"],children:[p.jsxs("label",{children:[p.jsx(ti,{className:CZ.icon}),"Posto"]}),p.jsxs("select",{value:N.posto,onChange:e=>H("posto",e.target.value),children:[p.jsx("option",{value:"",children:"Todos os postos"}),o.map(e=>p.jsx("option",{value:e.id.toString(),children:e.nome},e.id))]})]}),p.jsxs("div",{className:CZ["filtro-item"],children:[p.jsxs("label",{children:[p.jsx(Tn,{className:CZ.icon}),"Combustível"]}),p.jsxs("select",{value:N.combustivel,onChange:e=>H("combustivel",e.target.value),children:[p.jsx("option",{value:"",children:"Todos os combustíveis"}),c.map(e=>p.jsx("option",{value:e.id.toString(),children:e.nome},e.id))]})]}),p.jsxs("div",{className:CZ["filtro-item"],children:[p.jsxs("label",{children:[p.jsx(Kr,{className:CZ.icon}),"Data Início"]}),p.jsx("input",{type:"date",value:N.dataInicio,onChange:e=>H("dataInicio",e.target.value)})]}),p.jsxs("div",{className:CZ["filtro-item"],children:[p.jsxs("label",{children:[p.jsx(Kr,{className:CZ.icon}),"Data Fim"]}),p.jsx("input",{type:"date",value:N.dataFim,onChange:e=>H("dataFim",e.target.value)})]}),p.jsxs("div",{className:CZ["filtro-item"],children:[p.jsxs("label",{children:[p.jsx(Ui,{className:CZ.icon}),"Valor Mínimo"]}),p.jsx("input",{type:"number",step:"0.01",placeholder:"R$ 0,00",value:N.valorMinimo,onChange:e=>H("valorMinimo",e.target.value)})]}),p.jsxs("div",{className:CZ["filtro-item"],children:[p.jsxs("label",{children:[p.jsx(Ui,{className:CZ.icon}),"Valor Máximo"]}),p.jsx("input",{type:"number",step:"0.01",placeholder:"R$ 999,99",value:N.valorMaximo,onChange:e=>H("valorMaximo",e.target.value)})]})]})]}),p.jsxs("div",{className:CZ["estatisticas-container"],children:[p.jsxs("div",{className:CZ["stat-card"],children:[p.jsx("div",{className:CZ["stat-icon"],children:p.jsx(Tn,{})}),p.jsxs("div",{className:CZ["stat-content"],children:[p.jsx("h3",{children:"Total Gasto"}),p.jsxs("p",{className:CZ["stat-value"],children:["R$ ",U.valor.toFixed(2)]}),p.jsxs("p",{className:CZ["stat-subtitle"],children:["Média: R$ ",U.mediaValor.toFixed(2)]})]})]}),p.jsxs("div",{className:CZ["stat-card"],children:[p.jsx("div",{className:CZ["stat-icon"],children:p.jsx(Ui,{})}),p.jsxs("div",{className:CZ["stat-content"],children:[p.jsx("h3",{children:"Total Litros"}),p.jsxs("p",{className:CZ["stat-value"],children:[U.litros.toFixed(2)," L"]}),p.jsxs("p",{className:CZ["stat-subtitle"],children:["Média: ",U.mediaLitros.toFixed(2)," L"]})]})]}),p.jsxs("div",{className:CZ["stat-card"],children:[p.jsx("div",{className:CZ["stat-icon"],children:p.jsx(Xr,{})}),p.jsxs("div",{className:CZ["stat-content"],children:[p.jsx("h3",{children:"Abastecimentos"}),p.jsx("p",{className:CZ["stat-value"],children:U.abastecimentos}),p.jsx("p",{className:CZ["stat-subtitle"],children:"Registros filtrados"})]})]}),p.jsxs("div",{className:CZ["stat-card"],children:[p.jsx("div",{className:CZ["stat-icon"],children:p.jsx(pn,{})}),p.jsxs("div",{className:CZ["stat-content"],children:[p.jsx("h3",{children:"Eficiência"}),p.jsxs("p",{className:CZ["stat-value"],children:[U.eficienciaMedia.toFixed(1)," km/L"]}),p.jsx("p",{className:CZ["stat-subtitle"],children:"Média geral"})]})]})]}),p.jsxs("div",{className:CZ["chart-controls"],children:[p.jsxs("div",{className:CZ["chart-header"],children:[p.jsx("h2",{children:"Análise Gráfica"}),p.jsx("div",{className:CZ["chart-actions"],children:p.jsxs("button",{onClick:()=>v(!x),className:`${CZ["btn-toggle"]} ${x?CZ.active:""}`,children:[p.jsx(Nn,{className:CZ.icon}),x?"Ocultar":"Mostrar"," Tabela"]})})]}),p.jsxs("div",{className:CZ["chart-type-selector"],children:[p.jsxs("button",{className:`${CZ["btn-toggle"]} ${"line"===m?CZ.active:""}`,onClick:()=>g("line"),children:[p.jsx(Ui,{className:CZ.icon}),"Tendência Temporal"]}),p.jsxs("button",{className:`${CZ["btn-toggle"]} ${"bar"===m?CZ.active:""}`,onClick:()=>g("bar"),children:[p.jsx(Xr,{className:CZ.icon}),"Comparação por Veículo"]}),p.jsxs("button",{className:`${CZ["btn-toggle"]} ${"pie"===m?CZ.active:""}`,onClick:()=>g("pie"),children:[p.jsx(Zr,{className:CZ.icon}),"Distribuição por Combustível"]})]})]}),p.jsxs("div",{className:CZ["charts-container"],children:["line"===m&&p.jsxs("div",{className:CZ["chart-wrapper"],children:[p.jsxs("div",{className:CZ["chart-header"],children:[p.jsx("h3",{children:"Consumo e Gastos ao Longo do Tempo"}),p.jsx("p",{className:CZ["chart-subtitle"],children:"Acompanhe a evolução dos gastos e consumo de combustível"})]}),p.jsx(JG,{width:"100%",height:450,children:p.jsxs(pZ,{data:q,margin:{top:20,right:30,left:20,bottom:20},children:[p.jsx(pX,{strokeDasharray:"3 3",stroke:"#e5e7eb",opacity:.7}),p.jsx(eJ,{dataKey:"data",stroke:"#6b7280",fontSize:12,tick:{fill:"#6b7280"}}),p.jsx(dJ,{stroke:"#6b7280",fontSize:12,tick:{fill:"#6b7280"}}),p.jsx(DG,{contentStyle:{backgroundColor:"#fff",border:"2px solid #10b981",borderRadius:"12px",boxShadow:"0 10px 25px rgba(16, 185, 129, 0.2)"},labelStyle:{color:"#1f2937",fontWeight:"bold"}}),p.jsx(pA,{}),p.jsx(GX,{type:"monotone",dataKey:"valor",stroke:"#10b981",strokeWidth:4,dot:{fill:"#10b981",strokeWidth:2,r:6},activeDot:{r:8,stroke:"#10b981",strokeWidth:2},name:"Valor Total (R$)"}),p.jsx(GX,{type:"monotone",dataKey:"litros",stroke:"#059669",strokeWidth:4,dot:{fill:"#059669",strokeWidth:2,r:6},activeDot:{r:8,stroke:"#059669",strokeWidth:2},name:"Litros Consumidos"})]})})]}),"bar"===m&&p.jsxs("div",{className:CZ["chart-wrapper"],children:[p.jsxs("div",{className:CZ["chart-header"],children:[p.jsx("h3",{children:"Análise Comparativa por Veículo"}),p.jsx("p",{className:CZ["chart-subtitle"],children:"Compare gastos, consumo e eficiência entre veículos"})]}),p.jsx(JG,{width:"100%",height:450,children:p.jsxs(gZ,{data:F,margin:{top:20,right:30,left:20,bottom:60},children:[p.jsx(pX,{strokeDasharray:"3 3",stroke:"#e5e7eb",opacity:.7}),p.jsx(eJ,{dataKey:"veiculo",stroke:"#6b7280",fontSize:12,tick:{fill:"#6b7280"},angle:-45,textAnchor:"end",height:80}),p.jsx(dJ,{stroke:"#6b7280",fontSize:12,tick:{fill:"#6b7280"}}),p.jsx(DG,{contentStyle:{backgroundColor:"#fff",border:"2px solid #10b981",borderRadius:"12px",boxShadow:"0 10px 25px rgba(16, 185, 129, 0.2)"},labelStyle:{color:"#1f2937",fontWeight:"bold"}}),p.jsx(pA,{}),p.jsx(nY,{dataKey:"valor",fill:"#10b981",name:"Valor Total (R$)",radius:[4,4,0,0]}),p.jsx(nY,{dataKey:"litros",fill:"#059669",name:"Litros Consumidos",radius:[4,4,0,0]})]})})]}),"pie"===m&&p.jsxs("div",{className:CZ["chart-wrapper"],children:[p.jsxs("div",{className:CZ["chart-header"],children:[p.jsx("h3",{children:"Distribuição de Gastos por Tipo de Combustível"}),p.jsx("p",{className:CZ["chart-subtitle"],children:"Visualize como os gastos se distribuem entre os tipos de combustível"})]}),p.jsx(JG,{width:"100%",height:450,children:p.jsxs(NZ,{margin:{top:20,right:30,left:20,bottom:20},children:[p.jsx(XU,{data:W,cx:"50%",cy:"50%",outerRadius:140,innerRadius:60,fill:"#10b981",dataKey:"value",labelLine:!1,children:W.map((e,t)=>p.jsx(ZG,{fill:G[t%G.length]},`cell-${t}`))}),p.jsx(DG,{formatter:(e,t,a)=>[`R$ ${e}`,"Valor Gasto",`${parseFloat(a.payload.litros).toFixed(2)} L`],contentStyle:{backgroundColor:"#fff",border:"2px solid #10b981",borderRadius:"12px",boxShadow:"0 10px 25px rgba(16, 185, 129, 0.2)"}}),p.jsx(pA,{})]})})]})]}),x&&p.jsxs("div",{className:CZ["tabela-container"],children:[p.jsxs("div",{className:CZ["tabela-header"],children:[p.jsx("h2",{children:"Dados Detalhados dos Abastecimentos"}),p.jsxs("div",{className:CZ["tabela-info"],children:[p.jsx(Mn,{className:CZ.icon}),p.jsxs("span",{children:[O," registros encontrados",O>0&&p.jsxs("span",{className:CZ["pagination-info"],children:["(Exibindo ",A+1,"-",Math.min(D,O)," de ",O,")"]})]})]})]}),P>1&&p.jsxs("div",{className:CZ["pagination-container"],children:[p.jsxs("div",{className:CZ["pagination-info-text"],children:["Página ",_," de ",P]}),p.jsxs("div",{className:CZ["pagination-controls"],children:[p.jsx("button",{onClick:T,disabled:1===_,className:CZ["pagination-btn"],title:"Primeira página",children:p.jsx(sn,{className:CZ.icon})}),p.jsx("button",{onClick:z,disabled:1===_,className:CZ["pagination-btn"],title:"Página anterior",children:p.jsx(an,{className:CZ.icon})}),p.jsx("div",{className:CZ["pagination-numbers"],children:B().map(e=>p.jsx("button",{onClick:()=>$(e),className:`${CZ["pagination-number"]} ${_===e?CZ.active:""}`,children:e},e))}),p.jsx("button",{onClick:R,disabled:_===P,className:CZ["pagination-btn"],title:"Próxima página",children:p.jsx(rn,{className:CZ.icon})}),p.jsx("button",{onClick:L,disabled:_===P,className:CZ["pagination-btn"],title:"Última página",children:p.jsx(on,{className:CZ.icon})})]}),p.jsxs("div",{className:CZ["items-per-page"],children:[w," itens por página"]})]}),p.jsx("div",{className:CZ["scrollable-container"],children:p.jsx("div",{className:CZ["tabela-wrapper"],children:p.jsxs("table",{className:CZ["tabela-abastecimentos"],children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Data"}),p.jsx("th",{children:"Veículo"}),p.jsx("th",{children:"Motorista"}),p.jsx("th",{children:"Posto"}),p.jsx("th",{children:"Combustível"}),p.jsx("th",{children:"Litros"}),p.jsx("th",{children:"Valor/L"}),p.jsx("th",{children:"Valor Total"}),p.jsx("th",{children:"KM"}),p.jsx("th",{children:"Nota Fiscal"})]})}),p.jsx("tbody",{children:0===I.length?p.jsx("tr",{children:p.jsx("td",{colSpan:10,className:CZ["no-data"],children:p.jsxs("div",{className:CZ["no-data-content"],children:[p.jsx(Mi,{className:CZ["no-data-icon"]}),p.jsx("p",{children:"Nenhum abastecimento encontrado com os filtros aplicados"}),p.jsx("button",{onClick:V,className:CZ["btn-clear"],children:"Limpar Filtros"})]})})}):I.map(e=>{const t=a.find(t=>t.id===e.veiculo),r=i.find(t=>t.id===e.motorista),n=o.find(t=>t.id===e.posto),s=c.find(t=>t.id===e.combustivel);return p.jsxs("tr",{className:CZ["tabela-row"],children:[p.jsx("td",{className:CZ["data-cell"],children:new Date(e.data).toLocaleDateString("pt-BR")}),p.jsx("td",{className:CZ["veiculo-cell"],children:p.jsxs("div",{className:CZ["veiculo-info"],children:[p.jsx(Yr,{className:CZ["cell-icon"]}),p.jsxs("div",{children:[p.jsx("div",{className:CZ["veiculo-nome"],children:t?t.nome:`Veículo ${e.veiculo}`}),p.jsx("div",{className:CZ["veiculo-placa"],children:t?t.placa:"N/A"})]})]})}),p.jsx("td",{className:CZ["motorista-cell"],children:p.jsxs("div",{className:CZ["motorista-info"],children:[p.jsx(ts,{className:CZ["cell-icon"]}),p.jsx("span",{children:r?r.nome:`Motorista ${e.motorista}`})]})}),p.jsx("td",{className:CZ["posto-cell"],children:p.jsxs("div",{className:CZ["posto-info"],children:[p.jsx(ti,{className:CZ["cell-icon"]}),p.jsx("span",{children:n?n.nome:`Posto ${e.posto}`})]})}),p.jsx("td",{className:CZ["combustivel-cell"],children:p.jsxs("div",{className:CZ["combustivel-info"],children:[p.jsx(Tn,{className:CZ["cell-icon"]}),p.jsx("span",{children:s?s.nome:`Combustível ${e.combustivel}`})]})}),p.jsxs("td",{className:CZ["litros-cell"],children:[parseFloat(e.litro).toFixed(2)," L"]}),p.jsxs("td",{className:CZ["valor-litro-cell"],children:["R$ ",parseFloat(e.valor_litro).toFixed(2)]}),p.jsx("td",{className:CZ["valor-total-cell"],children:p.jsxs("span",{className:CZ["valor-destaque"],children:["R$ ",parseFloat(e.valor).toFixed(2)]})}),p.jsxs("td",{className:CZ["km-cell"],children:[e.quilometragem.toLocaleString()," km"]}),p.jsx("td",{className:CZ["nota-fiscal-cell"],children:p.jsx("span",{className:CZ["nota-fiscal"],children:e.notafiscal})})]},e.id)})})]})})}),P>1&&p.jsxs("div",{className:CZ["pagination-container"],children:[p.jsxs("div",{className:CZ["pagination-info-text"],children:["Página ",_," de ",P]}),p.jsxs("div",{className:CZ["pagination-controls"],children:[p.jsx("button",{onClick:T,disabled:1===_,className:CZ["pagination-btn"],title:"Primeira página",children:p.jsx(sn,{className:CZ.icon})}),p.jsx("button",{onClick:z,disabled:1===_,className:CZ["pagination-btn"],title:"Página anterior",children:p.jsx(an,{className:CZ.icon})}),p.jsx("div",{className:CZ["pagination-numbers"],children:B().map(e=>p.jsx("button",{onClick:()=>$(e),className:`${CZ["pagination-number"]} ${_===e?CZ.active:""}`,children:e},e))}),p.jsx("button",{onClick:R,disabled:_===P,className:CZ["pagination-btn"],title:"Próxima página",children:p.jsx(rn,{className:CZ.icon})}),p.jsx("button",{onClick:L,disabled:_===P,className:CZ["pagination-btn"],title:"Última página",children:p.jsx(on,{className:CZ.icon})})]}),p.jsxs("div",{className:CZ["items-per-page"],children:[w," itens por página"]})]})]})]})})},SZ={container:"_container_wnipo_5",header:"_header_wnipo_29",form:"_form_wnipo_57",formGroup:"_formGroup_wnipo_81",label:"_label_wnipo_91",input:"_input_wnipo_107",inputError:"_inputError_wnipo_153",errorText:"_errorText_wnipo_171",buttonGroup:"_buttonGroup_wnipo_187",buttonPrimary:"_buttonPrimary_wnipo_205",buttonSecondary:"_buttonSecondary_wnipo_269",message:"_message_wnipo_317",slideInDown:"_slideInDown_wnipo_1",success:"_success_wnipo_343",error:"_error_wnipo_171",closeMessage:"_closeMessage_wnipo_371"},MZ=({matrizId:e,subMatrizParaEdicao:t,onSalvar:a,onCancelar:n})=>{const[i,s]=f.useState({idmatriz:e,nome:""}),[o,l]=f.useState(!1),[c,d]=f.useState(null),[u,h]=f.useState({}),m=!!t;f.useEffect(()=>{t&&s({id:t.id,idmatriz:t.idmatriz,nome:t.nome||""})},[t]);return p.jsxs("div",{className:SZ.container,children:[p.jsx("div",{className:SZ.header,children:p.jsx("h2",{children:m?"Editar Submatriz":"Nova Submatriz"})}),c&&p.jsx("div",{className:`${SZ.message} ${SZ[c.type]}`,children:c.text}),p.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return i.nome.trim()||(e.nome="Nome é obrigatório"),h(e),!(Object.keys(e).length>0)})()){l(!0),d(null);try{let e;const t={...i};e=m?await r("editar_sub_matriz",{subMatrizData:t}):await r("cadastrar_sub_matriz",{subMatrizData:t}),e.success?(d({text:e.message,type:"success"}),setTimeout(a,1e3)):d({text:e.message,type:"error"})}catch(t){d({text:t?.message||"Erro ao salvar submatriz",type:"error"})}finally{l(!1)}}},className:SZ.form,children:[p.jsxs("div",{className:SZ.formGroup,children:[p.jsx("label",{htmlFor:"nome",className:SZ.label,children:"Nome da Submatriz *"}),p.jsx("input",{type:"text",id:"nome",value:i.nome||"",onChange:e=>((e,t)=>{s(a=>({...a,[e]:t})),u[e]&&h(t=>({...t,[e]:""}))})("nome",e.target.value),className:`${SZ.input} ${u.nome?SZ.inputError:""}`,placeholder:"Ex: Bruta",disabled:o}),u.nome&&p.jsx("span",{className:SZ.errorText,children:u.nome})]}),p.jsxs("div",{className:SZ.buttonGroup,children:[p.jsx("button",{type:"button",onClick:n,className:SZ.buttonSecondary,disabled:o,children:"Cancelar"}),p.jsx("button",{type:"submit",className:SZ.buttonPrimary,disabled:o,children:o?"A Salvar...":m?"Salvar Alterações":"Cadastrar"})]})]})]})},EZ={container:"_container_1qrck_5",header:"_header_1qrck_29",filters:"_filters_1qrck_63",selectInput:"_selectInput_1qrck_71",tableContainer:"_tableContainer_1qrck_109","has-scrollbar":"_has-scrollbar_1qrck_135",table:"_table_1qrck_109",actions:"_actions_1qrck_311",buttonEdit:"_buttonEdit_1qrck_323",buttonDelete:"_buttonDelete_1qrck_325",loading:"_loading_1qrck_403",spinner:"_spinner_1qrck_431",spin:"_spin_1qrck_431",buttonPrimary:"_buttonPrimary_1qrck_461",message:"_message_1qrck_513",slideInDown:"_slideInDown_1qrck_1",success:"_success_1qrck_539",error:"_error_1qrck_553",closeMessage:"_closeMessage_1qrck_567",status:"_status_1qrck_625",ativo:"_ativo_1qrck_649",inativo:"_inativo_1qrck_677"},OZ=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(null),[i,s]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(!1),[u,h]=f.useState(null),[m,g]=f.useState(!1),[x,v]=f.useState(null),b=f.useCallback(async()=>{l(!0);try{const e=await r("listar_matrizes");e.success&&e.data?t(e.data):h({text:e.message||"Erro ao carregar matrizes",type:"error"})}catch(e){h({text:e?.message||"Erro de comunicação com o backend",type:"error"})}finally{l(!1)}},[]);f.useEffect(()=>{b()},[b]);const y=f.useCallback(async e=>{d(!0),s([]);try{const t=await r("listar_sub_matrizes",{idmatriz:e});t.success&&t.data?s(t.data):h({text:t.message||"Erro ao carregar submatrizes",type:"error"})}catch(t){h({text:t?.message||"Erro de comunicação com o backend",type:"error"})}finally{d(!1)}},[]),_=()=>{g(!1),v(null),a&&y(a)},j=()=>{g(!1),v(null)};return m&&a?p.jsx(MZ,{matrizId:a,subMatrizParaEdicao:x||void 0,onSalvar:_,onCancelar:j}):p.jsxs("div",{className:EZ.container,children:[p.jsxs("div",{className:EZ.header,children:[p.jsx("h2",{children:"Gerir Submatrizes"}),p.jsx("button",{onClick:()=>{a?(v(null),g(!0)):h({text:"Por favor, selecione uma matriz primeiro.",type:"error"})},className:EZ.buttonPrimary,disabled:!a,children:"Nova Submatriz"})]}),u&&p.jsx("div",{className:`${EZ.message} ${EZ[u.type]}`,children:u.text}),p.jsx("div",{className:EZ.filters,children:p.jsxs("select",{onChange:e=>{const t=Number(e.target.value);n(t),t?y(t):s([])},className:EZ.selectInput,disabled:o,children:[p.jsx("option",{value:"",children:o?"A carregar matrizes...":"-- Selecione uma Matriz --"}),e.map(e=>p.jsx("option",{value:e.id,children:e.nome},e.id))]})}),c?p.jsxs("div",{className:EZ.loading,children:[p.jsx("div",{className:EZ.spinner}),p.jsx("p",{children:"A carregar submatrizes..."})]}):a&&p.jsx("div",{className:EZ.tableContainer,children:p.jsxs("table",{className:EZ.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"ID"}),p.jsx("th",{children:"Nome da Submatriz"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:i.map(e=>p.jsxs("tr",{children:[p.jsx("td",{children:e.id}),p.jsx("td",{children:p.jsx("strong",{children:e.nome||"N/A"})}),p.jsx("td",{children:p.jsxs("div",{className:EZ.actions,children:[p.jsx("button",{onClick:()=>(v(e),void g(!0)),className:EZ.buttonEdit,title:"Editar",children:"✏️"}),p.jsx("button",{onClick:()=>(async e=>{if(window.confirm(`Tem certeza que deseja remover a submatriz "${e.nome}"?`))try{const t=await r("deletar_sub_matriz",{id:e.id});t.success?(h({text:t.message,type:"success"}),a&&y(a)):h({text:t.message,type:"error"})}catch(t){h({text:t?.message||"Erro ao remover submatriz",type:"error"})}})(e),className:EZ.buttonDelete,title:"Remover",children:"🗑️"})]})})]},e.id))})]})})]})},PZ={container:"_container_exz9h_5",header:"_header_exz9h_29",form:"_form_exz9h_57",formGrid:"_formGrid_exz9h_81",formRow:"_formRow_exz9h_93",formGroup:"_formGroup_exz9h_105",label:"_label_exz9h_115",required:"_required_exz9h_129",input:"_input_exz9h_139",inputError:"_inputError_exz9h_185",errorText:"_errorText_exz9h_203",autocompleteWrapper:"_autocompleteWrapper_exz9h_217",sugestoesLista:"_sugestoesLista_exz9h_225",buttonGroup:"_buttonGroup_exz9h_345",buttonPrimary:"_buttonPrimary_exz9h_363",buttonSecondary:"_buttonSecondary_exz9h_415",message:"_message_exz9h_451",slideInDown:"_slideInDown_exz9h_1",success:"_success_exz9h_477",error:"_error_exz9h_203",closeMessage:"_closeMessage_exz9h_505"},AZ=({items:e,onSelect:t,displayFn:a,initialValue:r,placeholder:n,error:i})=>{const[s,o]=f.useState(r||""),[l,c]=f.useState([]),[d,u]=f.useState(!1),h=f.useRef(null);f.useEffect(()=>{o(r||"")},[r]),f.useEffect(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return p.jsxs("div",{className:PZ.autocompleteWrapper,ref:h,children:[p.jsx("input",{type:"text",value:s,onChange:r=>{const n=r.target.value;o(n),c(n?e.filter(e=>a(e).toLowerCase().includes(n.toLowerCase())):e),u(!0),t(null)},onFocus:()=>{c(e),u(!0)},placeholder:n,className:`${PZ.input} ${i?PZ.inputError:""}`,autoComplete:"off"}),d&&l.length>0&&p.jsx("ul",{className:PZ.sugestoesLista,children:l.map((e,r)=>p.jsx("li",{onClick:()=>(e=>{o(a(e)),t(e),u(!1)})(e),children:a(e)},r))})]})},DZ=({itemParaEdicao:e,onSalvar:t,onCancelar:a})=>{const[n,i]=f.useState(null),[s,o]=f.useState(null),[l,c]=f.useState(null),[d,u]=f.useState(""),[h,m]=f.useState(""),[g,x]=f.useState(""),[v,b]=f.useState([]),[y,_]=f.useState([]),[j,w]=f.useState([]),[N,C]=f.useState(!1),[k,S]=f.useState(null),[M,E]=f.useState({}),O=!!e;f.useEffect(()=>{(async()=>{try{const[e,t,a]=await Promise.all([r("listar_parametros"),r("listar_pops"),r("listar_metodologias")]);e.success&&e.data&&b(e.data),t.success&&t.data&&_(t.data),a.success&&a.data&&w(a.data)}catch(e){S({text:"Não foi possível carregar os dados para os campos de seleção.",type:"error"})}})()},[]),f.useEffect(()=>{e&&v.length>0&&y.length>0&&j.length>0&&(i(v.find(t=>t.id===e.id_parametro)||null),o(y.find(t=>t.id===e.id_pop)||null),c(j.find(t=>t.ID===e.id_metodologia)||null),u(String(e.tempo||"")),m(String(e.quantidade_g||"")),x(String(e.quantidade_ml||"")))},[e,v,y,j]);return p.jsxs("div",{className:PZ.container,children:[p.jsx("div",{className:PZ.header,children:p.jsx("h2",{children:O?"Editar Relacionamento":"Novo Relacionamento Parâmetro x POP"})}),k&&p.jsx("div",{className:`${PZ.message} ${PZ[k.type]}`,children:k.text}),p.jsxs("form",{onSubmit:async a=>{if(a.preventDefault(),!(()=>{const e={};return n||(e.parametro="Parâmetro é obrigatório"),s||(e.pop="POP é obrigatório"),l||(e.metodologia="Metodologia é obrigatória"),d.trim()||(e.tempo="Tempo de análise é obrigatório"),E(e),0===Object.keys(e).length})())return;C(!0),S(null);const i={id:e?.id,parametro:n.id,pop:s.id,metodologia:l.ID,tempo:Number(d),quantidade_g:Number(h)||0,quantidade_ml:Number(g)||0};try{const e=O?"editar_parametro_pop":"cadastrar_parametro_pop",a=await r(e,{payload:i});a.success?(S({text:a.message,type:"success"}),setTimeout(t,1e3)):S({text:a.message,type:"error"})}catch(o){S({text:o?.message||"Erro ao salvar relacionamento",type:"error"})}finally{C(!1)}},className:PZ.form,children:[p.jsxs("div",{className:PZ.formGrid,children:[p.jsxs("div",{className:PZ.formGroup,children:[p.jsx("label",{className:PZ.label,children:"Parâmetro *"}),p.jsx(AZ,{items:v,onSelect:i,displayFn:e=>`${e.nome} (${e.grupo})`,initialValue:n?`${n.nome} (${n.grupo})`:"",placeholder:"Selecione um Parâmetro",error:M.parametro}),M.parametro&&p.jsx("span",{className:PZ.errorText,children:M.parametro})]}),p.jsxs("div",{className:PZ.formGroup,children:[p.jsx("label",{className:PZ.label,children:"POP *"}),p.jsx(AZ,{items:y,onSelect:o,displayFn:e=>`${e.codigo} ${e.numero}/${e.revisao} (${e.tecnica})`,initialValue:s?`${s.codigo} ${s.numero}/${s.revisao} (${s.tecnica})`:"",placeholder:"Selecione um POP",error:M.pop}),M.pop&&p.jsx("span",{className:PZ.errorText,children:M.pop})]}),p.jsxs("div",{className:PZ.formGroup,children:[p.jsx("label",{className:PZ.label,children:"Metodologia *"}),p.jsx(AZ,{items:j,onSelect:c,displayFn:e=>e.NOME,initialValue:l?l.NOME:"",placeholder:"Selecione uma Metodologia",error:M.metodologia}),M.metodologia&&p.jsx("span",{className:PZ.errorText,children:M.metodologia})]})]}),p.jsxs("div",{className:PZ.formRow,children:[p.jsxs("div",{className:PZ.formGroup,children:[p.jsx("label",{htmlFor:"tempoAnalise",className:PZ.label,children:"Tempo de Análise (dias) *"}),p.jsx("input",{type:"number",id:"tempoAnalise",value:d,onChange:e=>u(e.target.value),className:`${PZ.input} ${M.tempo?PZ.inputError:""}`,disabled:N}),M.tempo&&p.jsx("span",{className:PZ.errorText,children:M.tempo})]}),p.jsxs("div",{className:PZ.formGroup,children:[p.jsx("label",{htmlFor:"quantidadeG",className:PZ.label,children:"Quantidade (g)"}),p.jsx("input",{type:"number",id:"quantidadeG",value:h,onChange:e=>m(e.target.value),className:PZ.input,disabled:N})]}),p.jsxs("div",{className:PZ.formGroup,children:[p.jsx("label",{htmlFor:"quantidadeMl",className:PZ.label,children:"Quantidade (mL)"}),p.jsx("input",{type:"number",id:"quantidadeMl",value:g,onChange:e=>x(e.target.value),className:PZ.input,disabled:N})]})]}),p.jsxs("div",{className:PZ.buttonGroup,children:[p.jsx("button",{type:"button",onClick:a,className:PZ.buttonSecondary,disabled:N,children:"Cancelar"}),p.jsx("button",{type:"submit",className:PZ.buttonPrimary,disabled:N,children:N?"A Salvar...":O?"Salvar Alterações":"Cadastrar"})]})]})]})},IZ={container:"_container_ms5cm_5",header:"_header_ms5cm_29",filters:"_filters_ms5cm_63",searchInput:"_searchInput_ms5cm_71",tableContainer:"_tableContainer_ms5cm_119","has-scrollbar":"_has-scrollbar_ms5cm_145",table:"_table_ms5cm_119",actions:"_actions_ms5cm_321",buttonEdit:"_buttonEdit_ms5cm_333",buttonDelete:"_buttonDelete_ms5cm_335",loading:"_loading_ms5cm_413",spinner:"_spinner_ms5cm_441",spin:"_spin_ms5cm_441",buttonPrimary:"_buttonPrimary_ms5cm_471",message:"_message_ms5cm_523",slideInDown:"_slideInDown_ms5cm_1",success:"_success_ms5cm_549",error:"_error_ms5cm_563",closeMessage:"_closeMessage_ms5cm_577",status:"_status_ms5cm_635",ativo:"_ativo_ms5cm_659",inativo:"_inativo_ms5cm_687"},TZ=()=>{const[e,t]=f.useState([]),[a,n]=f.useState(!0),[i,s]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(""),m=f.useCallback(async()=>{n(!0);try{const e=await r("listar_parametros_pops");e.success&&e.data?t(e.data):s({text:e.message||"Erro ao carregar dados",type:"error"})}catch(e){s({text:e?.message||"Erro de comunicação com o backend",type:"error"})}finally{n(!1)}},[]);f.useEffect(()=>{m()},[m]);const g=()=>{d(!1),l(null),m()},x=()=>{d(!1),l(null)},v=e.filter(e=>e.nome_parametro?.toLowerCase().includes(u.toLowerCase())||e.grupo?.toLowerCase().includes(u.toLowerCase())||e.pop_codigo?.toLowerCase().includes(u.toLowerCase())||e.pop_numero?.toLowerCase().includes(u.toLowerCase())||e.nome_tecnica?.toLowerCase().includes(u.toLowerCase()));return c?p.jsx(DZ,{itemParaEdicao:o||void 0,onSalvar:g,onCancelar:x}):p.jsxs("div",{className:IZ.container,children:[p.jsxs("div",{className:IZ.header,children:[p.jsx("h2",{children:"Gerir Parâmetro x POP"}),p.jsx("button",{onClick:()=>{l(null),d(!0)},className:IZ.buttonPrimary,children:"Novo Relacionamento"})]}),i&&p.jsx("div",{className:`${IZ.message} ${IZ[i.type]}`,children:i.text}),p.jsx("div",{className:IZ.filters,children:p.jsx("input",{type:"text",placeholder:"Buscar por parâmetro, grupo, pop ou técnica...",value:u,onChange:e=>h(e.target.value),className:IZ.searchInput})}),a?p.jsxs("div",{className:IZ.loading,children:[p.jsx("div",{className:IZ.spinner}),p.jsx("p",{children:"A carregar..."})]}):p.jsx("div",{className:IZ.tableContainer,children:p.jsxs("table",{className:IZ.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Parâmetro"}),p.jsx("th",{children:"Grupo"}),p.jsx("th",{children:"POP (Técnica)"}),p.jsx("th",{children:"Metodologia"}),p.jsx("th",{children:"Tempo (dias)"}),p.jsx("th",{children:"Quant. (g)"}),p.jsx("th",{children:"Quant. (mL)"}),p.jsx("th",{children:"Ações"})]})}),p.jsx("tbody",{children:v.map(e=>p.jsxs("tr",{children:[p.jsx("td",{children:p.jsx("strong",{children:e.nome_parametro})}),p.jsx("td",{children:e.grupo}),p.jsx("td",{children:`${e.pop_codigo} ${e.pop_numero}/${e.pop_revisao} (${e.nome_tecnica})`}),p.jsx("td",{children:e.nome_metodologia||"N/A"}),p.jsx("td",{children:e.tempo}),p.jsx("td",{children:e.quantidade_g}),p.jsx("td",{children:e.quantidade_ml}),p.jsx("td",{children:p.jsxs("div",{className:IZ.actions,children:[p.jsx("button",{onClick:()=>(e=>{l(e),d(!0)})(e),className:IZ.buttonEdit,title:"Editar",children:"✏️"}),p.jsx("button",{onClick:()=>(async e=>{if(window.confirm(`Tem certeza que deseja remover o relacionamento "${e.nome_parametro} x ${e.pop_codigo}-${e.pop_numero}"?`))try{const t=await r("deletar_parametro_pop",{id:e.id});t.success?(s({text:t.message,type:"success"}),m()):s({text:t.message,type:"error"})}catch(t){s({text:t?.message||"Erro ao remover relacionamento",type:"error"})}})(e),className:IZ.buttonDelete,title:"Remover",children:"🗑️"})]})})]},e.id))})]})})]})},zZ="_container_2cntp_5",RZ="_title_2cntp_33",LZ="_editingPanel_2cntp_55",$Z="_infoField_2cntp_83",BZ="_inputGroup_2cntp_85",qZ="_updateButton_2cntp_175",FZ="_tabContainer_2cntp_239",WZ="_tabButton_2cntp_263",GZ="_activeTab_2cntp_301",HZ="_tableContainer_2cntp_315",VZ="_table_2cntp_315",UZ="_selectedRow_2cntp_543",KZ="_error_2cntp_563",YZ="_searchContainer_2cntp_649",XZ="_searchInput_2cntp_657";function JZ(){const[e,t]=f.useState([]),[a,n]=f.useState(null),[i,s]=f.useState([]),[o,l]=f.useState(null),[c,d]=f.useState(""),[u,h]=f.useState(""),[m,g]=f.useState(!0),[x,v]=f.useState(null),[b,y]=f.useState(""),[_,j]=f.useState([]);f.useEffect(()=>{r("listar_grupos").then(e=>{e.success&&e.data?(t(e.data),e.data.length>0&&n(e.data[0].nome)):v(e.message)}).catch(e=>v(e.toString()))},[]),f.useEffect(()=>{a&&(g(!0),v(null),s([]),l(null),y(""),r("listar_parametros_pops_por_grupo",{grupo:a}).then(e=>{e.success&&e.data?(s(e.data),e.data.length>0&&l(e.data[0])):v(e.message)}).catch(e=>v(e.toString())).finally(()=>g(!1)))},[a]),f.useEffect(()=>{const e=i.filter(e=>e.nome_parametro?.toLowerCase().includes(b.toLowerCase()));j(e)},[b,i]),f.useEffect(()=>{o?(d(r_(o.lqi)),h(r_(o.incerteza))):(d(""),h(""))},[o]);return p.jsxs("div",{className:zZ,children:[p.jsx("h1",{className:RZ,children:"Limite de Quantificação e Incerteza"}),p.jsxs("div",{className:LZ,children:[p.jsxs("div",{className:$Z,children:[p.jsx("label",{children:"Parâmetro"}),p.jsx("span",{children:o?.nome_parametro||"Nenhum selecionado"})]}),p.jsxs("div",{className:$Z,children:[p.jsx("label",{children:"POP"}),p.jsx("span",{children:o?`${o.pop_numero}/${o.pop_revisao}`:"-"})]}),p.jsxs("div",{className:BZ,children:[p.jsx("label",{children:"Limite de quantificação"}),p.jsx("input",{type:"text",value:c,onChange:e=>d(e.target.value)})]}),p.jsxs("div",{className:BZ,children:[p.jsx("label",{children:"Incerteza ±"}),p.jsx("input",{type:"text",value:u,onChange:e=>h(e.target.value)})]}),p.jsx("button",{onClick:async()=>{if(o)try{const e={lqi:c.replace(",","."),incerteza:u.replace(",",".")},t=await r("atualizar_lq_incerteza_tauri",{id:o.id,payload:e});if(t.success){alert("Valores atualizados com sucesso!");const e=a;n(null),setTimeout(()=>n(e),10)}else alert(`Erro ao atualizar: ${t.message}`)}catch(e){alert(`Erro ao chamar o backend: ${e}`)}},className:qZ,disabled:!o,children:"Alterar Valores"})]}),p.jsx("div",{className:YZ,children:p.jsx("input",{type:"text",placeholder:"Pesquisar por nome do parâmetro...",className:XZ,value:b,onChange:e=>y(e.target.value)})}),p.jsx("div",{className:FZ,children:e.map(e=>p.jsx("button",{className:`${WZ} ${e.nome===a?GZ:""}`,onClick:()=>n(e.nome),children:e.nome},e.id))}),p.jsxs("div",{className:HZ,children:[m&&p.jsx("p",{children:"Carregando..."}),x&&p.jsxs("p",{className:KZ,children:["Erro: ",x]}),!m&&!x&&p.jsxs("table",{className:VZ,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Parâmetro"}),p.jsx("th",{children:"POP"}),p.jsx("th",{children:"Técnica"}),p.jsx("th",{children:"Objetivo"}),p.jsx("th",{children:"Limite de quantificação"}),p.jsx("th",{children:"Incerteza ±"})]})}),p.jsx("tbody",{children:_.map(e=>p.jsxs("tr",{className:o?.id===e.id?UZ:"",onClick:()=>l(e),children:[p.jsx("td",{children:e.nome_parametro||"-"}),p.jsxs("td",{children:[e.pop_numero,"/",e.pop_revisao]}),p.jsx("td",{children:e.nome_tecnica||"-"}),p.jsx("td",{children:e.objetivo||"-"}),p.jsx("td",{children:r_(e.lqi)}),p.jsx("td",{children:r_(e.incerteza)})]},e.id))})]})]})]})}function ZZ(e,t){return ZZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ZZ(e,t)}function QZ(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ZZ(e,t)}function eQ(){return eQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},eQ.apply(null,arguments)}function tQ(e){return tQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tQ(e)}function aQ(e){var t=function(e,t){if("object"!=tQ(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=tQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tQ(t)?t:t+""}function rQ(e,t,a){return(t=aQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function nQ(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function iQ(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?nQ(Object(a),!0).forEach(function(t){rQ(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nQ(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function sQ(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var oQ="function"==typeof Symbol&&Symbol.observable||"@@observable",lQ=function(){return Math.random().toString(36).substring(7).split("").join(".")},cQ={INIT:"@@redux/INIT"+lQ(),REPLACE:"@@redux/REPLACE"+lQ()};function dQ(e,t,a){var r;if("function"==typeof t&&"function"==typeof a||"function"==typeof a&&"function"==typeof arguments[3])throw new Error(sQ(0));if("function"==typeof t&&void 0===a&&(a=t,t=void 0),void 0!==a){if("function"!=typeof a)throw new Error(sQ(1));return a(dQ)(e,t)}if("function"!=typeof e)throw new Error(sQ(2));var n=e,i=t,s=[],o=s,l=!1;function c(){o===s&&(o=s.slice())}function d(){if(l)throw new Error(sQ(3));return i}function u(e){if("function"!=typeof e)throw new Error(sQ(4));if(l)throw new Error(sQ(5));var t=!0;return c(),o.push(e),function(){if(t){if(l)throw new Error(sQ(6));t=!1,c();var a=o.indexOf(e);o.splice(a,1),s=null}}}function h(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(sQ(7));if(void 0===e.type)throw new Error(sQ(8));if(l)throw new Error(sQ(9));try{l=!0,i=n(i,e)}finally{l=!1}for(var t=s=o,a=0;a<t.length;a++){(0,t[a])()}return e}return h({type:cQ.INIT}),(r={dispatch:h,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(sQ(10));n=e,h({type:cQ.REPLACE})}})[oQ]=function(){var e,t=u;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(sQ(11));function a(){e.next&&e.next(d())}return a(),{unsubscribe:t(a)}}})[oQ]=function(){return this},e},r}function uQ(e,t){return function(){return t(e.apply(this,arguments))}}function hQ(e,t){if("function"==typeof e)return uQ(e,t);if("object"!=typeof e||null===e)throw new Error(sQ(16));var a={};for(var r in e){var n=e[r];"function"==typeof n&&(a[r]=uQ(n,t))}return a}function mQ(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var pQ=g.createContext(null);var fQ=function(e){e()},gQ=function(){return fQ};var xQ={notify:function(){},get:function(){return[]}};function vQ(e,t){var a,r=xQ;function n(){s.onStateChange&&s.onStateChange()}function i(){a||(a=t?t.addNestedSub(n):e.subscribe(n),r=function(){var e=gQ(),t=null,a=null;return{clear:function(){t=null,a=null},notify:function(){e(function(){for(var e=t;e;)e.callback(),e=e.next})},get:function(){for(var e=[],a=t;a;)e.push(a),a=a.next;return e},subscribe:function(e){var r=!0,n=a={callback:e,next:null,prev:a};return n.prev?n.prev.next=n:t=n,function(){r&&null!==t&&(r=!1,n.next?n.next.prev=n.prev:a=n.prev,n.prev?n.prev.next=n.next:t=n.next)}}}}())}var s={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:n,isSubscribed:function(){return Boolean(a)},trySubscribe:i,tryUnsubscribe:function(){a&&(a(),a=void 0,r.clear(),r=xQ)},getListeners:function(){return r}};return s}var bQ="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?f.useLayoutEffect:f.useEffect;function yQ(e){var t=e.store,a=e.context,r=e.children,n=f.useMemo(function(){var e=vQ(t);return{store:t,subscription:e}},[t]),i=f.useMemo(function(){return t.getState()},[t]);bQ(function(){var e=n.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[n,i]);var s=a||pQ;return g.createElement(s.Provider,{value:n},r)}function _Q(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}var jQ,wQ,NQ,CQ,kQ={exports:{}},SQ={};function MQ(){return wQ||(wQ=1,kQ.exports=function(){if(jQ)return SQ;jQ=1;var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,a=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,n=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,u=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,p=e?Symbol.for("react.lazy"):60116,f=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,x=e?Symbol.for("react.responder"):60118,v=e?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var h=e.$$typeof;switch(h){case t:switch(e=e.type){case l:case c:case r:case i:case n:case u:return e;default:switch(e=e&&e.$$typeof){case o:case d:case p:case m:case s:return e;default:return h}}case a:return h}}}function y(e){return b(e)===c}return SQ.AsyncMode=l,SQ.ConcurrentMode=c,SQ.ContextConsumer=o,SQ.ContextProvider=s,SQ.Element=t,SQ.ForwardRef=d,SQ.Fragment=r,SQ.Lazy=p,SQ.Memo=m,SQ.Portal=a,SQ.Profiler=i,SQ.StrictMode=n,SQ.Suspense=u,SQ.isAsyncMode=function(e){return y(e)||b(e)===l},SQ.isConcurrentMode=y,SQ.isContextConsumer=function(e){return b(e)===o},SQ.isContextProvider=function(e){return b(e)===s},SQ.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},SQ.isForwardRef=function(e){return b(e)===d},SQ.isFragment=function(e){return b(e)===r},SQ.isLazy=function(e){return b(e)===p},SQ.isMemo=function(e){return b(e)===m},SQ.isPortal=function(e){return b(e)===a},SQ.isProfiler=function(e){return b(e)===i},SQ.isStrictMode=function(e){return b(e)===n},SQ.isSuspense=function(e){return b(e)===u},SQ.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===c||e===i||e===n||e===u||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===m||e.$$typeof===s||e.$$typeof===o||e.$$typeof===d||e.$$typeof===g||e.$$typeof===x||e.$$typeof===v||e.$$typeof===f)},SQ.typeOf=b,SQ}()),kQ.exports}var EQ=function(){if(CQ)return NQ;CQ=1;var e=MQ(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},n={};function i(a){return e.isMemo(a)?r:n[a.$$typeof]||t}n[e.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},n[e.Memo]=r;var s=Object.defineProperty,o=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,u=Object.prototype;return NQ=function e(t,r,n){if("string"!=typeof r){if(u){var h=d(r);h&&h!==u&&e(t,h,n)}var m=o(r);l&&(m=m.concat(l(r)));for(var p=i(t),f=i(r),g=0;g<m.length;++g){var x=m[g];if(!(a[x]||n&&n[x]||f&&f[x]||p&&p[x])){var v=c(r,x);try{s(t,x,v)}catch(b){}}}}return t},NQ}();const OQ=t(EQ);var PQ,AQ,DQ={exports:{}},IQ={};var TQ=(AQ||(AQ=1,DQ.exports=function(){if(PQ)return IQ;PQ=1;var e=60103,t=60106,a=60107,r=60108,n=60114,i=60109,s=60110,o=60112,l=60113,c=60120,d=60115,u=60116,h=60121,m=60122,p=60117,f=60129,g=60131;if("function"==typeof Symbol&&Symbol.for){var x=Symbol.for;e=x("react.element"),t=x("react.portal"),a=x("react.fragment"),r=x("react.strict_mode"),n=x("react.profiler"),i=x("react.provider"),s=x("react.context"),o=x("react.forward_ref"),l=x("react.suspense"),c=x("react.suspense_list"),d=x("react.memo"),u=x("react.lazy"),h=x("react.block"),m=x("react.server.block"),p=x("react.fundamental"),f=x("react.debug_trace_mode"),g=x("react.legacy_hidden")}function v(h){if("object"==typeof h&&null!==h){var m=h.$$typeof;switch(m){case e:switch(h=h.type){case a:case n:case r:case l:case c:return h;default:switch(h=h&&h.$$typeof){case s:case o:case u:case d:case i:return h;default:return m}}case t:return m}}}var b=i,y=e,_=o,j=a,w=u,N=d,C=t,k=n,S=r,M=l;return IQ.ContextConsumer=s,IQ.ContextProvider=b,IQ.Element=y,IQ.ForwardRef=_,IQ.Fragment=j,IQ.Lazy=w,IQ.Memo=N,IQ.Portal=C,IQ.Profiler=k,IQ.StrictMode=S,IQ.Suspense=M,IQ.isAsyncMode=function(){return!1},IQ.isConcurrentMode=function(){return!1},IQ.isContextConsumer=function(e){return v(e)===s},IQ.isContextProvider=function(e){return v(e)===i},IQ.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===e},IQ.isForwardRef=function(e){return v(e)===o},IQ.isFragment=function(e){return v(e)===a},IQ.isLazy=function(e){return v(e)===u},IQ.isMemo=function(e){return v(e)===d},IQ.isPortal=function(e){return v(e)===t},IQ.isProfiler=function(e){return v(e)===n},IQ.isStrictMode=function(e){return v(e)===r},IQ.isSuspense=function(e){return v(e)===l},IQ.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===n||e===f||e===r||e===l||e===c||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===u||e.$$typeof===d||e.$$typeof===i||e.$$typeof===s||e.$$typeof===o||e.$$typeof===p||e.$$typeof===h||e[0]===m)},IQ.typeOf=v,IQ}()),DQ.exports),zQ=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],RQ=["reactReduxForwardedRef"],LQ=[],$Q=[null,null];function BQ(e,t){var a=e[1];return[t.payload,a+1]}function qQ(e,t,a){bQ(function(){return e.apply(void 0,t)},a)}function FQ(e,t,a,r,n,i,s){e.current=r,t.current=n,a.current=!1,i.current&&(i.current=null,s())}function WQ(e,t,a,r,n,i,s,o,l,c){if(e){var d=!1,u=null,h=function(){if(!d){var e,a,h=t.getState();try{e=r(h,n.current)}catch(m){a=m,u=m}a||(u=null),e===i.current?s.current||l():(i.current=e,o.current=e,s.current=!0,c({type:"STORE_UPDATED",payload:{error:a}}))}};a.onStateChange=h,a.trySubscribe(),h();return function(){if(d=!0,a.tryUnsubscribe(),a.onStateChange=null,u)throw u}}}var GQ=function(){return[null,0]};function HQ(e,t){void 0===t&&(t={});var a=t,r=a.getDisplayName,n=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,i=a.methodName,s=void 0===i?"connectAdvanced":i,o=a.renderCountProp,l=void 0===o?void 0:o,c=a.shouldHandleStateChanges,d=void 0===c||c,u=a.storeKey,h=void 0===u?"store":u;a.withRef;var m=a.forwardRef,p=void 0!==m&&m,x=a.context,v=void 0===x?pQ:x,b=_Q(a,zQ),y=v;return function(t){var a=t.displayName||t.name||"Component",r=n(a),i=eQ({},b,{getDisplayName:n,methodName:s,renderCountProp:l,shouldHandleStateChanges:d,storeKey:h,displayName:r,wrappedComponentName:a,WrappedComponent:t}),o=b.pure;var c=o?f.useMemo:function(e){return e()};function u(a){var r=f.useMemo(function(){var e=a.reactReduxForwardedRef,t=_Q(a,RQ);return[a.context,e,t]},[a]),n=r[0],s=r[1],o=r[2],l=f.useMemo(function(){return n&&n.Consumer&&TQ.isContextConsumer(g.createElement(n.Consumer,null))?n:y},[n,y]),u=f.useContext(l),h=Boolean(a.store)&&Boolean(a.store.getState)&&Boolean(a.store.dispatch);Boolean(u)&&Boolean(u.store);var m=h?a.store:u.store,p=f.useMemo(function(){return function(t){return e(t.dispatch,i)}(m)},[m]),x=f.useMemo(function(){if(!d)return $Q;var e=vQ(m,h?null:u.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[m,h,u]),v=x[0],b=x[1],_=f.useMemo(function(){return h?u:eQ({},u,{subscription:v})},[h,u,v]),j=f.useReducer(BQ,LQ,GQ),w=j[0][0],N=j[1];if(w&&w.error)throw w.error;var C=f.useRef(),k=f.useRef(o),S=f.useRef(),M=f.useRef(!1),E=c(function(){return S.current&&o===k.current?S.current:p(m.getState(),o)},[m,w,o]);qQ(FQ,[k,C,M,o,E,S,b]),qQ(WQ,[d,m,v,p,k,C,M,S,b,N],[m,v,p]);var O=f.useMemo(function(){return g.createElement(t,eQ({},E,{ref:s}))},[s,t,E]);return f.useMemo(function(){return d?g.createElement(l.Provider,{value:_},O):O},[l,O,_])}var m=o?g.memo(u):u;if(m.WrappedComponent=t,m.displayName=u.displayName=r,p){var x=g.forwardRef(function(e,t){return g.createElement(m,eQ({},e,{reactReduxForwardedRef:t}))});return x.displayName=r,x.WrappedComponent=t,OQ(x,t)}return OQ(m,t)}}function VQ(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function UQ(e,t){if(VQ(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(var n=0;n<a.length;n++)if(!Object.prototype.hasOwnProperty.call(t,a[n])||!VQ(e[a[n]],t[a[n]]))return!1;return!0}function KQ(e){return function(t,a){var r=e(t,a);function n(){return r}return n.dependsOnOwnProps=!1,n}}function YQ(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function XQ(e,t){return function(t,a){a.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,a){r.mapToProps=e,r.dependsOnOwnProps=YQ(e);var n=r(t,a);return"function"==typeof n&&(r.mapToProps=n,r.dependsOnOwnProps=YQ(n),n=r(t,a)),n},r}}const JQ=[function(e){return"function"==typeof e?XQ(e):void 0},function(e){return e?void 0:KQ(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?KQ(function(t){return function(e,t){var a={},r=function(r){var n=e[r];"function"==typeof n&&(a[r]=function(){return t(n.apply(void 0,arguments))})};for(var n in e)r(n);return a}(e,t)}):void 0}];const ZQ=[function(e){return"function"==typeof e?XQ(e):void 0},function(e){return e?void 0:KQ(function(){return{}})}];function QQ(e,t,a){return eQ({},a,e,t)}const e1=[function(e){return"function"==typeof e?function(e){return function(t,a){a.displayName;var r,n=a.pure,i=a.areMergedPropsEqual,s=!1;return function(t,a,o){var l=e(t,a,o);return s?n&&i(l,r)||(r=l):(s=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return QQ}}];var t1=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function a1(e,t,a,r){return function(n,i){return a(e(n,i),t(r,i),i)}}function r1(e,t,a,r,n){var i,s,o,l,c,d=n.areStatesEqual,u=n.areOwnPropsEqual,h=n.areStatePropsEqual,m=!1;function p(n,m){var p,f,g=!u(m,s),x=!d(n,i,m,s);return i=n,s=m,g&&x?(o=e(i,s),t.dependsOnOwnProps&&(l=t(r,s)),c=a(o,l,s)):g?(e.dependsOnOwnProps&&(o=e(i,s)),t.dependsOnOwnProps&&(l=t(r,s)),c=a(o,l,s)):x?(p=e(i,s),f=!h(p,o),o=p,f&&(c=a(o,l,s)),c):c}return function(n,d){return m?p(n,d):(o=e(i=n,s=d),l=t(r,s),c=a(o,l,s),m=!0,c)}}function n1(e,t){var a=t.initMapStateToProps,r=t.initMapDispatchToProps,n=t.initMergeProps,i=_Q(t,t1),s=a(e,i),o=r(e,i),l=n(e,i);return(i.pure?r1:a1)(s,o,l,e,i)}var i1=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function s1(e,t,a){for(var r=t.length-1;r>=0;r--){var n=t[r](e);if(n)return n}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+a+" argument when connecting component "+r.wrappedComponentName+".")}}function o1(e,t){return e===t}function l1(e){var t=void 0===e?{}:e,a=t.connectHOC,r=void 0===a?HQ:a,n=t.mapStateToPropsFactories,i=void 0===n?ZQ:n,s=t.mapDispatchToPropsFactories,o=void 0===s?JQ:s,l=t.mergePropsFactories,c=void 0===l?e1:l,d=t.selectorFactory,u=void 0===d?n1:d;return function(e,t,a,n){void 0===n&&(n={});var s=n,l=s.pure,d=void 0===l||l,h=s.areStatesEqual,m=void 0===h?o1:h,p=s.areOwnPropsEqual,f=void 0===p?UQ:p,g=s.areStatePropsEqual,x=void 0===g?UQ:g,v=s.areMergedPropsEqual,b=void 0===v?UQ:v,y=_Q(s,i1),_=s1(e,i,"mapStateToProps"),j=s1(t,o,"mapDispatchToProps"),w=s1(a,c,"mergeProps");return r(u,eQ({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:j,initMergeProps:w,pure:d,areStatesEqual:m,areOwnPropsEqual:f,areStatePropsEqual:x,areMergedPropsEqual:b},y))}}const c1=l1();var d1;function u1(e,t){var a=f.useState(function(){return{inputs:t,result:e()}})[0],r=f.useRef(!0),n=f.useRef(a),i=r.current||Boolean(t&&n.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}(t,n.current.inputs))?n.current:{inputs:t,result:e()};return f.useEffect(function(){r.current=!1,n.current=i},[i]),i.result}d1=ZN.unstable_batchedUpdates,fQ=d1;var h1=u1,m1=function(e,t){return u1(function(){return e},t)},p1=function(e){var t=e.top,a=e.right,r=e.bottom,n=e.left;return{top:t,right:a,bottom:r,left:n,width:a-n,height:r-t,x:n,y:t,center:{x:(a+n)/2,y:(r+t)/2}}},f1=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},g1=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},x1={top:0,right:0,bottom:0,left:0},v1=function(e){var t=e.borderBox,a=e.margin,r=void 0===a?x1:a,n=e.border,i=void 0===n?x1:n,s=e.padding,o=void 0===s?x1:s,l=p1(f1(t,r)),c=p1(g1(t,i)),d=p1(g1(c,o));return{marginBox:l,borderBox:p1(t),paddingBox:c,contentBox:d,margin:r,border:i,padding:o}},b1=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var a=Number(t);return isNaN(a)&&gK(),a},y1=function(e,t){var a,r,n=e.borderBox,i=e.border,s=e.margin,o=e.padding,l=(r=t,{top:(a=n).top+r.y,left:a.left+r.x,bottom:a.bottom+r.y,right:a.right+r.x});return v1({borderBox:l,border:i,margin:s,padding:o})},_1=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),y1(e,t)},j1=function(e,t){var a={top:b1(t.marginTop),right:b1(t.marginRight),bottom:b1(t.marginBottom),left:b1(t.marginLeft)},r={top:b1(t.paddingTop),right:b1(t.paddingRight),bottom:b1(t.paddingBottom),left:b1(t.paddingLeft)},n={top:b1(t.borderTopWidth),right:b1(t.borderRightWidth),bottom:b1(t.borderBottomWidth),left:b1(t.borderLeftWidth)};return v1({borderBox:e,margin:a,padding:r,border:n})},w1=function(e){var t=e.getBoundingClientRect(),a=window.getComputedStyle(e);return j1(t,a)},N1=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function C1(e,t){return e===t||!(!N1(e)||!N1(t))}function k1(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(!C1(e[a],t[a]))return!1;return!0}function S1(e,t){var a;void 0===t&&(t=k1);var r,n=[],i=!1;return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return i&&a===this&&t(s,n)||(r=e.apply(this,s),i=!0,a=this,n=s),r}}var M1=function(e){var t=[],a=null,r=function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t=n,a||(a=requestAnimationFrame(function(){a=null,e.apply(void 0,t)}))};return r.cancel=function(){a&&(cancelAnimationFrame(a),a=null)},r};function E1(e,t){}function O1(){}function P1(e,t,a){var r=t.map(function(t){var r,n,i=(r=a,n=t.options,eQ({},r,{},n));return e.addEventListener(t.eventName,t.fn,i),function(){e.removeEventListener(t.eventName,t.fn,i)}});return function(){r.forEach(function(e){e()})}}E1.bind(null,"warn"),E1.bind(null,"error");function A1(e){this.message=e}function D1(e,t){throw new A1("Invariant failed")}A1.prototype.toString=function(){return this.message};var I1=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=O1,t.onWindowError=function(e){var a=t.getCallbacks();a.isDragging()&&a.tryAbort(),e.error instanceof A1&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}QZ(t,e);var a=t.prototype;return a.componentDidMount=function(){this.unbind=P1(window,[{eventName:"error",fn:this.onWindowError}])},a.componentDidCatch=function(e){if(!(e instanceof A1))throw e;this.setState({})},a.componentWillUnmount=function(){this.unbind()},a.render=function(){return this.props.children(this.setCallbacks)},t}(g.Component),T1=function(e){return e+1},z1=function(e,t){var a=e.droppableId===t.droppableId,r=T1(e.index),n=T1(t.index);return a?"\n      You have moved the item from position "+r+"\n      to position "+n+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+n+"\n  "},R1=function(e,t,a){return t.droppableId===a.droppableId?"\n      The item "+e+"\n      has been combined with "+a.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+a.draggableId+"\n      in list "+a.droppableId+"\n    "},L1=function(e){return"\n  The item has returned to its starting position\n  of "+T1(e.index)+"\n"},$1="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",B1=function(e){return"\n  You have lifted an item in position "+T1(e.source.index)+"\n"},q1=function(e){var t=e.destination;if(t)return z1(e.source,t);var a=e.combine;return a?R1(e.draggableId,e.source,a):"You are over an area that cannot be dropped on"},F1=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+L1(e.source)+"\n    ";var t=e.destination,a=e.combine;return t?"\n      You have dropped the item.\n      "+z1(e.source,t)+"\n    ":a?"\n      You have dropped the item.\n      "+R1(e.draggableId,e.source,a)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+L1(e.source)+"\n  "},W1={x:0,y:0},G1=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},H1=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},V1=function(e,t){return e.x===t.x&&e.y===t.y},U1=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},K1=function(e,t,a){var r;return void 0===a&&(a=0),(r={})[e]=t,r["x"===e?"y":"x"]=a,r},Y1=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},X1=function(e,t){return Math.min.apply(Math,t.map(function(t){return Y1(e,t)}))},J1=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},Z1=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Q1=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},e0=function(e,t){return t&&t.shouldClipSubject?function(e,t){var a=p1({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return a.width<=0||a.height<=0?null:a}(t.pageMarginBox,e):p1(e)},t0=function(e){var t=e.page,a=e.withPlaceholder,r=e.axis,n=e.frame,i=function(e,t){return t?Z1(e,t.scroll.diff.displacement):e}(t.marginBox,n),s=function(e,t,a){var r;return a&&a.increasedBy?eQ({},e,((r={})[t.end]=e[t.end]+a.increasedBy[t.line],r)):e}(i,r,a);return{page:t,withPlaceholder:a,active:e0(s,n)}},a0=function(e,t){e.frame||D1();var a=e.frame,r=H1(t,a.scroll.initial),n=U1(r),i=eQ({},a,{scroll:{initial:a.scroll.initial,current:t,diff:{value:r,displacement:n},max:a.scroll.max}});return eQ({},e,{frame:i,subject:t0({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i})})};function r0(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function n0(e,t){if(e.findIndex)return e.findIndex(t);for(var a=0;a<e.length;a++)if(t(e[a]))return a;return-1}function i0(e,t){if(e.find)return e.find(t);var a=n0(e,t);return-1!==a?e[a]:void 0}function s0(e){return Array.prototype.slice.call(e)}var o0=S1(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),l0=S1(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),c0=S1(function(e){return r0(e)}),d0=S1(function(e){return r0(e)}),u0=S1(function(e,t){var a=d0(t).filter(function(t){return e===t.descriptor.droppableId}).sort(function(e,t){return e.descriptor.index-t.descriptor.index});return a});function h0(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function m0(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var p0=S1(function(e,t){return t.filter(function(t){return t.descriptor.id!==e.descriptor.id})}),f0=function(e,t){return e.descriptor.droppableId===t.descriptor.id},g0={point:W1,value:0},x0={invisible:{},visible:{},all:[]},v0={displaced:x0,displacedBy:g0,at:null},b0=function(e,t){return function(a){return e<=a&&a<=t}},y0=function(e){var t=b0(e.top,e.bottom),a=b0(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&a(r.left)&&a(r.right))return!0;var n=t(r.top)||t(r.bottom),i=a(r.left)||a(r.right);if(n&&i)return!0;var s=r.top<e.top&&r.bottom>e.bottom,o=r.left<e.left&&r.right>e.right;return!(!s||!o)||(s&&i||o&&n)}},_0=function(e){var t=b0(e.top,e.bottom),a=b0(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&a(e.left)&&a(e.right)}},j0={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},w0={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},N0=function(e){var t=e.target,a=e.destination,r=e.viewport,n=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,s=n?function(e,t){var a=t.frame?t.frame.scroll.diff.displacement:W1;return Z1(e,a)}(t,a):t;return function(e,t,a){return!!t.subject.active&&a(t.subject.active)(e)}(s,a,i)&&function(e,t,a){return a(t)(e)}(s,r,i)},C0=function(e){return N0(eQ({},e,{isVisibleThroughFrameFn:_0}))};function k0(e){var t=e.afterDragging,a=e.destination,r=e.displacedBy,n=e.viewport,i=e.forceShouldAnimate,s=e.last;return t.reduce(function(e,t){var o=function(e,t){var a=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return p1(f1(a,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!N0(eQ({},{target:o,destination:a,viewport:n,withDroppableDisplacement:!0},{isVisibleThroughFrameFn:y0})))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,a){if("boolean"==typeof a)return a;if(!t)return!0;var r=t.invisible,n=t.visible;if(r[e])return!1;var i=n[e];return!i||i.shouldAnimate}(l,s,i),d={draggableId:l,shouldAnimate:c};return e.visible[l]=d,e},{all:[],visible:{},invisible:{}})}function S0(e){var t=e.insideDestination,a=e.inHomeList,r=e.displacedBy,n=e.destination,i=function(e,t){if(!e.length)return 0;var a=e[e.length-1].descriptor.index;return t.inHomeList?a:a+1}(t,{inHomeList:a});return{displaced:x0,displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function M0(e){var t=e.draggable,a=e.insideDestination,r=e.destination,n=e.viewport,i=e.displacedBy,s=e.last,o=e.index,l=e.forceShouldAnimate,c=f0(t,r);if(null==o)return S0({insideDestination:a,inHomeList:c,displacedBy:i,destination:r});var d=i0(a,function(e){return e.descriptor.index===o});if(!d)return S0({insideDestination:a,inHomeList:c,displacedBy:i,destination:r});var u=p0(t,a),h=a.indexOf(d);return{displaced:k0({afterDragging:u.slice(h),destination:r,displacedBy:i,last:s,viewport:n.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function E0(e,t){return Boolean(t.effected[e])}var O0=function(e){var t=e.isMovingForward,a=e.isInHomeList,r=e.draggable,n=e.draggables,i=e.destination,s=e.insideDestination,o=e.previousImpact,l=e.viewport,c=e.afterCritical,d=o.at;if(d||D1(),"REORDER"===d.type){var u=function(e){var t=e.isMovingForward,a=e.isInHomeList,r=e.insideDestination,n=e.location;if(!r.length)return null;var i=n.index,s=t?i+1:i-1,o=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return s<o||s>(a?l:l+1)?null:s}({isMovingForward:t,isInHomeList:a,location:d.destination,insideDestination:s});return null==u?null:M0({draggable:r,insideDestination:s,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:u})}var h=function(e){var t=e.isMovingForward,a=e.destination,r=e.draggables,n=e.combine,i=e.afterCritical;if(!a.isCombineEnabled)return null;var s=n.draggableId,o=r[s].descriptor.index;return E0(s,i)?t?o:o-1:t?o+1:o}({isMovingForward:t,destination:i,displaced:o.displaced,draggables:n,combine:d.combine,afterCritical:c});return null==h?null:M0({draggable:r,insideDestination:s,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})},P0=function(e){var t=e.afterCritical,a=e.impact,r=e.draggables,n=m0(a);n||D1();var i=n.draggableId,s=r[i].page.borderBox.center,o=function(e){var t=e.displaced,a=e.afterCritical,r=e.combineWith,n=e.displacedBy,i=Boolean(t.visible[r]||t.invisible[r]);return E0(r,a)?i?W1:U1(n.point):i?n.point:W1}({displaced:a.displaced,afterCritical:t,combineWith:i,displacedBy:a.displacedBy});return G1(s,o)},A0=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},D0=function(e,t,a){return t[e.crossAxisStart]+a.margin[e.crossAxisStart]+a.borderBox[e.crossAxisSize]/2},I0=function(e){var t=e.axis,a=e.moveRelativeTo,r=e.isMoving;return K1(t.line,a.marginBox[t.end]+A0(t,r),D0(t,a.marginBox,r))},T0=function(e){var t=e.axis,a=e.moveRelativeTo,r=e.isMoving;return K1(t.line,a.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),D0(t,a.marginBox,r))},z0=function(e){var t=e.impact,a=e.draggable,r=e.draggables,n=e.droppable,i=e.afterCritical,s=u0(n.descriptor.id,r),o=a.page,l=n.axis;if(!s.length)return function(e){var t=e.axis,a=e.moveInto,r=e.isMoving;return K1(t.line,a.contentBox[t.start]+A0(t,r),D0(t,a.contentBox,r))}({axis:l,moveInto:n.page,isMoving:o});var c=t.displaced,d=t.displacedBy,u=c.all[0];if(u){var h=r[u];if(E0(u,i))return T0({axis:l,moveRelativeTo:h.page,isMoving:o});var m=y1(h.page,d.point);return T0({axis:l,moveRelativeTo:m,isMoving:o})}var p=s[s.length-1];if(p.descriptor.id===a.descriptor.id)return o.borderBox.center;if(E0(p.descriptor.id,i)){var f=y1(p.page,U1(i.displacedBy.point));return I0({axis:l,moveRelativeTo:f,isMoving:o})}return I0({axis:l,moveRelativeTo:p.page,isMoving:o})},R0=function(e,t){var a=e.frame;return a?G1(t,a.scroll.diff.displacement):t},L0=function(e){var t=function(e){var t=e.impact,a=e.draggable,r=e.droppable,n=e.draggables,i=e.afterCritical,s=a.page.borderBox.center,o=t.at;return r&&o?"REORDER"===o.type?z0({impact:t,draggable:a,draggables:n,droppable:r,afterCritical:i}):P0({impact:t,draggables:n,afterCritical:i}):s}(e),a=e.droppable;return a?R0(a,t):t},$0=function(e,t){var a=H1(t,e.scroll.initial),r=U1(a);return{frame:p1({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:a,displacement:r}}}};function B0(e,t){return e.map(function(e){return t[e]})}var q0=function(e){var t=e.pageBorderBoxCenter,a=e.draggable,r=function(e,t){return G1(e.scroll.diff.displacement,t)}(e.viewport,t),n=H1(r,a.page.borderBox.center);return G1(a.client.borderBox.center,n)},F0=function(e){var t=e.draggable,a=e.destination,r=e.newPageBorderBoxCenter,n=e.viewport,i=e.withDroppableDisplacement,s=e.onlyOnMainAxis,o=void 0!==s&&s,l=H1(r,t.page.borderBox.center),c={target:Z1(t.page.borderBox,l),destination:a,withDroppableDisplacement:i,viewport:n};return o?function(e){return N0(eQ({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var a=b0(e.top,e.bottom),r=b0(e.left,e.right);return function(e){return t===j0?a(e.top)&&a(e.bottom):r(e.left)&&r(e.right)}})}));var t}(c):C0(c)},W0=function(e){var t=e.isMovingForward,a=e.draggable,r=e.destination,n=e.draggables,i=e.previousImpact,s=e.viewport,o=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var d=u0(r.descriptor.id,n),u=f0(a,r),h=function(e){var t=e.isMovingForward,a=e.draggable,r=e.destination,n=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;if(!h0(i))return null;function s(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return eQ({},i,{at:t})}var o=i.displaced.all,l=o.length?o[0]:null;if(t)return l?s(l):null;var c=p0(a,n);if(!l)return c.length?s(c[c.length-1].descriptor.id):null;var d=n0(c,function(e){return e.descriptor.id===l});-1===d&&D1();var u=d-1;return u<0?null:s(c[u].descriptor.id)}({isMovingForward:t,draggable:a,destination:r,insideDestination:d,previousImpact:i})||O0({isMovingForward:t,isInHomeList:u,draggable:a,draggables:n,destination:r,insideDestination:d,previousImpact:i,viewport:s,afterCritical:c});if(!h)return null;var m=L0({impact:h,draggable:a,droppable:r,draggables:n,afterCritical:c});if(F0({draggable:a,destination:r,newPageBorderBoxCenter:m,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:q0({pageBorderBoxCenter:m,draggable:a,viewport:s}),impact:h,scrollJumpRequest:null};var p=H1(m,o),f=function(e){var t=e.impact,a=e.viewport,r=e.destination,n=e.draggables,i=e.maxScrollChange,s=$0(a,G1(a.scroll.current,i)),o=r.frame?a0(r,G1(r.frame.scroll.current,i)):r,l=t.displaced,c=k0({afterDragging:B0(l.all,n),destination:r,displacedBy:t.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),d=k0({afterDragging:B0(l.all,n),destination:o,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u={},h={},m=[l,c,d];return l.all.forEach(function(e){var t=function(e,t){for(var a=0;a<t.length;a++){var r=t[a].visible[e];if(r)return r}return null}(e,m);t?h[e]=t:u[e]=!0}),eQ({},t,{displaced:{all:l.all,invisible:u,visible:h}})}({impact:h,viewport:s,destination:r,draggables:n,maxScrollChange:p});return{clientSelection:l,impact:f,scrollJumpRequest:p}},G0=function(e){var t=e.subject.active;return t||D1(),t},H0=function(e,t){var a=e.page.borderBox.center;return E0(e.descriptor.id,t)?H1(a,t.displacedBy.point):a},V0=function(e,t){var a=e.page.borderBox;return E0(e.descriptor.id,t)?Z1(a,U1(t.displacedBy.point)):a},U0=S1(function(e,t){var a=t[e.line];return{value:a,point:K1(e.line,a)}}),K0=function(e,t){return eQ({},e,{scroll:eQ({},e.scroll,{max:t})})},Y0=function(e,t,a){var r=e.frame;f0(t,e)&&D1(),e.subject.withPlaceholder&&D1();var n=U0(e.axis,t.displaceBy).point,i=function(e,t,a){var r=e.axis;if("virtual"===e.descriptor.mode)return K1(r.line,t[r.line]);var n=e.subject.page.contentBox[r.size],i=u0(e.descriptor.id,a).reduce(function(e,t){return e+t.client.marginBox[r.size]},0)+t[r.line]-n;return i<=0?null:K1(r.line,i)}(e,n,a),s={placeholderSize:n,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return eQ({},e,{subject:t0({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame})});var o=i?G1(r.scroll.max,i):r.scroll.max,l=K0(r,o);return eQ({},e,{subject:t0({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:l}),frame:l})},X0=function(e){var t=e.isMovingForward,a=e.previousPageBorderBoxCenter,r=e.draggable,n=e.isOver,i=e.draggables,s=e.droppables,o=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,a=e.pageBorderBoxCenter,r=e.source,n=e.droppables,i=e.viewport,s=r.subject.active;if(!s)return null;var o=r.axis,l=b0(s[o.start],s[o.end]),c=c0(n).filter(function(e){return e!==r}).filter(function(e){return e.isEnabled}).filter(function(e){return Boolean(e.subject.active)}).filter(function(e){return y0(i.frame)(G0(e))}).filter(function(e){var a=G0(e);return t?s[o.crossAxisEnd]<a[o.crossAxisEnd]:a[o.crossAxisStart]<s[o.crossAxisStart]}).filter(function(e){var t=G0(e),a=b0(t[o.start],t[o.end]);return l(t[o.start])||l(t[o.end])||a(s[o.start])||a(s[o.end])}).sort(function(e,a){var r=G0(e)[o.crossAxisStart],n=G0(a)[o.crossAxisStart];return t?r-n:n-r}).filter(function(e,t,a){return G0(e)[o.crossAxisStart]===G0(a[0])[o.crossAxisStart]});if(!c.length)return null;if(1===c.length)return c[0];var d=c.filter(function(e){return b0(G0(e)[o.start],G0(e)[o.end])(a[o.line])});return 1===d.length?d[0]:d.length>1?d.sort(function(e,t){return G0(e)[o.start]-G0(t)[o.start]})[0]:c.sort(function(e,t){var r=X1(a,Q1(G0(e))),n=X1(a,Q1(G0(t)));return r!==n?r-n:G0(e)[o.start]-G0(t)[o.start]})[0]}({isMovingForward:t,pageBorderBoxCenter:a,source:n,droppables:s,viewport:o});if(!c)return null;var d=u0(c.descriptor.id,i),u=function(e){var t=e.pageBorderBoxCenter,a=e.viewport,r=e.destination,n=e.insideDestination,i=e.afterCritical,s=n.filter(function(e){return C0({target:V0(e,i),destination:r,viewport:a.frame,withDroppableDisplacement:!0})}).sort(function(e,a){var n=Y1(t,R0(r,H0(e,i))),s=Y1(t,R0(r,H0(a,i)));return n<s?-1:s<n?1:e.descriptor.index-a.descriptor.index});return s[0]||null}({pageBorderBoxCenter:a,viewport:o,destination:c,insideDestination:d,afterCritical:l}),h=function(e){var t=e.previousPageBorderBoxCenter,a=e.moveRelativeTo,r=e.insideDestination,n=e.draggable,i=e.draggables,s=e.destination,o=e.viewport,l=e.afterCritical;if(!a){if(r.length)return null;var c={displaced:x0,displacedBy:g0,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},d=L0({impact:c,draggable:n,droppable:s,draggables:i,afterCritical:l}),u=f0(n,s)?s:Y0(s,n,i);return F0({draggable:n,destination:u,newPageBorderBoxCenter:d,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var h,m=Boolean(t[s.axis.line]<=a.page.borderBox.center[s.axis.line]),p=(h=a.descriptor.index,a.descriptor.id===n.descriptor.id||m?h:h+1),f=U0(s.axis,n.displaceBy);return M0({draggable:n,insideDestination:r,destination:s,viewport:o,displacedBy:f,last:x0,index:p})}({previousPageBorderBoxCenter:a,destination:c,draggable:r,draggables:i,moveRelativeTo:u,insideDestination:d,viewport:o,afterCritical:l});if(!h)return null;var m=L0({impact:h,draggable:r,droppable:c,draggables:i,afterCritical:l});return{clientSelection:q0({pageBorderBoxCenter:m,draggable:r,viewport:o}),impact:h,scrollJumpRequest:null}},J0=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Z0=function(e){var t=e.state,a=e.type,r=function(e,t){var a=J0(e);return a?t[a]:null}(t.impact,t.dimensions.droppables),n=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],s=r||i,o=s.axis.direction,l="vertical"===o&&("MOVE_UP"===a||"MOVE_DOWN"===a)||"horizontal"===o&&("MOVE_LEFT"===a||"MOVE_RIGHT"===a);if(l&&!n)return null;var c="MOVE_DOWN"===a||"MOVE_RIGHT"===a,d=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,h=t.dimensions,m=h.draggables,p=h.droppables;return l?W0({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,destination:s,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):X0({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,isOver:s,draggables:m,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function Q0(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function e2(e){var t=b0(e.top,e.bottom),a=b0(e.left,e.right);return function(e){return t(e.y)&&a(e.x)}}function t2(e){var t=e.pageBorderBox,a=e.draggable,r=e.droppables,n=c0(r).filter(function(e){if(!e.isEnabled)return!1;var a=e.subject.active;if(!a)return!1;if(!function(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}(t,a))return!1;if(e2(a)(t.center))return!0;var r=e.axis,n=a.center[r.crossAxisLine],i=t[r.crossAxisStart],s=t[r.crossAxisEnd],o=b0(a[r.crossAxisStart],a[r.crossAxisEnd]),l=o(i),c=o(s);return!l&&!c||(l?i<n:s>n)});return n.length?1===n.length?n[0].descriptor.id:function(e){var t=e.pageBorderBox,a=e.draggable,r=e.candidates,n=a.page.borderBox.center,i=r.map(function(e){var a=e.axis,r=K1(e.axis.line,t.center[a.line],e.page.borderBox.center[a.crossAxisLine]);return{id:e.descriptor.id,distance:Y1(n,r)}}).sort(function(e,t){return t.distance-e.distance});return i[0]?i[0].id:null}({pageBorderBox:t,draggable:a,candidates:n}):null}var a2=function(e,t){return p1(Z1(e,t))};function r2(e){var t=e.displaced,a=e.id;return Boolean(t.visible[a]||t.invisible[a])}var n2=function(e){var t=e.pageOffset,a=e.draggable,r=e.draggables,n=e.droppables,i=e.previousImpact,s=e.viewport,o=e.afterCritical,l=a2(a.page.borderBox,t),c=t2({pageBorderBox:l,draggable:a,droppables:n});if(!c)return v0;var d,u,h=n[c],m=u0(h.descriptor.id,r),p=(d=l,(u=h.frame)?a2(d,u.scroll.diff.value):d);return function(e){var t=e.draggable,a=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,n=e.destination,i=e.insideDestination,s=e.afterCritical;if(!n.isCombineEnabled)return null;var o=n.axis,l=U0(n.axis,t.displaceBy),c=l.value,d=a[o.start],u=a[o.end],h=i0(p0(t,i),function(e){var t=e.descriptor.id,a=e.page.borderBox,n=a[o.size]/4,i=E0(t,s),l=r2({displaced:r.displaced,id:t});return i?l?u>a[o.start]+n&&u<a[o.end]-n:d>a[o.start]-c+n&&d<a[o.end]-c-n:l?u>a[o.start]+c+n&&u<a[o.end]+c-n:d>a[o.start]+n&&d<a[o.end]-n});return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:n.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:p,draggable:a,previousImpact:i,destination:h,insideDestination:m,afterCritical:o})||function(e){var t=e.pageBorderBoxWithDroppableScroll,a=e.draggable,r=e.destination,n=e.insideDestination,i=e.last,s=e.viewport,o=e.afterCritical,l=r.axis,c=U0(r.axis,a.displaceBy),d=c.value,u=t[l.start],h=t[l.end],m=function(e){var t=e.draggable,a=e.closest,r=e.inHomeList;return a?r&&a.descriptor.index>t.descriptor.index?a.descriptor.index-1:a.descriptor.index:null}({draggable:a,closest:i0(p0(a,n),function(e){var t=e.descriptor.id,a=e.page.borderBox.center[l.line],r=E0(t,o),n=r2({displaced:i,id:t});return r?n?h<=a:u<a-d:n?h<=a+d:u<a}),inHomeList:f0(a,r)});return M0({draggable:a,insideDestination:n,destination:r,viewport:s,last:i,displacedBy:c,index:m})}({pageBorderBoxWithDroppableScroll:p,draggable:a,destination:h,insideDestination:m,last:i.displaced,viewport:s,afterCritical:o})},i2=function(e,t){var a;return eQ({},e,((a={})[t.descriptor.id]=t,a))},s2=function(e){var t=e.previousImpact,a=e.impact,r=e.droppables,n=J0(t),i=J0(a);if(!n)return r;if(n===i)return r;var s=r[n];if(!s.subject.withPlaceholder)return r;var o=function(e){var t=e.subject.withPlaceholder;t||D1();var a=e.frame;if(!a)return eQ({},e,{subject:t0({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||D1();var n=K0(a,r);return eQ({},e,{subject:t0({page:e.subject.page,axis:e.axis,frame:n,withPlaceholder:null}),frame:n})}(s);return i2(r,o)},o2=function(e){var t=e.state,a=e.clientSelection,r=e.dimensions,n=e.viewport,i=e.impact,s=e.scrollJumpRequest,o=n||t.viewport,l=r||t.dimensions,c=a||t.current.client.selection,d=H1(c,t.initial.client.selection),u={offset:d,selection:c,borderBoxCenter:G1(t.initial.client.borderBoxCenter,d)},h={selection:G1(u.selection,o.scroll.current),borderBoxCenter:G1(u.borderBoxCenter,o.scroll.current),offset:G1(u.offset,o.scroll.diff.value)},m={client:u,page:h};if("COLLECTING"===t.phase)return eQ({phase:"COLLECTING"},t,{dimensions:l,viewport:o,current:m});var p=l.draggables[t.critical.draggable.id],f=i||n2({pageOffset:h.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,a=e.draggables,r=e.droppables,n=e.previousImpact,i=e.impact,s=s2({previousImpact:n,impact:i,droppables:r}),o=J0(i);if(!o)return s;var l=r[o];if(f0(t,l))return s;if(l.subject.withPlaceholder)return s;var c=Y0(l,t,a);return i2(s,c)}({draggable:p,impact:f,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return eQ({},t,{current:m,dimensions:{draggables:l.draggables,droppables:g},impact:f,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:!s&&null})};var l2=function(e){var t=e.impact,a=e.viewport,r=e.draggables,n=e.destination,i=e.forceShouldAnimate,s=t.displaced,o=function(e,t){return e.map(function(e){return t[e]})}(s.all,r);return eQ({},t,{displaced:k0({afterDragging:o,destination:n,displacedBy:t.displacedBy,viewport:a.frame,forceShouldAnimate:i,last:s})})},c2=function(e){var t=e.impact,a=e.draggable,r=e.droppable,n=e.draggables,i=e.viewport,s=e.afterCritical,o=L0({impact:t,draggable:a,draggables:n,droppable:r,afterCritical:s});return q0({pageBorderBoxCenter:o,draggable:a,viewport:i})},d2=function(e){var t=e.state,a=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&D1();var n=t.impact,i=r||t.viewport,s=a||t.dimensions,o=s.draggables,l=s.droppables,c=o[t.critical.draggable.id],d=J0(n);d||D1();var u=l[d],h=l2({impact:n,viewport:i,destination:u,draggables:o}),m=c2({impact:h,draggable:c,droppable:u,draggables:o,viewport:i,afterCritical:t.afterCritical});return o2({impact:h,clientSelection:m,state:t,dimensions:s,viewport:i})},u2=function(e){var t=e.draggable,a=e.home,r=e.draggables,n=e.viewport,i=U0(a.axis,t.displaceBy),s=u0(a.descriptor.id,r),o=s.indexOf(t);-1===o&&D1();var l,c=s.slice(o+1),d=c.reduce(function(e,t){return e[t.descriptor.id]=!0,e},{}),u={inVirtualList:"virtual"===a.descriptor.mode,displacedBy:i,effected:d};return{impact:{displaced:k0({afterDragging:c,destination:a,displacedBy:i,last:null,viewport:n.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:u}},h2=function(e){var t=e.additions,a=e.updatedDroppables,r=e.viewport,n=r.scroll.diff.value;return t.map(function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||D1(),t}(a[t]).scroll.diff.value,s=function(e){var t=e.draggable,a=e.offset,r=e.initialWindowScroll,n=y1(t.client,a),i=_1(n,r);return eQ({},t,{placeholder:eQ({},t.placeholder,{client:n}),client:n,page:i})}({draggable:e,offset:G1(n,i),initialWindowScroll:r.scroll.initial});return s})},m2=function(e){return"SNAP"===e.movementMode},p2=function(e,t,a){var r=function(e,t){return{draggables:e.draggables,droppables:i2(e.droppables,t)}}(e.dimensions,t);return!m2(e)||a?o2({state:e,dimensions:r}):d2({state:e,dimensions:r})};function f2(e){return e.isDragging&&"SNAP"===e.movementMode?eQ({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var g2={phase:"IDLE",completed:null,shouldFlush:!1},x2=function(e,t){if(void 0===e&&(e=g2),"FLUSH"===t.type)return eQ({},g2,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&D1();var a=t.payload,r=a.critical,n=a.clientSelection,i=a.viewport,s=a.dimensions,o=a.movementMode,l=s.draggables[r.draggable.id],c=s.droppables[r.droppable.id],d={selection:n,borderBoxCenter:l.client.borderBox.center,offset:W1},u={client:d,page:{selection:G1(d.selection,i.scroll.initial),borderBoxCenter:G1(d.selection,i.scroll.initial),offset:G1(d.selection,i.scroll.diff.value)}},h=c0(s.droppables).every(function(e){return!e.isFixedOnPage}),m=u2({draggable:l,home:c,draggables:s.draggables,viewport:i}),p=m.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:o,dimensions:s,initial:u,current:u,isWindowScrollAllowed:h,impact:p,afterCritical:m.afterCritical,onLiftImpact:p,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&D1(),eQ({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&D1(),function(e){var t=e.state,a=e.published,r=a.modified.map(function(e){var a=t.dimensions.droppables[e.droppableId];return a0(a,e.scroll)}),n=eQ({},t.dimensions.droppables,{},o0(r)),i=l0(h2({additions:a.additions,updatedDroppables:n,viewport:t.viewport})),s=eQ({},t.dimensions.draggables,{},i);a.removals.forEach(function(e){delete s[e]});var o={droppables:n,draggables:s},l=J0(t.impact),c=l?o.droppables[l]:null,d=o.draggables[t.critical.draggable.id],u=o.droppables[t.critical.droppable.id],h=u2({draggable:d,home:u,draggables:s,viewport:t.viewport}),m=h.impact,p=h.afterCritical,f=c&&c.isCombineEnabled?t.impact:m,g=n2({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:f,viewport:t.viewport,afterCritical:p}),x=eQ({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:m,dimensions:o,afterCritical:p,forceShouldAnimate:!1});return"COLLECTING"===t.phase?x:eQ({phase:"DROP_PENDING"},x,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Q0(e)||D1();var f=t.payload.client;return V1(f,e.current.client.selection)?e:o2({state:e,clientSelection:f,impact:m2(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return f2(e);if("COLLECTING"===e.phase)return f2(e);Q0(e)||D1();var g=t.payload,x=g.id,v=g.newScroll,b=e.dimensions.droppables[x];if(!b)return e;var y=a0(b,v);return p2(e,y,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Q0(e)||D1();var _=t.payload,j=_.id,w=_.isEnabled,N=e.dimensions.droppables[j];N||D1(),N.isEnabled===w&&D1();var C=eQ({},N,{isEnabled:w});return p2(e,C,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Q0(e)||D1();var k=t.payload,S=k.id,M=k.isCombineEnabled,E=e.dimensions.droppables[S];E||D1(),E.isCombineEnabled===M&&D1();var O=eQ({},E,{isCombineEnabled:M});return p2(e,O,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Q0(e)||D1(),e.isWindowScrollAllowed||D1();var P=t.payload.newScroll;if(V1(e.viewport.scroll.current,P))return f2(e);var A=$0(e.viewport,P);return m2(e)?d2({state:e,viewport:A}):o2({state:e,viewport:A})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Q0(e))return e;var D=t.payload.maxScroll;if(V1(D,e.viewport.scroll.max))return e;var I=eQ({},e.viewport,{scroll:eQ({},e.viewport.scroll,{max:D})});return eQ({phase:"DRAGGING"},e,{viewport:I})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&D1();var T=Z0({state:e,type:t.type});return T?o2({state:e,impact:T.impact,clientSelection:T.clientSelection,scrollJumpRequest:T.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var z=t.payload.reason;return"COLLECTING"!==e.phase&&D1(),eQ({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:z})}if("DROP_ANIMATE"===t.type){var R=t.payload,L=R.completed,$=R.dropDuration,B=R.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&D1(),{phase:"DROP_ANIMATING",completed:L,dropDuration:$,newHomeClientOffset:B,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},v2=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},b2=function(){return{type:"COLLECTION_STARTING",payload:null}},y2=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},_2=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},j2=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},w2=function(e){return{type:"MOVE",payload:e}},N2=function(){return{type:"MOVE_UP",payload:null}},C2=function(){return{type:"MOVE_DOWN",payload:null}},k2=function(){return{type:"MOVE_RIGHT",payload:null}},S2=function(){return{type:"MOVE_LEFT",payload:null}},M2=function(e){return{type:"DROP_COMPLETE",payload:e}},E2=function(e){return{type:"DROP",payload:e}},O2=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},P2="cubic-bezier(.2,1,.1,1)",A2={drop:0,combining:.7},D2={drop:.75},I2=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",T2={fluid:"opacity "+I2,snap:"transform "+I2+", opacity "+I2,drop:function(e){var t=e+"s "+P2;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+I2,placeholder:"height "+I2+", width "+I2+", margin "+I2},z2=function(e){return V1(e,W1)?null:"translate("+e.x+"px, "+e.y+"px)"},R2=z2,L2=function(e,t){var a=z2(e);return a?t?a+" scale("+D2.drop+")":a:null},$2=.33,B2=.55,q2=B2-$2,F2=function(e){var t=e.getState,a=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var n=t(),i=r.payload.reason;if("COLLECTING"!==n.phase){if("IDLE"!==n.phase){"DROP_PENDING"===n.phase&&n.isWaiting&&D1(),"DRAGGING"!==n.phase&&"DROP_PENDING"!==n.phase&&D1();var s=n.critical,o=n.dimensions,l=o.draggables[n.critical.draggable.id],c=function(e){var t=e.draggables,a=e.reason,r=e.lastImpact,n=e.home,i=e.viewport,s=e.onLiftImpact;return r.at&&"DROP"===a?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:eQ({},r,{displaced:x0}),didDropInsideDroppable:!0}:{impact:l2({draggables:t,impact:s,destination:n,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:n.impact,afterCritical:n.afterCritical,onLiftImpact:n.onLiftImpact,home:n.dimensions.droppables[n.critical.droppable.id],viewport:n.viewport,draggables:n.dimensions.draggables}),d=c.impact,u=c.didDropInsideDroppable,h=u?h0(d):null,m=u?m0(d):null,p={index:s.draggable.index,droppableId:s.droppable.id},f={draggableId:l.descriptor.id,type:l.descriptor.type,source:p,reason:i,mode:n.movementMode,destination:h,combine:m},g=function(e){var t=e.impact,a=e.draggable,r=e.dimensions,n=e.viewport,i=e.afterCritical,s=r.draggables,o=r.droppables,l=J0(t),c=l?o[l]:null,d=o[a.descriptor.droppableId],u=c2({impact:t,draggable:a,draggables:s,afterCritical:i,droppable:c||d,viewport:n});return H1(u,a.client.borderBox.center)}({impact:d,draggable:l,dimensions:o,viewport:n.viewport,afterCritical:n.afterCritical}),x={critical:n.critical,afterCritical:n.afterCritical,result:f,impact:d};if(!V1(n.current.client.offset,g)||Boolean(f.combine)){var v=function(e){var t=e.current,a=e.destination,r=e.reason,n=Y1(t,a);if(n<=0)return $2;if(n>=1500)return B2;var i=$2+q2*(n/1500);return Number(("CANCEL"===r?.6*i:i).toFixed(2))}({current:n.current.client.offset,destination:g,reason:i});a(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:v,completed:x}))}else a(M2({completed:x}))}}else a(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(r)}}},W2=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function G2(e){var t=e.onWindowScroll;var a,r=M1(function(){t(W2())}),n=(a=r,{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(e){e.target!==window&&e.target!==window.document||a()}}),i=O1;function s(){return i!==O1}return{start:function(){s()&&D1(),i=P1(window,[n])},stop:function(){s()||D1(),r.cancel(),i(),i=O1},isActive:s}}var H2=function(e){var t=G2({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(a){t.isActive()||"INITIAL_PUBLISH"!==a.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(a)&&t.stop(),e(a)}}},V2=function(){var e=[];return{add:function(t){var a=setTimeout(function(){return function(t){var a=n0(e,function(e){return e.timerId===t});-1===a&&D1(),e.splice(a,1)[0].callback()}(a)}),r={timerId:a,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach(function(e){clearTimeout(e.timerId),e.callback()})}}}},U2=function(e,t){t()},K2=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Y2=function(e,t,a,r){if(e){var n=function(e){var t=!1,a=!1,r=setTimeout(function(){a=!0}),n=function(n){t||a||(t=!0,e(n),clearTimeout(r))};return n.wasCalled=function(){return t},n}(a);e(t,{announce:n}),n.wasCalled()||a(r(t))}else a(r(t))},X2=function(e,t){var a=function(e,t){var a=V2(),r=null,n=function(a){r||D1(),r=null,U2(0,function(){return Y2(e().onDragEnd,a,t,F1)})};return{beforeCapture:function(t,a){r&&D1(),U2(0,function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:a})})},beforeStart:function(t,a){r&&D1(),U2(0,function(){var r=e().onBeforeDragStart;r&&r(K2(t,a))})},start:function(n,i){r&&D1();var s=K2(n,i);r={mode:i,lastCritical:n,lastLocation:s.source,lastCombine:null},a.add(function(){U2(0,function(){return Y2(e().onDragStart,s,t,B1)})})},update:function(n,i){var s=h0(i),o=m0(i);r||D1();var l=!function(e,t){if(e===t)return!0;var a=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return a&&r}(n,r.lastCritical);l&&(r.lastCritical=n);var c=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.droppableId===t.droppableId&&e.index===t.index}(r.lastLocation,s);c&&(r.lastLocation=s);var d=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,o);if(d&&(r.lastCombine=o),l||c||d){var u=eQ({},K2(n,r.mode),{combine:o,destination:s});a.add(function(){U2(0,function(){return Y2(e().onDragUpdate,u,t,q1)})})}},flush:function(){r||D1(),a.flush()},drop:n,abort:function(){if(r){var e=eQ({},K2(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});n(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var n=r.payload.critical;return a.beforeStart(n,r.payload.movementMode),t(r),void a.start(n,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var i=r.payload.completed.result;return a.flush(),t(r),void a.drop(i)}if(t(r),"FLUSH"!==r.type){var s=e.getState();"DRAGGING"===s.phase&&a.update(s.critical,s.impact)}else a.abort()}else a.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},J2=function(e){return function(t){return function(a){if("DROP_ANIMATION_FINISHED"===a.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&D1(),e.dispatch(M2({completed:r.completed}))}else t(a)}}},Z2=function(e){var t=null,a=null;return function(r){return function(n){if("FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type&&"DROP_ANIMATION_FINISHED"!==n.type||(a&&(cancelAnimationFrame(a),a=null),t&&(t(),t=null)),r(n),"DROP_ANIMATE"===n.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};a=requestAnimationFrame(function(){a=null,t=P1(window,[i])})}}}},Q2=function(e){return function(t){return function(a){if(t(a),"PUBLISH_WHILE_DRAGGING"===a.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(E2({reason:r.reason})))}}}},e5=mQ,t5=function(e){var t,a=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,i=e.getResponders,s=e.announce,o=e.autoScroller;return dQ(x2,e5(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return function(){var a=e.apply(void 0,arguments),r=function(){throw new Error(sQ(15))},n={getState:a.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map(function(e){return e(n)});return r=mQ.apply(void 0,i)(a.dispatch),iQ(iQ({},a),{},{dispatch:r})}}}((t=n,function(){return function(e){return function(a){"INITIAL_PUBLISH"===a.type&&t.dragging(),"DROP_ANIMATE"===a.type&&t.dropping(a.payload.completed.result.reason),"FLUSH"!==a.type&&"DROP_COMPLETE"!==a.type||t.resting(),e(a)}}}),function(e){return function(){return function(t){return function(a){"DROP_COMPLETE"!==a.type&&"FLUSH"!==a.type&&"DROP_ANIMATE"!==a.type||e.stopPublishing(),t(a)}}}}(a),function(e){return function(t){var a=t.getState,r=t.dispatch;return function(t){return function(n){if("LIFT"===n.type){var i=n.payload,s=i.id,o=i.clientSelection,l=i.movementMode,c=a();"DROP_ANIMATING"===c.phase&&r(M2({completed:c.completed})),"IDLE"!==a().phase&&D1(),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:s,movementMode:l}});var d={draggableId:s,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},u=e.startPublishing(d),h=u.critical,m=u.dimensions,p=u.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:h,dimensions:m,clientSelection:o,movementMode:l,viewport:p}})}else t(n)}}}}(a),F2,J2,Z2,Q2,function(e){return function(t){return function(a){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void a(r);if("INITIAL_PUBLISH"===r.type){a(r);var n=t.getState();return"DRAGGING"!==n.phase&&D1(),void e.start(n)}a(r),e.scroll(t.getState())}}}}(o),H2,function(e){var t=!1;return function(){return function(a){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),a(r),void e.tryRestoreFocusRecorded();if(a(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var n=r.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),X2(i,s))))};var a5=function(e){var t=e.scrollHeight,a=e.scrollWidth,r=e.height,n=e.width,i=H1({x:a,y:t},{x:n,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},r5=function(){var e=document.documentElement;return e||D1(),e},n5=function(){var e=r5();return a5({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},i5=function(e){var t,a,r,n,i,s,o,l=e.critical,c=e.scrollOptions,d=e.registry,u=(t=W2(),a=n5(),r=t.y,n=t.x,i=r5(),s=i.clientWidth,o=i.clientHeight,{frame:p1({top:r,left:n,right:n+s,bottom:r+o}),scroll:{initial:t,current:t,max:a,diff:{value:W1,displacement:W1}}}),h=u.scroll.current,m=l.droppable,p=d.droppable.getAllByType(m.type).map(function(e){return e.callbacks.getDimensionAndWatchScroll(h,c)}),f=d.draggable.getAllByType(l.draggable.type).map(function(e){return e.getDimension(h)});return{dimensions:{draggables:l0(f),droppables:o0(p)},critical:l,viewport:u}};function s5(e,t,a){return a.descriptor.id!==t.id&&(a.descriptor.type===t.type&&"virtual"===e.droppable.getById(a.descriptor.droppableId).descriptor.mode)}var o5,l5=function(e,t){var a=null,r=function(e){var t=e.registry,a=e.callbacks,r={additions:{},removals:{},modified:{}},n=null,i=function(){n||(a.collectionStarting(),n=requestAnimationFrame(function(){n=null;var e=r,i=e.additions,s=e.removals,o=e.modified,l=Object.keys(i).map(function(e){return t.draggable.getById(e).getDimension(W1)}).sort(function(e,t){return e.descriptor.index-t.descriptor.index}),c=Object.keys(o).map(function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}}),d={additions:l,removals:Object.keys(s),modified:c};r={additions:{},removals:{},modified:{}},a.publish(d)}))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],i()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],i()},stop:function(){n&&(cancelAnimationFrame(n),n=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),n=function(t){a||D1();var n=a.critical.draggable;"ADDITION"===t.type&&s5(e,n,t.value)&&r.add(t.value),"REMOVAL"===t.type&&s5(e,n,t.value)&&r.remove(t.value)};return{updateDroppableIsEnabled:function(r,n){e.droppable.exists(r)||D1(),a&&t.updateDroppableIsEnabled({id:r,isEnabled:n})},updateDroppableIsCombineEnabled:function(r,n){a&&(e.droppable.exists(r)||D1(),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:n}))},scrollDroppable:function(t,r){a&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,n){a&&(e.droppable.exists(r)||D1(),t.updateDroppableScroll({id:r,newScroll:n}))},startPublishing:function(t){a&&D1();var r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),s={draggable:r.descriptor,droppable:i.descriptor},o=e.subscribe(n);return a={critical:s,unsubscribe:o},i5({critical:s,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(a){r.stop();var t=a.critical.droppable;e.droppable.getAllByType(t.type).forEach(function(e){return e.callbacks.dragStopped()}),a.unsubscribe(),a=null}}}},c5=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},d5=function(e){window.scrollBy(e.x,e.y)},u5=S1(function(e){return c0(e).filter(function(e){return!!e.isEnabled&&!!e.frame})}),h5=function(e){var t=e.center,a=e.destination,r=e.droppables;if(a){var n=r[a];return n.frame?n:null}var i=function(e,t){return i0(u5(t),function(t){return t.frame||D1(),e2(t.frame.pageMarginBox)(e)})}(t,r);return i},m5=.25,p5=.05,f5=28,g5=function(e){return Math.pow(e,2)},x5={stopDampeningAt:1200,accelerateAt:360},v5=function(e){var t=e.startOfRange,a=e.endOfRange,r=e.current,n=a-t;return 0===n?0:(r-t)/n},b5=x5.accelerateAt,y5=x5.stopDampeningAt,_5=function(e){var t=e.distanceToEdge,a=e.thresholds,r=e.dragStartTime,n=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return f5;if(e===t.startScrollingFrom)return 1;var a=v5({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=f5*g5(1-a);return Math.ceil(r)}(t,a);return 0===i?0:n?Math.max(function(e,t){var a=t,r=y5,n=Date.now()-a;if(n>=y5)return e;if(n<b5)return 1;var i=v5({startOfRange:b5,endOfRange:r,current:n}),s=e*g5(i);return Math.ceil(s)}(i,r),1):i},j5=function(e){var t=e.container,a=e.distanceToEdges,r=e.dragStartTime,n=e.axis,i=e.shouldUseTimeDampening,s=function(e,t){return{startScrollingFrom:e[t.size]*m5,maxScrollValueAt:e[t.size]*p5}}(t,n);return a[n.end]<a[n.start]?_5({distanceToEdge:a[n.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:i}):-1*_5({distanceToEdge:a[n.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:i})},w5=J1(function(e){return 0===e?0:e}),N5=function(e){var t=e.dragStartTime,a=e.container,r=e.subject,n=e.center,i=e.shouldUseTimeDampening,s={top:n.y-a.top,right:a.right-n.x,bottom:a.bottom-n.y,left:n.x-a.left},o=j5({container:a,distanceToEdges:s,dragStartTime:t,axis:j0,shouldUseTimeDampening:i}),l=j5({container:a,distanceToEdges:s,dragStartTime:t,axis:w0,shouldUseTimeDampening:i}),c=w5({x:l,y:o});if(V1(c,W1))return null;var d=function(e){var t=e.container,a=e.subject,r=e.proposedScroll,n=a.height>t.height,i=a.width>t.width;return i||n?i&&n?null:{x:i?0:r.x,y:n?0:r.y}:r}({container:a,subject:r,proposedScroll:c});return d?V1(d,W1)?null:d:null},C5=J1(function(e){return 0===e?0:e>0?1:-1}),k5=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var a=t.current,r=t.max,n=t.change,i=G1(a,n),s={x:e(i.x,r.x),y:e(i.y,r.y)};return V1(s,W1)?null:s}}(),S5=function(e){var t=e.max,a=e.current,r=e.change,n={x:Math.max(a.x,t.x),y:Math.max(a.y,t.y)},i=C5(r),s=k5({max:n,current:a,change:i});return!s||(0!==i.x&&0===s.x||0!==i.y&&0===s.y)},M5=function(e,t){return S5({current:e.scroll.current,max:e.scroll.max,change:t})},E5=function(e,t){var a=e.frame;return!!a&&S5({current:a.scroll.current,max:a.scroll.max,change:t})},O5=function(e){var t=e.state,a=e.dragStartTime,r=e.shouldUseTimeDampening,n=e.scrollWindow,i=e.scrollDroppable,s=t.current.page.borderBoxCenter,o=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,a=e.subject,r=e.center,n=e.dragStartTime,i=e.shouldUseTimeDampening,s=N5({dragStartTime:n,container:t.frame,subject:a,center:r,shouldUseTimeDampening:i});return s&&M5(t,s)?s:null}({dragStartTime:a,viewport:t.viewport,subject:o,center:s,shouldUseTimeDampening:r});if(l)return void n(l)}var c=h5({center:s,destination:J0(t.impact),droppables:t.dimensions.droppables});if(c){var d=function(e){var t=e.droppable,a=e.subject,r=e.center,n=e.dragStartTime,i=e.shouldUseTimeDampening,s=t.frame;if(!s)return null;var o=N5({dragStartTime:n,container:s.pageMarginBox,subject:a,center:r,shouldUseTimeDampening:i});return o&&E5(t,o)?o:null}({dragStartTime:a,droppable:c,subject:o,center:s,shouldUseTimeDampening:r});d&&i(c.descriptor.id,d)}},P5=function(e){var t=e.move,a=e.scrollDroppable,r=e.scrollWindow,n=function(e,t){if(!E5(e,t))return t;var r=function(e,t){var a=e.frame;return a&&E5(e,t)?k5({current:a.scroll.current,max:a.scroll.max,change:t}):null}(e,t);if(!r)return a(e.descriptor.id,t),null;var n=H1(t,r);return a(e.descriptor.id,n),H1(t,n)},i=function(e,t,a){if(!e)return a;if(!M5(t,a))return a;var n=function(e,t){if(!M5(e,t))return null;var a=e.scroll.max,r=e.scroll.current;return k5({current:r,max:a,change:t})}(t,a);if(!n)return r(a),null;var i=H1(a,n);return r(i),H1(a,i)};return function(e){var a=e.scrollJumpRequest;if(a){var r=J0(e.impact);r||D1();var s=n(e.dimensions.droppables[r],a);if(s){var o=e.viewport,l=i(e.isWindowScrollAllowed,o,s);l&&function(e,a){var r=G1(e.current.client.selection,a);t({client:r})}(e,l)}}}},A5=function(e){var t=e.scrollDroppable,a=e.scrollWindow,r=e.move,n=function(e){var t=e.scrollWindow,a=e.scrollDroppable,r=M1(t),n=M1(a),i=null,s=function(e){i||D1();var t=i,a=t.shouldUseTimeDampening,s=t.dragStartTime;O5({state:e,scrollWindow:r,scrollDroppable:n,dragStartTime:s,shouldUseTimeDampening:a})};return{start:function(e){i&&D1();var t=Date.now(),a=!1,r=function(){a=!0};O5({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),i={dragStartTime:t,shouldUseTimeDampening:a},a&&s(e)},stop:function(){i&&(r.cancel(),n.cancel(),i=null)},scroll:s}}({scrollWindow:a,scrollDroppable:t}),i=P5({move:r,scrollWindow:a,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):n.scroll(e))},start:n.start,stop:n.stop}},D5="data-rbd",I5={base:o5=D5+"-drag-handle",draggableId:o5+"-draggable-id",contextId:o5+"-context-id"},T5=function(){var e=D5+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),z5=function(){var e=D5+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),R5={contextId:D5+"-scroll-container-context-id"},L5=function(e,t){return e.map(function(e){var a=e.styles[t];return a?e.selector+" { "+a+" }":""}).join(" ")},$5="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?f.useLayoutEffect:f.useEffect,B5=function(){var e=document.querySelector("head");return e||D1(),e},q5=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function F5(e,t){var a=h1(function(){return function(e){var t,a,r,n=(t=e,function(e){return"["+e+'="'+t+'"]'}),i=(a="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:n(I5.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:a,dragging:"pointer-events: none;",dropAnimating:a}}),s=[(r="\n      transition: "+T2.outOfTheWay+";\n    ",{selector:n(T5.contextId),styles:{dragging:r,dropAnimating:r,userCancel:r}}),i,{selector:n(z5.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:L5(s,"always"),resting:L5(s,"resting"),dragging:L5(s,"dragging"),dropAnimating:L5(s,"dropAnimating"),userCancel:L5(s,"userCancel")}}(e)},[e]),r=f.useRef(null),n=f.useRef(null),i=m1(S1(function(e){var t=n.current;t||D1(),t.textContent=e}),[]),s=m1(function(e){var t=r.current;t||D1(),t.textContent=e},[]);$5(function(){(r.current||n.current)&&D1();var o=q5(t),l=q5(t);return r.current=o,n.current=l,o.setAttribute(D5+"-always",e),l.setAttribute(D5+"-dynamic",e),B5().appendChild(o),B5().appendChild(l),s(a.always),i(a.resting),function(){var e=function(e){var t=e.current;t||D1(),B5().removeChild(t),e.current=null};e(r),e(n)}},[t,s,i,a.always,a.resting,e]);var o=m1(function(){return i(a.dragging)},[i,a.dragging]),l=m1(function(e){i("DROP"!==e?a.userCancel:a.dropAnimating)},[i,a.dropAnimating,a.userCancel]),c=m1(function(){n.current&&i(a.resting)},[i,a.resting]);return h1(function(){return{dragging:o,dropping:l,resting:c}},[o,l,c])}var W5=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function G5(e){return e instanceof W5(e).HTMLElement}function H5(e){var t=f.useRef({}),a=f.useRef(null),r=f.useRef(null),n=f.useRef(!1),i=m1(function(e,a){var r={id:e,focus:a};return t.current[e]=r,function(){var a=t.current;a[e]!==r&&delete a[e]}},[]),s=m1(function(t){var a=function(e,t){var a="["+I5.contextId+'="'+e+'"]',r=s0(document.querySelectorAll(a));if(!r.length)return null;var n=i0(r,function(e){return e.getAttribute(I5.draggableId)===t});return n&&G5(n)?n:null}(e,t);a&&a!==document.activeElement&&a.focus()},[e]),o=m1(function(e,t){a.current===e&&(a.current=t)},[]),l=m1(function(){r.current||n.current&&(r.current=requestAnimationFrame(function(){r.current=null;var e=a.current;e&&s(e)}))},[s]),c=m1(function(e){a.current=null;var t=document.activeElement;t&&t.getAttribute(I5.draggableId)===e&&(a.current=e)},[]);return $5(function(){return n.current=!0,function(){n.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}},[]),h1(function(){return{register:i,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:o}},[i,c,l,o])}function V5(){var e={draggables:{},droppables:{}},t=[];function a(e){t.length&&t.forEach(function(t){return t(e)})}function r(t){return e.draggables[t]||null}var n={register:function(t){e.draggables[t.descriptor.id]=t,a({type:"ADDITION",value:t})},update:function(t,a){var r=e.draggables[a.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[a.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var n=t.descriptor.id,i=r(n);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[n],a({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||D1(),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return r0(e.draggables).filter(function(e){return e.descriptor.type===t})}};function i(t){return e.droppables[t]||null}var s={register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var a=i(t.descriptor.id);a&&t.uniqueId===a.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=i(e);return t||D1(),t},findById:i,exists:function(e){return Boolean(i(e))},getAllByType:function(t){return r0(e.droppables).filter(function(e){return e.descriptor.type===t})}};return{draggable:n,droppable:s,subscribe:function(e){return t.push(e),function(){var a=t.indexOf(e);-1!==a&&t.splice(a,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var U5=g.createContext(null),K5=function(){var e=document.body;return e||D1(),e},Y5={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var X5=0,J5={separator:"::"};function Z5(e,t){return void 0===t&&(t=J5),h1(function(){return""+e+t.separator+X5++},[t.separator,e])}var Q5=g.createContext(null);function e4(e){var t=f.useRef(e);return f.useEffect(function(){t.current=e}),t}var t4,a4=((t4={})[13]=!0,t4[9]=!0,t4),r4=function(e){a4[e.keyCode]&&e.preventDefault()},n4=function(){var e="visibilitychange";return"undefined"==typeof document?e:i0([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],function(e){return"on"+e in document})||e}();var i4,s4={type:"IDLE"};function o4(e){var t=e.cancel,a=e.completed,r=e.getPhase,n=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,a=e.clientX,i=e.clientY;if(0===t){var s={x:a,y:i},o=r();if("DRAGGING"===o.type)return e.preventDefault(),void o.actions.move(s);if("PENDING"!==o.type&&D1(),function(e,t){return Math.abs(t.x-e.x)>=5||Math.abs(t.y-e.y)>=5}(o.point,s)){e.preventDefault();var l=o.actions.fluidLift(s);n({type:"DRAGGING",actions:l})}}}},{eventName:"mouseup",fn:function(e){var n=r();"DRAGGING"===n.type?(e.preventDefault(),n.actions.drop({shouldBlockNextClick:!0}),a()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void r4(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var a=r();"IDLE"===a.type&&D1(),a.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:n4,fn:t}]}function l4(){}var c4=((i4={})[34]=!0,i4[33]=!0,i4[36]=!0,i4[35]=!0,i4);function d4(e,t){function a(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void a()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(c4[r.keyCode]?r.preventDefault():r4(r))}},{eventName:"mousedown",fn:a},{eventName:"mouseup",fn:a},{eventName:"click",fn:a},{eventName:"touchstart",fn:a},{eventName:"resize",fn:a},{eventName:"wheel",fn:a,options:{passive:!0}},{eventName:n4,fn:a}]}var u4={type:"IDLE"};var h4={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function m4(e,t){if(null==t)return!1;if(Boolean(h4[t.tagName.toLowerCase()]))return!0;var a=t.getAttribute("contenteditable");return"true"===a||""===a||t!==e&&m4(e,t.parentElement)}function p4(e,t){var a=t.target;return!!G5(a)&&m4(e,a)}var f4=function(e){return p1(e.getBoundingClientRect()).center};var g4=function(){var e="matches";return"undefined"==typeof document?e:i0([e,"msMatchesSelector","webkitMatchesSelector"],function(e){return e in Element.prototype})||e}();function x4(e,t){return null==e?null:e[g4](t)?e:x4(e.parentElement,t)}function v4(e,t){return e.closest?e.closest(t):x4(e,t)}function b4(e,t){var a,r=t.target;if(!((a=r)instanceof W5(a).Element))return null;var n=function(e){return"["+I5.contextId+'="'+e+'"]'}(e),i=v4(r,n);return i&&G5(i)?i:null}function y4(e){e.preventDefault()}function _4(e){var t=e.expected,a=e.phase,r=e.isLockActive;return e.shouldWarn,!!r()&&t===a}function j4(e){var t=e.lockAPI,a=e.store,r=e.registry,n=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(n);return!!i&&(!!i.options.isEnabled&&!!c5(a.getState(),n))}function w4(e){var t=e.lockAPI,a=e.contextId,r=e.store,n=e.registry,i=e.draggableId,s=e.forceSensorStop,o=e.sourceEvent;if(!j4({lockAPI:t,store:r,registry:n,draggableId:i}))return null;var l=n.draggable.getById(i),c=function(e,t){var a="["+T5.contextId+'="'+e+'"]',r=i0(s0(document.querySelectorAll(a)),function(e){return e.getAttribute(T5.id)===t});return r&&G5(r)?r:null}(a,l.descriptor.id);if(!c)return null;if(o&&!l.options.canDragInteractiveElements&&p4(c,o))return null;var d=t.claim(s||O1),u="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function m(){return t.isActive(d)}var p=function(e,t){_4({expected:e,phase:u,isLockActive:m,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function f(e){function a(){t.release(),u="COMPLETED"}function n(t,n){if(void 0===n&&(n={shouldBlockNextClick:!1}),e.cleanup(),n.shouldBlockNextClick){var i=P1(window,[{eventName:"click",fn:y4,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}a(),r.dispatch(E2({reason:t}))}return"PRE_DRAG"!==u&&(a(),"PRE_DRAG"!==u&&D1()),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),u="DRAGGING",eQ({isActive:function(){return _4({expected:"DRAGGING",phase:u,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(e){return n("DROP",e)},cancel:function(e){return n("CANCEL",e)}},e.actions)}var g={isActive:function(){return _4({expected:"PRE_DRAG",phase:u,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:function(e){var t=M1(function(e){p(function(){return w2({client:e})})});return eQ({},f({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return p(N2)},moveRight:function(){return p(k2)},moveDown:function(){return p(C2)},moveLeft:function(){return p(S2)}};return f({liftActionArgs:{id:i,clientSelection:f4(c),movementMode:"SNAP"},cleanup:O1,actions:e})},abort:function(){_4({expected:"PRE_DRAG",phase:u,isLockActive:m,shouldWarn:!0})&&t.release()}};return g}var N4=[function(e){var t=f.useRef(s4),a=f.useRef(O1),r=h1(function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var n=e.tryGetLock(r,s,{sourceEvent:t});if(n){t.preventDefault();var i={x:t.clientX,y:t.clientY};a.current(),c(n,i)}}}}}},[e]),n=h1(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var a=e.findClosestDraggableId(t);if(a){var r=e.findOptionsForDraggable(a);r&&(r.shouldRespectForcePress||e.canGetLock(a)&&t.preventDefault())}}}}},[e]),i=m1(function(){a.current=P1(window,[n,r],{passive:!1,capture:!0})},[n,r]),s=m1(function(){"IDLE"!==t.current.type&&(t.current=s4,a.current(),i())},[i]),o=m1(function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[s]),l=m1(function(){var e=o4({cancel:o,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});a.current=P1(window,e,{capture:!0,passive:!1})},[o,s]),c=m1(function(e,a){"IDLE"!==t.current.type&&D1(),t.current={type:"PENDING",point:a,actions:e},l()},[l]);$5(function(){return i(),function(){a.current()}},[i])},function(e){var t=f.useRef(l4),a=h1(function(){return{eventName:"keydown",fn:function(a){if(!a.defaultPrevented&&32===a.keyCode){var n=e.findClosestDraggableId(a);if(n){var i=e.tryGetLock(n,l,{sourceEvent:a});if(i){a.preventDefault();var s=!0,o=i.snapLift();t.current(),t.current=P1(window,d4(o,l),{capture:!0,passive:!1})}}}function l(){s||D1(),s=!1,t.current(),r()}}}},[e]),r=m1(function(){t.current=P1(window,[a],{passive:!1,capture:!0})},[a]);$5(function(){return r(),function(){t.current()}},[r])},function(e){var t=f.useRef(u4),a=f.useRef(O1),r=m1(function(){return t.current},[]),n=m1(function(e){t.current=e},[]),i=h1(function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var n=e.tryGetLock(r,o,{sourceEvent:t});if(n){var i=t.touches[0],s={x:i.clientX,y:i.clientY};a.current(),u(n,s)}}}}}},[e]),s=m1(function(){a.current=P1(window,[i],{capture:!0,passive:!1})},[i]),o=m1(function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),n(u4),a.current(),s())},[s,n]),l=m1(function(){var e=t.current;o(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[o]),c=m1(function(){var e={capture:!0,passive:!1},t={cancel:l,completed:o,getPhase:r},n=P1(window,function(e){var t=e.cancel,a=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var a=r();if("DRAGGING"===a.type){a.hasMoved=!0;var n=e.touches[0],i={x:n.clientX,y:n.clientY};e.preventDefault(),a.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var n=r();"DRAGGING"===n.type?(e.preventDefault(),n.actions.drop({shouldBlockNextClick:!0}),a()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var a=r();"IDLE"===a.type&&D1();var n=e.touches[0];if(n&&n.force>=.15){var i=a.actions.shouldRespectForcePress();if("PENDING"!==a.type)return i?a.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:n4,fn:t}]}(t),e),i=P1(window,function(e){var t=e.cancel,a=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===a().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:n4,fn:t}]}(t),e);a.current=function(){n(),i()}},[l,r,o]),d=m1(function(){var e=r();"PENDING"!==e.type&&D1();var t=e.actions.fluidLift(e.point);n({type:"DRAGGING",actions:t,hasMoved:!1})},[r,n]),u=m1(function(e,t){"IDLE"!==r().type&&D1();var a=setTimeout(d,120);n({type:"PENDING",point:t,actions:e,longPressTimerId:a}),c()},[c,r,n,d]);$5(function(){return s(),function(){a.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),n(u4))}},[r,s,n]),$5(function(){return P1(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])},[])}];function C4(e){var t=e.contextId,a=e.store,r=e.registry,n=e.customSensors,i=e.enableDefaultSensors,s=[].concat(i?N4:[],n||[]),o=f.useState(function(){return function(){var e=null;function t(){e||D1(),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&D1();var a={abandon:t};return e=a,a},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()})[0],l=m1(function(e,t){e.isDragging&&!t.isDragging&&o.tryAbandon()},[o]);$5(function(){var e=a.getState(),t=a.subscribe(function(){var t=a.getState();l(e,t),e=t});return t},[o,a,l]),$5(function(){return o.tryAbandon},[o.tryAbandon]);for(var c=m1(function(e){return j4({lockAPI:o,registry:r,store:a,draggableId:e})},[o,r,a]),d=m1(function(e,n,i){return w4({lockAPI:o,registry:r,contextId:t,store:a,draggableId:e,forceSensorStop:n,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})},[t,o,r,a]),u=m1(function(e){return function(e,t){var a=b4(e,t);return a?a.getAttribute(I5.draggableId):null}(t,e)},[t]),h=m1(function(e){var t=r.draggable.findById(e);return t?t.options:null},[r.draggable]),m=m1(function(){o.isClaimed()&&(o.tryAbandon(),"IDLE"!==a.getState().phase&&a.dispatch({type:"FLUSH",payload:null}))},[o,a]),p=m1(o.isClaimed,[o]),g=h1(function(){return{canGetLock:c,tryGetLock:d,findClosestDraggableId:u,findOptionsForDraggable:h,tryReleaseLock:m,isLockClaimed:p}},[c,d,u,h,m,p]),x=0;x<s.length;x++)s[x](g)}function k4(e){return e.current||D1(),e.current}function S4(e){var t=e.contextId,a=e.setCallbacks,r=e.sensors,n=e.nonce,i=e.dragHandleUsageInstructions,s=f.useRef(null),o=e4(e),l=m1(function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(o.current)},[o]),c=function(e){var t=h1(function(){return function(e){return"rbd-announcement-"+e}(e)},[e]),a=f.useRef(null);f.useEffect(function(){var e=document.createElement("div");return a.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),eQ(e.style,Y5),K5().appendChild(e),function(){setTimeout(function(){var t=K5();t.contains(e)&&t.removeChild(e),e===a.current&&(a.current=null)})}},[t]);var r=m1(function(e){var t=a.current;t&&(t.textContent=e)},[]);return r}(t),d=function(e){var t=e.contextId,a=e.text,r=Z5("hidden-text",{separator:"-"}),n=h1(function(){return function(e){return"rbd-hidden-text-"+e.contextId+"-"+e.uniqueId}({contextId:t,uniqueId:r})},[r,t]);return f.useEffect(function(){var e=document.createElement("div");return e.id=n,e.textContent=a,e.style.display="none",K5().appendChild(e),function(){var t=K5();t.contains(e)&&t.removeChild(e)}},[n,a]),n}({contextId:t,text:i}),u=F5(t,n),h=m1(function(e){k4(s).dispatch(e)},[]),m=h1(function(){return hQ({publishWhileDragging:v2,updateDroppableScroll:y2,updateDroppableIsEnabled:_2,updateDroppableIsCombineEnabled:j2,collectionStarting:b2},h)},[h]),p=function(){var e=h1(V5,[]);return f.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}(),x=h1(function(){return l5(p,m)},[p,m]),v=h1(function(){return A5(eQ({scrollWindow:d5,scrollDroppable:x.scrollDroppable},hQ({move:w2},h)))},[x.scrollDroppable,h]),b=H5(t),y=h1(function(){return t5({announce:c,autoScroller:v,dimensionMarshal:x,focusMarshal:b,getResponders:l,styleMarshal:u})},[c,v,x,b,l,u]);s.current=y;var _=m1(function(){var e=k4(s);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})},[]),j=m1(function(){var e=k4(s).getState();return e.isDragging||"DROP_ANIMATING"===e.phase},[]);a(h1(function(){return{isDragging:j,tryAbort:_}},[j,_]));var w=m1(function(e){return c5(k4(s).getState(),e)},[]),N=m1(function(){return Q0(k4(s).getState())},[]),C=h1(function(){return{marshal:x,focus:b,contextId:t,canLift:w,isMovementAllowed:N,dragHandleUsageInstructionsId:d,registry:p}},[t,x,d,b,w,N,p]);return C4({contextId:t,store:y,registry:p,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),f.useEffect(function(){return _},[_]),g.createElement(Q5.Provider,{value:C},g.createElement(yQ,{context:U5,store:y},e.children))}var M4=0;function E4(e){var t=h1(function(){return""+M4++},[]),a=e.dragHandleUsageInstructions||$1;return g.createElement(I1,null,function(r){return g.createElement(S4,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:a,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var O4=function(e){return function(t){return e===t}},P4=O4("scroll"),A4=O4("auto"),D4=function(e,t){return t(e.overflowX)||t(e.overflowY)},I4=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),a={overflowX:t.overflowX,overflowY:t.overflowY};return D4(a,P4)||D4(a,A4)}(t)?t:e(t.parentElement)},T4=function(e){return{x:e.scrollLeft,y:e.scrollTop}},z4=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},R4=function(e){return{closestScrollable:I4(e),isFixedOnPage:z4(e)}},L4=function(e){var t=e.ref,a=e.descriptor,r=e.env,n=e.windowScroll,i=e.direction,s=e.isDropDisabled,o=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,d=function(e,t){var a=w1(e);if(!t)return a;if(e!==t)return a;var r=a.paddingBox.top-t.scrollTop,n=a.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,s=n+t.scrollWidth,o=f1({top:r,right:s,bottom:i,left:n},a.border);return v1({borderBox:o,margin:a.margin,border:a.border,padding:a.padding})}(t,c),u=_1(d,n),h=function(){if(!c)return null;var e=w1(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:_1(e,n),scroll:T4(c),scrollSize:t,shouldClipSubject:l}}(),m=function(e){var t=e.descriptor,a=e.isEnabled,r=e.isCombineEnabled,n=e.isFixedOnPage,i=e.direction,s=e.client,o=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,a=a5({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:a,diff:{value:W1,displacement:W1}}}}(),d="vertical"===i?j0:w0;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:n,axis:d,isEnabled:a,client:s,page:o,frame:c,subject:t0({page:o,withPlaceholder:null,axis:d,frame:c})}}({descriptor:a,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:r.isFixedOnPage,direction:i,client:d,page:u,closest:h});return m},$4={passive:!1},B4={passive:!0},q4=function(e){return e.shouldPublishImmediately?$4:B4};function F4(e){var t=f.useContext(e);return t||D1(),t}var W4=function(e){return e&&e.env.closestScrollable||null};function G4(){}var H4={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},V4=function(e){var t=e.isAnimatingOpenOnMount,a=e.placeholder,r=e.animate,n=function(e){var t=e.isAnimatingOpenOnMount,a=e.placeholder,r=e.animate;return t||"close"===r?H4:{height:a.client.borderBox.height,width:a.client.borderBox.width,margin:a.client.margin}}({isAnimatingOpenOnMount:t,placeholder:a,animate:r});return{display:a.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?T2.placeholder:null}};var U4=g.memo(function(e){var t=f.useRef(null),a=m1(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),r=e.animate,n=e.onTransitionEnd,i=e.onClose,s=e.contextId,o=f.useState("open"===e.animate),l=o[0],c=o[1];f.useEffect(function(){return l?"open"!==r?(a(),c(!1),G4):t.current?G4:(t.current=setTimeout(function(){t.current=null,c(!1)}),a):G4},[r,l,a]);var d=m1(function(e){"height"===e.propertyName&&(n(),"close"===r&&i())},[r,i,n]),u=V4({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return g.createElement(e.placeholder.tagName,{style:u,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})}),K4=g.createContext(null),Y4=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return QZ(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(g.PureComponent),X4=5e3,J4=4500,Z4=function(e,t){return t?T2.drop(t.duration):e?T2.snap:T2.fluid},Q4=function(e,t){return e?t?A2.drop:A2.combining:null};function e3(e){return"DRAGGING"===e.type?(a=(t=e).dimension.client,r=t.offset,n=t.combineWith,i=t.dropping,s=Boolean(n),o=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(t),l=Boolean(i),c=l?L2(r,s):R2(r),{position:"fixed",top:a.marginBox.top,left:a.marginBox.left,boxSizing:"border-box",width:a.borderBox.width,height:a.borderBox.height,transition:Z4(o,i),transform:c,opacity:Q4(s,l),zIndex:l?J4:X4,pointerEvents:"none"}):function(e){return{transform:R2(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}(e);var t,a,r,n,i,s,o,l,c}function t3(e){var t=Z5("draggable"),a=e.descriptor,r=e.registry,n=e.getDraggableRef,i=e.canDragInteractiveElements,s=e.shouldRespectForcePress,o=e.isEnabled,l=h1(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:s,isEnabled:o}},[i,o,s]),c=m1(function(e){var t=n();return t||D1(),function(e,t,a){void 0===a&&(a=W1);var r=window.getComputedStyle(t),n=t.getBoundingClientRect(),i=j1(n,r),s=_1(i,a);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:s}}(a,t,e)},[a,n]),d=h1(function(){return{uniqueId:t,descriptor:a,options:l,getDimension:c}},[a,c,l,t]),u=f.useRef(d),h=f.useRef(!0);$5(function(){return r.draggable.register(u.current),function(){return r.draggable.unregister(u.current)}},[r.draggable]),$5(function(){if(h.current)h.current=!1;else{var e=u.current;u.current=d,r.draggable.update(d,e)}},[d,r.draggable])}function a3(e){e.preventDefault()}var r3=function(e,t){return e===t},n3=function(e){var t=e.combine,a=e.destination;return a?a.droppableId:t?t.droppableId:null};function i3(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var s3={mapped:{type:"SECONDARY",offset:W1,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:i3(null)}};var o3=c1(function(){var e,t,a,r=(e=S1(function(e,t){return{x:e,y:t}}),t=S1(function(e,t,a,r,n){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(n),dropAnimation:n,mode:e,draggingOver:a,combineWith:r,combineTargetFor:null}}),a=S1(function(e,a,r,n,i,s,o){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:s,mode:a,offset:e,dimension:r,forceShouldAnimate:o,snapshot:t(a,n,i,s,null)}}}),function(r,n){if(r.isDragging){if(r.critical.draggable.id!==n.draggableId)return null;var i=r.current.client.offset,s=r.dimensions.draggables[n.draggableId],o=J0(r.impact),l=(d=r.impact).at&&"COMBINE"===d.at.type?d.at.combine.draggableId:null,c=r.forceShouldAnimate;return a(e(i.x,i.y),r.movementMode,s,n.isClone,o,l,c)}var d;if("DROP_ANIMATING"===r.phase){var u=r.completed;if(u.result.draggableId!==n.draggableId)return null;var h=n.isClone,m=r.dimensions.draggables[n.draggableId],p=u.result,f=p.mode,g=n3(p),x=function(e){return e.combine?e.combine.draggableId:null}(p),v={duration:r.dropDuration,curve:P2,moveTo:r.newHomeClientOffset,opacity:x?A2.drop:null,scale:x?D2.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:m,dropping:v,draggingOver:g,combineWith:x,mode:f,forceShouldAnimate:null,snapshot:t(f,h,g,x,v)}}}return null}),n=function(){var e=S1(function(e,t){return{x:e,y:t}}),t=S1(i3),a=S1(function(e,a,r){return void 0===a&&(a=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:a,shouldAnimateDisplacement:r,snapshot:t(a)}}}),r=function(e){return e?a(W1,e,!0):null},n=function(t,n,i,s){var o=i.displaced.visible[t],l=Boolean(s.inVirtualList&&s.effected[t]),c=m0(i),d=c&&c.draggableId===t?n:null;if(!o){if(!l)return r(d);if(i.displaced.invisible[t])return null;var u=U1(s.displacedBy.point),h=e(u.x,u.y);return a(h,d,!0)}if(l)return r(d);var m=i.displacedBy.point,p=e(m.x,m.y);return a(p,d,o.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:n(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var a=e.completed;return a.result.draggableId===t.draggableId?null:n(t.draggableId,a.result.draggableId,a.impact,a.afterCritical)}return null}}();return function(e,t){return r(e,t)||n(e,t)||s3}},{dropAnimationFinished:O2},null,{context:U5,pure:!0,areStatePropsEqual:r3})(function(e){var t=f.useRef(null),a=m1(function(e){t.current=e},[]),r=m1(function(){return t.current},[]),n=F4(Q5),i=n.contextId,s=n.dragHandleUsageInstructionsId,o=n.registry,l=F4(K4),c=l.type,d=l.droppableId,u=h1(function(){return{id:e.draggableId,index:e.index,type:c,droppableId:d}},[e.draggableId,e.index,c,d]),h=e.children,m=e.draggableId,p=e.isEnabled,g=e.shouldRespectForcePress,x=e.canDragInteractiveElements,v=e.isClone,b=e.mapped,y=e.dropAnimationFinished;v||t3(h1(function(){return{descriptor:u,registry:o,getDraggableRef:r,canDragInteractiveElements:x,shouldRespectForcePress:g,isEnabled:p}},[u,o,r,x,g,p]));var _=h1(function(){return p?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:a3}:null},[i,s,m,p]),j=m1(function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&y()},[y,b]),w=h1(function(){var e=e3(b),t="DRAGGING"===b.type&&b.dropping?j:null;return{innerRef:a,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":m,style:e,onTransitionEnd:t},dragHandleProps:_}},[i,_,m,b,j,a]),N=h1(function(){return{draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}},[u.droppableId,u.id,u.index,u.type]);return h(w,b.snapshot,N)});function l3(e){return F4(K4).isUsingCloneFor!==e.draggableId||e.isClone?g.createElement(o3,e):null}function c3(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,a=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return g.createElement(l3,eQ({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:a,shouldRespectForcePress:r}))}var d3=function(e,t){return e===t.droppable.type},u3=function(e,t){return t.draggables[e.draggable.id]};var h3={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||D1(),document.body}},m3=c1(function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=eQ({},e,{shouldAnimatePlaceholder:!1}),a=S1(function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}}),r=S1(function(r,n,i,s,o,l){var c=o.descriptor.id;if(o.descriptor.droppableId===r){var d=l?{render:l,dragging:a(o.descriptor)}:null,u={isDraggingOver:i,draggingOverWith:i?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:o.placeholder,shouldAnimatePlaceholder:!1,snapshot:u,useClone:d}}if(!n)return t;if(!s)return e;var h={isDraggingOver:i,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:o.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}});return function(a,n){var i=n.droppableId,s=n.type,o=!n.isDropDisabled,l=n.renderClone;if(a.isDragging){var c=a.critical;if(!d3(s,c))return t;var d=u3(c,a.dimensions),u=J0(a.impact)===i;return r(i,o,u,u,d,l)}if("DROP_ANIMATING"===a.phase){var h=a.completed;if(!d3(s,h.critical))return t;var m=u3(h.critical,a.dimensions);return r(i,o,n3(h.result)===i,J0(h.impact)===i,m,l)}if("IDLE"===a.phase&&a.completed&&!a.shouldFlush){var p=a.completed;if(!d3(s,p.critical))return t;var f=J0(p.impact)===i,g=Boolean(p.impact.at&&"COMBINE"===p.impact.at.type),x=p.critical.droppable.id===i;return f?g?e:t:x?e:t}return t}},{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:U5,pure:!0,areStatePropsEqual:r3})(function(e){var t=f.useContext(Q5);t||D1();var a=t.contextId,r=t.isMovementAllowed,n=f.useRef(null),i=f.useRef(null),s=e.children,o=e.droppableId,l=e.type,c=e.mode,d=e.direction,u=e.ignoreContainerClipping,h=e.isDropDisabled,m=e.isCombineEnabled,p=e.snapshot,x=e.useClone,v=e.updateViewportMaxScroll,b=e.getContainerForClone,y=m1(function(){return n.current},[]),_=m1(function(e){n.current=e},[]);m1(function(){return i.current},[]);var j=m1(function(e){i.current=e},[]),w=m1(function(){r()&&v({maxScroll:n5()})},[r,v]);!function(e){var t=f.useRef(null),a=F4(Q5),r=Z5("droppable"),n=a.registry,i=a.marshal,s=e4(e),o=h1(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),l=f.useRef(o),c=h1(function(){return S1(function(e,a){t.current||D1();var r={x:e,y:a};i.updateDroppableScroll(o.id,r)})},[o.id,i]),d=m1(function(){var e=t.current;return e&&e.env.closestScrollable?T4(e.env.closestScrollable):W1},[]),u=m1(function(){var e=d();c(e.x,e.y)},[d,c]),h=h1(function(){return M1(u)},[u]),m=m1(function(){var e=t.current,a=W4(e);e&&a||D1(),e.scrollOptions.shouldPublishImmediately?u():h()},[h,u]),p=m1(function(e,r){t.current&&D1();var n=s.current,i=n.getDroppableRef();i||D1();var l=R4(i),c={ref:i,descriptor:o,env:l,scrollOptions:r};t.current=c;var d=L4({ref:i,descriptor:o,env:l,windowScroll:e,direction:n.direction,isDropDisabled:n.isDropDisabled,isCombineEnabled:n.isCombineEnabled,shouldClipSubject:!n.ignoreContainerClipping}),u=l.closestScrollable;return u&&(u.setAttribute(R5.contextId,a.contextId),u.addEventListener("scroll",m,q4(c.scrollOptions))),d},[a.contextId,o,m,s]),g=m1(function(){var e=t.current,a=W4(e);return e&&a||D1(),T4(a)},[]),x=m1(function(){var e=t.current;e||D1();var a=W4(e);t.current=null,a&&(h.cancel(),a.removeAttribute(R5.contextId),a.removeEventListener("scroll",m,q4(e.scrollOptions)))},[m,h]),v=m1(function(e){var a=t.current;a||D1();var r=W4(a);r||D1(),r.scrollTop+=e.y,r.scrollLeft+=e.x},[]),b=h1(function(){return{getDimensionAndWatchScroll:p,getScrollWhileDragging:g,dragStopped:x,scroll:v}},[x,p,g,v]),y=h1(function(){return{uniqueId:r,descriptor:o,callbacks:b}},[b,o,r]);$5(function(){return l.current=y.descriptor,n.droppable.register(y),function(){t.current&&x(),n.droppable.unregister(y)}},[b,o,x,y,i,n.droppable]),$5(function(){t.current&&i.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),$5(function(){t.current&&i.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}({droppableId:o,type:l,mode:c,direction:d,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:u,getDroppableRef:y});var N=g.createElement(Y4,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(e){var t=e.onClose,r=e.data,n=e.animate;return g.createElement(U4,{placeholder:r,onClose:t,innerRef:j,animate:n,contextId:a,onTransitionEnd:w})}),C=h1(function(){return{innerRef:_,placeholder:N,droppableProps:{"data-rbd-droppable-id":o,"data-rbd-droppable-context-id":a}}},[a,o,N,_]),k=x?x.dragging.draggableId:null,S=h1(function(){return{droppableId:o,type:l,isUsingCloneFor:k}},[o,k,l]);return g.createElement(K4.Provider,{value:S},s(C,p),function(){if(!x)return null;var e=x.dragging,t=x.render,a=g.createElement(l3,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(a,r){return t(a,r,e)});return QN.createPortal(a,b())}())});m3.defaultProps=h3;const p3={container:"_container_12a1b_5",header:"_header_12a1b_25",mainContent:"_mainContent_12a1b_49",column:"_column_12a1b_65",columnHeader:"_columnHeader_12a1b_85",highlight:"_highlight_12a1b_105",list:"_list_12a1b_115",listItem:"_listItem_12a1b_127",selected:"_selected_12a1b_153",checkboxItem:"_checkboxItem_12a1b_167",draggableItem:"_draggableItem_12a1b_209",dragHandle:"_dragHandle_12a1b_233",deleteButton:"_deleteButton_12a1b_245",columnFooter:"_columnFooter_12a1b_277",buttonPrimary:"_buttonPrimary_12a1b_289",loadingState:"_loadingState_12a1b_333",emptyState:"_emptyState_12a1b_333",message:"_message_12a1b_347",success:"_success_12a1b_369",error:"_error_12a1b_381",closeMessage:"_closeMessage_12a1b_393"},f3=()=>{const[e,t]=f.useState([]),[a,n]=f.useState([]),[i,s]=f.useState([]),[o,l]=f.useState(null),[c,d]=f.useState(new Set),[u,h]=f.useState({tecnicas:!0,etapas:!0,relacionadas:!1}),[m,g]=f.useState(null);f.useEffect(()=>{x()},[]),f.useEffect(()=>{o?v(o.ID):s([])},[o]),f.useEffect(()=>{if(m){const e=setTimeout(()=>g(null),5e3);return()=>clearTimeout(e)}},[m]);const x=async()=>{h(e=>({...e,tecnicas:!0,etapas:!0}));try{const[e,a]=await Promise.all([r("listar_tecnicas"),r("listar_etapas")]);e.success&&e.data&&t(e.data),a.success&&a.data&&n(a.data)}catch(e){g({text:`Erro ao carregar dados iniciais: ${e}`,type:"error"})}finally{h(e=>({...e,tecnicas:!1,etapas:!1}))}},v=async e=>{h(e=>({...e,relacionadas:!0}));try{const t=await r("listar_etapas_por_tecnica",{tecnicaId:e});t.success&&t.data?s(t.data):g({text:t.message,type:"error"})}catch(t){g({text:`Erro ao carregar etapas relacionadas: ${t}`,type:"error"})}finally{h(e=>({...e,relacionadas:!1}))}};return p.jsxs("div",{className:p3.container,children:[p.jsx("header",{className:p3.header,children:p.jsx("h2",{children:"Gerenciar Etapas por Técnica"})}),m&&p.jsxs("div",{className:`${p3.message} ${p3[m.type]}`,children:[m.text,p.jsx("button",{onClick:()=>g(null),className:p3.closeMessage,children:"×"})]}),p.jsxs("main",{className:p3.mainContent,children:[p.jsxs("div",{className:p3.column,children:[p.jsx("h3",{className:p3.columnHeader,children:"Técnicas"}),p.jsx("div",{className:p3.list,children:u.tecnicas?p.jsx("div",{className:p3.loadingState,children:"Carregando..."}):e.map(e=>p.jsx("div",{onClick:()=>l(e),className:`${p3.listItem} ${o?.ID===e.ID?p3.selected:""}`,children:e.nome},e.ID))})]}),p.jsxs("div",{className:p3.column,children:[p.jsx("h3",{className:p3.columnHeader,children:"Etapas Disponíveis"}),p.jsx("div",{className:p3.list,children:u.etapas?p.jsx("div",{className:p3.loadingState,children:"Carregando..."}):a.map(e=>p.jsxs("label",{className:p3.checkboxItem,children:[p.jsx("input",{type:"checkbox",checked:c.has(e.ID),onChange:()=>{return t=e.ID,void d(e=>{const a=new Set(e);return a.has(t)?a.delete(t):a.add(t),a});var t}}),p.jsx("span",{children:e.descricao})]},e.ID))}),p.jsx("div",{className:p3.columnFooter,children:p.jsx("button",{onClick:async()=>{if(o&&0!==c.size)try{const e={etapa_ids:Array.from(c)},t=await r("relacionar_etapas_a_tecnica",{tecnicaId:o.ID,payload:e});t.success?(g({text:t.message,type:"success"}),d(new Set),v(o.ID)):g({text:t.message,type:"error"})}catch(e){g({text:e.message||"Erro ao relacionar etapas",type:"error"})}},disabled:!o||0===c.size,className:p3.buttonPrimary,children:"Relacionar Selecionadas →"})})]}),p.jsxs("div",{className:p3.column,children:[p.jsxs("h3",{className:p3.columnHeader,children:["Etapas em: ",p.jsx("span",{className:p3.highlight,children:o?.nome||"N/A"})]}),p.jsx(E4,{onDragEnd:async e=>{const{destination:t,source:a}=e;if(!t||!o)return;const n=Array.from(i),[l]=n.splice(a.index,1);n.splice(t.index,0,l),s(n);const c={tecnica_etapa_ids:n.map(e=>e.ID)};try{const e=await r("reordenar_etapas_da_tecnica",{tecnicaId:o.ID,payload:c});e.success?g({text:e.message,type:"success"}):(g({text:e.message,type:"error"}),v(o.ID))}catch(d){g({text:`Erro ao reordenar: ${d}`,type:"error"}),v(o.ID)}},children:p.jsx(m3,{droppableId:"etapasRelacionadas",children:e=>p.jsxs("div",{...e.droppableProps,ref:e.innerRef,className:p3.list,children:[u.relacionadas&&p.jsx("div",{className:p3.loadingState,children:"Carregando..."}),!u.relacionadas&&0===i.length&&p.jsx("div",{className:p3.emptyState,children:"Nenhuma etapa relacionada."}),i.map((e,t)=>p.jsx(c3,{draggableId:String(e.ID),index:t,children:t=>p.jsxs("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,className:p3.draggableItem,children:[p.jsx("span",{className:p3.dragHandle,children:"☰"}),p.jsx("span",{children:e.descricao}),p.jsx("button",{onClick:()=>(async e=>{if(o&&window.confirm("Tem certeza que deseja remover esta etapa da técnica?"))try{const t=await r("remover_tecnica_etapa",{id:e});t.success?(g({text:t.message,type:"success"}),v(o.ID)):g({text:t.message,type:"error"})}catch(t){g({text:`Erro ao remover etapa: ${t}`,type:"error"})}})(e.ID),className:p3.deleteButton,children:"🗑️"})]})},e.ID)),e.placeholder]})})})]})]})]})},g3={container:"_container_psn1h_5",header:"_header_psn1h_29",filters:"_filters_psn1h_63",searchInput:"_searchInput_psn1h_77",autocompleteContainer:"_autocompleteContainer_psn1h_103",autocompleteInput:"_autocompleteInput_psn1h_115",autocompleteDropdown:"_autocompleteDropdown_psn1h_141",autocompleteOption:"_autocompleteOption_psn1h_211",highlighted:"_highlighted_psn1h_253",tableContainer:"_tableContainer_psn1h_285","has-scrollbar":"_has-scrollbar_psn1h_311",table:"_table_psn1h_285",actions:"_actions_psn1h_343",buttonPrimary:"_buttonPrimary_psn1h_345",buttonEdit:"_buttonEdit_psn1h_353",buttonDelete:"_buttonDelete_psn1h_353",statusMessage:"_statusMessage_psn1h_363",emptyState:"_emptyState_psn1h_363",emptyIcon:"_emptyIcon_psn1h_367",spinner:"_spinner_psn1h_369",actionSpinner:"_actionSpinner_psn1h_369",spin:"_spin_psn1h_369",message:"_message_psn1h_375",slideInDown:"_slideInDown_psn1h_1",success:"_success_psn1h_377",error:"_error_psn1h_379",closeMessage:"_closeMessage_psn1h_381"},x3={container:"_container_rhpvd_5",packageId:"_packageId_rhpvd_67",formGrid:"_formGrid_rhpvd_89",formGroup:"_formGroup_rhpvd_103",input:"_input_rhpvd_121",autocompleteContainer:"_autocompleteContainer_rhpvd_189",autocompleteDropdown:"_autocompleteDropdown_rhpvd_197",autocompleteOption:"_autocompleteOption_rhpvd_227",shuttleContainer:"_shuttleContainer_rhpvd_263",listContainer:"_listContainer_rhpvd_277",listSearchInput:"_listSearchInput_rhpvd_323",listWrapper:"_listWrapper_rhpvd_379",list:"_list_rhpvd_277",checkItem:"_checkItem_rhpvd_453",selected:"_selected_rhpvd_463",noResults:"_noResults_rhpvd_477",shuttleControls:"_shuttleControls_rhpvd_493",buttonPrimary:"_buttonPrimary_rhpvd_575",buttonSecondary:"_buttonSecondary_rhpvd_575",message:"_message_rhpvd_609",success:"_success_rhpvd_625",error:"_error_rhpvd_627",actionSpinner:"_actionSpinner_rhpvd_631",spin:"_spin_rhpvd_1"},v3=()=>p.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m6 17 5-5-5-5m7 10 5-5-5-5"})}),b3=()=>p.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m9 18 6-6-6-6"})}),y3=()=>p.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m15 18-6-6 6-6"})}),_3=()=>p.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m11 17-5-5 5-5m7 10-5-5 5-5"})}),j3=e=>{const t=[];t.push(e.nome_parametro),e.grupo&&t.push(`(${e.grupo})`),e.nome_tecnica&&t.push(`Téc: ${e.nome_tecnica}`),e.unidade&&t.push(`Unid: ${e.unidade}`);const a=[e.limite_min,e.limite_simbolo,e.limite_max].filter(e=>e&&""!==e.trim());return a.length>0&&t.push(`Limite: ${a.join(" ")}`),t.join(" - ")},w3=({pacoteParaEdicao:e,onSalvar:t,onCancelar:a})=>{const n=!!e,[i,s]=f.useState(""),[o,l]=f.useState([]),[c,d]=f.useState(null),[u,h]=f.useState([]),[m,g]=f.useState([]),[x,v]=f.useState(new Set),[b,y]=f.useState(null),[_,j]=f.useState(""),[w,N]=f.useState(""),[C,k]=f.useState(!1),[S,M]=f.useState(!1),[E,O]=f.useState(null),[P,A]=f.useState(""),[D,I]=f.useState(!1),T=f.useRef(null);f.useEffect(()=>{r("listar_legislacoes_ativas_tauri").then(t=>{if(t.success&&t.data&&(l(t.data),e)){const a=t.data.find(t=>t.id===e.legislacao);a&&(d(a),A(a.nome))}}),e&&s(e.nome||"")},[e]),f.useEffect(()=>{c&&(k(!0),r("listar_legislacao_parametro_tauri",{legislacaoId:c.id,page:1,perPage:1e4}).then(t=>{if(t.success&&t.data?.items){const a=t.data.items.sort((e,t)=>e.nome_parametro.localeCompare(t.nome_parametro));if(n&&e){const t=new Set(e.parametros);g(a.filter(e=>t.has(e.id))),h(a.filter(e=>!t.has(e.id)))}else h(a),g([])}else O({type:"error",text:t.message||"Falha ao carregar parâmetros."})}).finally(()=>k(!1)))},[c,e,n]),f.useEffect(()=>{const e=e=>{T.current&&!T.current.contains(e.target)&&I(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const z=e=>{"disponiveis"===e?(g(e=>[...e,...u].sort((e,t)=>e.nome_parametro.localeCompare(t.nome_parametro))),h([])):(h(e=>[...e,...m].sort((e,t)=>e.nome_parametro.localeCompare(t.nome_parametro))),g([])),v(new Set),y(null)},R=f.useMemo(()=>u.filter(e=>j3(e).toLowerCase().includes(_.toLowerCase())),[u,_]),L=f.useMemo(()=>m.filter(e=>j3(e).toLowerCase().includes(w.toLowerCase())),[m,w]);return p.jsxs("div",{className:x3.container,children:[E&&p.jsx("div",{className:`${x3.message} ${x3[E.type]}`,children:E.text}),p.jsxs("header",{children:[p.jsx("h2",{children:n?"Editar Pacote de Parâmetros":"Novo Pacote de Parâmetros"}),n&&p.jsxs("span",{className:x3.packageId,children:["ID do Pacote: ",e?.id]})]}),p.jsxs("section",{className:x3.formGrid,children:[p.jsxs("div",{className:x3.formGroup,children:[p.jsx("label",{children:"Nome do Pacote"}),p.jsx("input",{type:"text",value:i,onChange:e=>s(e.target.value),className:x3.input})]}),p.jsxs("div",{className:x3.formGroup,children:[p.jsx("label",{children:"Legislação Base"}),p.jsxs("div",{className:x3.autocompleteContainer,ref:T,children:[p.jsx("input",{type:"text",placeholder:"Buscar por legislação...",className:x3.input,value:P,onChange:e=>{const t=e.target.value;A(t),I(!0),o.find(e=>e.nome.toLowerCase()===t.toLowerCase())||d(null)},onFocus:()=>I(!0),disabled:n}),D&&!n&&p.jsx("div",{className:x3.autocompleteDropdown,children:o.filter(e=>e.nome.toLowerCase().includes(P.toLowerCase())).map(e=>p.jsx("div",{className:x3.autocompleteOption,onMouseDown:()=>{d(e),A(e.nome),I(!1),g([])},children:e.nome},e.id))})]})]})]}),p.jsxs("section",{className:x3.shuttleContainer,children:[p.jsxs("div",{className:x3.listContainer,children:[p.jsxs("h3",{children:["Disponíveis (",R.length,")"]}),p.jsx("input",{type:"text",placeholder:"Buscar...",value:_,onChange:e=>j(e.target.value),className:x3.listSearchInput,disabled:!c}),p.jsx("div",{className:x3.listWrapper,children:p.jsx("ul",{className:x3.list,children:C?p.jsx("li",{className:x3.noResults,children:"Carregando..."}):R.map(e=>p.jsxs("li",{className:x3.checkItem,children:[p.jsx("input",{type:"checkbox",id:`param-${e.id}`,checked:x.has(e.id),onChange:()=>{return t=e.id,void v(e=>{const a=new Set(e);return a.has(t)?a.delete(t):a.add(t),a});var t}}),p.jsx("label",{htmlFor:`param-${e.id}`,children:j3(e)})]},e.id))})})]}),p.jsxs("div",{className:x3.shuttleControls,children:[p.jsx("button",{onClick:()=>z("disponiveis"),title:"Adicionar Todos",disabled:!c||0===R.length,children:p.jsx(v3,{})}),p.jsx("button",{onClick:()=>{const e=u.filter(e=>x.has(e.id));g(t=>[...t,...e].sort((e,t)=>e.nome_parametro.localeCompare(t.nome_parametro))),h(e=>e.filter(e=>!x.has(e.id))),v(new Set)},title:"Adicionar Selecionados",disabled:!c||0===x.size,children:p.jsx(b3,{})}),p.jsx("button",{onClick:()=>{if(null===b)return;const e=m.find(e=>e.id===b);e&&(h(t=>[...t,e].sort((e,t)=>e.nome_parametro.localeCompare(t.nome_parametro))),g(e=>e.filter(e=>e.id!==b)),y(null))},title:"Remover Selecionado",disabled:!c||null===b,children:p.jsx(y3,{})}),p.jsx("button",{onClick:()=>z("selecionados"),title:"Remover Todos",disabled:!c||0===m.length,children:p.jsx(_3,{})})]}),p.jsxs("div",{className:x3.listContainer,children:[p.jsxs("h3",{children:["Selecionados (",L.length,")"]}),p.jsx("input",{type:"text",placeholder:"Buscar...",value:w,onChange:e=>N(e.target.value),className:x3.listSearchInput,disabled:!c}),p.jsx("div",{className:x3.listWrapper,children:p.jsx("ul",{className:x3.list,children:L.map(e=>p.jsx("li",{onClick:()=>y(e.id),className:`${x3.checkItem} ${b===e.id?x3.selected:""}`,children:p.jsx("label",{children:j3(e)})},e.id))})})]})]}),p.jsxs("footer",{children:[p.jsx("button",{onClick:a,className:x3.buttonSecondary,disabled:S,children:"Cancelar"}),p.jsx("button",{onClick:async()=>{if(!i.trim()||!c||0===m.length)return void O({type:"error",text:"Preencha o nome, selecione uma legislação e ao menos um parâmetro."});M(!0),O(null);const a={nome:i,legislacao:c.id,parametros:m.map(e=>e.id)};try{const i=n?"editar_pacote_tauri":"criar_pacote_tauri",s=n?{id:e.id,payload:a}:{payload:a},o=await r(i,s);o.success?t():O({type:"error",text:o.message||"Ocorreu um erro ao salvar."})}catch(s){const e=s instanceof Error?s.message:String(s);O({type:"error",text:`Erro de comunicação: ${e}`})}finally{M(!1)}},className:x3.buttonPrimary,disabled:S||C,children:S?p.jsx("div",{className:x3.actionSpinner}):n?"Salvar Alterações":"Criar Pacote"})]})]})},N3=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),p.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),C3=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("polyline",{points:"3 6 5 6 21 6"}),p.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),p.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),p.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),k3=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),S3=()=>{const[e,t]=f.useState([]),[a,n]=f.useState([]),[i,s]=f.useState(!0),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(null),[m,g]=f.useState(""),[x,v]=f.useState(""),b=((e,t)=>{const[a,r]=f.useState(e);return f.useEffect(()=>{const a=setTimeout(()=>r(e),t);return()=>clearTimeout(a)},[e,t]),a})(m,300),[y,_]=f.useState(null),[j,w]=f.useState(""),[N,C]=f.useState(!1),k=f.useRef(null),S=f.useMemo(()=>new Map(a.map(e=>[e.id,e.nome])),[a]),M=f.useCallback(async()=>{s(!0);try{const e=x?parseInt(x,10):void 0,a=await r("listar_pacotes_tauri",{nome:b||null,legislacaoId:e});a.success&&a.data?t(a.data):l({type:"error",text:a.message||"Falha ao carregar pacotes."})}catch(e){l({type:"error",text:"Erro de comunicação com o backend."})}finally{s(!1)}},[b,x]);f.useEffect(()=>{M()},[M]),f.useEffect(()=>{r("listar_legislacoes_ativas_tauri").then(e=>e.success&&e.data&&n(e.data))},[]),f.useEffect(()=>{const e=e=>{k.current&&!k.current.contains(e.target)&&C(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const E=()=>{d(!1),h(null),l({text:"Operação realizada com sucesso!",type:"success"}),M()},O=()=>{d(!1),h(null)};return c?p.jsx(w3,{pacoteParaEdicao:u||void 0,onSalvar:E,onCancelar:O}):p.jsxs("div",{className:g3.container,children:[o&&p.jsxs("div",{className:`${g3.message} ${g3[o.type]}`,children:[o.text,p.jsx("button",{onClick:()=>l(null),className:g3.closeMessage,children:"×"})]}),p.jsxs("header",{className:g3.header,children:[p.jsx("h2",{children:"Gerir Pacotes de Parâmetros"}),p.jsxs("button",{onClick:()=>{h(null),d(!0)},className:g3.buttonPrimary,disabled:i,children:[p.jsx(k3,{})," Novo Pacote"]})]}),p.jsxs("div",{className:g3.filters,children:[p.jsx("input",{type:"text",placeholder:"Buscar por nome do pacote...",value:m,onChange:e=>g(e.target.value),className:g3.searchInput}),p.jsxs("div",{className:g3.autocompleteContainer,ref:k,children:[p.jsx("input",{type:"text",placeholder:"Buscar por legislação...",className:g3.autocompleteInput,value:j,onChange:e=>{w(e.target.value),C(!0),""===e.target.value&&v("")},onFocus:()=>C(!0)}),N&&p.jsxs("div",{className:g3.autocompleteDropdown,children:[p.jsx("div",{className:g3.autocompleteOption,onMouseDown:()=>{v(""),w(""),C(!1)},children:"Todas as Legislações"}),a.filter(e=>e.nome.toLowerCase().includes(j.toLowerCase())).map(e=>p.jsx("div",{className:g3.autocompleteOption,onMouseDown:()=>{v(String(e.id)),w(e.nome),C(!1)},children:e.nome},e.id))]})]})]}),p.jsx("main",{className:g3.tableContainer,children:p.jsxs("table",{className:g3.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"ID"}),p.jsx("th",{children:"Nome do Pacote"}),p.jsx("th",{children:"Legislação Associada"}),p.jsx("th",{style:{width:"120px"},children:"Ações"})]})}),p.jsx("tbody",{children:i?p.jsx("tr",{children:p.jsx("td",{colSpan:4,children:p.jsxs("div",{className:g3.statusMessage,children:[p.jsx("div",{className:g3.spinner}),p.jsx("p",{children:"Carregando pacotes..."})]})})}):0===e.length?p.jsx("tr",{children:p.jsx("td",{colSpan:4,children:p.jsxs("div",{className:g3.emptyState,children:[p.jsx("span",{className:g3.emptyIcon,children:"📦"}),p.jsxs("p",{children:["Nenhum pacote encontrado.",p.jsx("br",{}),"Tente ajustar os filtros ou crie um novo pacote."]})]})})}):e.map(e=>p.jsxs("tr",{children:[p.jsx("td",{children:e.id}),p.jsx("td",{children:e.nome||"N/A"}),p.jsx("td",{children:e.legislacao?S.get(e.legislacao)||"Inválida":"N/A"}),p.jsx("td",{children:p.jsxs("div",{className:g3.actions,children:[p.jsx("button",{onClick:()=>(async e=>{s(!0);try{const t=await r("buscar_pacote_por_id_tauri",{id:e.id});t.success&&t.data?(h(t.data),d(!0)):l({type:"error",text:t.message||"Erro ao carregar dados para edição."})}finally{s(!1)}})(e),className:g3.buttonEdit,title:"Editar pacote","aria-label":"Editar pacote",disabled:y===e.id,children:p.jsx(N3,{})}),p.jsx("button",{onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja remover este pacote? A ação não pode ser desfeita.")){_(e),l(null);try{const t=await r("deletar_pacote_tauri",{id:e});t.success?(l({type:"success",text:"Pacote removido com sucesso!"}),M()):l({type:"error",text:t.message||"Erro ao remover pacote."})}catch(t){const e=t instanceof Error?t.message:String(t);l({type:"error",text:`Erro ao remover: ${e}`})}finally{_(null)}}})(e.id),className:g3.buttonDelete,title:"Remover pacote","aria-label":"Remover pacote",disabled:y===e.id,children:y===e.id?p.jsx("div",{className:g3.actionSpinner}):p.jsx(C3,{})})]})})]},e.id))})]})})]})},M3="_container_1udkc_55",E3="_header_1udkc_71",O3="_titleSection_1udkc_81",P3="_titleIcon_1udkc_97",A3="_title_1udkc_81",D3="_subtitle_1udkc_149",I3="_content_1udkc_163",T3="_loadingContainer_1udkc_203",z3="_spinner_1udkc_227",R3="_errorMessage_1udkc_255",L3="_successMessage_1udkc_283",$3="_formGrid_1udkc_333",B3="_formGroup_1udkc_347",q3="_label_1udkc_359",F3="_inputField_1udkc_385",W3="_selectField_1udkc_385",G3="_textareaField_1udkc_385",H3="_selectContainer_1udkc_439",V3="_selectArrow_1udkc_465",U3="_buttonGroup_1udkc_489",K3="_iconButton_1udkc_503",Y3="_actionBar_1udkc_591",X3="_cancelButton_1udkc_607",J3="_submitButton_1udkc_607",Z3="_modalOverlay_1udkc_699",Q3="_modalContent_1udkc_749",e6="_modalHeader_1udkc_793",t6="_closeButton_1udkc_825",a6="_modalBody_1udkc_865",r6="_modalFooter_1udkc_873",n6=()=>{const[e,t]=f.useState(""),[a,n]=f.useState(""),[i,s]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(""),[u,h]=f.useState(""),[m,g]=f.useState([]),[x,v]=f.useState([]),[b,y]=f.useState(!0),[_,j]=f.useState(null),[w,N]=f.useState(null),[C,k]=f.useState(!1),[S,M]=f.useState(!1),[E,O]=f.useState(""),[P,A]=f.useState(""),[D,I]=f.useState(""),T=async()=>{try{const e=await r("buscar_veiculos_e_marcas");g(e)}catch(e){j("Erro ao carregar veículos.")}},z=async()=>{try{const e=await r("buscar_tipos_manutencao");v(e)}catch(e){j("Erro ao carregar tipos de manutenção.")}};f.useEffect(()=>{(async()=>{y(!0),j(null),await Promise.all([T(),z()]),y(!1)})()},[]),f.useEffect(()=>{if(_){const e=setTimeout(()=>j(null),5e3);return()=>clearTimeout(e)}},[_]),f.useEffect(()=>{const e=new Date,a=e.toISOString().split("T")[0],r=e.toTimeString().split(" ")[0].substring(0,5);t(a),h(r)},[]),f.useEffect(()=>{if(w){const e=setTimeout(()=>N(null),3e3);return()=>clearTimeout(e)}},[w]);const R=()=>{t(""),n(""),s(""),l(""),d(""),j(null),N(null)};return b?p.jsxs("div",{className:T3,children:[p.jsx("div",{className:z3}),p.jsx("p",{children:"Carregando dados..."})]}):p.jsxs("div",{className:M3,children:[p.jsxs("div",{className:E3,children:[p.jsxs("div",{className:O3,children:[p.jsx(is,{size:32,className:P3}),p.jsx("h1",{className:A3,children:"Cadastro de Manutenção"})]}),p.jsx("p",{className:D3,children:"Registre todas as manutenções de forma rápida e eficiente"})]}),p.jsxs("div",{className:I3,children:[_&&p.jsxs("div",{className:R3,children:[p.jsx(ln,{size:18}),p.jsx("span",{children:_}),p.jsx("button",{onClick:()=>j(null),"aria-label":"Fechar mensagem de erro",children:p.jsx(ss,{size:18})})]}),w&&p.jsx("div",{className:L3,children:p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[p.jsx(en,{size:18}),p.jsx("span",{children:w})]})}),p.jsxs("div",{className:$3,children:[p.jsxs("div",{className:B3,children:[p.jsxs("label",{htmlFor:"dataManutencao",className:q3,children:[p.jsx(Kr,{size:18}),p.jsx("span",{children:"Data e Hora da Manutenção"})]}),p.jsx("input",{type:"date",id:"dataManutencao",className:F3,value:e,onChange:e=>t(e.target.value),required:!0}),p.jsx("input",{type:"time",id:"horaManutencao",className:F3,value:u,onChange:e=>h(e.target.value),required:!0})]}),p.jsxs("div",{className:B3,children:[p.jsxs("label",{htmlFor:"veiculoSelecionado",className:q3,children:[p.jsx(Yr,{size:18}),p.jsx("span",{children:"Veículo"})]}),p.jsxs("div",{className:H3,children:[p.jsxs("select",{id:"veiculoSelecionado",className:W3,value:a,onChange:e=>n(Number(e.target.value)),required:!0,children:[p.jsx("option",{value:"",children:"Selecione um veículo..."}),m.map(e=>p.jsxs("option",{value:e.id,children:[e.nome," ",e.marca&&`- ${e.marca}`," ",e.placa&&`(${e.placa})`]},e.id))]}),p.jsx(tn,{size:18,className:V3}),p.jsxs("div",{className:U3,children:[p.jsx("button",{className:K3,onClick:()=>tp.openGerenciarVeiculos(),title:"Adicionar veículo",type:"button",children:p.jsx(vi,{size:18})}),p.jsx("button",{className:K3,onClick:T,title:"Recarregar veículos",type:"button",children:p.jsx(wi,{size:18})})]})]})]}),p.jsxs("div",{className:B3,children:[p.jsxs("label",{htmlFor:"tipoManutencaoSelecionado",className:q3,children:[p.jsx(_n,{size:18}),p.jsx("span",{children:"Tipo de Manutenção"})]}),p.jsxs("div",{className:H3,children:[p.jsxs("select",{id:"tipoManutencaoSelecionado",className:W3,value:i,onChange:e=>s(Number(e.target.value)),required:!0,children:[p.jsx("option",{value:"",children:"Selecione o tipo..."}),x.map(e=>p.jsx("option",{value:e.id,children:e.nome},e.id))]}),p.jsx(tn,{size:18,className:V3}),p.jsxs("div",{className:U3,children:[p.jsx("button",{className:K3,onClick:()=>M(!0),title:"Adicionar tipo de manutenção",type:"button",children:p.jsx(vi,{size:18})}),p.jsx("button",{className:K3,onClick:z,title:"Recarregar tipos",type:"button",children:p.jsx(wi,{size:18})})]})]})]}),p.jsxs("div",{className:B3,children:[p.jsxs("label",{htmlFor:"kmAtual",className:q3,children:[p.jsx(Ln,{size:18}),p.jsx("span",{children:"Quilometragem Atual"})]}),p.jsx("input",{type:"number",id:"kmAtual",className:F3,value:o,onChange:e=>l(""===e.target.value?"":Number(e.target.value)),placeholder:"Ex: 12500",min:"0",required:!0})]}),p.jsxs("div",{className:B3,children:[p.jsxs("label",{htmlFor:"dataProximaTroca",className:q3,children:[p.jsx(pn,{size:18}),p.jsx("span",{children:"Dia da próxima Troca"})]}),p.jsx("input",{type:"date",id:"dataProximaTroca",className:F3,value:P,onChange:e=>A(e.target.value)})]}),p.jsxs("div",{className:B3,children:[p.jsxs("label",{htmlFor:"horaProximaTroca",className:q3,children:[p.jsx(pn,{size:18}),p.jsx("span",{children:"Próxima Troca Hora"})]}),p.jsx("input",{type:"time",id:"horaProximaTroca",className:F3,value:D,onChange:e=>I(e.target.value)})]}),p.jsxs("div",{className:B3,style:{gridColumn:"1 / -1"},children:[p.jsxs("label",{htmlFor:"descricao",className:q3,children:[p.jsx(Mn,{size:18}),p.jsx("span",{children:"Descrição"})]}),p.jsx("textarea",{id:"descricao",className:G3,value:c,onChange:e=>d(e.target.value),placeholder:"Detalhes da manutenção, peças substituídas, observações...",rows:3})]})]}),p.jsxs("div",{className:Y3,children:[p.jsxs("button",{className:X3,onClick:R,type:"button",disabled:C,children:[p.jsx(ss,{size:18}),"Limpar Formulário"]}),p.jsx("button",{className:J3,onClick:async()=>{if(j(null),N(null),!(e&&u&&a&&i&&o))return void j("Por favor, preencha todos os campos obrigatórios.");k(!0);const t=`${e}T${u}:00`,n=P&&D?`${P}T${D}:00`:null,s={data:t,data_realizada:t,data_manutencao:t,tipo:i,veiculo:a,km:Number(o),observacao:c||null,proxima:n};try{await r("criar_frota_manutencao",{payload:s}),N("Manutenção cadastrada com sucesso!"),setTimeout(()=>{R()},2e3)}catch(l){j(`Erro: ${l.toString()}`)}finally{k(!1)}},disabled:C,type:"button",children:C?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:z3,style:{width:"18px",height:"18px",margin:0}}),"Cadastrando..."]}):p.jsxs(p.Fragment,{children:[p.jsx(Si,{size:18}),"Cadastrar Manutenção"]})})]})]}),S&&p.jsx("div",{className:Z3,children:p.jsxs("div",{className:Q3,children:[p.jsxs("div",{className:e6,children:[p.jsx("h2",{children:"Adicionar Novo Tipo de Manutenção"}),p.jsx("button",{onClick:()=>{M(!1),O("")},className:t6,children:p.jsx(ss,{size:20})})]}),p.jsx("div",{className:a6,children:p.jsxs("div",{className:B3,children:[p.jsx("label",{htmlFor:"novoTipoNome",className:q3,children:p.jsx("span",{children:"Nome do Tipo de Manutenção"})}),p.jsx("input",{type:"text",id:"novoTipoNome",className:F3,value:E,onChange:e=>O(e.target.value),placeholder:"Ex: Troca de óleo, Alinhamento, Revisão geral...",autoFocus:!0})]})}),p.jsxs("div",{className:r6,children:[p.jsx("button",{onClick:()=>{M(!1),O("")},className:X3,type:"button",children:"Cancelar"}),p.jsxs("button",{onClick:async()=>{if(E.trim())try{await r("criar_tipo_manutencao",{payload:{nome:E.trim()}}),N("Tipo de manutenção adicionado com sucesso!")}catch(e){j(`Erro ao criar tipo de manutenção: ${e.toString()}`)}else j("Por favor, informe um nome para o novo tipo de manutenção.")},className:J3,type:"button",children:[p.jsx(Si,{size:18}),"Salvar"]})]})]})})]})},i6=["Agendada","Em andamento","Concluída","Atrasada"],s6=()=>{const[e,t]=f.useState([]),[a,n]=f.useState([]),[i,s]=f.useState([]),[o,l]=f.useState([]),[c,d]=f.useState(!0),[u,h]=f.useState(null),[m,g]=f.useState(""),[x,v]=f.useState(""),[b,y]=f.useState(""),[_,j]=f.useState(""),[w,N]=f.useState(""),[C,k]=f.useState(""),[S,M]=f.useState(!1),[E,O]=f.useState(1),[P,A]=f.useState(10),[D,I]=f.useState(!1),[T,z]=f.useState(!1),[R,L]=f.useState(!1),[$,B]=f.useState(null),[q,F]=f.useState(null),[W,G]=f.useState(""),[H,V]=f.useState({tipo:void 0,veiculo:void 0,data:"",data_manutencao:void 0,observacao:void 0,data_realizada:void 0,km:void 0,proxima:void 0}),U=(e,t,a)=>{try{const a=new Date,r=new Date(e);if(t)return"Concluída";if(r<a)return"Atrasada";return Math.ceil((r.getTime()-a.getTime())/864e5)<=7?"Em andamento":"Agendada"}catch{return"Status indefinido"}},K=e=>{try{return new Date(e).toLocaleDateString("pt-BR")}catch{return"Data inválida"}},Y=e=>{try{return new Date(e).toISOString().slice(0,16)}catch{return""}},X=e=>{if(!e)return"Veículo não informado";const t=i.find(t=>t.id===e);return t?`${t.nome} ${t.marca||""}`.trim():`Veículo ${e}`},J=e=>{if(!e)return"Tipo não informado";const t=o.find(t=>t.id===e);return t?t.nome:`Tipo ${e}`};f.useEffect(()=>{(async()=>{try{const e=await r("buscar_tipos_manutencao");l(e)}catch(e){}})()},[]),f.useEffect(()=>{(async()=>{try{const e=await r("buscar_veiculos_e_marcas");s(e)}catch(e){}})()},[]),f.useEffect(()=>{(async()=>{try{d(!0),h(null);const e=await r("buscar_manutencoes");t(e)}catch(e){h(e),t([])}finally{d(!1)}})()},[]),f.useEffect(()=>{if(e.length>0&&i.length>0&&o.length>0){const t=e.map(e=>({id:e.id,veiculo:X(e.veiculo),tipoManutencao:J(e.tipo),data:K(e.data),dataManutencao:e.data_manutencao?K(e.data_manutencao):void 0,dataRealizada:e.data_realizada?K(e.data_realizada):void 0,proximaManutencao:e.proxima?K(e.proxima):void 0,observacao:e.observacao||"Nenhuma observação",km:e.km?`${e.km.toLocaleString()} km`:"Não informado",status:U(e.data,e.data_realizada,e.proxima)}));n(t)}},[e,i,o]),f.useEffect(()=>{M(!!(m||x||b||_||w||C))},[m,x,b,_,w,C]),f.useEffect(()=>{O(1)},[m,x,b,_,w,C]);const Z=e=>{const t=e.split("/");if(3===t.length){const e=parseInt(t[0]),a=parseInt(t[1])-1,r=parseInt(t[2]);return new Date(r,a,e)}return null},Q=()=>{B(null),I(!1)},ee=()=>{F(null),L(!1)},te=(e,t)=>{V(a=>({...a,[e]:t}))},ae=async()=>{try{d(!0);const e=await r("buscar_manutencoes");t(e)}catch(e){h(e)}finally{d(!1)}},re=f.useMemo(()=>a.filter(e=>{const t=!m||e.veiculo.includes(m),a=!x||e.tipoManutencao.includes(x),r=!w||e.status===w,n=!C||e.observacao?.toLowerCase().includes(C.toLowerCase());let i=!0;if(b||_){const t=Z(e.data);if(t){if(b){const e=Z(b);e&&t<e&&(i=!1)}if(_){const e=Z(_);e&&t>e&&(i=!1)}}}return t&&a&&i&&r&&n}),[a,m,x,b,_,w,C]),ne=re.length,ie=Math.ceil(ne/P),se=(E-1)*P,oe=se+P,le=re.slice(se,oe);return c?p.jsx("div",{className:gw.container,children:p.jsxs("div",{className:gw.loadingState,children:[p.jsx(pn,{size:48,className:gw.loadingIcon}),p.jsx("h3",{children:"Carregando manutenções..."}),p.jsx("p",{children:"Aguarde enquanto buscamos os dados."})]})}):u?p.jsx("div",{className:gw.container,children:p.jsxs("div",{className:gw.errorState,children:[p.jsx(Ki,{size:48,className:gw.errorIcon}),p.jsx("h3",{children:"Erro ao carregar manutenções"}),p.jsx("p",{children:u}),p.jsx("button",{className:gw.primaryButton,onClick:ae,children:"Tentar Novamente"})]})}):p.jsxs("div",{className:gw.container,children:[p.jsxs("div",{className:gw.header,children:[p.jsxs("h1",{className:gw.title,children:[p.jsx(is,{className:gw.titleIcon}),"Visualizar Manutenções"]}),p.jsxs("div",{className:gw.headerStats,children:[p.jsxs("div",{className:gw.statCard,children:[p.jsx("span",{className:gw.statNumber,children:ne}),p.jsx("span",{className:gw.statLabel,children:"Manutenções"})]}),S&&p.jsxs("div",{className:gw.filterIndicator,children:[p.jsx(zn,{size:16}),"Filtros ativos"]})]})]}),p.jsx("div",{className:gw.filterBar,children:p.jsxs("div",{className:gw.filterSection,children:[p.jsxs("h3",{className:gw.filterSectionTitle,children:[p.jsx(Mi,{size:18}),"Filtros de Busca"]}),p.jsxs("div",{className:gw.filterGrid,children:[p.jsxs("div",{className:gw.filterRow,children:[p.jsxs("div",{className:gw.filterGroup,children:[p.jsx("label",{htmlFor:"selectVeiculo",children:"Veículo"}),p.jsxs("div",{className:gw.selectWrapper,children:[p.jsxs("select",{id:"selectVeiculo",className:gw.customSelect,value:m,onChange:e=>g(e.target.value),children:[p.jsx("option",{value:"",children:"Todos os veículos"}),i.map(e=>p.jsxs("option",{value:`${e.nome} ${e.marca||""}`.trim(),children:[e.nome," ",e.marca&&`- ${e.marca}`]},e.id))]}),p.jsx("div",{className:gw.selectArrow,children:"▼"})]})]}),p.jsxs("div",{className:gw.filterGroup,children:[p.jsx("label",{htmlFor:"selectTipo",children:"Tipo de Manutenção"}),p.jsxs("div",{className:gw.selectWrapper,children:[p.jsxs("select",{id:"selectTipo",className:gw.customSelect,value:x,onChange:e=>v(e.target.value),children:[p.jsx("option",{value:"",children:"Todos os tipos"}),o.map(e=>p.jsx("option",{value:e.nome,children:e.nome},e.id))]}),p.jsx("div",{className:gw.selectArrow,children:"▼"})]})]}),p.jsxs("div",{className:gw.filterGroup,children:[p.jsx("label",{htmlFor:"selectStatus",children:"Status"}),p.jsxs("div",{className:gw.selectWrapper,children:[p.jsxs("select",{id:"selectStatus",className:gw.customSelect,value:w,onChange:e=>N(e.target.value),children:[p.jsx("option",{value:"",children:"Todos os status"}),i6.map(e=>p.jsx("option",{value:e,children:e},e))]}),p.jsx("div",{className:gw.selectArrow,children:"▼"})]})]})]}),p.jsxs("div",{className:gw.filterRow,children:[p.jsxs("div",{className:gw.filterGroup,children:[p.jsx("label",{htmlFor:"filterDataInicio",children:"Data Início"}),p.jsxs("div",{className:gw.dateInputContainer,children:[p.jsx(Kr,{className:gw.dateIcon,size:18}),p.jsx("input",{type:"date",id:"filterDataInicio",className:gw.dateInput,value:b?b.split("/").reverse().join("-"):"",onChange:e=>{if(e.target.value){const[t,a,r]=e.target.value.split("-");y(`${r}/${a}/${t}`)}else y("")}})]})]}),p.jsxs("div",{className:gw.filterGroup,children:[p.jsx("label",{htmlFor:"filterDataFim",children:"Data Fim"}),p.jsxs("div",{className:gw.dateInputContainer,children:[p.jsx(Kr,{className:gw.dateIcon,size:18}),p.jsx("input",{type:"date",id:"filterDataFim",className:gw.dateInput,value:_?_.split("/").reverse().join("-"):"",onChange:e=>{if(e.target.value){const[t,a,r]=e.target.value.split("-");j(`${r}/${a}/${t}`)}else j("")}})]})]}),p.jsxs("div",{className:gw.filterGroup,children:[p.jsx("label",{htmlFor:"filterObservacao",children:"Observação"}),p.jsx("input",{type:"text",id:"filterObservacao",className:gw.textInput,placeholder:"Digite a observação...",value:C,onChange:e=>k(e.target.value)})]})]}),p.jsx("div",{className:gw.filterRow,children:p.jsxs("div",{className:gw.filterGroup,children:[p.jsx("label",{children:" "}),p.jsxs("button",{className:gw.clearButton,onClick:()=>{g(""),v(""),y(""),j(""),N(""),k("")},disabled:!S,children:[p.jsx(ss,{size:18}),"Limpar Filtros"]})]})})]})]})}),ne>0&&p.jsxs("div",{className:gw.paginationControls,children:[p.jsx("div",{className:gw.paginationInfo,children:p.jsxs("span",{children:["Mostrando ",se+1," a ",Math.min(oe,ne)," de ",ne," manutenções"]})}),p.jsxs("div",{className:gw.itemsPerPageControl,children:[p.jsx("label",{htmlFor:"itemsPerPage",children:"Itens por página:"}),p.jsxs("select",{id:"itemsPerPage",className:gw.itemsPerPageSelect,value:P,onChange:e=>{A(Number(e.target.value)),O(1)},children:[p.jsx("option",{value:5,children:"5"}),p.jsx("option",{value:10,children:"10"}),p.jsx("option",{value:25,children:"25"}),p.jsx("option",{value:50,children:"50"}),p.jsx("option",{value:100,children:"100"})]})]})]}),p.jsx("div",{className:gw.tableWrapper,children:p.jsxs("table",{className:gw.table,children:[p.jsx("thead",{className:gw.tableHeader,children:p.jsxs("tr",{children:[p.jsx("th",{className:gw.tableHead,children:"Veículo"}),p.jsx("th",{className:gw.tableHead,children:"Tipo"}),p.jsx("th",{className:gw.tableHead,children:"Data"}),p.jsx("th",{className:gw.tableHead,children:"Status"}),p.jsx("th",{className:gw.tableHead,children:"KM"}),p.jsx("th",{className:gw.tableHead,children:"Data Realizada"}),p.jsx("th",{className:gw.tableHead,children:"Próxima"}),p.jsx("th",{className:gw.tableHead,children:"Observação"}),p.jsx("th",{className:gw.tableHead,style:{textAlign:"center"},children:"Ações"})]})}),p.jsx("tbody",{children:0===le.length?p.jsx("tr",{children:p.jsx("td",{colSpan:9,className:gw.emptyState,children:p.jsxs("div",{className:gw.emptyStateContent,children:[p.jsx(Ki,{size:48,className:gw.emptyStateIcon}),p.jsx("h3",{children:"Nenhuma manutenção encontrada"}),p.jsx("p",{children:0===a.length?"Não há manutenções cadastradas no sistema.":"Tente ajustar os filtros para encontrar as manutenções desejadas."})]})})}):le.map(t=>p.jsxs("tr",{className:gw.tableRow,children:[p.jsx("td",{className:gw.tableCell,children:p.jsx("div",{className:gw.cellContent,children:p.jsx("strong",{children:t.veiculo})})}),p.jsx("td",{className:gw.tableCell,children:p.jsxs("div",{className:gw.cellContent,children:[p.jsx(Oi,{size:16,className:gw.cellIcon}),t.tipoManutencao]})}),p.jsx("td",{className:gw.tableCell,children:p.jsxs("div",{className:gw.cellContent,children:[p.jsx(Kr,{size:16,className:gw.cellIcon}),t.data]})}),p.jsx("td",{className:gw.tableCell,children:p.jsxs("span",{className:`${gw.statusBadge} ${gw[`status${t.status.replace(/\s+/g,"")}`]}`,children:[p.jsx(pn,{size:14}),t.status]})}),p.jsx("td",{className:gw.tableCell,children:p.jsx("div",{className:gw.cellContent,children:p.jsx("strong",{children:t.km})})}),p.jsx("td",{className:gw.tableCell,children:p.jsxs("div",{className:gw.cellContent,children:[p.jsx(Kr,{size:16,className:gw.cellIcon}),t.dataRealizada||"Não realizada"]})}),p.jsx("td",{className:gw.tableCell,children:p.jsxs("div",{className:gw.cellContent,children:[p.jsx(Kr,{size:16,className:gw.cellIcon}),t.proximaManutencao||"Não agendada"]})}),p.jsx("td",{className:gw.tableCell,children:p.jsx("div",{className:gw.cellContent,children:t.observacao})}),p.jsx("td",{className:gw.tableCell,style:{textAlign:"center"},children:p.jsxs("div",{className:gw.actions,children:[p.jsx("button",{className:gw.editButton,onClick:()=>(t=>{const a=e.find(e=>e.id===t);a&&(F(a),V({tipo:a.tipo,veiculo:a.veiculo,data:Y(a.data),data_manutencao:a.data_manutencao?Y(a.data_manutencao):void 0,observacao:a.observacao||"",data_realizada:a.data_realizada?Y(a.data_realizada):void 0,km:a.km,proxima:a.proxima?Y(a.proxima):void 0}),L(!0))})(t.id),title:"Editar manutenção",children:p.jsx(fi,{size:18})}),p.jsx("button",{className:gw.dangerButton,onClick:()=>{return e=t.id,B(e),void I(!0);var e},title:"Excluir manutenção",children:p.jsx(Vi,{size:18})})]})})]},t.id))})]})}),ie>1&&p.jsxs("div",{className:gw.paginationWrapper,children:[p.jsxs("div",{className:gw.paginationNavigation,children:[p.jsx("button",{className:gw.paginationButton,onClick:()=>O(1),disabled:1===E,title:"Primeira página",children:p.jsx(sn,{size:18})}),p.jsx("button",{className:gw.paginationButton,onClick:()=>O(e=>Math.max(e-1,1)),disabled:1===E,title:"Página anterior",children:p.jsx(an,{size:18})}),p.jsx("div",{className:gw.pageNumbers,children:(()=>{const e=[];if(ie<=5)for(let t=1;t<=ie;t++)e.push(t);else{const t=Math.max(1,E-Math.floor(2.5)),a=Math.min(ie,t+5-1);for(let r=t;r<=a;r++)e.push(r)}return e})().map(e=>p.jsx("button",{className:`${gw.pageNumber} ${E===e?gw.activePageNumber:""}`,onClick:()=>O(e),children:e},e))}),p.jsx("button",{className:gw.paginationButton,onClick:()=>O(e=>Math.min(e+1,ie)),disabled:E===ie,title:"Próxima página",children:p.jsx(rn,{size:18})}),p.jsx("button",{className:gw.paginationButton,onClick:()=>O(ie),disabled:E===ie,title:"Última página",children:p.jsx(on,{size:18})})]}),p.jsxs("div",{className:gw.paginationSummary,children:["Página ",E," de ",ie]})]}),D&&p.jsx("div",{className:gw.modalOverlay,children:p.jsxs("div",{className:gw.modalContent,children:[p.jsxs("div",{className:gw.modalHeader,children:[p.jsx("div",{className:gw.modalIcon,children:p.jsx(Ki,{size:24,className:gw.warningIcon})}),p.jsx("h3",{className:gw.modalTitle,children:"Confirmar Exclusão"}),p.jsx("button",{className:gw.modalCloseButton,onClick:Q,children:p.jsx(ss,{size:20})})]}),p.jsxs("div",{className:gw.modalBody,children:[p.jsx("p",{className:gw.modalMessage,children:"Tem certeza de que deseja excluir esta manutenção?"}),p.jsx("p",{className:gw.modalSubMessage,children:"Esta ação não pode ser desfeita."})]}),p.jsxs("div",{className:gw.modalActions,children:[p.jsx("button",{className:gw.cancelButton,onClick:Q,children:"Cancelar"}),p.jsxs("button",{className:gw.confirmDeleteButton,onClick:async()=>{if($)try{await r("deletar_frota_manutencao",{id:$}),n(a.filter(e=>e.id!==$)),t(e.filter(e=>e.id!==$)),G("Manutenção excluída com sucesso!"),z(!0)}catch(i){h("Erro ao excluir manutenção: "+i)}finally{Q()}},children:[p.jsx(Vi,{size:18}),"Excluir"]})]})]})}),T&&p.jsx("div",{className:gw.modalOverlay,children:p.jsxs("div",{className:gw.modalContent,children:[p.jsxs("div",{className:gw.modalHeader,children:[p.jsx("div",{className:gw.modalIcon,children:p.jsx(cn,{size:24,className:gw.successIcon})}),p.jsx("h3",{className:gw.modalTitle,children:"Sucesso!"}),p.jsx("button",{className:gw.modalCloseButton,onClick:()=>z(!1),children:p.jsx(ss,{size:20})})]}),p.jsx("div",{className:gw.modalBody,children:p.jsx("p",{className:gw.modalMessage,children:W})}),p.jsx("div",{className:gw.modalActions,children:p.jsx("button",{className:gw.primaryButton,onClick:()=>z(!1),children:"OK"})})]})}),R&&q&&p.jsx("div",{className:gw.modalOverlay,children:p.jsxs("div",{className:gw.modalContent+" "+gw.editModalContent,children:[p.jsxs("div",{className:gw.modalHeader,children:[p.jsx("div",{className:gw.modalIcon,children:p.jsx(fi,{size:24,className:gw.editIcon})}),p.jsx("h3",{className:gw.modalTitle,children:"Editar Manutenção"}),p.jsx("button",{className:gw.modalCloseButton,onClick:ee,children:p.jsx(ss,{size:20})})]}),p.jsx("div",{className:gw.modalBody,children:p.jsx("form",{className:gw.editForm,children:p.jsxs("div",{className:gw.formGrid,children:[p.jsxs("div",{className:gw.formGroup,children:[p.jsx("label",{htmlFor:"editVeiculo",children:"Veículo"}),p.jsxs("select",{id:"editVeiculo",className:gw.formSelect,value:H.veiculo||0,onChange:e=>te("veiculo",Number(e.target.value)),children:[p.jsx("option",{value:0,children:"Selecione um veículo"}),i.map(e=>p.jsxs("option",{value:e.id,children:[e.nome," ",e.marca&&`- ${e.marca}`]},e.id))]})]}),p.jsxs("div",{className:gw.formGroup,children:[p.jsx("label",{htmlFor:"editTipo",children:"Tipo de Manutenção"}),p.jsxs("select",{id:"editTipo",className:gw.formSelect,value:H.tipo||0,onChange:e=>te("tipo",Number(e.target.value)),children:[p.jsx("option",{value:0,children:"Selecione um tipo"}),o.map(e=>p.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),p.jsxs("div",{className:gw.formGroup,children:[p.jsx("label",{htmlFor:"editData",children:"Data"}),p.jsx("input",{type:"datetime-local",id:"editData",className:gw.formInput,value:H.data,onChange:e=>te("data",e.target.value)})]}),p.jsxs("div",{className:gw.formGroup,children:[p.jsx("label",{htmlFor:"editDataManutencao",children:"Data de Manutenção"}),p.jsx("input",{type:"datetime-local",id:"editDataManutencao",className:gw.formInput,value:H.data_manutencao||"",onChange:e=>te("data_manutencao",e.target.value||void 0)})]}),p.jsxs("div",{className:gw.formGroup,children:[p.jsx("label",{htmlFor:"editDataRealizada",children:"Data Realizada"}),p.jsx("input",{type:"datetime-local",id:"editDataRealizada",className:gw.formInput,value:H.data_realizada||"",onChange:e=>te("data_realizada",e.target.value||void 0)})]}),p.jsxs("div",{className:gw.formGroup,children:[p.jsx("label",{htmlFor:"editProxima",children:"Próxima Manutenção"}),p.jsx("input",{type:"datetime-local",id:"editProxima",className:gw.formInput,value:H.proxima||"",onChange:e=>te("proxima",e.target.value||void 0)})]}),p.jsxs("div",{className:gw.formGroup,children:[p.jsx("label",{htmlFor:"editKm",children:"Quilometragem"}),p.jsx("input",{type:"number",id:"editKm",className:gw.formInput,value:H.km||"",onChange:e=>te("km",e.target.value?Number(e.target.value):void 0),min:"0"})]}),p.jsxs("div",{className:gw.formGroup+" "+gw.fullWidth,children:[p.jsx("label",{htmlFor:"editObservacao",children:"Observação"}),p.jsx("textarea",{id:"editObservacao",className:gw.formTextarea,value:H.observacao||"",onChange:e=>te("observacao",e.target.value),placeholder:"Observações sobre a manutenção",rows:3})]})]})})}),p.jsxs("div",{className:gw.modalActions,children:[p.jsx("button",{className:gw.cancelButton,onClick:ee,children:"Cancelar"}),p.jsxs("button",{className:gw.saveButton,onClick:async()=>{if(q)try{const a={veiculo_id:H.veiculo,data_servico:H.data,descricao_servico:H.observacao,km:H.km,tipo_manutencao_id:H.tipo};await r("atualizar_frota_manutencao",{id:q.id,payload:a});const n=e.map(e=>e.id===q.id?{...e,...H}:e);t(n),G("Manutenção atualizada com sucesso!"),z(!0)}catch(a){h("Erro ao atualizar manutenção: "+a)}finally{ee()}},children:[p.jsx(Si,{size:18}),"Salvar Alterações"]})]})]})})]})},o6="_container_r1axy_3",l6="_header_r1axy_21",c6="_header-title_r1axy_47",d6="_header-icon_r1axy_59",u6="_title_r1axy_73",h6="_button-group_r1axy_89",m6="_button_r1axy_89",p6="_button-primary_r1axy_165",f6="_button-success_r1axy_205",g6="_button-danger_r1axy_225",x6="_reload-icon_r1axy_245",v6="_spinning_r1axy_257",b6="_status-card_r1axy_275",y6="_status-error_r1axy_307",_6="_status-success_r1axy_317",j6="_status-content_r1axy_327",w6="_status-icon_r1axy_337",N6="_error_r1axy_351",C6="_status-text_r1axy_367",k6="_info-grid_r1axy_379",S6="_info-item_r1axy_393",M6="_info-label_r1axy_423",E6="_info-value_r1axy_439",O6="_map-container_r1axy_453",P6="_map_r1axy_453",A6="_map-overlay_r1axy_497",D6="_footer_r1axy_521",I6="_tracking-status_r1axy_545",T6="_active_r1axy_569",z6="_inactive_r1axy_581",R6="_status-indicator_r1axy_593",L6=()=>{const[e,t]=f.useState(null),[a,r]=f.useState(!0),[n,i]=f.useState(null),[s,o]=f.useState(!1),l=f.useRef(null),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null);f.useEffect(()=>(h(),()=>{u.current&&navigator.geolocation.clearWatch(u.current)}),[]);const h=()=>{setTimeout(()=>{if(l.current&&!c.current)if(void 0!==window.L){const e=window.L.map(l.current).setView([-23.5505,-46.6333],13);window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(e),c.current=e,g()}else m().then(()=>{const e=window.L.map(l.current).setView([-23.5505,-46.6333],13);window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(e),c.current=e,g()})},100)},m=()=>new Promise((e,t)=>{const a=document.createElement("link");a.rel="stylesheet",a.href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css",document.head.appendChild(a);const r=document.createElement("script");r.src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js",r.onload=()=>e(),r.onerror=()=>t(new Error("Falha ao carregar Leaflet")),document.head.appendChild(r)}),g=()=>{if(r(!0),i(null),!navigator.geolocation)return i("Geolocalização não é suportada por este navegador."),void r(!1);navigator.geolocation.getCurrentPosition(e=>{const a={lat:e.coords.latitude,lng:e.coords.longitude,accuracy:e.coords.accuracy,timestamp:(new Date).toLocaleTimeString()};t(a),r(!1),x(a)},e=>{let t="Erro ao obter localização.";switch(e.code){case e.PERMISSION_DENIED:t="Permissão de localização negada.";break;case e.POSITION_UNAVAILABLE:t="Localização indisponível.";break;case e.TIMEOUT:t="Timeout ao obter localização."}i(t),r(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},x=e=>{c.current&&window.L&&(c.current.setView([e.lat,e.lng],16),d.current&&c.current.removeLayer(d.current),d.current=window.L.marker([e.lat,e.lng]).addTo(c.current).bindPopup(`\n          <div class="text-sm">\n            <strong>Sua localização</strong><br/>\n            Precisão: ${Math.round(e.accuracy)}m<br/>\n            Atualizado: ${e.timestamp}\n          </div>\n        `),window.L.circle([e.lat,e.lng],{color:"#3b82f6",fillColor:"#3b82f6",fillOpacity:.1,radius:e.accuracy}).addTo(c.current))};return p.jsxs("div",{className:o6,children:[p.jsxs("div",{className:l6,children:[p.jsxs("div",{className:c6,children:[p.jsx(ti,{className:d6}),p.jsx("h1",{className:u6,children:"Localização em Tempo Real"})]}),p.jsxs("div",{className:h6,children:[p.jsxs("button",{onClick:g,disabled:a,className:`${m6} ${p6}`,children:[p.jsx(wi,{className:`${x6} ${a?v6:""}`}),p.jsx("span",{children:"Atualizar"})]}),p.jsxs("button",{onClick:s?()=>{u.current&&(navigator.geolocation.clearWatch(u.current),u.current=null),o(!1)}:()=>{if(!navigator.geolocation)return;o(!0);const e=navigator.geolocation.watchPosition(e=>{const a={lat:e.coords.latitude,lng:e.coords.longitude,accuracy:e.coords.accuracy,timestamp:(new Date).toLocaleTimeString()};t(a),x(a)},e=>{},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0});u.current=e},className:`${m6} ${s?g6:f6}`,children:[p.jsx(di,{className:x6}),p.jsx("span",{children:s?"Parar":"Rastrear"})]})]})]}),n&&p.jsx("div",{className:`${b6} ${y6}`,children:p.jsxs("div",{className:j6,children:[p.jsx(ln,{className:`${w6} ${N6}`}),p.jsx("p",{className:C6,children:n})]})}),e&&p.jsx("div",{className:`${b6} ${_6}`,children:p.jsxs("div",{className:k6,children:[p.jsxs("div",{className:S6,children:[p.jsx("span",{className:M6,children:"Latitude:"}),p.jsx("p",{className:E6,children:e.lat.toFixed(6)})]}),p.jsxs("div",{className:S6,children:[p.jsx("span",{className:M6,children:"Longitude:"}),p.jsx("p",{className:E6,children:e.lng.toFixed(6)})]}),p.jsxs("div",{className:S6,children:[p.jsx("span",{className:M6,children:"Precisão:"}),p.jsxs("p",{className:E6,children:[Math.round(e.accuracy),"m"]})]}),p.jsxs("div",{className:S6,children:[p.jsx("span",{className:M6,children:"Atualizado:"}),p.jsx("p",{className:E6,children:e.timestamp})]})]})}),p.jsxs("div",{className:O6,children:[p.jsx("div",{className:A6}),p.jsx("div",{ref:l,className:P6})]}),p.jsx("div",{className:D6,children:p.jsxs("div",{className:`${I6} ${s?T6:z6}`,children:[p.jsx("div",{className:`${R6} ${s?T6:z6}`}),p.jsx("span",{children:s?"Rastreamento ativo":"Rastreamento inativo"})]})})]})},$6={inicio:{component:p.jsx(Jm,{}),hasLayout:!0},reports:{component:p.jsx(Zm,{}),hasLayout:!0},settings:{component:p.jsx(Qm,{}),hasLayout:!0},laboratorio:{component:p.jsx(op,{}),hasLayout:!0},geral:{component:p.jsx(Yp,{}),hasLayout:!0},administracao:{component:p.jsx(lp,{}),hasLayout:!0},agenda:{component:p.jsx(Xp,{}),hasLayout:!0},financeiro:{component:p.jsx(dg,{}),hasLayout:!0},qualidade:{component:p.jsx(yg,{}),hasLayout:!0},frota:{component:p.jsx(fg,{}),hasLayout:!0},"cadastrar-clientes":{component:p.jsx(Bx,{}),hasLayout:!1},"visualizar-clientes":{component:p.jsx(Qv,{}),hasLayout:!1},"gerenciar-categoria":{component:p.jsx(ab,{}),hasLayout:!1},"cadastro-usuario-portal":{component:p.jsx(nb,{}),hasLayout:!1},"gerenciar-setor":{component:p.jsx(my,{}),hasLayout:!1},"historico-usuario":{component:p.jsx(Xy,{}),hasLayout:!1},"cadastrar-consultor":{component:p.jsx(oj,{}),hasLayout:!1},"cadastrar-laboratorio-terceirizado":{component:p.jsx(s_,{}),hasLayout:!1},"estrutura-tipo":{component:p.jsx(uj,{}),hasLayout:!1},"estrutura-grupo":{component:p.jsx(fj,{}),hasLayout:!1},"estrutura-unidade":{component:p.jsx(wj,{}),hasLayout:!1},"estrutura-parametro":{component:p.jsx(Sj,{}),hasLayout:!1},"estrutura-pg-coleta":{component:p.jsx(Ej,{}),hasLayout:!1},"estrutura-pop":{component:p.jsx(Dj,{}),hasLayout:!1},"estrutura-tecnica":{component:p.jsx(Rj,{}),hasLayout:!1},"estrutura-identificacao":{component:p.jsx(qj,{}),hasLayout:!1},"estrutura-metodologia":{component:p.jsx(Hj,{}),hasLayout:!1},"estrutura-legislacao":{component:p.jsx(Yj,{}),hasLayout:!1},"estrutura-categoria":{component:p.jsx(Qj,{}),hasLayout:!1},"estrutura-forma-contato":{component:p.jsx(rw,{}),hasLayout:!1},"estrutura-observacao":{component:p.jsx(ow,{}),hasLayout:!1},"estrutura-matriz":{component:p.jsx(bj,{}),hasLayout:!1},"estrutura-submatriz":{component:p.jsx(OZ,{}),hasLayout:!1},"rel-parametro-pop":{component:p.jsx(TZ,{}),hasLayout:!1},"rel-limite-quantificacao":{component:p.jsx(JZ,{}),hasLayout:!1},"rel-legislacao-parametro":{component:p.jsx(E_,{}),hasLayout:!1},"rel-pacote-parametro":{component:p.jsx(S3,{}),hasLayout:!1},"cadastrar-pacote":{component:p.jsx(w3,{onSalvar:()=>{},onCancelar:()=>{}}),hasLayout:!1},"rel-tecnica-etapa":{component:p.jsx(f3,{}),hasLayout:!1},"cadastrar-calculo":{component:p.jsx(rj,{}),hasLayout:!0},"visualizar-calculo":{component:p.jsx(Jm,{}),hasLayout:!0},chat:{component:p.jsx(eb,{}),hasLayout:!1},"criar-planilha":{component:p.jsx(oy,{}),hasLayout:!1},"cadastrar-planilha":{component:p.jsx(hy,{}),hasLayout:!1},"planilha-laboratorio":{component:p.jsx(fy,{}),hasLayout:!1},"cadastrar-amostra":{component:p.jsx(Ky,{}),hasLayout:!1},"visualizar-amostras":{component:p.jsx(Jy,{}),hasLayout:!1},"cadastrar-motorista":{component:p.jsx(cw,{}),hasLayout:!1},"cadastrar-veiculo":{component:p.jsx(dw,{}),hasLayout:!1},"cadastrar-posto":{component:p.jsx(uw,{}),hasLayout:!1},"cadastrar-viagem":{component:p.jsx(fw,{}),hasLayout:!1},"visualizar-viagem":{component:p.jsx(vw,{}),hasLayout:!1},cadastrar_abastecimento:{component:p.jsx(Gw,{}),hasLayout:!1},"visualizar-abastecimento":{component:p.jsx(kZ,{}),hasLayout:!1},"cadastrar-manutencao":{component:p.jsx(n6,{}),hasLayout:!1},"visualizar-manutencao":{component:p.jsx(s6,{}),hasLayout:!1},"localizacao-temporeal":{component:p.jsx(L6,{}),hasLayout:!1}},B6=f.createContext(void 0),q6=()=>{const e=f.useContext(B6);if(!e)throw new Error("useRouter must be used within RouterProvider");return e},F6=({children:e})=>{const[t,a]=f.useState("inicio"),[n,i]=f.useState(!1),[s,o]=f.useState(!0),l={login:ce,inicio:Q,reports:z,settings:F,laboratorio:K,frota:ve,agenda:T,qualidade:q,financeiro:te,geral:Y,administracao:ye,"cadastrar-clientes":je,"visualizar-clientes":je,"gerenciar-categoria":je,"cadastro-usuario-portal":je,"gerenciar-setor":je,"cadastrar-consultor":je,"cadastrar-laboratorio-terceirizado":je,"estrutura-tipo":I,"estrutura-grupo":I,"estrutura-matriz":I,"estrutura-unidade":I,"estrutura-parametro":I,"estrutura-pg-coleta":I,"estrutura-pop":I,"estrutura-tecnica":I,"estrutura-identificacao":I,"estrutura-metodologia":I,"estrutura-legislacao":I,"estrutura-categoria":I,"estrutura-forma-contato":I,"estrutura-observacao":I,"estrutura-submatriz":I,"rel-parametro-pop":J,"rel-limite-quantificacao":J,"rel-legislacao-parametro":J,"rel-pacote-parametro":J,"rel-tecnica-etapa":J,"cadastrar-calculo":we,"visualizar-calculo":we,"cadastrar-pacote":J,chat:Q,"criar-planilha":q,"cadastrar-planilha":q,"planilha-laboratorio":K,"cadastrar-amostra":K,"visualizar-amostras":K,"cadastrar-motorista":ve,"cadastrar-veiculo":ve,"cadastrar-posto":ve,"cadastrar-viagem":ve,"visualizar-viagem":ve,cadastrar_abastecimento:ve,"visualizar-abastecimento":ve,"historico-usuario":ye,"visualizar-cliente":je};f.useEffect(()=>{(async()=>{o(!0);const e=window.location.hash.substring(2).split("?")[0];if($6.hasOwnProperty(e))a(e),i(!0),o(!1);else try{const e=await r("verificar_autenticacao");i(e),a(e?"inicio":"login")}catch(t){a("login")}finally{o(!1)}})()},[]);return s?p.jsxs("div",{className:"loading-screen",children:[p.jsx("div",{className:"spinner",children:p.jsx(F,{className:"spinning-icon"})}),p.jsx("p",{children:"Verificando autenticação..."})]}):p.jsx(B6.Provider,{value:{currentRoute:t,navigate:e=>{a(e),window.location.hash=`#/${e}`},isAuthenticated:n,setAuthenticated:e=>{i(e),e&&a("inicio")},getRouteIcon:e=>{const t=l[e]||Q;return p.jsx("span",{className:"icon-container",children:p.jsx(t,{className:"icon"})})}},children:e})},W6=({notification:e,onClose:t,onOpenChat:a})=>{const[r,n]=f.useState(!1);f.useEffect(()=>{const e=setTimeout(()=>n(!0),100),t=setTimeout(()=>{i()},5e3);return()=>{clearTimeout(e),clearTimeout(t)}},[]);const i=()=>{n(!1),setTimeout(t,300)};return p.jsxs("div",{className:"whatsapp-notification "+(r?"visible":""),onClick:()=>{a&&a(e.chat_id),i()},children:[p.jsxs("div",{className:"notification-avatar",children:[p.jsx("img",{src:e.sender_avatar?`http://127.0.0.1:8082${e.sender_avatar}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(e.sender_name)}&background=random&color=fff&size=64`,alt:e.sender_name,onError:t=>{t.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(e.sender_name)}&background=25D366&color=fff&size=64`}}),p.jsx("div",{className:"online-indicator"})]}),p.jsxs("div",{className:"notification-content",children:[p.jsxs("div",{className:"notification-header",children:[p.jsx("span",{className:"sender-name",children:e.sender_name}),p.jsx("span",{className:"timestamp",children:new Date(e.timestamp).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),p.jsx("div",{className:"message-preview",children:((e,t=60)=>e.length<=t?e:e.substring(0,t)+"...")(e.content)})]}),p.jsx("button",{className:"close-notification",onClick:e=>{e.stopPropagation(),i()},children:p.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})},G6=({notification:e,onClose:t,onOpenChat:a})=>p.jsx("div",{className:"chat-modal-overlay",onClick:t,children:p.jsxs("div",{className:"chat-modal-content",onClick:e=>e.stopPropagation(),children:[p.jsxs("div",{className:"chat-modal-header",children:[p.jsxs("div",{className:"sender-info",children:[p.jsxs("div",{className:"sender-avatar-container",children:[p.jsx("img",{src:e.sender_avatar?`http://127.0.0.1:8082${e.sender_avatar}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(e.sender_name)}&background=25D366&color=fff&size=80`,alt:e.sender_name,className:"sender-avatar-large",onError:t=>{t.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(e.sender_name)}&background=25D366&color=fff&size=80`}}),p.jsx("div",{className:"status-indicator online"})]}),p.jsxs("div",{className:"sender-details",children:[p.jsx("h3",{className:"sender-name-large",children:e.sender_name}),p.jsx("p",{className:"message-time",children:(()=>{const t=new Date(e.timestamp),a=new Date,r=Math.floor((a.getTime()-t.getTime())/6e4);if(r<1)return"Agora";if(r<60)return`${r}min atrás`;const n=Math.floor(r/60);return n<24?`${n}h atrás`:t.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})})()})]})]}),p.jsx("button",{className:"close-modal-btn",onClick:t,children:p.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),p.jsx("div",{className:"chat-modal-body",children:p.jsxs("div",{className:"message-bubble",children:[p.jsx("div",{className:"message-content",children:e.content}),p.jsx("div",{className:"message-meta",children:p.jsx("span",{className:"message-timestamp",children:new Date(e.timestamp).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})})]})}),p.jsxs("div",{className:"chat-modal-footer",children:[p.jsxs("button",{className:"action-btn secondary",onClick:t,children:[p.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M9 11H5a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2h-4"}),p.jsx("polyline",{points:"9,7 12,4 15,7"}),p.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"17"})]}),"Dispensar"]}),p.jsxs("button",{className:"action-btn primary",onClick:()=>{a&&a(e.chat_id),t()},children:[p.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:p.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),"Abrir Chat"]})]})]})}),H6=({notification:e,onClose:t,onAction:a})=>{const[r,n]=f.useState(!1);f.useEffect(()=>{const e=setTimeout(()=>n(!0),100),t=setTimeout(()=>{i()},6e3);return()=>{clearTimeout(e),clearTimeout(t)}},[]);const i=()=>{n(!1),setTimeout(t,300)};return p.jsxs("div",{className:`normal-notification ${(()=>{switch(e.icon){case"success":return"success";case"error":return"error";case"alert":return"warning";default:return"info"}})()} ${r?"visible":""} ${e.isNew?"new":""}`,onClick:()=>{a&&a(),i()},children:[p.jsxs("div",{className:"notification-icon-container",children:[(()=>{switch(e.icon){case"info":return p.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),p.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]});case"alert":return p.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),p.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),p.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"success":return p.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),p.jsx("polyline",{points:"22,4 12,14.01 9,11.01"})]});case"error":return p.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),p.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]});default:return p.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),p.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]})}})(),e.isNew&&p.jsx("div",{className:"new-indicator"})]}),p.jsxs("div",{className:"notification-content",children:[p.jsxs("div",{className:"notification-header",children:[p.jsx("span",{className:"notification-title",children:e.title||"Notificação"}),p.jsx("span",{className:"notification-time",children:(new Date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),p.jsx("div",{className:"notification-description",children:e.description||"Nova notificação recebida"})]}),p.jsx("button",{className:"close-notification",onClick:e=>{e.stopPropagation(),i()},children:p.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})},V6=({notification:e,onClose:t,onViewTask:a,onAcceptTask:r})=>{const[n,i]=f.useState(!1);f.useEffect(()=>{const e=setTimeout(()=>i(!0),100),t=setTimeout(()=>{s()},8e3);return()=>{clearTimeout(e),clearTimeout(t)}},[]);const s=()=>{i(!1),setTimeout(t,300)};return p.jsxs("div",{className:`kanban-notification ${n?"visible":""} ${e.isNew?"new":""}`,children:[p.jsxs("div",{className:"kanban-notification-header",children:[p.jsx("div",{className:"task-icon",children:p.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),p.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})]})}),p.jsxs("div",{className:"notification-meta",children:[p.jsx("span",{className:"notification-type",children:"Nova Tarefa"}),p.jsx("span",{className:"notification-time",children:(new Date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),p.jsx("button",{className:"close-notification",onClick:s,children:p.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),p.jsxs("div",{className:"kanban-notification-body",children:[p.jsxs("div",{className:"task-info",children:[p.jsx("h3",{className:"task-title",children:e.data?.title||e.title||"Nova Tarefa"}),e.data?.description&&p.jsx("p",{className:"task-description",children:((e,t=80)=>e.length<=t?e:e.substring(0,t)+"...")(e.data.description)}),p.jsxs("div",{className:"task-details",children:[p.jsxs("div",{className:"urgency-badge",style:{color:(e=>{switch(e){case 1:return"#3b82f6";case 2:return"#22c55e";case 3:return"#f59e0b";case 4:return"#ef4444";default:return"#6b7280"}})(e.data?.urgencia||1)},children:[(e=>{switch(e){case 1:return p.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:p.jsx("circle",{cx:"12",cy:"12",r:"8"})});case 2:return p.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:p.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2",ry:"2"})});case 3:return p.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M12 2L3 18h18z"}),p.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"10"})]});case 4:return p.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"6"}),p.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"13"}),p.jsx("line",{x1:"12",y1:"15",x2:"12.01",y2:"15"})]});default:return p.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:p.jsx("circle",{cx:"12",cy:"12",r:"10"})})}})(e.data?.urgencia||1),p.jsx("span",{children:(e=>{switch(e){case 1:return"Baixa";case 2:return"Média";case 3:return"Alta";case 4:return"Muito Alta";default:return"Normal"}})(e.data?.urgencia||1)})]}),e.data?.cardType&&p.jsxs("div",{className:"card-type",children:[p.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:p.jsx("path",{d:"M20 6L9 17l-5-5"})}),p.jsx("span",{children:e.data.cardType})]})]}),e.data?.tags&&p.jsx("div",{className:"task-tags",children:e.data.tags.split(",").map((e,t)=>p.jsx("span",{className:"tag",children:e.trim()},t))})]}),p.jsx("div",{className:"task-assignee",children:p.jsx("img",{src:e.data?.userPhotoUrl?`http://127.0.0.1:8082${e.data.userPhotoUrl}`:"https://ui-avatars.com/api/?name=Usuario&background=random&color=fff&size=32",alt:"Usuário",className:"user-avatar",onError:e=>{e.target.src="https://ui-avatars.com/api/?name=Usuario&background=6366f1&color=fff&size=32"}})})]}),p.jsxs("div",{className:"kanban-notification-actions",children:[p.jsxs("button",{className:"action-btn secondary",onClick:()=>{a&&e.data&&a(e.data.id),s()},children:[p.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Visualizar"]}),p.jsxs("button",{className:"action-btn primary",onClick:()=>{r&&e.data&&r(e.data.id),s()},children:[p.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:p.jsx("path",{d:"M20 6L9 17l-5-5"})}),"Aceitar"]})]})]})},U6=({children:e})=>{const{navigate:t,currentRoute:a,setAuthenticated:n,getRouteIcon:i}=q6(),[o,l]=f.useState(null),[c,d]=f.useState("https://placehold.co/40x40/065f46/ffffff?text=U"),[u,h]=f.useState(!1),[m,g]=f.useState(!1),[x,v]=f.useState(!1),b=f.useRef(null),[y,_]=f.useState([]),[j,w]=f.useState([]),[N,C]=f.useState([]),[k,S]=f.useState(null),[M,E]=f.useState(!1),[O,P]=f.useState(!1),[A,D]=f.useState(null),[I,T]=f.useState(!1),[z,R]=f.useState(null),[L,$]=f.useState(!1),[B,q]=f.useState(!1),[F,W]=f.useState(!1),[G,H]=f.useState(null);var[V,U]=f.useState(0);const K=f.useRef(!1),Y=f.useRef(!1),X=f.useRef(!1),J=e=>{tp.openChat()},Z=f.useCallback(async()=>{try{const e=await r("get_inicio_data_from_api"),t=e.pending_notifications.map(e=>({id:e.id,name:e.nome,description:e.descricao,icon:e.icon,type:e.type,finalizado:e.finalizado,userId:e.user_id,createdAt:e.created_at}));w(t);const a=e.kanban_cards.map(e=>({id:e.id,urgencia:e.urgencia,cardType:e.card_type,title:e.title,description:e.description,userId:e.user_id,userPhotoUrl:e.user_photo_url,tags:e.tags,cardColor:e.card_color})),n=a.map(e=>({id:e.id,name:e.title,description:e.description,urgency:e.urgencia,cardType:e.cardType,tags:e.tags,cardColor:e.cardColor,isCompleted:!1}));C(n),U(t.length)}catch(e){}},[]);f.useEffect(()=>{if(!K.current){K.current=!0;const e=s("nova_mensagem_ws",e=>{try{const t=JSON.parse(e.payload),{type:a,...r}=t;if("chat_message_notification"===a){S(r),P(!0),V+=1,setTimeout(()=>{P(!1)},6e3)}else if("new_kanban_card"===a&&t.data){const e=t.data;C(t=>[{id:e.id,name:e.title,description:e.description,urgency:e.urgencia,cardType:e.cardType,tags:e.tags,cardColor:e.cardColor,isCompleted:!1},...t]);const a={type:"new_kanban_card",title:`Nova Tarefa: ${e.title}`,description:e.description||"Nenhuma descrição.",icon:"ticket",isNew:!0,data:e};R(a),$(!0)}else if("new_ticket"===a){const e={...t,isNew:!0};_(t=>[e,...t]),D(e),T(!0)}else{const e={title:t.title||"Nova Notificação",description:t.description||"Notificação recebida",icon:t.icon||"info",type:t.type||"info",isNew:!0};D(e),T(!0)}}catch(t){D({title:"Erro de Comunicação",description:"Erro ao processar mensagem do servidor",icon:"alert",type:"error",isNew:!0}),T(!0)}});return()=>{(async()=>{(await e)()})(),K.current=!1}}},[]),f.useEffect(()=>{if(!X.current){X.current=!0;(async()=>{try{const e=await r("usuario_logado");if(e){l(e);const t="http://127.0.0.1:8082",a=e.profile_photo?`${t}${e.profile_photo}`:"https://placehold.co/40x40/065f46/ffffff?text=U";d(a),document.body.classList.toggle("dark-mode",e.dark_mode),e.id&&!Y.current&&r("send_ws_message",{message:e.id.toString()}).then(()=>{Y.current=!0}).catch(e=>{}),await Z()}else Y.current=!1}catch(e){Y.current=!1}})()}},[Z]),f.useEffect(()=>{const e=()=>{const e=localStorage.getItem("appDarkMode");null!==e&&document.body.classList.toggle("dark-mode",JSON.parse(e))};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[]),f.useEffect(()=>{function e(e){b.current&&!b.current.contains(e.target)&&v(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const Q=()=>{h(!u)},ee=()=>{g(!m)},te=()=>{q(!1)},ae=()=>{H(null),W(!1)},re=e=>{switch(e){case"ticket":return p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"notification-item-icon",children:[p.jsx("path",{d:"M22 17H2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3z"}),p.jsx("path",{d:"M12 11h.01"}),p.jsx("path",{d:"M12 14h.01"})]});case"alert":return p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"notification-item-icon",children:[p.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),p.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),p.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"info":return p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"notification-item-icon",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),p.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]});default:return p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"notification-item-icon",children:[p.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),p.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]})}},ne=e=>{const t={width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"urgency-icon"};switch(e){case 1:return p.jsx("svg",{...t,children:p.jsx("circle",{cx:"12",cy:"12",r:"8"})});case 2:return p.jsx("svg",{...t,children:p.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2",ry:"2"})});case 3:return p.jsxs("svg",{...t,children:[p.jsx("path",{d:"M12 2L3 18h18z"}),p.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"10"})]});case 4:return p.jsxs("svg",{...t,children:[p.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"6"}),p.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"13"}),p.jsx("line",{x1:"12",y1:"15",x2:"12.01",y2:"15"}),p.jsx("polyline",{points:"7 17 12 22 17 17"})]});default:return p.jsxs("svg",{...t,children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),p.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}},ie=[...y.filter(e=>"new_ticket"===e.type),...j.map(e=>({description:e.description,icon:e.icon,title:e.name,type:e.type,isNew:!1}))],se=y.filter(e=>"new_ticket"===e.type).length+j.length,oe=N.filter(e=>!e.isCompleted).length;return p.jsxs("div",{className:"layout",children:[p.jsx("header",{className:"layout-header",children:p.jsxs("div",{className:"header-content",children:[p.jsxs("div",{className:"logo-small",children:[p.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 40 40",fill:"none",children:[p.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"#44dc8c"}),p.jsx("path",{d:"M12 20l6 6 10-12",stroke:"#ffffff",strokeWidth:"3"})]}),p.jsx("span",{children:"Bioma Ambiental"})]}),p.jsxs("div",{className:"header-actions-left",children:[p.jsx("div",{className:"messages-container",children:p.jsxs("button",{className:"header-icon-button",onClick:()=>tp.openChat(),children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),V>0&&p.jsx("span",{className:"messages-badge",children:V})]})}),p.jsxs("div",{className:"notifications-container",children:[p.jsxs("button",{className:"header-icon-button",onClick:Q,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),p.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),se>0&&p.jsx("span",{className:"notification-badge",children:se})]}),u&&p.jsx("div",{className:"modal notifications-modal",children:p.jsxs("div",{className:"modal-content",children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h3",{children:"Notificações"}),p.jsx("button",{className:"close-button",onClick:Q,children:"×"})]}),p.jsx("div",{className:"modal-body",children:0===ie.length?p.jsx("p",{className:"no-items-message",children:"Nenhuma notificação."}):p.jsx("ul",{children:ie.map((e,t)=>p.jsxs("li",{className:"notification-item-modal "+(e.isNew?"new":""),children:[re(e.icon||"default"),p.jsxs("div",{className:"notification-text-content",children:[p.jsx("span",{className:"notification-title",children:e.title}),p.jsx("span",{className:"notification-description",children:e.description})]})]},`${e.type}-${t}`))})}),p.jsx("div",{className:"modal-footer",children:p.jsx("button",{className:"clear-all-notifications-button",onClick:()=>{q(!0)},children:"Limpar todas"})})]})})]}),p.jsxs("div",{className:"tasks-container",children:[p.jsxs("button",{className:"header-icon-button",onClick:ee,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),p.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})]}),oe>0&&p.jsx("span",{className:"notification-badge",children:oe})]}),m&&p.jsx("div",{className:"modal tasks-modal",children:p.jsxs("div",{className:"modal-content",children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h3",{children:"Minhas Tarefas"}),p.jsx("button",{className:"close-button",onClick:ee,children:"×"})]}),p.jsx("div",{className:"modal-body",children:0===N.length?p.jsx("p",{className:"no-items-message",children:"Nenhuma Tarefa pendente."}):p.jsx("ul",{children:N.map(e=>p.jsxs("li",{className:`task-item urgency-${e.urgency} ${e.isCompleted?"completed":""}`,children:[p.jsxs("div",{className:"task-details",children:[p.jsx("div",{className:"task-urgency-indicator",children:ne(e.urgency)}),p.jsxs("div",{style:{flexGrow:1,display:"flex",flexDirection:"column"},children:[p.jsx("span",{className:"task-name",children:e.name}),e.description&&p.jsx("span",{className:"task-description",children:e.description})]})]}),p.jsx("div",{className:"task-actions",children:e.isCompleted?p.jsx("span",{className:"task-completed-text",children:"Concluída ✓"}):p.jsx("button",{className:"finalize-task-button",onClick:()=>(e=>{H(e),W(!0)})(e),children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#22c55e",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon-confirm-task",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})})})})]},e.id))})})]})})]})]}),p.jsx("div",{className:"header-actions-right",children:p.jsxs("div",{className:"user-dropdown",ref:b,children:[p.jsxs("button",{className:"user-info-toggle",onClick:()=>v(!x),children:[o&&p.jsxs("div",{className:"user-info",children:[p.jsx("img",{src:c,alt:"Foto de Perfil",className:"profile-photo"}),p.jsxs("div",{className:"user-details",children:[p.jsx("span",{className:"user-name",children:o.nome_completo}),p.jsx("span",{className:"user-cargo",children:o.cargo})]})]}),p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"dropdown-arrow "+(x?"open":""),children:p.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),x&&p.jsx("div",{className:"dropdown-content "+(x?"show-dropdown":""),children:p.jsxs("button",{className:"dropdown-item logout-button",onClick:()=>{Y.current=!1,X.current=!1,n(!1)},children:[p.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),p.jsx("polyline",{points:"16,17 21,12 16,7"}),p.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),p.jsx("span",{children:"Sair"})]})})]})})]})}),p.jsxs("div",{className:"layout-body",children:[p.jsx("aside",{className:"layout-sidebar",children:p.jsxs("nav",{className:"sidebar-nav",children:[p.jsxs("button",{className:"nav-item "+("inicio"===a?"active":""),onClick:()=>t("inicio"),children:[i("inicio"),p.jsx("span",{children:"Início"})]}),p.jsxs("button",{className:"nav-item "+("reports"===a?"active":""),onClick:()=>t("reports"),children:[i("reports"),p.jsx("span",{children:"Relatórios"})]}),p.jsxs("button",{className:"nav-item "+("geral"===a?"active":""),onClick:()=>t("geral"),children:[i("geral"),p.jsx("span",{children:"Geral"})]}),p.jsxs("button",{className:"nav-item "+("laboratorio"===a?"active":""),onClick:()=>t("laboratorio"),children:[i("laboratorio"),p.jsx("span",{children:"Laboratório"})]}),p.jsxs("button",{className:"nav-item "+("qualidade"===a?"active":""),onClick:()=>t("qualidade"),children:[i("qualidade"),p.jsx("span",{children:"Qualidade"})]}),p.jsxs("button",{className:"nav-item "+("financeiro"===a?"active":""),onClick:()=>t("financeiro"),children:[i("financeiro"),p.jsx("span",{children:"Financeiro"})]}),p.jsxs("button",{className:"nav-item "+("administracao"===a?"active":""),onClick:()=>t("administracao"),children:[i("administracao"),p.jsx("span",{children:"Administração"})]}),p.jsxs("button",{className:"nav-item "+("agenda"===a?"active":""),onClick:()=>t("agenda"),children:[i("agenda"),p.jsx("span",{children:"Agenda"})]}),p.jsxs("button",{className:"nav-item "+("frota"===a?"active":""),onClick:()=>t("frota"),children:[i("frota"),p.jsx("span",{children:"Frota"})]}),p.jsxs("button",{className:"nav-item "+("settings"===a?"active":""),onClick:()=>t("settings"),children:[i("settings"),p.jsx("span",{children:"Configurações"})]})]})}),p.jsx("main",{className:"layout-main",children:e})]}),O&&k&&p.jsx(W6,{notification:k,onClose:()=>{P(!1),S(null)},onOpenChat:J}),M&&k&&p.jsx(G6,{notification:k,onClose:()=>{E(!1),S(null)},onOpenChat:J}),I&&A&&p.jsx(H6,{notification:A,onClose:()=>{T(!1),D(null)}}),L&&z&&p.jsx(V6,{notification:z,onClose:()=>{$(!1),R(null)},onViewTask:e=>{g(!0)},onAcceptTask:e=>{}}),B&&p.jsx("div",{className:"modal confirm-modal",children:p.jsxs("div",{className:"modal-content",children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h3",{children:"Confirmar Limpeza de Notificações"}),p.jsx("button",{className:"close-button",onClick:te,children:"×"})]}),p.jsxs("div",{className:"modal-body",children:[p.jsx("p",{children:"Tem certeza de que deseja limpar todas as notificações?"}),p.jsx("p",{children:"Esta ação removerá todas as notificações da sua lista."})]}),p.jsxs("div",{className:"modal-footer",children:[p.jsx("button",{className:"cancel-button",onClick:te,children:"Cancelar"}),p.jsx("button",{className:"confirm-button",onClick:async()=>{_([]),w([]);try{await r("finalizar_notificacao")}catch(e){}finally{q(!1),h(!1)}},children:"Confirmar"})]})]})}),F&&G&&p.jsx("div",{className:"modal confirm-modal",children:p.jsxs("div",{className:"modal-content",children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h3",{children:"Confirmar Finalização de Tarefa"}),p.jsx("button",{className:"close-button",onClick:ae,children:"×"})]}),p.jsxs("div",{className:"modal-body",children:[p.jsx("p",{children:"Tem certeza de que deseja finalizar a tarefa:"}),p.jsxs("p",{className:"task-to-confirm-name",children:[G.name,"?"]}),p.jsx("p",{children:"Essa ação a removerá da sua lista de tarefas pendentes."})]}),p.jsxs("div",{className:"modal-footer",children:[p.jsx("button",{className:"cancel-button",onClick:ae,children:"Cancelar"}),p.jsx("button",{className:"confirm-button",onClick:async()=>{if(G)try{await r("mark_kanban_card_as_completed",{cardId:G.id}),C(e=>e.filter(e=>e.id!==G.id))}catch(e){}finally{H(null),W(!1)}},children:"Confirmar"})]})]})})]})},K6=()=>{const[e,t]=f.useState(""),[a,n]=f.useState(""),[i,s]=f.useState(!1),[o,l]=f.useState(!1),{modal:c,showError:d,closeModal:u}=rx(),{setAuthenticated:h}=q6();return p.jsxs("div",{className:"app",children:[p.jsxs("div",{className:"login-container",children:[p.jsxs("div",{className:"login-card",children:[p.jsxs("div",{className:"login-header",children:[p.jsxs("div",{className:"logo",children:[p.jsx("div",{className:"logo-icon",children:p.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[p.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"#22c55e",stroke:"#ffffff",strokeWidth:"2"}),p.jsx("path",{d:"M12 20l6 6 10-12",stroke:"#ffffff",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]})}),p.jsx("h1",{children:"Bioma Ambiental"})]}),p.jsx("p",{className:"subtitle",children:"Bem-vindo de volta"})]}),p.jsxs("form",{onSubmit:async t=>{t.preventDefault(),s(!0);try{(await r("fazer_login",{usuario:e,senha:a})).success?h(!0):d("Erro no Login","Falha no login. Verifique usuário e senha.")}catch(n){d("Erro no Sistema","Erro no backend: "+String(n))}s(!1)},className:"login-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email"}),p.jsxs("div",{className:"input-wrapper",children:[p.jsxs("svg",{className:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),p.jsx("polyline",{points:"22,6 12,13 2,6"})]}),p.jsx("input",{id:"email",type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"seu@email.com",required:!0,autoComplete:"off"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Senha"}),p.jsxs("div",{className:"input-wrapper",children:[p.jsxs("svg",{className:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),p.jsx("circle",{cx:"12",cy:"16",r:"1"}),p.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),p.jsx("input",{id:"password",type:o?"text":"password",value:a,onChange:e=>n(e.target.value),placeholder:"••••••••",required:!0}),p.jsx("button",{type:"button",className:"password-toggle",onClick:()=>l(!o),children:o?p.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),p.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):p.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),p.jsxs("div",{className:"form-options",children:[p.jsxs("label",{className:"checkbox-wrapper",children:[p.jsx("input",{type:"checkbox"}),p.jsx("span",{className:"checkmark"}),"Lembrar-me"]}),p.jsx("a",{href:"#",className:"forgot-password",children:"Esqueceu a senha?"})]}),p.jsx("button",{type:"submit",className:"login-button",disabled:i,children:i?p.jsxs("div",{className:"loading-spinner",children:[p.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:p.jsxs("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"31.416",strokeDashoffset:"31.416",children:[p.jsx("animate",{attributeName:"stroke-dasharray",dur:"2s",values:"0 31.416;15.708 15.708;0 31.416",repeatCount:"indefinite"}),p.jsx("animate",{attributeName:"stroke-dashoffset",dur:"2s",values:"0;-15.708;-31.416",repeatCount:"indefinite"})]})}),"Entrando..."]}):"Entrar"})]}),p.jsx("div",{className:"login-footer",children:p.jsxs("p",{children:["Não tem uma conta? ",p.jsx("a",{href:"#",className:"signup-link",children:"Criar conta"})]})})]}),p.jsxs("div",{className:"background-decoration",children:[p.jsx("div",{className:"floating-shape shape-1"}),p.jsx("div",{className:"floating-shape shape-2"}),p.jsx("div",{className:"floating-shape shape-3"})]})]}),p.jsx(ix,{...c,onClose:u})]})},Y6=()=>{const{currentRoute:e,isAuthenticated:t}=q6();if(!t)return p.jsx(K6,{});const a=$6[e],r=a?a.component:null;return!!a&&a.hasLayout?p.jsx(U6,{children:r}):p.jsx(p.Fragment,{children:r})};function X6(){return p.jsx(F6,{children:p.jsx(Y6,{})})}y.createRoot(document.getElementById("root")).render(p.jsx(g.StrictMode,{children:p.jsx(X6,{})}));
